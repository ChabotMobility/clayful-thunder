(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';

require('core-js/fn/string/repeat.js');
require('core-js/fn/string/from-code-point.js');
require('core-js/fn/array/find.js');
require('core-js/fn/array/is-array.js');
require('imagesloaded');
require('jquery-form')(window, $);
require('jquery-match-height');

var Polyglot = require('node-polyglot');
var jstz = require('jstimezonedetect');
var mergeWith = require('lodash.mergeWith');

var Thunder = function Thunder(options) {

	var language = window.navigator.userLanguage || window.navigator.language || null;

	var timezone = jstz.determine().name();

	options = mergeWith({
		client: null,
		language: language,
		currency: null,
		timezone: timezone,
		debugLanguage: language === 'ko' ? 'ko' : 'en',
		root: location.protocol + '//' + location.host,
		baseURL: null,
		authStorage: {
			customer: '__tct__',
			order: '__tot__'
		},
		dateInputFormat: 'YYYY-MM-DD',
		productActions: ['add-to-cart', 'buy-now'],
		productReview: true,
		productReviewRating: true,
		productReviewComment: true,
		paymentMethods: {
			order: [],
			subscription: []
		},
		refundReasonCategories: [],
		subscriptionPlans: [],
		customerAvatar: true,
		customerIdentity: ['name.full', 'alias', 'userId'],
		customerRegistrationFields: ['userId:required', 'email:required', 'password:required',
		// 'alias',
		// 'name.first',
		// 'name.last',
		'name.full:required', 'mobile:required', 'phone'],
		customerUpdateFields: ['userId', 'email',
		// 'alias',
		// 'name.first',
		// 'name.last',
		'name.full:required', 'mobile:required', 'phone'],
		customerOrderFields: [
		// 'name.first',
		// 'name.last',
		'name.full:required', 'email:required', 'mobile:required', 'phone'],
		recipientFields: [
		// 'name.first',
		// 'name.last',
		'name.full:required', 'mobile:required', 'phone'],
		addressDisabled: ['country', 'state', 'city', 'address1', 'postcode'],
		orderAuthFields: [
			// 'userId',
			// 'alias',
			// 'email',
			// 'mobile',
			// 'phone',
			// 'name.first',
			// 'name.last',
			// 'name.full',
		],
		socialApps: [
			// 'facebook',
			// 'google',
			// 'instagram',
			// 'naver',
			// 'kakao',
		],
		header: false,
		recaptcha: {
			sitekey: null,
			onload: 'thunderRecaptcha',
			modules: ['customer-register', 'customer-login', 'customer-reset-password', 'customer-verification', 'customer-update', 'customer-update-credential', 'customer-update-address', 'product-review-writer', 'product-review-comments', 'checkout', 'order-request-refund', 'search-purchase'],
			queue: []
		},
		plugins: {},
		messages: {}
	}, options, function (ov, sv) {

		if (Array.isArray(ov) && Array.isArray(sv)) {
			return sv;
		}
	});

	if (options.plugins) {
		$.extend(Thunder.plugins, options.plugins);
	}

	if (options.header === true) {
		options.header = {
			items: ['customer', // Register, Login | My Profile
			'search-purchase', // Search Order
			'cart'],
			actions: {
				'customer-dashboard': ['open'],
				'customer-register': ['open'],
				'customer-login': ['open'],
				'order-list': ['open'],
				'search-purchase': ['open'],
				cart: ['open']
			}
		};
	}

	if (options.messages) {
		Thunder.setMessages(options.messages);
	}

	if (options.recaptcha.sitekey) {
		window[options.recaptcha.onload] = Thunder.util.bindRecaptcha;
	}

	Thunder.options = {
		root: options.root, // Root page URL
		baseURL: options.baseURL || 'https://api.clayful.io', // API base URL
		language: options.language, // Content language
		currency: options.currency, // Content currency
		timezone: options.timezone, // Content time zone
		authStorage: options.authStorage, // Auth token storage
		dateInputFormat: options.dateInputFormat, // Date input format
		productActions: options.productActions, // Supported product options
		productReview: options.productReview,
		productReviewRating: options.productReviewRating,
		productReviewComment: options.productReviewComment,
		paymentMethods: options.paymentMethods, // Supported payment methods
		refundReasonCategories: options.refundReasonCategories, // Refund reason categories
		subscriptionPlans: options.subscriptionPlans, // Supported subscription plan ids
		customerAvatar: options.customerAvatar, // Use customer avatar for `customer-update`, `product-reviews`?
		customerIdentity: options.customerIdentity, // Customer identity fields
		customerRegistrationFields: options.customerRegistrationFields, // Customer registration fields
		customerUpdateFields: options.customerUpdateFields, // Customer update fields
		customerOrderFields: options.customerOrderFields, // Customer fields for orders and subscriptions
		recipientFields: options.recipientFields, // Allowed recipient fields for addresses
		addressDisabled: options.addressDisabled, // Disabled address fields (when search plugin exists)
		orderAuthFields: options.orderAuthFields, // Fields to authenticate for orders & subscriptions
		socialApps: options.socialApps, // Supported social apps for customer accounts
		header: options.header, // Header navigation menu items
		recaptcha: options.recaptcha // Google reCAPTCHA options
	};

	// Expose Thunder.Cart after configurations
	Thunder.Cart = require('./lib/cart')(Thunder);

	Thunder.credential(options.client);
	Thunder.preference(options);
	Thunder.initialize();

	return Thunder;
};

// Translation dependency
Thunder.polyglot = new Polyglot();

// Event listeners
Thunder.listeners = {
	render: [],
	open: [],
	close: []
};

// Custom methods
Thunder.methods = {};

// Specs for components
Thunder.components = {
	cart: component(require('./modules/cart')(Thunder)),
	checkout: component(require('./modules/checkout')(Thunder)),
	'checkout-success': component(require('./modules/checkout-success')(Thunder)),
	'product-list': component(require('./modules/product-list')(Thunder)),
	'product-detail': component(require('./modules/product-detail')(Thunder)),
	'product-review': component(require('./modules/product-review')(Thunder)),
	'product-reviews': component(require('./modules/product-reviews')(Thunder)),
	'product-review-writer': component(require('./modules/product-review-writer')(Thunder)),
	'product-review-comments': component(require('./modules/product-review-comments')(Thunder)),
	'customer-register': component(require('./modules/customer-register')(Thunder)),
	'customer-login': component(require('./modules/customer-login')(Thunder)),
	'customer-reset-password': component(require('./modules/customer-reset-password')(Thunder)),
	'customer-verification': component(require('./modules/customer-verification')(Thunder)),
	'customer-dashboard': component(require('./modules/customer-dashboard')(Thunder)),
	'customer-update': component(require('./modules/customer-update')(Thunder)),
	'customer-update-credential': component(require('./modules/customer-update-credential')(Thunder)),
	'customer-update-address': component(require('./modules/customer-update-address')(Thunder)),
	'customer-reviews': component(require('./modules/customer-reviews')(Thunder)),
	'customer-review': component(require('./modules/customer-review')(Thunder)),
	'customer-review-comments': component(require('./modules/customer-review-comments')(Thunder)),
	'customer-review-comment': component(require('./modules/customer-review-comment')(Thunder)),
	'customer-delete-account': component(require('./modules/customer-delete-account')(Thunder)),
	'customer-coupons': component(require('./modules/customer-coupons')(Thunder)),
	'search-purchase': component(require('./modules/search-purchase')(Thunder)),
	'order-list': component(require('./modules/order-list')(Thunder)),
	'order-detail': component(require('./modules/order-detail')(Thunder)),
	'order-request-refund': component(require('./modules/order-request-refund')(Thunder)),
	'subscription-list': component(require('./modules/subscription-list')(Thunder)),
	'subscription-detail': component(require('./modules/subscription-detail')(Thunder)),
	'payment-form': component(require('./modules/payment-form')(Thunder))
};

Thunder.uis = {
	'component-spinner': require('./ui/component-spinner').bind(Thunder),
	'section-spinner': require('./ui/section-spinner').bind(Thunder),
	'button-spinner': require('./ui/button-spinner').bind(Thunder),
	'overlay-navigation': require('./ui/overlay-navigation').bind(Thunder),
	'header-navigation': require('./ui/header-navigation').bind(Thunder),
	'social-login': require('./ui/social-login').bind(Thunder),
	'avatar-placeholder': require('./ui/avatar-placeholder').bind(Thunder),
	'filled-star': require('./ui/filled-star').bind(Thunder),
	'half-filled-star': require('./ui/half-filled-star').bind(Thunder),
	'empty-star': require('./ui/empty-star').bind(Thunder),
	'hallow-star': require('./ui/hallow-star').bind(Thunder),
	'review-stars': require('./ui/review-stars').bind(Thunder),
	'review-star-rating': require('./ui/review-star-rating').bind(Thunder)
};

// Plugins (address search, payment, ...)
Thunder.plugins = {
	searchAddress: null,
	makePayment: null,
	notification: require('./plugins/notification'),
	confirmation: require('./plugins/confirmation'),
	pagination: require('./plugins/pagination'),
	cartStorage: require('./plugins/cartStorage'),
	credentialStorage: require('./plugins/credentialStorage')
};

// Utility methods
Thunder.util = {
	log: require('./util/log').bind(Thunder),
	ui: require('./util/ui').bind(Thunder),
	stripHTML: require('./util/stripHTML').bind(Thunder),
	excerpt: require('./util/excerpt').bind(Thunder),
	imageURL: require('./util/imageURL').bind(Thunder),
	toPrecision: require('./util/toPrecision').bind(Thunder),
	formatNumber: require('./util/formatNumber').bind(Thunder),
	formatPrice: require('./util/formatPrice').bind(Thunder),
	isExpired: require('./util/isExpired').bind(Thunder),
	countryName: require('./util/countryName').bind(Thunder),
	customerIdentity: require('./util/customerIdentity').bind(Thunder),
	productName: require('./util/productName').bind(Thunder),
	variantName: require('./util/variantName').bind(Thunder),
	orderShippingStatus: require('./util/orderShippingStatus').bind(Thunder),
	formToJSON: require('./util/formToJSON').bind(Thunder),
	parseArrayString: require('./util/parseArrayString').bind(Thunder),
	urlQuery: require('./util/urlQuery').bind(Thunder),
	requestErrorHandler: require('./util/requestErrorHandler').bind(Thunder),
	userIdOrEmail: require('./util/userIdOrEmail').bind(Thunder),
	makeAsyncButton: require('./util/makeAsyncButton').bind(Thunder),
	makeRecaptcha: require('./util/makeRecaptcha').bind(Thunder),
	unsetRecaptcha: require('./util/unsetRecaptcha').bind(Thunder),
	bindSocialApps: require('./util/bindSocialApps').bind(Thunder),
	handleSocialLogin: require('./util/handleSocialLogin').bind(Thunder),
	bindRecaptcha: require('./util/bindRecaptcha').bind(Thunder),
	useRecaptcha: require('./util/useRecaptcha').bind(Thunder),
	imageUploader: require('./util/imageUploader').bind(Thunder),
	bindBackButton: require('./util/bindBackButton').bind(Thunder),
	followingNavigation: require('./util/followingNavigation').bind(Thunder),
	quantityInput: require('./util/quantityInput').bind(Thunder)
};

// Global template methods
Thunder.templateMethods = {
	get: require('lodash.get'),
	kebabCase: require('lodash.kebabcase'),
	camelCase: require('lodash.camelcase'),
	stripHTML: Thunder.util.stripHTML,
	excerpt: Thunder.util.excerpt,
	imageURL: Thunder.util.imageURL,
	isExpired: Thunder.util.isExpired,
	countryName: Thunder.util.countryName,
	customerIdentity: Thunder.util.customerIdentity,
	productName: Thunder.util.productName,
	variantName: Thunder.util.variantName
};

Thunder.overlay = {
	background: '<div id="thunder--overlay-background" data-thunder-close></div>',
	container: '<div id="thunder--overlay"><div id="thunder--overlay-header"></div><div id="thunder--overlay-body"></div></div>',
	body: null
};

$.extend(Thunder, {
	initialize: require('./lib/initialize').bind(Thunder), // Initialize an app
	credential: require('./lib/credential').bind(Thunder), // Client setter
	preference: require('./lib/preference').bind(Thunder), // Preference setter
	setMessages: require('./lib/setMessages').bind(Thunder), // Sets translation messages
	on: require('./lib/on').bind(Thunder), // Registers event listeners
	off: require('./lib/off').bind(Thunder), // Unregisters event listeners
	method: getterSetter('methods'), // Method getter/setter
	component: getterSetter('components'), // Component getter/setter
	template: getterSetter('components', 'template'), // Custom template getter/setter
	plugin: getterSetter('plugins'), // Plugin getter/setter
	ui: getterSetter('uis'), // Custom UI getter/setter
	render: require('./lib/render').bind(Thunder), // Renders a component
	open: require('./lib/open').bind(Thunder), // Opens an overlay and renders a component
	close: require('./lib/close').bind(Thunder), // Closes an overlay
	request: require('./lib/request')(Thunder), // Make an API request
	execute: require('./lib/execute').bind(Thunder), // Execute a custom method
	notify: require('./lib/notify').bind(Thunder), // Shortcut for Thunder.plugins.notification
	logout: require('./lib/logout').bind(Thunder),
	header: require('./lib/header').bind(Thunder),
	authenticated: require('./lib/authenticated').bind(Thunder)
});

function component(definition) {

	return $.extend({
		options: function options() {
			return {};
		},
		default: {},
		pre: function pre(context, callback) {
			return callback(null, context);
		},
		init: function init() {},
		template: function template(context) {
			return '';
		}
	}, definition);
}

function getterSetter(field, child) {

	return child ? function (name, value) {

		if (!value) return Thunder[field][name][child];

		Thunder[field][name][child] = value;

		return Thunder;
	} : function (name, value) {

		if (!value) return Thunder[field][name];

		Thunder[field][name] = value;

		return Thunder;
	};
}

window.Thunder = Thunder;

},{"./lib/authenticated":2,"./lib/cart":3,"./lib/close":4,"./lib/credential":5,"./lib/execute":6,"./lib/header":7,"./lib/initialize":8,"./lib/logout":9,"./lib/notify":10,"./lib/off":11,"./lib/on":12,"./lib/open":13,"./lib/preference":14,"./lib/render":15,"./lib/request":16,"./lib/setMessages":17,"./modules/cart":18,"./modules/checkout":20,"./modules/checkout-success":19,"./modules/customer-coupons":26,"./modules/customer-dashboard":27,"./modules/customer-delete-account":28,"./modules/customer-login":29,"./modules/customer-register":30,"./modules/customer-reset-password":31,"./modules/customer-review":34,"./modules/customer-review-comment":32,"./modules/customer-review-comments":33,"./modules/customer-reviews":35,"./modules/customer-update":38,"./modules/customer-update-address":36,"./modules/customer-update-credential":37,"./modules/customer-verification":39,"./modules/order-detail":40,"./modules/order-list":41,"./modules/order-request-refund":42,"./modules/payment-form":43,"./modules/product-detail":44,"./modules/product-list":46,"./modules/product-review":49,"./modules/product-review-comments":47,"./modules/product-review-writer":48,"./modules/product-reviews":50,"./modules/search-purchase":51,"./modules/subscription-detail":52,"./modules/subscription-list":53,"./plugins/cartStorage":54,"./plugins/confirmation":55,"./plugins/credentialStorage":56,"./plugins/notification":57,"./plugins/pagination":58,"./ui/avatar-placeholder":59,"./ui/button-spinner":60,"./ui/component-spinner":61,"./ui/empty-star":62,"./ui/filled-star":63,"./ui/half-filled-star":64,"./ui/hallow-star":65,"./ui/header-navigation":66,"./ui/overlay-navigation":67,"./ui/review-star-rating":68,"./ui/review-stars":69,"./ui/section-spinner":70,"./ui/social-login":71,"./util/bindBackButton":72,"./util/bindRecaptcha":73,"./util/bindSocialApps":74,"./util/countryName":75,"./util/customerIdentity":76,"./util/excerpt":77,"./util/followingNavigation":78,"./util/formToJSON":79,"./util/formatNumber":80,"./util/formatPrice":81,"./util/handleSocialLogin":82,"./util/imageURL":83,"./util/imageUploader":84,"./util/isExpired":85,"./util/log":86,"./util/makeAsyncButton":87,"./util/makeRecaptcha":88,"./util/orderShippingStatus":89,"./util/parseArrayString":90,"./util/productName":91,"./util/quantityInput":92,"./util/requestErrorHandler":93,"./util/stripHTML":94,"./util/toPrecision":95,"./util/ui":96,"./util/unsetRecaptcha":97,"./util/urlQuery":98,"./util/useRecaptcha":99,"./util/userIdOrEmail":100,"./util/variantName":101,"core-js/fn/array/find.js":102,"core-js/fn/array/is-array.js":103,"core-js/fn/string/from-code-point.js":104,"core-js/fn/string/repeat.js":105,"imagesloaded":161,"jquery-form":163,"jquery-match-height":164,"jstimezonedetect":165,"lodash.camelcase":166,"lodash.get":167,"lodash.kebabcase":169,"lodash.mergeWith":170,"node-polyglot":174}],2:[function(require,module,exports){
'use strict';

module.exports = function () {
	var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'customer';


	var storage = this.plugins.credentialStorage;

	// Customer case
	if (scope === 'customer') {

		var storageKey = this.options.authStorage.customer;
		var token = storage.getItem(storageKey);

		if (!token) {
			return false;
		}

		if (isTokenExpired(token)) {
			// If the token expired, log out the customer.
			this.logout();
			return false;
		}

		return parseToken(token);
	}

	// Order or Subscription case
	if (scope === 'order') {

		var _storageKey = this.options.authStorage.order;
		var _token = storage.getItem(_storageKey);

		if (!_token) {
			return false;
		}

		if (isTokenExpired(_token)) {
			// If the token expired, unset the token from the storage.
			storage.removeItem(this.options.authStorage.order);
			return false;
		}

		return parseToken(_token);
	}
};

function parseToken(token) {

	var parts = token.split('.');
	var data = JSON.parse(atob(parts[1]));

	return data;
}

function isTokenExpired(token) {

	var expiresAt = parseToken(token).exp * 1000;

	return expiresAt - Date.now() <= 0;
}

},{}],3:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

		var Cart = {
				storage: '__items__',
				items: []
		};

		Cart.load = function () {

				var storage = Thunder.plugins.cartStorage;

				Cart.items = JSON.parse(storage.getItem(Cart.storage) || '[]');
		};

		Cart.persist = function () {

				var storage = Thunder.plugins.cartStorage;

				storage.setItem(Cart.storage, JSON.stringify(Cart.items));
		};

		Cart.totalItems = function (items) {

				return (Cart.items || items).reduce(function (sum, item) {
						return sum + 1 + (item.bundleItems ? item.bundleItems.length : 0);
				}, 0);
		};

		Cart.addItem = function (item, callback) {

				var items = $.extend(true, [], Cart.items);

				item._id = (Math.random() + '').slice(2, 17);

				if (item.bundleItems) {
						item.bundleItems.forEach(function (item) {
								item._id = (Math.random() + '').slice(2, 17);
						});
				}

				items.push(item);

				if (Cart.totalItems(items) >= 50) {
						return callback(CartError('items-exceeded'));
				}

				Cart.items = items;

				Cart.persist();

				return callback(null, item);
		};

		Cart.updateItem = function (itemId, update, callback) {

				itemId = itemId + '';

				var items = $.extend(true, [], Cart.items);
				var found = items.find(function (item) {
						return item._id === itemId;
				});

				if (!found) {
						return callback(CartError('no-item'));
				}

				var bundleItems = update.bundleItems;

				delete update.bundleItems;

				$.extend(found, update);

				if (bundleItems) {

						found.bundleItems = found.bundleItems || [];

						var _loop = function _loop(bundleId) {

								var item = found.bundleItems.find(function (item) {
										return item._id === bundleId;
								});
								var update = bundleItems[bundleId];

								if (!item && update) {
										found.bundleItems.push(update);
								}

								if (update) {
										$.extend(item, update);
								}

								if (update === null) {
										var index = found.bundleItems.indexOf(item);

										found.bundleItems.splice(index, 1);
								}
						};

						for (var bundleId in bundleItems) {
								_loop(bundleId);
						}
				}

				if (Cart.totalItems(items) >= 50) {
						return callback(CartError('items-exceeded'));
				}

				Cart.items = items;

				Cart.persist();

				return callback(null, found);
		};

		Cart.deleteItem = function (itemId, callback) {

				itemId = itemId + '';

				var items = $.extend(true, [], Cart.items);
				var index = null;

				for (var i = 0; i < items.length; i++) {

						var _item = items[i];

						if (_item._id === itemId) {
								index = i;
								break;
						}
				}

				if (index === null) {
						return callback(CartError('no-item'));
				}

				items.splice(index, 1);

				Cart.items = items;

				Cart.persist();

				return callback();
		};

		Cart.empty = function (callback) {

				Cart.items = [];

				Cart.persist();

				return callback();
		};

		return Cart;

		function CartError(code) {
				var message = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : code;


				var err = new Error(message);

				err.code = code;

				return err;
		}
};

},{}],4:[function(require,module,exports){
'use strict';

module.exports = function () {

	// Empty the contents and add a 'hidden' class
	this.overlay.container.addClass('hidden');
	this.overlay.background.addClass('hidden');

	this.overlay.body.html('');

	return this;
};

},{}],5:[function(require,module,exports){
'use strict';

module.exports = function (client) {

	this.request.setDefaultHeader('Authorization', 'Bearer ' + client);

	return this;
};

},{}],6:[function(require,module,exports){
'use strict';

module.exports = function (fn) {

	fn = typeof fn === 'string' ? this.methods[fn] : fn;

	if (!fn) return;

	for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
		args[_key - 1] = arguments[_key];
	}

	return fn.apply(undefined, args);
};

},{}],7:[function(require,module,exports){
'use strict';

module.exports = function () {

	if (!this.options.header) {
		return null;
	}

	var $headerNav = $('#thunder--header-navigation');

	if (!$headerNav.length) {
		$('body').prepend(this.uis['header-navigation']());
	} else {
		$headerNav.replaceWith(this.uis['header-navigation']());
	}
};

},{}],8:[function(require,module,exports){
'use strict';

module.exports = function () {
	var _this = this;

	var Thunder = this;

	var body = $('body');

	this.Cart.load();

	// Cache overlay DOMs
	this.overlay.background = $(this.overlay.background).addClass('hidden');
	this.overlay.container = $(this.overlay.container).addClass('hidden');
	this.overlay.body = this.overlay.container.find('#thunder--overlay-body');

	// Append close button to the overlay's header
	this.overlay.container.find('#thunder--overlay-header').append(this.uis['overlay-navigation']());

	body.append(this.overlay.background);
	body.append(this.overlay.container);

	// Bind click events for DOMs with data-thunder-* attributes.
	body.on('click', '[data-thunder-open]', openOverlay);
	body.on('click', '[data-thunder-close]', function () {
		return _this.close();
	});
	body.on('click', '[data-thunder-logout]', function () {
		return _this.logout();
	});
	body.on('click', '[data-thunder-render][data-thunder-render-target]', renderComponentInTarget);

	// Render components for DOMs with 'data-thunder-render',
	// and without 'data-thunder-render-target'.
	body.find('[data-thunder-render]:not([data-thunder-render-target])').each(renderComponent);

	this.header();

	// Check whether authentication tokens are expired.
	// If it is expired -> Log out and unset from the storage...
	this.authenticated('customer');
	this.authenticated('order');

	function openOverlay($event) {

		$event.preventDefault();

		var data = $(this).data();
		var componentName = data.thunderOpen;

		// Pass the data from the caller DOM
		Thunder.open(componentName, data);
	}

	function renderComponent() {

		Thunder.render($(this), $(this).data('thunderRender'), {});
	}

	function renderComponentInTarget($event) {

		$event.preventDefault();

		var data = $(this).data();
		var thunderRender = data.thunderRender,
		    thunderRenderTarget = data.thunderRenderTarget;


		Thunder.render($(thunderRenderTarget), thunderRender, data);
	}
};

},{}],9:[function(require,module,exports){
"use strict";

module.exports = function () {

	var storage = this.plugins.credentialStorage;

	storage.removeItem(this.options.authStorage.customer);

	this.header();
};

},{}],10:[function(require,module,exports){
"use strict";

module.exports = function () {
	var _plugins;

	return (_plugins = this.plugins).notification.apply(_plugins, arguments);
};

},{}],11:[function(require,module,exports){
"use strict";

module.exports = function (scope, listener) {

	var index = this.listeners[scope].indexOf(listener);

	if (index === -1) {

		return this;
	}

	this.listeners[scope].splice(index, 1);

	return this;
};

},{}],12:[function(require,module,exports){
"use strict";

module.exports = function (scope, listener) {

	this.listeners[scope].push(listener);

	return this;
};

},{}],13:[function(require,module,exports){
'use strict';

module.exports = function (componentName, options) {
	var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};


	var Thunder = this;

	options = options || {};

	callback = typeof options === 'function' ? options : callback;

	if (this.overlay.background.hasClass('hidden')) {
		// Removes a 'hidden' class first
		this.overlay.background.removeClass('hidden');
		this.overlay.container.removeClass('hidden');
	}

	// Mark current view
	$.extend(true, options, {
		view: {
			component: componentName,
			cursor: this.cursor
		}
	});

	this.render(this.overlay.body, componentName, options, function (err, context) {

		if (err) {
			return callback.call($(this), err);
		}

		return callback.call($(this), err, context);
	});

	return this;
};

},{}],14:[function(require,module,exports){
'use strict';

module.exports = function (options) {

	var language = options.language;
	var currency = options.currency;
	var timezone = options.timezone;
	var debugLanguage = options.debugLanguage;

	this.options.language = language;
	this.options.currency = currency;
	this.options.timezone = timezone;

	this.polyglot.locale(this.options.language);

	if (language) this.request.setDefaultHeader('Accept-Language', language);
	if (currency) this.request.setDefaultHeader('Accept-Currency', currency);
	if (timezone) this.request.setDefaultHeader('Accept-Time-Zone', timezone);
	if (debugLanguage) this.request.setDefaultHeader('Accept-Debug-Language', debugLanguage);

	return this;
};

},{}],15:[function(require,module,exports){
'use strict';

var mergeWith = require('lodash.mergeWith');
var omit = require('lodash.omit');
var Pikaday = require('pikaday');

// Track component IDs
var componentIds = {};

module.exports = function (selector, componentName, options, callback) {

	var Thunder = this;

	options = options || {};
	callback = typeof options === 'function' ? options : callback;

	// Increment component counter
	componentIds[componentName] = componentIds[componentName] || 0;

	var id = componentIds[componentName]++;

	var container = selector instanceof $ ? selector : $(selector);
	var component = this.components[componentName];

	// Template context
	var context = {
		id: componentName + '-' + id
	};

	// Add 'thunder--contents' class for global css styles
	container.addClass('thunder--contents');

	// Unbind all event handlers
	container.off();
	container.find('*').off();
	container.find('[data-mh]').matchHeight({ remove: true });
	container.find('[data-pickaday]').each(function () {

		var picker = $(this).data('pickaday');

		return picker ? picker.destroy() : null;
	});

	// Start loading spinner
	container.html(this.uis['component-spinner']());

	// Copy and extend default options with runtime options
	mergeWith(context, { // Global context
		isAuthenticated: !!Thunder.authenticated() // Customer is authenticated?
	}, this.templateMethods, // Template methods
	{ // Translation method
		m: function m(key, context) {
			return Thunder.polyglot.t(componentName + '.' + key, context);
		},
		ui: Thunder.uis
	}, { options: component.options() }, { options: component.default }, { options: omit(container.data(), ['component', 'context']) }, // Declarative options
	{ options: options }, // Explicit options
	function (ov, sv) {
		if (Array.isArray(ov) && Array.isArray(sv)) {
			return sv;
		}
	});

	if (component.validate) {

		var err = component.validate(context.options);

		if (err) {
			return this.util.log(['error'], component.name + ' - ' + err);
		}
	}

	component.pre.call(container, context, function (err, context) {

		if (err) {
			return;
		}

		// Cache component
		container.data('component', Thunder.components[componentName]);

		// Cache context data
		container.data('context', context);

		container.html(component.template(context));

		Thunder.util.quantityInput(container);

		// Bind before automatic binding
		if (component.bind) {
			component.bind.call(container, context);
		}

		container.imagesLoaded(function () {
			return container.find('[data-mh]').matchHeight();
		});

		var t = function t(key) {
			return Thunder.polyglot.t('general.' + key);
		};

		container.find('[data-pickaday]').each(function () {

			$(this).data('pickaday', new Pikaday($.extend($(this).data(), {
				field: $(this)[0],
				format: Thunder.options.dateInputFormat,
				i18n: {
					previousMonth: t('previousMonth'),
					nextMonth: t('nextMonth'),
					months: [t('january'), t('february'), t('march'), t('april'), t('may'), t('june'), t('july'), t('august'), t('september'), t('october'), t('november'), t('december')],
					weekdays: [t('sunday'), t('monday'), t('tuesday'), t('wednesday'), t('thursday'), t('friday'), t('saturday')],
					weekdaysShort: [t('sundayShort'), t('mondayShort'), t('tuesdayShort'), t('wednesdayShort'), t('thursdayShort'), t('fridayShort'), t('saturdayShort')]
				}
			})));
		});

		Thunder.util.bindSocialApps(container);

		var interfaces = component.init.call(container, context) || {};

		return callback && callback.call($(this), err, { interfaces: interfaces, context: context });
	}.bind(container));

	return this;
};

},{"lodash.mergeWith":170,"lodash.omit":171,"pikaday":175}],16:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var request = function request(requestOptions) {

		var query = $.param(requestOptions.query || {});

		query = query ? '?' + query : query;

		requestOptions.url = Thunder.options.baseURL + requestOptions.url + query;

		var recaptcha = requestOptions.recaptcha;

		delete requestOptions.query;
		delete requestOptions.recaptcha;

		var req = $.extend(true, {
			crossDomain: true,
			headers: $.extend(request.getRequestHeaders(Thunder), recaptcha ? { 'Recaptcha-Response': recaptcha } : {}),
			xhrFields: {
				withCredentials: true
			},
			converters: {
				'text json': function textJson(data) {
					return $.parseJSON(data || 'null');
				}
			}
		}, requestOptions);

		if (req.data) {

			var _recaptcha = Thunder.util.unsetRecaptcha(req.data);

			if (_recaptcha) {
				req.headers['reCAPTCHA-Response'] = _recaptcha;
			}

			req.data = JSON.stringify(req.data);
			req.dataType = 'json';
			req.contentType = 'application/json; charset=utf-8';
		}

		return $.ajax(req);
	};

	request.defaultHeaders = {
		'Clayful-SDK': 'clayful-thunder'
	};

	request.setDefaultHeader = function (key, value) {
		request.defaultHeaders[key] = value;
	};

	request.getRequestHeaders = function () {

		var storage = Thunder.plugins.credentialStorage;

		// 1. If a customer is logged-in, send a customer token.
		// 2. If an order token or a subscription token exists, send the token.
		// 3. Or else, simply do not set `Authorization-Customer` header
		var customerToken = storage.getItem(Thunder.options.authStorage.customer) || storage.getItem(Thunder.options.authStorage.order);

		return $.extend({}, request.defaultHeaders, customerToken ? {
			'Authorization-Customer': customerToken
		} : {});
	};

	return request;
};

},{}],17:[function(require,module,exports){
"use strict";

module.exports = function () {
	var messages = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


	this.polyglot.extend(messages);

	return this;
};

},{}],18:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var set = require('lodash.set');

module.exports = function (Thunder) {

	var implementation = {
		name: 'cart'
	};

	implementation.options = function () {
		return {
			orderActions: Object.keys(Thunder.options.paymentMethods), // 'order', 'subscription'
			items: null, // Item filter - e.g., ['item1', 'item2', ...]

			onCheckout: function onCheckout($container, context, type) {

				Thunder.render($container, 'checkout', {
					type: type,
					items: context.options.items,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		context.options.orderActions = Thunder.util.parseArrayString(context.options.orderActions);

		var errors = {
			default: context.m('cartReadFailed')
		};

		return getCart(context.options.items).then(function (cart) {
			return callback(null, set(context, 'cart', cart.cart));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $cartItems = $(this).find('.thunder--cart-items');

		$container.on('click', '.thunder--delete-cart-item', deleteItem);
		$container.on('click', '.thunder--apply-changes', applyChanges);
		$container.on('click', '.thunder--checkout button', checkout);

		function recalculate() {

			var errors = {
				default: context.m('cartReadFailed')
			};

			return getCart(context.options.items).then(function (cart) {

				context.cart = cart.cart;

				var template = Thunder.component(implementation.name).template(context);
				var cartItemsTemplate = $(template).find('.thunder--cart-items').html();

				$cartItems.find('*').off();
				$cartItems.html(cartItemsTemplate);
				Thunder.util.quantityInput($cartItems);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function deleteItem() {

			var spinner = Thunder.util.makeAsyncButton($(this), { bind: false });

			spinner.run();

			var itemId = $(this).data('item');
			var bundleItemId = $(this).data('bundleItem');

			var errors = {
				default: context.m('deleteItemFailed')
			};

			if (Thunder.authenticated()) {

				if (bundleItemId) {

					return Thunder.request({
						method: 'PUT',
						url: '/v1/me/cart/items/' + itemId,
						data: { bundleItems: _defineProperty({}, bundleItemId, null) }
					}).then(function () {
						spinner.done();
						recalculate();
					}, function (err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
							return spinner.done();
						});
					});
				} else {

					return Thunder.request({
						method: 'DELETE',
						url: '/v1/me/cart/items/' + itemId
					}).then(function () {
						spinner.done();
						recalculate();
					}, function (err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
							return spinner.done();
						});
					});
				}
			} else {

				if (bundleItemId) {

					var update = {
						bundleItems: _defineProperty({}, bundleItemId, null)
					};

					Thunder.Cart.updateItem(itemId, update, function (err) {

						if (err) {
							spinner.done();
							return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
						}

						spinner.done();
						recalculate();
					});
				} else {

					return Thunder.Cart.deleteItem(itemId, function (err) {

						if (err) {
							spinner.done();
							return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
						}

						spinner.done();
						recalculate();
					});
				}
			}
		}

		function applyChanges() {

			var spinner = Thunder.util.makeAsyncButton($(this), { bind: false });

			spinner.run();

			var quantityChanged = [];
			var $quantityInputs = $container.find('.thunder--cart-item-quantity input');

			$quantityInputs.each(function () {

				var itemId = $(this).data('item');
				var bundleId = $(this).data('bundleItem');
				var originalQuantity = $(this).data('originalQuantity');
				var newQuantity = parseInt($(this).val());

				if (newQuantity === originalQuantity) return;

				quantityChanged.push({
					item: itemId,
					bundle: bundleId || null,
					quantity: newQuantity
				});
			});

			var updates = quantityChanged.reduce(function (o, change) {
				var item = change.item,
				    bundle = change.bundle,
				    quantity = change.quantity;


				o[item] = o[item] || {};

				var toUpdate = o[item];

				if (bundle) {
					toUpdate.bundleItems = toUpdate.bundleItems || {};
					toUpdate.bundleItems[bundle] = { quantity: quantity };
				} else {
					toUpdate.quantity = quantity;
				}

				return o;
			}, {});

			var errors = {
				default: context.m('itemUpdateFailed')
			};

			if (Thunder.authenticated()) {
				var _$;

				var itemIdsToUpdate = Object.keys(updates);

				if (itemIdsToUpdate.length === 0) {
					// There are no items to update
					return spinner.done();
				}

				return (_$ = $).when.apply(_$, _toConsumableArray(itemIdsToUpdate.map(function (itemId) {

					return Thunder.request({
						method: 'PUT',
						url: '/v1/me/cart/items/' + itemId,
						data: updates[itemId]
					}).then(function () {

						spinner.done();
						return recalculate();
					}, function (err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
							return spinner.done();
						});
					});
				})));
			} else {

				Object.keys(updates).forEach(function (itemId) {
					return Thunder.Cart.updateItem(itemId, updates[itemId], $.noop);
				});

				spinner.done();
				return recalculate();
			}
		}

		function checkout() {

			var cart = context.cart;
			var hasError = function hasError(code) {
				return cart.errors.some(function (err) {
					return err.code === code;
				});
			};

			if (hasError('empty-cart')) {
				return Thunder.notify('error', context.m('isEmptyCart'));
			}

			if (hasError('item-error')) {
				return Thunder.notify('error', context.m('hasErredItem'));
			}

			return Thunder.execute(context.options.onCheckout, $container, context, $(this).data('checkoutType'));
		}
	};

	function getCart(items) {

		var query = items ? { items: items.toString() } : {};

		var request = Thunder.authenticated() ? {
			method: 'POST',
			url: '/v1/me/cart',
			query: query
		} : {
			method: 'POST',
			url: '/v1/me/non-registered/cart',
			query: query,
			data: { items: Thunder.Cart.items }
		};

		return Thunder.request(request);
	}

	return implementation;
};

},{"lodash.set":172}],19:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'checkout-success'
	};

	implementation.options = function () {
		return {
			type: 'order', // 'order' || 'subscription'
			subject: null, // Order/Subscription ID
			onViewDetails: function onViewDetails($container, context) {
				var _context$options = context.options,
				    type = _context$options.type,
				    subject = _context$options.subject;


				return Thunder.render($container, type + '-detail', _defineProperty({}, type, subject));
			}
		};
	};

	implementation.pre = function (context, callback) {

		var type = context.options.type;
		var subject = context.options.subject;

		var errors = {
			default: context.m(camelCase([type, 'readFailed']))
		};

		// Get an order or a subscription
		return Thunder.request({
			method: 'GET',
			url: '/v1/me/' + type + 's/' + subject
		}).then(function (subject) {
			return callback(null, set(context, 'subject', subject));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $viewMoreDetails = $(this).find('.thunder--view-more-details');

		$viewMoreDetails.on('click', function () {
			return Thunder.execute(context.options.onViewDetails, $container, context);
		});
	};

	return implementation;
};

},{"lodash.camelcase":166,"lodash.set":172}],20:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');
var CouponHandler = require('./lib/couponHandler.js');
var CustomerHandler = require('./lib/customerHandler.js');
var AddressHandler = require('./lib/addressHandler.js');
var SubscriptionHandler = require('./lib/subscriptionHandler.js');
var RecaptchaHandler = require('./lib/recaptchaHandler.js');

module.exports = function (Thunder) {

	var translationKeys = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	var implementation = {
		name: 'checkout'
	};

	implementation.options = function () {
		return {
			type: 'order', // 'order' or 'subscription'
			items: null, // Item filter - e.g., ['item1', 'item2', ...]
			customerFields: Thunder.options.customerOrderFields,
			recipientFields: Thunder.options.recipientFields,
			addressDisabled: Thunder.options.addressDisabled,
			subscriptionPlans: Thunder.options.subscriptionPlans,
			onCheckoutSuccess: function onCheckoutSuccess($container, context, checkoutDetail) {
				var order = checkoutDetail.order,
				    subscription = checkoutDetail.subscription;


				return Thunder.render($container, 'checkout-success', {
					type: subscription ? 'subscription' : 'order',
					subject: (subscription || order)._id
				});
			},
			onPaymentFailure: function onPaymentFailure($container, context, checkoutDetail) {
				var order = checkoutDetail.order,
				    subscription = checkoutDetail.subscription;

				var type = subscription ? 'subscription' : 'order';

				Thunder.notify('error', context.m('paymentFailed'));

				return Thunder.render($container, type + '-detail', _defineProperty({}, type, (subscription || order)._id));
			}
		};
	};

	implementation.pre = function (context, callback) {
		var _context$options = context.options,
		    type = _context$options.type,
		    items = _context$options.items,
		    customerFields = _context$options.customerFields,
		    recipientFields = _context$options.recipientFields,
		    subscriptionPlans = _context$options.subscriptionPlans;


		var $container = $(this);

		var defaultCartQuery = items ? { items: items.toString() } : {};
		var defaultCartData = {};

		var disabledAddressFields = Thunder.util.parseArrayString(context.options.addressDisabled).reduce(function (o, field) {
			return set(o, field, true);
		}, {});

		context.isSubscription = context.options.type === 'subscription';

		context.useSearchAddress = !!Thunder.plugins.searchAddress;

		context.disabled = function (field) {
			return disabledAddressFields[field] && context.useSearchAddress ? 'readonly' : '';
		};

		var toFieldDetail = function toFieldDetail() {
			var prefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
			return function (field) {
				var _field$split = field.split(':'),
				    _field$split2 = _slicedToArray(_field$split, 2),
				    key = _field$split2[0],
				    required = _field$split2[1];

				return {
					required: required === 'required',
					key: key,
					translationKey: camelCase([prefix, translationKeys[key] || key])
				};
			};
		};

		context.customerFields = Thunder.util.parseArrayString(customerFields).map(toFieldDetail('customer'));

		context.recipientFields = Thunder.util.parseArrayString(recipientFields).map(toFieldDetail('address'));

		var requestFailed = function requestFailed(err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, {
				default: context.m('checkoutPreparationFailed')
			}, callback);
		};

		return $.when(Thunder.authenticated() ? Thunder.request({
			method: 'GET',
			url: '/v1/me',
			query: {
				raw: true,
				fields: ['name', 'email', 'mobile', 'phone', 'gender', 'birthdate', 'country', 'language', 'currency', 'timezone', 'address.primary'].join(',')
			}
		}) : null).then(function (customer) {

			var primaryAddress = get(customer, 'address.primary', null);

			if (primaryAddress) {

				defaultCartData.address = {
					shipping: primaryAddress,
					billing: primaryAddress
				};
			}

			context.customer = customer || null;
			context.address = primaryAddress || AddressHandler.defaultAddress();

			return $.when(Thunder.request({
				method: 'GET',
				url: '/v1/countries',
				query: { fields: 'code' }
			}), getCart({
				query: defaultCartQuery,
				data: defaultCartData
			}), Thunder.authenticated() ? Thunder.request({
				method: 'GET',
				url: '/v1/me/coupons',
				query: {
					limit: 120,
					fields: ['name', 'active', 'only', 'type', 'discount', 'category', 'price', 'subscription', 'expiresAt'].join(',')
				}
			}) : null, context.isSubscription ? Thunder.request({
				method: 'GET',
				url: '/v1/subscriptions/plans',
				query: {
					ids: subscriptionPlans.map(function (_ref) {
						var id = _ref.id;
						return id;
					}).join(','),
					fields: ['name', 'immediate', 'interval'].join(','),
					sort: 'ids'
				}
			}) : null);
		}, requestFailed).then(function (countries, cart, coupons, plans) {

			var hasCartError = cart[0].cart.errors.some(function (err) {
				return err.code !== 'shipping-address-required';
			});

			if (hasCartError) {
				return Thunder.render($container, 'cart', {
					orderActions: Object.keys(Thunder.options.paymentMethods),
					items: context.options.items
				});
			}

			context.countries = countries[0];
			context.cart = cart[0].cart;
			context.subscription = cart[0].subscription || null;
			context.subscriptionPlans = (plans ? plans[0] : []).map(function (plan) {
				return $.extend(plan, subscriptionPlans.find(function (s) {
					return s.id === plan._id;
				}));
			});
			context.coupons = coupons ? coupons[0] : [];

			CouponHandler.setApplicableCoupons(context.options.type, context.cart, context.coupons);

			return callback(null, context);
		}, requestFailed);
	};

	implementation.init = function (context) {
		var _this = this;

		var $paymentFormContainer = $(this).find('.thunder--payment-form-container');

		Thunder.render($paymentFormContainer, 'payment-form', {
			type: context.options.type
		}, function (err, _ref2) {
			var paymentHandler = _ref2.interfaces;


			var $container = $(_this);
			var $backToCart = $(_this).find('.thunder--back-to-cart');
			var $cartItems = $(_this).find('.thunder--cart-items table');
			var $goToUpdateCustomer = $(_this).find('.thunder--go-to-update-customer');
			var $sameForRecipient = $(_this).find('[name="sameForRecipient"]');
			var $searchAddress = $(_this).find('.thunder--search-address');
			var $applyAddress = $(_this).find('.thunder--apply-address');
			var $orderRequest = $(_this).find('[name="request"]');
			var $totalDetails = $(_this).find('.thunder--total-details');
			var $proceedCheckout = $(_this).find('.thunder--proceed-checkout');
			var processCheckoutSpinner = Thunder.util.makeAsyncButton($proceedCheckout, { bind: false });

			var couponHandler = CouponHandler({
				form: $(_this).find('.thunder--cart-items'),
				labels: {
					applyCoupons: context.m('applyCoupons'),
					finishApplyingCoupons: context.m('finishApplyingCoupons')
				},
				coupons: context.coupons,
				cart: function cart() {
					return context.cart;
				},
				onCouponApply: function onCouponApply(type) {
					return applyCoupons(type);
				},
				onCouponSelectError: function onCouponSelectError(code) {
					return Thunder.notify('error', context.m(code));
				}
			});

			var customerHandler = CustomerHandler({
				customerFields: context.customerFields.map(function (_ref3) {
					var key = _ref3.key,
					    required = _ref3.required;
					return {
						field: key,
						required: required
					};
				}).map(function (detail) {
					return $.extend(detail, {
						$input: $(_this).find('.thunder--customer [name="customer.' + detail.field + '"]')
					});
				}),
				translationKeys: translationKeys
			});

			var addressHandler = AddressHandler({
				addressFields: [].concat(_toConsumableArray(context.recipientFields.map(function (_ref4) {
					var key = _ref4.key,
					    required = _ref4.required;
					return {
						field: key,
						recipient: true,
						required: required
					};
				})), [{ field: 'country', required: true }, { field: 'state', required: false }, { field: 'city', required: true }, { field: 'address1', required: true }, { field: 'address2', required: false }, { field: 'postcode', required: true }]).map(function (detail) {
					return $.extend(detail, {
						$input: $(_this).find('.thunder--address [name="address.' + detail.field + '"]')
					});
				}),
				translationKeys: translationKeys,
				searchAddressPlugin: Thunder.plugins.searchAddress
			});

			var subscriptionHandler = SubscriptionHandler({
				form: $(_this).find('.thunder--subscription-details'),
				labels: {
					firstOrderStartsAt: context.m('firstOrderStartsAt'),
					secondOrderStartsAt: context.m('secondOrderStartsAt')
				},
				subscriptionPlans: context.subscriptionPlans,
				timezone: function timezone() {
					return Thunder.options.timezone;
				},
				onPlanChange: function onPlanChange() {
					return applySubscriptionDetail();
				},
				onStartsAtChange: function onStartsAtChange() {
					return applySubscriptionDetail();
				}
			});

			Thunder.util.bindBackButton($backToCart, context);

			customerHandler.setCustomer(context.customer);
			addressHandler.setAddress(context.address);

			$sameForRecipient.on('change', copyToRecipient);
			$applyAddress.on('click', applyChanges);
			$searchAddress.on('click', searchAddress);

			$goToUpdateCustomer.on('click', function () {
				return Thunder.render($container, 'customer-update', {
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			});

			// It's a bit hacky way to handle reCAPTCHA,
			// but if a store uses reCATPCHA for checkout and order/subscription auth,
			// bind reCATPCHA twice for the same button to get two reCAPTCHA responses.
			var recaptchaComponents = [implementation.name, 'search-purchase'];

			var recaptchaHandler = RecaptchaHandler(recaptchaComponents.filter(Thunder.util.useRecaptcha).reduce(function (o, c) {
				return set(o, c, true);
			}, {}));

			recaptchaComponents.forEach(function (componentName) {
				return Thunder.util.makeRecaptcha({
					componentName: componentName,
					button: $proceedCheckout,
					validate: validateCheckoutData,
					callback: proceedCheckout
				});
			});

			function copyToRecipient() {

				return $(this).is(':checked') ? addressHandler.setAddress(customerHandler.getCustomer()) : addressHandler.reset('recipient');
			}

			function applyChanges() {

				var options = buildCartOptions();
				var address = options.data.address.shipping;
				var discount = options.data.discount;

				var addressError = addressHandler.validateAddress(address, false);

				// Validate shipping address
				if (addressError) {
					return Thunder.notify('error', context.m(addressError));
				}

				var oldCartItems = $cartItems.html();
				var oldTotalDetails = $totalDetails.html();
				var sectionSpinner = Thunder.ui('section-spinner')();

				$cartItems.html('<tr><td>' + sectionSpinner + '</td></tr>');
				$totalDetails.html(sectionSpinner);

				var errors = {
					'invalid-postcode': context.m('invalidPostcode'),
					'starts-too-early': context.m('startsTooEarly'),
					'cart-coupon-category': context.m('cartCouponCategory'),
					'cart-coupon-price': context.m('cartCouponPrice'),
					default: context.m('cartUpdateFailed')
				};

				return getCart(options).then(function (_ref5) {
					var cart = _ref5.cart,
					    subscription = _ref5.subscription;


					var cartHasItemError = cart.errors.some(function (error) {
						return error.code === 'item-error';
					});

					if (cartHasItemError) {
						Thunder.notify('error', context.m('invalidCartItemIncluded'));
						return Thunder.render($container, 'cart', {
							orderActions: Object.keys(Thunder.options.paymentMethods),
							items: context.options.items
						});
					}

					context.cart = cart;
					context.subscription = subscription || null;

					CouponHandler.setApplicableCoupons(context.options.type, context.cart, context.coupons);

					if (discount) {

						if (discount.items) {
							discount.items.forEach(function (_ref6) {
								var item = _ref6.item,
								    coupon = _ref6.coupon;
								return set(context.cart.items.find(function (_ref7) {
									var _id = _ref7._id;
									return _id === item;
								}), 'appliedCoupon', couponHandler.getCoupon(coupon));
							});
						}

						if (discount.cart) {
							context.cart.appliedCoupon = couponHandler.getCoupon(discount.cart.coupon);
						}
					}

					var $template = $(Thunder.component(implementation.name).template(context));

					$cartItems.html($template.find('.thunder--cart-items table').html());
					$totalDetails.html($template.find('.thunder--total-details').html());

					couponHandler.bindCouponValidator();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						$cartItems.html(oldCartItems);
						$totalDetails.html(oldTotalDetails);
					});
				});
			}

			function validateCheckoutData() {

				var options = buildCartOptions('checkout');

				var _options$data = options.data,
				    address = _options$data.address,
				    subscription = _options$data.subscription;

				// Validate customer

				var customer = customerHandler.getCustomer();
				var customerError = customerHandler.validateCustomer(customer);

				if (customerError) {
					Thunder.notify('error', context.m(customerError));
					return false;
				}

				// Validate addresses
				var addressErrors = [address.shipping, address.billing].map(addressHandler.validateAddress).filter(function (v) {
					return v;
				});

				if (addressErrors[0]) {
					Thunder.notify('error', context.m(addressErrors[0]));
					return false;
				}

				var paymentError = paymentHandler.validate();

				if (paymentError) {
					Thunder.notify('error', paymentError.message);
					return false;
				}

				if (context.isSubscription) {
					// Validate only if checkout process is for a subscription
					var subscriptionError = subscriptionHandler.validateSubscriptionDetail(subscription);

					if (subscriptionError) {
						Thunder.notify('error', context.m(subscriptionError));
						return false;
					}
				}

				return true;
			}

			function proceedCheckout(token, resetRecaptcha) {

				var shouldExecute = recaptchaHandler.execute(token);

				if (!shouldExecute) return;

				var checkoutRes = shouldExecute.checkout,
				    searchPurchaseRes = shouldExecute['search-purchase'];


				processCheckoutSpinner.run();

				var options = buildCartOptions('checkout');
				var customer = customerHandler.getCustomer();
				var card = paymentHandler.getCard();

				var _options$data$payment = options.data.paymentMethod.split('.'),
				    _options$data$payment2 = _slicedToArray(_options$data$payment, 1),
				    paymentMethodId = _options$data$payment2[0];

				if (checkoutRes) {
					// Set reCAPTCHA response
					options.recaptcha = checkoutRes;
				}

				options.data.paymentMethod = paymentMethodId;

				if (!Thunder.authenticated()) {
					// Set customer details only for non-registered customers
					options.data.customer = customer;
				}

				var checkoutFinished = function checkoutFinished(successDetail) {

					processCheckoutSpinner.done();

					if (resetRecaptcha) {
						resetRecaptcha();
					}

					if (!successDetail) return;

					if (!Thunder.authenticated()) {
						// Delete ordered items from the local cart
						context.cart.items.forEach(function (item) {
							return Thunder.Cart.deleteItem(item._id, $.noop);
						});
					}

					return Thunder.execute(context.options.onCheckoutSuccess, $container, context, successDetail);
				};

				var order = void 0;
				var subscription = void 0;

				var authByOrderOrSubscription = {
					run: function run(_ref8) {
						var o = _ref8.order,
						    s = _ref8.subscription;


						order = o;
						subscription = s || null;

						var type = context.options.type;
						var subject = context.isSubscription ? s : o;

						var options = {
							data: Thunder.options.orderAuthFields.reduce(function (o, field) {
								return set(o, field, get(subject.customer, field, null));
							}, {})
						};

						if (searchPurchaseRes) {
							options.recaptcha = searchPurchaseRes;
						}

						// Authenticate by an order or a subscription
						return auth(type, subject._id, options);
					},
					fail: function fail(err) {
						return Thunder.util.requestErrorHandler(err.responseJSON, {
							default: context.m('checkoutProcessFailed')
						}, function (err) {
							return checkoutFinished();
						});
					}
				};

				var persistTokenAndMakePayment = {
					run: function run(authResult) {

						if (authResult) {

							var _token = authResult.token;
							var storage = Thunder.plugins.credentialStorage;

							// Set auth token in the storage,
							// preferably in sessionStorage to take care of redirections from payment services.
							storage.setItem(Thunder.options.authStorage.order, _token);
						}

						return paymentHandler.makePayment({
							cart: context.cart,
							order: order,
							subscription: subscription,
							customer: customer
						}, function (err) {

							if (err) {

								checkoutFinished();

								return Thunder.execute(context.options.onPaymentFailure, $container, context, { order: order, subscription: subscription });
							}

							if (!subscription) {
								// Regular order case
								return checkoutFinished({ order: order, subscription: subscription });
							}

							var options = {
								data: card ? { card: card } : {}
							};

							// Subscription case, post schedules and finish.
							return scheduleSubscription(subscription._id, options).then(function () {

								return checkoutFinished({ order: order, subscription: subscription });
							}, function (err) {
								return Thunder.util.requestErrorHandler(err.responseJSON, {
									default: context.m('scheduleFailed')
								}, function (err) {
									return checkoutFinished();
								});
							});
						});
					}
				};

				var checkoutErrorHandler = function checkoutErrorHandler(err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, {
						default: context.m('checkoutFailed')
					}, function (err) {
						return checkoutFinished();
					});
				};

				// Checkout
				checkout(options).then(authByOrderOrSubscription.run, checkoutErrorHandler).then(persistTokenAndMakePayment.run, authByOrderOrSubscription.fail);
			}

			function buildCartOptions() {
				var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'calculate';


				var address = addressHandler.getAddress();
				var discount = couponHandler.getDiscountDetails();

				var options = {
					query: {},
					data: {}
				};

				// Filter items
				if (context.options.items) {
					options.query = { items: context.options.items.toString() };
				}

				// Set address
				if (address) {
					options.data.address = { shipping: address, billing: address };
				}

				// Set subscription details
				if (context.isSubscription) {

					var subscription = subscriptionHandler.getSubscriptionDetail();

					if (subscription && subscription.plan) {
						options.data.subscription = subscription;
					}
				}

				// Apply discount (coupons)
				if (Object.keys(discount).length) {
					options.data.discount = discount;
				}

				// Request options for checkout
				if (type === 'checkout') {
					options.data.currency = context.cart.currency.payment.code;
					options.data.paymentMethod = paymentHandler.getPaymentMethodId();
					options.data.request = $orderRequest.val() || null;
				}

				return options;
			}

			function searchAddress() {

				if (couponHandler.isApplying()) {
					return Thunder.notify('error', context.m('applyCouponsFirst'));
				}

				addressHandler.searchAddress(function (err) {

					return err ? Thunder.notify('error', err.message) : applyChanges();
				});
			}

			function applyCoupons(type) {

				if (context.isSubscription) {

					var detail = subscriptionHandler.getSubscriptionDetail();

					if (!detail || !detail.plan) {
						Thunder.notify('error', context.m('selectSubscriptionPlanFirst'));
						return false; // Block further executions
					}
				}

				if (type === 'end') {
					applyChanges();
				}

				return true;
			}

			function applySubscriptionDetail() {

				var detail = subscriptionHandler.getSubscriptionDetail();
				var error = subscriptionHandler.validateSubscriptionDetail(detail);

				if (error === 'subscriptionPlanRequired') {
					return Thunder.notify('error', context.m(error));
				}

				if (error === 'subscriptionStartsAtRequired') {
					return;
				}

				return applyChanges();
			}
		});
	};

	function getCart() {
		var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


		if (!Thunder.authenticated()) {
			set(options, 'data.items', Thunder.Cart.items);
		}

		return Thunder.request($.extend({
			method: 'POST',
			url: Thunder.authenticated() ? '/v1/me/cart' : '/v1/me/non-registered/cart'
		}, options));
	}

	function checkout() {
		var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


		var type = options.data.subscription ? 'subscription' : 'order';

		if (!Thunder.authenticated()) {
			set(options, 'data.items', Thunder.Cart.items);
		}

		return Thunder.request($.extend({
			method: 'POST',
			url: Thunder.authenticated() ? '/v1/me/cart/checkout/' + type : '/v1/me/non-registered/cart/checkout/' + type
		}, options));
	}

	function auth(type, id) {
		var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};


		if (Thunder.authenticated()) {
			return null;
		}

		return Thunder.request($.extend({
			method: 'POST',
			url: type === 'order' ? '/v1/orders/' + id + '/auth' : '/v1/subscriptions/' + id + '/auth'
		}, options));
	}

	function scheduleSubscription(subscriptionId, options) {

		return Thunder.request($.extend({
			method: 'POST',
			url: '/v1/me/subscriptions/' + subscriptionId + '/scheduled'
		}, options));
	}

	return implementation;
};

},{"./lib/addressHandler.js":21,"./lib/couponHandler.js":22,"./lib/customerHandler.js":23,"./lib/recaptchaHandler.js":24,"./lib/subscriptionHandler.js":25,"lodash.camelcase":166,"lodash.get":167,"lodash.set":172}],21:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

var AddressHandler = function AddressHandler(_ref) {
	var addressFields = _ref.addressFields,
	    translationKeys = _ref.translationKeys,
	    searchAddressPlugin = _ref.searchAddressPlugin;


	function reset() {
		var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'all';


		var fieldsToClear = type === 'recipient' ? addressFields.filter(function (_ref2) {
			var recipient = _ref2.recipient;
			return recipient;
		}) : addressFields;

		fieldsToClear.forEach(function (_ref3) {
			var $input = _ref3.$input;
			return $input.val(null);
		});
	}

	function getAddress() {

		return addressFields.reduce(function (o, _ref4) {
			var field = _ref4.field,
			    $input = _ref4.$input;


			return set(o, field, $input.val() || null);
		}, {});
	}

	function setAddress(address) {

		addressFields.forEach(function (_ref5) {
			var field = _ref5.field,
			    $input = _ref5.$input;


			var value = get(address, field);

			return value === undefined ? null : $input.val(value);
		});
	}

	function validateAddress(address) {
		var validateRecipient = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;


		var requireds = addressFields.filter(function (_ref6) {
			var required = _ref6.required;
			return required;
		}).filter(function (_ref7) {
			var recipient = _ref7.recipient;
			return validateRecipient ? true : !recipient;
		});

		var _iteratorNormalCompletion = true;
		var _didIteratorError = false;
		var _iteratorError = undefined;

		try {
			for (var _iterator = requireds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
				var _ref8 = _step.value;
				var field = _ref8.field;


				if (get(address, field)) continue;

				var code = camelCase(['address', translationKeys[field] || field, 'required']);

				return code;
			}
		} catch (err) {
			_didIteratorError = true;
			_iteratorError = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion && _iterator.return) {
					_iterator.return();
				}
			} finally {
				if (_didIteratorError) {
					throw _iteratorError;
				}
			}
		}

		return null;
	}

	function searchAddress(callback) {

		searchAddressPlugin(function (err, address) {

			if (err) {
				return callback(err);
			}

			setAddress(address);

			return callback(null, address);
		});
	}

	return {
		reset: reset,
		getAddress: getAddress,
		setAddress: setAddress,
		validateAddress: validateAddress,
		searchAddress: searchAddress
	};
};

AddressHandler.defaultAddress = function () {
	return {
		name: {
			first: null,
			last: null,
			full: null
		},
		company: null,
		postcode: null,
		country: null,
		state: null,
		city: null,
		address1: null,
		address2: null,
		mobile: null,
		phone: null
	};
};

module.exports = AddressHandler;

},{"lodash.camelcase":166,"lodash.get":167,"lodash.set":172}],22:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');

var CouponHandler = function CouponHandler(_ref) {
	var form = _ref.form,
	    _ref$labels = _ref.labels,
	    labels = _ref$labels === undefined ? {
		applyCoupons: '',
		finishApplyingCoupons: ''
	} : _ref$labels,
	    coupons = _ref.coupons,
	    _ref$cart = _ref.cart,
	    cart = _ref$cart === undefined ? function () {} : _ref$cart,
	    _ref$onCouponApply = _ref.onCouponApply,
	    onCouponApply = _ref$onCouponApply === undefined ? function (type) {
		return true;
	} : _ref$onCouponApply,
	    _ref$onCouponSelectEr = _ref.onCouponSelectError,
	    onCouponSelectError = _ref$onCouponSelectEr === undefined ? function (code) {} : _ref$onCouponSelectEr;


	var applying = false;

	var couponMap = coupons.reduce(function (o, c) {
		return set(o, c._id, c);
	}, {});

	var $applyCoupons = form.find('.thunder--apply-coupons');

	$applyCoupons.on('click', applyCoupons);

	bindCouponValidator();

	function isApplying() {
		return applying;
	}

	function getCoupon(couponId) {
		return couponMap[couponId];
	}

	function getCouponSelectors() {

		return form.find(['.thunder--cart-item-coupon', '.thunder--cart-coupon'].join(','));
	}

	function bindCouponValidator() {

		getCouponSelectors().on('change', validateCoupons);
	}

	function applyCoupons() {

		if (applying) {
			// Stop coupon selections
			if (!onCouponApply('end')) return;
			applying = false;
			$applyCoupons.text(labels.applyCoupons);
			getCouponSelectors().hide();
		} else {
			// Initialize coupon selections
			if (!onCouponApply('start')) return;
			applying = true;
			$applyCoupons.text(labels.finishApplyingCoupons);
			getCouponSelectors().show();
		}
	}

	function getDiscountDetails() {

		return getCouponSelectors().map(function () {

			var item = $(this).data('item') || null;
			var coupon = $(this).val();

			return { item: item, coupon: coupon };
		}).get().reduce(function (o, _ref2) {
			var item = _ref2.item,
			    coupon = _ref2.coupon;


			if (!coupon) return o;

			return item ? set(o, 'items', get(o, 'items', []).concat({ item: item, coupon: coupon })) : set(o, 'cart.coupon', coupon);
		}, {});
	}

	function validateCoupons() {

		var $selector = $(this);
		var itemId = $(this).data('item');
		var coupon = couponMap[$(this).val()];
		var item = cart().items.find(function (item) {
			return item._id === itemId;
		});

		if (!coupon || !item) return null;

		var code = null;

		// Duplicated discount applications
		if (coupon.only && item.discounts.length > 0) {
			code = 'alreadyDiscounted';
		}

		// Item's quantity must be 1 to apply a coupon
		if (item.quantity.raw !== 1) {
			code = 'mustBeOneQuantity';
		}

		// Duplicated coupon usage
		var selected = getCouponSelectors().map(function () {
			return $(this).is($selector) ? null : $(this).val();
		}).get().filter(function (v) {
			return v;
		});

		if (selected.indexOf(coupon._id) >= 0) {
			code = 'duplicatedCoupon';
		}

		if (code) {
			$selector.val('');
			return onCouponSelectError(code);
		}
	}

	return {
		isApplying: isApplying,
		getCoupon: getCoupon,
		bindCouponValidator: bindCouponValidator,
		getDiscountDetails: getDiscountDetails
	};
};

CouponHandler.setApplicableCoupons = function (orderType, cart, coupons) {

	// Filter only applicable coupons
	var applicableCoupons = coupons.filter(function (c) {
		var active = c.active,
		    expiresAt = c.expiresAt,
		    subscription = c.subscription;

		// Filter coupons where:
		// - A coupon is active
		// - A coupon is for a subscription and the view is for subscriptions
		// - A coupon is for an order and the view is for orders
		// - A coupon has no expiration dates
		// - A coupon has an expiration date and it is not passed yet

		return active && (orderType === 'subscription' && subscription.type || orderType === 'order' && !subscription.type) && (!expiresAt || new Date(expiresAt.raw).valueOf() > new Date().valueOf());
	});

	var productCoupons = applicableCoupons.filter(function (c) {
		return c.type === 'product';
	});
	var cartCoupons = applicableCoupons.filter(function (c) {
		return c.type === 'cart';
	});

	cart.items = cart.items.map(function (item) {

		item.applicableCoupons = productCoupons.filter(function (coupon) {

			return applicableByCategory(item, coupon.category) && applicableByPrice(item, coupon.price);
		});

		return item;
	});

	cart.applicableCoupons = cartCoupons;

	function applicableByCategory(item, category) {
		var _ref3;

		var brand = item.brand,
		    collections = item.collections,
		    product = item.product;


		if (category.type === 'any') {
			return true;
		}

		var subjectsToTest = {
			brands: [].concat(brand ? brand._id : []),
			collections: (_ref3 = []).concat.apply(_ref3, _toConsumableArray(collections.map(function (_ref4) {
				var path = _ref4.path;
				return path;
			}))).map(function (_ref5) {
				var _id = _ref5._id;
				return _id;
			}),
			products: [].concat(product ? product._id : [])
		};

		var categoryToTest = ['brands', 'collections', 'products'].find(function (c) {
			return category[c];
		});

		var toTest = subjectsToTest[categoryToTest];
		var pool = category[categoryToTest].map(function (_ref6) {
			var _id = _ref6._id;
			return _id;
		});

		if (category.type === 'include') {
			return pool.some(function (v) {
				return toTest.indexOf(v) >= 0;
			});
		}

		if (category.type === 'exclude') {
			return pool.every(function (v) {
				return toTest.indexOf(v) === -1;
			});
		}
	}

	function applicableByPrice(item, _ref7) {
		var min = _ref7.min,
		    max = _ref7.max;


		var price = item.variant.price.sale.raw;

		return (min === null || min.raw < price) && (max === null || max.raw > price);
	}
};

module.exports = CouponHandler;

},{"lodash.get":167,"lodash.set":172}],23:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (_ref) {
	var customerFields = _ref.customerFields,
	    translationKeys = _ref.translationKeys;


	function setCustomer(customer) {

		if (!customer) return;

		customerFields.forEach(function (_ref2) {
			var field = _ref2.field,
			    $input = _ref2.$input;


			$input.val(get(customer, field) || null);
		});
	}

	function getCustomer() {

		return customerFields.reduce(function (o, _ref3) {
			var field = _ref3.field,
			    $input = _ref3.$input;

			return set(o, field, $input.val() || null);
		}, {});
	}

	function validateCustomer(customer) {
		var _iteratorNormalCompletion = true;
		var _didIteratorError = false;
		var _iteratorError = undefined;

		try {

			for (var _iterator = customerFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
				var _ref4 = _step.value;
				var field = _ref4.field;
				var required = _ref4.required;


				if (!required) continue;

				var value = get(customer, field);

				if (!value) {
					return camelCase(['customer', translationKeys[field] || field, 'required']);
				}
			}
		} catch (err) {
			_didIteratorError = true;
			_iteratorError = err;
		} finally {
			try {
				if (!_iteratorNormalCompletion && _iterator.return) {
					_iterator.return();
				}
			} finally {
				if (_didIteratorError) {
					throw _iteratorError;
				}
			}
		}

		return null;
	}

	return {
		setCustomer: setCustomer,
		getCustomer: getCustomer,
		validateCustomer: validateCustomer
	};
};

},{"lodash.camelcase":166,"lodash.get":167,"lodash.set":172}],24:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function (requiredResponse) {

	var handler = {
		counter: 0,
		token: [],
		requiredResponse: requiredResponse
	};

	handler.execute = function (token) {

		var requiredComponents = Object.keys(handler.requiredResponse);
		var requiredLength = requiredComponents.length;

		if (requiredLength === 0) {
			// If a number of required responses is 0,
			// simply return an empty object.
			return {};
		}

		handler.token = handler.token.concat(token).filter(function (token) {
			return token;
		});

		if (++handler.counter === 2 && requiredLength === handler.token.length) {

			var result = requiredComponents.reduce(function (o, c, i) {
				return set(o, c, handler.token[i]);
			}, {});

			handler.reset();

			return result;
		} else {

			return null;
		}
	};

	handler.reset = function () {
		handler.counter = 0;
		handler.token = [];
	};

	return handler;
};

},{"lodash.set":172}],25:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var set = require('lodash.set');

module.exports = function (_ref) {
	var form = _ref.form,
	    labels = _ref.labels,
	    subscriptionPlans = _ref.subscriptionPlans,
	    _ref$timezone = _ref.timezone,
	    timezone = _ref$timezone === undefined ? function () {
		return 'UTC';
	} : _ref$timezone,
	    _ref$onPlanChange = _ref.onPlanChange,
	    onPlanChange = _ref$onPlanChange === undefined ? function () {} : _ref$onPlanChange,
	    _ref$onStartsAtChange = _ref.onStartsAtChange,
	    onStartsAtChange = _ref$onStartsAtChange === undefined ? function () {} : _ref$onStartsAtChange;


	var $plan = form.find('[name="subscriptionPlan"]');
	var $startsAtSection = form.find('.thunder--subscription-starts-at');
	var $startsAtLabel = $startsAtSection.find('label');
	var $startsAt = $startsAtSection.find('[name="subscriptionStartsAt"]');
	var $immediateTip = $('.first-order-is-immediate');

	var datepicker = $startsAt.data('pickaday');

	var subscriptionPlanMap = subscriptionPlans.reduce(function (o, plan) {
		return set(o, plan._id, plan);
	}, {});

	subscriptionPlanChanged();

	if (datepicker) {
		// Set datepicker's min date as tomorrow (24 hours later)
		datepicker.setMinDate(new Date(new Date().valueOf() + 1000 * 3600 * 24));
	}

	$plan.on('change', function () {
		subscriptionPlanChanged();
		return onPlanChange();
	});

	$startsAt.on('change', function () {
		return onStartsAtChange();
	});

	function getSubscriptionPlan(subscriptionPlanId) {
		return subscriptionPlanMap[subscriptionPlanId];
	}

	function validateSubscriptionDetail(subscription) {

		if (!subscription || !subscription.plan) {
			return 'subscriptionPlanRequired';
		}

		var plan = subscriptionPlanMap[subscription.plan];

		if (plan.startsAt && !subscription.startsAt) {
			return 'subscriptionStartsAtRequired';
		}
	}

	function getSubscriptionDetail() {

		var plan = subscriptionPlanMap[$plan.val()];

		if (!plan) return null;

		var detail = {
			plan: plan._id,
			timezone: timezone()
		};

		var startsAt =
		// If `plan.startsAt` is a function, simply invoke and get the time value.
		typeof plan.startsAt === 'function' && plan.startsAt(plan) ||
		// If `plan.startsAt` is a 'datepicker', get the time value from datepicker.
		plan.startsAt === 'datepicker' && $startsAt.data('pickaday').getDate() || null;

		if (startsAt) {

			// Set order schedules' times (default = 09:00)
			startsAt.setHours.apply(startsAt, _toConsumableArray((plan.time || '09:00').split(':').map(function (v) {
				return parseInt(v);
			}).concat(0, 0, 0)));

			detail.startsAt = startsAt;
		}

		return detail;
	}

	function subscriptionPlanChanged() {

		var plan = subscriptionPlanMap[$plan.val()];

		if (!plan) return;

		if (plan.startsAt === 'datepicker') {
			$startsAtSection.show();
		} else {
			$startsAtSection.hide();
		}

		if (plan.immediate) {
			$immediateTip.show();
			$startsAtLabel.text(labels.secondOrderStartsAt);
		} else {
			$immediateTip.hide();
			$startsAtLabel.text(labels.firstOrderStartsAt);
		}

		$startsAt.val('');
		datepicker.setDate(null);
	}

	return {
		getSubscriptionPlan: getSubscriptionPlan,
		validateSubscriptionDetail: validateSubscriptionDetail,
		getSubscriptionDetail: getSubscriptionDetail,
		subscriptionPlanChanged: subscriptionPlanChanged
	};
};

},{"lodash.set":172}],26:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-coupons'
	};

	implementation.options = function () {
		return {
			page: 1,
			limit: 24,
			usePagination: true,

			onDelete: function onDelete($container, context) {

				return Thunder.notify('success', context.m('deleteSuccess'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		context.couponListId = (Math.random() + '').slice(2);

		context.categories = function (coupon) {
			return (coupon.category.products || coupon.category.brands || coupon.category.collections).map(function (m) {
				return m.name;
			}).join(', ');
		};

		var errors = {
			default: context.m('couponListFailed')
		};

		$.when(Thunder.request({
			method: 'GET',
			url: '/v1/me/coupons',
			query: {
				page: context.options.page,
				limit: context.options.limit
			}
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/me/coupons/count',
			query: { raw: true }
		}) : null).then(function (coupons, count) {

			context.coupons = coupons[0];
			context.count = count ? count[0].count : null;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $pagination = $(this).find('.thunder--customer-coupon-list-pagination');
		var $deleteCoupon = $(this).find('.thunder--delete-coupon');

		$deleteCoupon.on('click', deleteCoupon);

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, 'customer-coupons', $.extend(context.options, { page: page }));
				}
			});
		}

		function deleteCoupon() {

			var spinner = Thunder.util.makeAsyncButton($(this), { bind: false });

			spinner.run();

			var couponId = $(this).data('coupon');
			var $coupon = $container.find('[data-coupon="' + couponId + '"]');

			var errors = {
				default: context.m('couponDeleteFailed')
			};

			Thunder.request({
				method: 'DELETE',
				url: '/v1/me/coupons/' + couponId
			}).then(function () {

				spinner.done();
				$coupon.remove();
				$container.find('[data-mh]').matchHeight();

				return Thunder.execute(context.options.onDelete, $container, context);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
					return spinner.done();
				});
			});
		}
	};

	return implementation;
};

},{}],27:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var supportedComponents = function supportedComponents() {
		return ['customer-update', 'customer-update-address'].concat(_toConsumableArray(Object.keys(Thunder.options.paymentMethods).map(function (type) {
			return type + '-list';
		})), ['customer-coupons', Thunder.options.productReview ? 'customer-reviews' : null, Thunder.options.productReview && Thunder.options.productReviewComment ? 'customer-review-comments' : null, 'customer-delete-account']).filter(function (v) {
			return v;
		});
	};

	// Implementation
	var implementation = {
		name: 'customer-dashboard'
	};

	implementation.options = function () {
		return $.extend({

			nav: supportedComponents(), // Navigation components
			focus: supportedComponents()[0] // Initial component to be focused

		}, supportedComponents().reduce(function (o, component) {

			return set(o, camelCase(['onView', component]), function ($container, context, $viewContainer) {
				return Thunder.render($viewContainer, component);
			});
		}, {}));
	};

	implementation.pre = function (context, callback) {

		var translationKeys = {
			'customer-update': 'customerInfo',
			'customer-update-address': 'customerAddress',
			'order-list': 'orderList',
			'subscription-list': 'subscriptionList',
			'customer-coupons': 'customerCoupons',
			'customer-reviews': 'customerReviews',
			'customer-review-comments': 'customerReviewComments',
			'customer-delete-account': 'customerDeleteAccount'
		};

		context.nav = Thunder.util.parseArrayString(context.options.nav).map(function (component) {
			return {
				key: component,
				translationKey: translationKeys[component]
			};
		});

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $menu = $(this).find('[data-component]');
		var $viewContainer = $(this).find('.thunder--customer-dashboard-view');

		viewComponent(context.options.focus);

		$menu.on('click', function () {
			return viewComponent($(this).data('component'));
		});

		function viewComponent(component) {

			$menu.removeClass('active');
			$container.find('[data-component="' + component + '"]').addClass('active');

			return Thunder.execute(context.options[camelCase(['onView', component])], $container, context, $viewContainer);
		}
	};

	return implementation;
};

},{"lodash.camelcase":166,"lodash.set":172}],28:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-delete-account'
	};

	implementation.options = function () {
		return {

			confirmOnDelete: true, // Whether to confirm before deleting

			onDelete: function onDelete($container, context) {

				Thunder.notify('success', context.m('deleteSuccess'));

				location.replace(Thunder.options.root);
			}

		};
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--customer-delete-account-form');
		var $button = $form.find('.thunder--delete-account');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		$button.on('click', function (event) {

			event.preventDefault();

			if (!context.options.confirmOnDelete) {
				return deleteCustomer();
			}

			return Thunder.plugins.confirmation(context.m('deleteConfirm'), function () {
				return deleteCustomer();
			}, function () {
				return buttonSpinner.done();
			});
		});

		function deleteCustomer() {

			var errors = {
				default: context.m('deleteFailed')
			};

			Thunder.request({
				method: 'DELETE',
				url: '/v1/me'
			}).then(function () {

				buttonSpinner.done();

				Thunder.logout();

				Thunder.execute(context.options.onDelete, $container, context);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
					return buttonSpinner.done();
				});
			});
		}
	};

	return implementation;
};

},{}],29:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-login'
	};

	implementation.options = function () {
		return {

			socialApps: Thunder.options.socialApps,

			onLogin: function onLogin($container, context) {

				Thunder.notify('success', context.m('loginSuccess'));

				location.replace(Thunder.options.root);
			},

			onSocialLogin: function onSocialLogin($container, context, data) {

				Thunder.notify('success', context.m('loginSuccess'));

				location.replace(Thunder.options.root);
			}

		};
	};

	implementation.pre = function (context, callback) {

		context.social = function () {
			return Thunder.uis['social-login']({
				type: 'login',
				vendors: context.options.socialApps
			});
		};

		return callback(null, context);
	};

	implementation.init = function (context) {

		var socialData = Thunder.util.handleSocialLogin();

		if (socialData) {

			Thunder.execute(context.options.onSocialLogin, $container, context, socialData);
		}

		var $container = $(this);
		var $form = $(this).find('.thunder--login-form');
		var $button = $form.find('.thunder--login-customer');
		var $goToResetPassword = $(this).find('.thunder--go-to-reset-password');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		$goToResetPassword.on('click', function () {
			return Thunder.render($container, 'customer-reset-password', {
				back: {
					$container: $container,
					component: implementation.name,
					options: context.options
				}
			});
		});

		Thunder.util.makeRecaptcha(implementation.name, $button, function (token, resetRecaptcha) {

			var data = Thunder.util.userIdOrEmail(Thunder.util.formToJSON($form.serializeArray()));

			var resetState = function resetState() {
				buttonSpinner.done();
				return resetRecaptcha && resetRecaptcha();
			};

			var errors = {
				'not-existing-customer': context.m('notExistingCustomer'),
				'invalid-password': context.m('invalidPassword'),
				default: context.m('loginFailed')
			};

			Thunder.request({
				method: 'POST',
				url: '/v1/customers/auth',
				data: data
			}).then(function (data) {

				var storage = Thunder.plugins.credentialStorage;

				storage.setItem(Thunder.options.authStorage.customer, data.token);

				Thunder.header();

				Thunder.execute(context.options.onLogin, $container, context);

				return resetState();
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function () {
					return resetState();
				});
			});
		});
	};

	return implementation;
};

},{}],30:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

var get = require('lodash.get');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var translationKey = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	// Implementation
	var implementation = {
		name: 'customer-register'
	};

	implementation.options = function () {
		return {

			fields: Thunder.options.customerRegistrationFields,
			birthdateFormat: Thunder.options.dateInputFormat,
			socialApps: Thunder.options.socialApps,

			onRegister: function onRegister($container, context, customer) {

				Thunder.notify('success', context.m('registerSuccess'));

				Thunder.render($container, 'customer-login');
			},
			onSocialRegister: function onSocialRegister($container, context, data) {

				if (data.error) {
					if (data.error === 'duplicated-email') {
						return Thunder.notify('error', context.m('duplicatedEmail'));
					}
				}

				Thunder.notify('success', context.m('registerSuccess'));

				location.replace(Thunder.options.root);
			}

		};
	};

	implementation.pre = function (context, callback) {

		var birthOptions = {
			YYYY: { key: 'birthYear', translationKey: 'year', tester: /^\d{4}$/ },
			MM: { key: 'birthMonth', translationKey: 'month', tester: /^\d{1,2}$/ },
			DD: { key: 'birthDate', translationKey: 'date', tester: /^\d{1,2}$/ }
		};

		var birthdateFormats = context.options.birthdateFormat.split('-');

		context.fields = Thunder.util.parseArrayString(context.options.fields).map(function (field) {
			var _field$split = field.split(':'),
			    _field$split2 = _slicedToArray(_field$split, 2),
			    key = _field$split2[0],
			    required = _field$split2[1];

			return {
				required: required === 'required',
				key: key,
				translationKey: translationKey[key] || key
			};
		});

		context.birthdateFields = birthdateFormats.map(function (format, i) {

			return $.extend({
				last: i === birthdateFormats.length - 1
			}, birthOptions[format]);
		});

		context.social = function () {
			return Thunder.uis['social-login']({
				type: 'register',
				vendors: context.options.socialApps
			});
		};

		return callback(null, context);
	};

	implementation.init = function (context) {

		var socialData = Thunder.util.handleSocialLogin();

		if (socialData) {

			Thunder.execute(context.options.onSocialRegister, $container, context, socialData);
		}

		var $container = $(this);
		var $form = $(this).find('.thunder--register-form');
		var $button = $form.find('.thunder--register-customer');
		var buttonSpinner = Thunder.util.makeAsyncButton($button, { bind: false });

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $button,
			validate: validateData,
			callback: function callback(token, resetRecaptcha) {

				buttonSpinner.run();

				var resetState = function resetState() {
					buttonSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var success = function success(customer) {

					Thunder.execute(context.options.onRegister, $container, context, customer);

					return resetState();
				};

				var fail = function fail(err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, {
						'duplicated-email': context.m('duplicatedEmail'),
						'duplicated-user-id': context.m('duplicatedUserId'),
						default: context.m('registerFailed'),
						validation: function validation(err) {
							var _err$validation$sourc = err.validation.source.split('.'),
							    _err$validation$sourc2 = _toArray(_err$validation$sourc),
							    path = _err$validation$sourc2.slice(1);

							var field = path.join('.');

							return context.m(camelCase(['invalid', translationKey[field] || field]));
						}
					}, function (err) {
						return resetState();
					});
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me',
					data: getCustomer()
				}).then(success, fail);
			}

		});

		function getCustomer() {

			var birthFields = ['birthYear', 'birthMonth', 'birthDate'];

			var data = Thunder.util.formToJSON($form.serializeArray());

			if (birthFields.every(function (field) {
				return data[field];
			})) {

				data.birthdate = new Date(data.birthYear, data.birthMonth - 1, data.birthDate);
			}

			birthFields.forEach(function (field) {
				return delete data[field];
			});

			return data;
		}

		function validateData() {

			var customer = getCustomer();

			var requiredFields = context.fields.filter(function (_ref) {
				var required = _ref.required;
				return required;
			});

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = requiredFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var _ref2 = _step.value;
					var key = _ref2.key;
					var _translationKey = _ref2.translationKey;


					if (!get(customer, key, null)) {
						Thunder.notify('error', context.m(_translationKey + 'Required'));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return true;
		}
	};

	return implementation;
};

},{"lodash.camelcase":166,"lodash.get":167}],31:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-reset-password'
	};

	implementation.options = function () {
		return {
			customer: 'customer',
			secret: 'secret',
			input: 'query', // 'query' or 'attribute'
			expiresIn: 60 * 60 * 24, // 24 hours
			onEmailRequest: function onEmailRequest($container, context) {

				Thunder.notify('success', context.m('requestEmailSuccess'));
			},
			onPasswordReset: function onPasswordReset($container, context) {

				Thunder.notify('success', context.m('setPasswordSuccess'));

				Thunder.render($container, 'customer-login');
			}
		};
	};

	implementation.pre = function (context, callback) {

		if (context.options.input === 'query') {

			var query = Thunder.util.urlQuery();
			var customerField = context.options.customer;
			var secretField = context.options.secret;

			if (query[customerField] && query[secretField]) {

				context.customer = query[customerField];
				context.secret = query[secretField];
			}
		}

		if (context.options.input === 'attribute') {

			context.customer = context.options.customer;
			context.secret = context.options.secret;
		}

		context.type = context.customer && context.secret ? 'reset-password' : 'request-email';

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--reset-password-form');

		if (context.type === 'request-email') {

			var $requestEmail = $form.find('.thunder--request-email');
			var $goToCustomerLogin = $(this).find('.thunder--go-to-customer-login');
			var requestEmailSpinner = Thunder.util.makeAsyncButton($requestEmail);

			Thunder.util.bindBackButton($goToCustomerLogin, context);

			Thunder.util.makeRecaptcha(implementation.name, $requestEmail, function (token, resetRecaptcha) {

				var data = $.extend(Thunder.util.userIdOrEmail(Thunder.util.formToJSON($form.serializeArray())), {
					expiresIn: context.options.expiresIn,
					scope: 'reset-password'
				});

				var resetState = function resetState() {
					requestEmailSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					'not-existing-customer': context.m('notExistingCustomer'),
					'email-required': context.m('customerWithoutEmail'),
					default: context.m('requestEmailFailed')
				};

				Thunder.request({
					method: 'POST',
					url: '/v1/customers/verifications/emails',
					data: data
				}).then(function () {

					Thunder.execute(context.options.onEmailRequest, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}

		if (context.type === 'reset-password') {

			var $resetPassword = $form.find('.thunder--reset-password');
			var resetPasswordSpinner = Thunder.util.makeAsyncButton($resetPassword);

			Thunder.util.makeRecaptcha(implementation.name, $resetPassword, function (token, resetRecaptcha) {

				var data = $.extend(Thunder.util.formToJSON($form.serializeArray()), {
					secret: context.secret
				});

				var resetState = function resetState() {
					resetPasswordSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					default: context.m('setPasswordFailed')
				};

				Thunder.request({
					method: 'PUT',
					url: '/v1/customers/' + context.customer + '/password',
					data: data,
					recaptcha: token
				}).then(function () {

					Thunder.execute(context.options.onPasswordReset, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}
	};

	return implementation;
};

},{}],32:[function(require,module,exports){
'use strict';

var productReview = require('../product-review');

module.exports = function (Thunder) {

	var productReviewInstance = productReview(Thunder);

	var implementation = {
		name: 'customer-review-comment'
	};

	// Other options will be exactly same as `product-review` component
	implementation.options = function () {
		return $.extend(productReviewInstance.options(), {
			comment: null // Comment ID
		});
	};

	implementation.pre = function (context, callback) {

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $backToComments = $(this).find('.thunder--back-to-comments');
		var $reviewContainer = $(this).find('.thunder--customer-review-comment-container');

		Thunder.util.bindBackButton($backToComments, context);

		Thunder.render($reviewContainer, 'product-review', $.extend({}, context.options, {
			showProduct: true,
			showComments: {
				filter: { ids: context.options.comment },
				useBodyExcerpt: false,
				useFlag: false,
				usePagination: false
			}
		}));
	};

	return implementation;
};

},{"../product-review":49}],33:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-review-comments'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of comments?
			limit: 10, // How many comments at once?
			sort: '-createdAt', // Default sort value
			usePagination: true, // Use Pagination?

			onViewComment: function onViewComment($container, context, reviewId, commentId) {

				return Thunder.render($container, 'customer-review-comment', {
					review: reviewId,
					comment: commentId,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var customer = Thunder.authenticated('customer').sub;

		var errors = {
			default: context.m('commentListFailed')
		};

		return $.when(fetchComments(), countComments()).then(function (comments, count) {
			return callback(null, $.extend(context, {
				comments: comments[0] || [],
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchComments() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments',
				query: {
					customer: customer,
					page: context.options.page,
					limit: context.options.limit,
					sort: context.options.sort,
					fields: ['review', 'customer', 'body', 'createdAt'].join(',')
				}
			});
		}

		function countComments() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments/count',
				query: {
					customer: customer
				}
			});
		}
	};

	implementation.init = function (context) {

		var commentMap = context.comments.reduce(function (o, comment) {
			return set(o, comment._id, comment);
		}, {});

		var $container = $(this);
		var $viewComment = $(this).find(['.thunder--customer-review-comment-body', '.thunder--view-comment'].join(','));
		var $pagination = $(this).find('.thunder--customer-review-comment-list-pagination');

		$viewComment.on('click', function (event) {

			event.preventDefault();

			var commentId = $(this).parents('[data-comment]').data('comment');
			var comment = commentMap[commentId];

			return Thunder.execute(context.options.onViewComment, $container, context, comment.review._id, comment._id);
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{"lodash.set":172}],34:[function(require,module,exports){
'use strict';

var productReview = require('../product-review');

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-review'
	};

	// All options are exactly same as `product-review` component
	implementation.options = productReview(Thunder).options;

	implementation.pre = function (context, callback) {

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $backToReviews = $(this).find('.thunder--back-to-reviews');
		var $reviewContainer = $(this).find('.thunder--customer-review-container');

		Thunder.util.bindBackButton($backToReviews, context);

		Thunder.render($reviewContainer, 'product-review', $.extend({}, context.options, {
			useBodyExcerpt: false,
			useFlag: false,
			showProduct: true,
			showComments: true
		}));
	};

	return implementation;
};

},{"../product-review":49}],35:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-reviews'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of reviews?
			limit: 12, // How many reviews at once?
			sort: '-createdAt', // Default sort value
			useRating: Thunder.options.productReviewRating, // Use rating?
			useComments: Thunder.options.productReviewComment, // Use review comments?
			useHelpVote: true, // Use helpful votes?
			usePagination: true, // Use Pagination?

			onViewReview: function onViewReview($container, context, reviewId) {

				return Thunder.render($container, 'customer-review', {
					review: reviewId,
					useRating: context.options.useRating,
					useHelpVote: context.options.useHelpVote,
					useComments: context.options.useComments,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var customer = Thunder.authenticated('customer').sub;

		var errors = {
			default: context.m('reviewListFailed')
		};

		return $.when(fetchReviews(), countReviews()).then(function (reviews, count) {
			return callback(null, $.extend(context, {
				reviews: reviews[0] || [],
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchReviews() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published',
				query: {
					customer: customer,
					page: context.options.page,
					limit: context.options.limit,
					sort: context.options.sort,
					fields: ['product', 'title', 'images', 'rating', 'helped', 'totalComment', 'createdAt'].join(','),
					embed: '+product.thumbnail'
				}
			});
		}

		function countReviews() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published/count',
				query: {
					customer: customer
				}
			});
		}
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $viewReview = $(this).find('.thunder--view-review');
		var $pagination = $(this).find('.thunder--customer-review-list-pagination');

		$viewReview.on('click', function (event) {

			event.preventDefault();

			var reviewId = $(this).parents('[data-review]').data('review');

			return Thunder.execute(context.options.onViewReview, $container, context, reviewId);
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{}],36:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var translationKey = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	// Implementation
	var implementation = {
		name: 'customer-update-address'
	};

	implementation.options = function () {
		return {

			recipientFields: Thunder.options.recipientFields,
			addressDisabled: Thunder.options.addressDisabled,

			onUpdate: function onUpdate($container, context) {

				Thunder.notify('success', context.m('updateSuccess'));
			}

		};
	};

	implementation.pre = function (context, callback) {

		var disabledAddressFields = Thunder.util.parseArrayString(context.options.addressDisabled).reduce(function (o, field) {
			return set(o, field, true);
		}, {});

		context.useSearchAddress = !!Thunder.plugins.searchAddress;

		context.disabled = function (field) {
			return disabledAddressFields[field] && context.useSearchAddress ? 'readonly' : '';
		};

		context.recipientFields = Thunder.util.parseArrayString(context.options.recipientFields).map(function (field) {
			var _field$split = field.split(':'),
			    _field$split2 = _slicedToArray(_field$split, 2),
			    key = _field$split2[0],
			    required = _field$split2[1];

			return {
				required: required === 'required',
				key: key,
				translationKey: translationKey[key] || key
			};
		});

		context.addressFields = [{ required: true, key: 'country', translationKey: 'country' }, { required: false, key: 'state', translationKey: 'state' }, { required: true, key: 'city', translationKey: 'city' }, { required: true, key: 'address1', translationKey: 'address1' }, { required: false, key: 'address2', translationKey: 'address2' }, { required: true, key: 'postcode', translationKey: 'postcode' }];

		var errors = {
			default: context.m('customerReadFailed')
		};

		$.when(Thunder.request({
			method: 'GET',
			url: '/v1/countries',
			query: { fields: 'code' }
		}), Thunder.request({
			method: 'GET',
			url: '/v1/me',
			query: { fields: 'address' }
		})).then(function (countries, customer) {

			context.countries = countries[0];
			context.address = customer[0].address.primary || { name: {} };

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--customer-address-update-form');
		var $button = $form.find('.thunder--update-address');
		var $searchAddress = $(this).find('.thunder--search-address');

		var buttonSpinner = Thunder.util.makeAsyncButton($button, { bind: false });

		var recipientFields = context.recipientFields.map(function (f) {
			return f.key;
		});
		var addressFields = context.addressFields.map(function (f) {
			return f.key;
		});
		var allFieldsMap = [].concat(_toConsumableArray(recipientFields), _toConsumableArray(addressFields)).reduce(function (o, field) {
			return set(o, [field], true);
		}, {});

		var $fields = [].concat(recipientFields, addressFields).reduce(function (o, key) {
			return set(o, [key], $form.find('[name="' + key + '"]'));
		}, {});

		addressToForm(context.address);

		$searchAddress.on('click', searchAddress);

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $button,
			validate: validateAddress,
			callback: function callback(token, resetRecaptcha) {

				buttonSpinner.run();

				var primaryAddress = Thunder.util.formToJSON($form.serializeArray());
				var recaptcha = Thunder.util.unsetRecaptcha(primaryAddress);

				var data = { address: { primary: primaryAddress } };

				var resetState = function resetState() {
					buttonSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					'invalid-postcode': context.m('invalidPostcode'),
					'postcode-required': context.m('postcodeRequired'),
					default: context.m('updateFailed'),
					validation: function validation(err) {
						var _err$validation$sourc = err.validation.source.split('address.primary.'),
						    _err$validation$sourc2 = _slicedToArray(_err$validation$sourc, 2),
						    field = _err$validation$sourc2[1];

						if (!field || !allFieldsMap[field]) return;

						return context.m(camelCase(['invalid', translationKey[field] || field]));
					}
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me',
					data: data,
					recaptcha: recaptcha
				}).then(function (data) {

					var address = get(data, 'address.primary');

					addressToForm(address);

					Thunder.execute(context.options.onUpdate, $container, context, address);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			}
		});

		function validateAddress() {

			var address = Thunder.util.formToJSON($form.serializeArray());

			var requiredFields = [].concat(context.recipientFields, context.addressFields).filter(function (f) {
				return f.required;
			}).map(function (f) {
				return f.key;
			});

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = requiredFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var field = _step.value;


					if (!get(address, field, null)) {
						Thunder.notify('error', context.m((translationKey[field] || field) + 'Required'));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return true;
		}

		function addressToForm(address) {
			var onlyAddressFields = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;


			if (!address) return;

			var fields = onlyAddressFields ? addressFields : [].concat(recipientFields, addressFields);

			fields.forEach(function (field) {

				var value = field === 'country' ? get(address, field + '.code', get(address, field, null)) : get(address, field, null);

				$fields[field].val(value);
			});
		}

		function searchAddress(event) {

			event.preventDefault();

			Thunder.plugins.searchAddress(function (err, address) {

				if (err) {
					return Thunder.notify('error', err.message);
				}

				addressToForm(address, true);
			});
		}
	};

	return implementation;
};

},{"lodash.camelcase":166,"lodash.get":167,"lodash.set":172}],37:[function(require,module,exports){
'use strict';

var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-update-credential'
	};

	implementation.options = function () {
		return {

			field: null, // 'userId', 'email', 'password'

			onUpdate: function onUpdate($container, context) {

				Thunder.notify('success', context.m('updateSuccess'));
			},
			onUpdateCustomer: function onUpdateCustomer($container, context, field) {

				Thunder.render($container, 'customer-update');
			}

		};
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $updateCustomer = $(this).find('.thunder--update-customer');
		var $form = $(this).find('.thunder--credential-form');
		var $button = $form.find('.thunder--update-credential');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		$updateCustomer.on('click', function () {
			return Thunder.execute(context.options.onUpdateCustomer, $container, context);
		});

		Thunder.util.makeRecaptcha(implementation.name, $button, function (token, resetRecaptcha) {

			var data = Thunder.util.formToJSON($form.serializeArray());

			// For customers with social registrations
			data.password = data.password || '';

			var resetState = function resetState() {
				buttonSpinner.done();
				return resetRecaptcha && resetRecaptcha();
			};

			var errors = {
				'invalid-password': context.m('invalidPassword'),
				'duplicated-user-id': context.m('duplicatedUserId'),
				'duplicated-email': context.m('duplicatedEmail'),
				default: context.m('updateFailed'),
				validation: function validation(err) {
					var path = err.validation.source.split('.');
					var field = path[path.length - 1];

					return context.m(camelCase(['invalidNew', field]));
				}
			};

			return Thunder.request({
				method: 'PUT',
				url: '/v1/me/credentials',
				data: data
			}).then(function () {

				Thunder.execute(context.options.onUpdate, $container, context);

				return resetState();
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
					return resetState();
				});
			});
		});
	};

	return implementation;
};

},{"lodash.camelcase":166}],38:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var translationKey = {
		'name.first': 'firstName',
		'name.last': 'lastName',
		'name.full': 'fullName'
	};

	// Implementation
	var implementation = {
		name: 'customer-update'
	};

	implementation.options = function () {
		return {

			fields: Thunder.options.customerUpdateFields,
			birthdateFormat: Thunder.options.dateInputFormat,

			onUpdate: function onUpdate($container, context, customer) {

				return Thunder.notify('success', context.m('updateSuccess'));
			},
			onChangeCredential: function onChangeCredential($container, context, field) {

				return Thunder.render($container, 'customer-update-credential', { field: field });
			}

		};
	};

	implementation.pre = function (context, callback) {

		var birthOptions = {
			YYYY: { key: 'birthYear', translationKey: 'year', tester: /^\d{4}$/ },
			MM: { key: 'birthMonth', translationKey: 'month', tester: /^\d{1,2}$/ },
			DD: { key: 'birthDate', translationKey: 'date', tester: /^\d{1,2}$/ }
		};

		var hasBirthDate = context.options.fields.indexOf('birthdate') >= 0;
		var birthdateFormats = context.options.birthdateFormat.split('-');

		context.fields = Thunder.util.parseArrayString(context.options.fields).map(function (field) {
			var _field$split = field.split(':'),
			    _field$split2 = _slicedToArray(_field$split, 2),
			    key = _field$split2[0],
			    required = _field$split2[1];

			return {
				required: required === 'required',
				key: key,
				translationKey: translationKey[key] || key
			};
		});

		context.birthdateFields = hasBirthDate ? birthdateFormats.map(function (format, i) {
			return $.extend({
				last: i === birthdateFormats.length - 1
			}, birthOptions[format]);
		}) : [];

		var errors = {
			default: context.m('customerReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/me',
			query: {
				fields: ['avatar', 'userId', 'email', 'alias', 'name.first', 'name.last', 'name.full', 'mobile', 'phone', 'gender', 'birthdate', 'country'].join(',')
			}
		}).then(function (data) {
			return callback(null, set(context, 'customer', data));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $backToCheckout = $(this).find('.thunder--back-to-checkout');
		var $changeCredential = $(this).find('[data-change-credential]');
		var $avatarForm = $(this).find('.thunder--customer-avatar-form');
		var $avatar = $avatarForm.find('.thunder--customer-avatar');
		var $updateForm = $(this).find('.thunder--customer-update-form');
		var $button = $updateForm.find('.thunder--update-customer');
		var buttonSpinner = Thunder.util.makeAsyncButton($button, { bind: false });

		var fields = [].concat(_toConsumableArray(context.fields), _toConsumableArray(context.birthdateFields)).filter(function (_ref) {
			var key = _ref.key;
			return key !== 'birthdate';
		}).map(function (_ref2) {
			var key = _ref2.key;
			return {
				key: key,
				$input: $updateForm.find('[name="' + key + '"]')
			};
		});

		customerToForm(context.customer);

		Thunder.util.imageUploader($avatarForm, function (image) {
			return Thunder.request({
				method: 'PUT',
				url: '/v1/me',
				data: { avatar: image._id }
			}).then(function () {
				$avatar.attr('src', Thunder.util.imageURL(image, 120, 120));
				return Thunder.notify('success', context.m('avatarUploadSuccess'));
			}, function (err) {
				return Thunder.notify('error', context.m('avatarUploadFailed'));
			});
		}, function () {
			return Thunder.notify('error', context.m('avatarUploadFailed'));
		});

		Thunder.util.bindBackButton($backToCheckout, context);

		$changeCredential.on('click', function () {

			Thunder.execute(context.options.onChangeCredential, $container, context, $(this).data('changeCredential'));
		});

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $button,
			validate: validateCustomer,
			callback: function callback(token, resetRecaptcha) {

				buttonSpinner.run();

				var resetState = function resetState() {
					buttonSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					default: context.m('updateFailed'),

					validation: function validation(err) {
						var _err$validation$sourc = err.validation.source.split('.'),
						    _err$validation$sourc2 = _toArray(_err$validation$sourc),
						    path = _err$validation$sourc2.slice(1);

						var field = path.join('.');

						return context.m(camelCase(['invalid', translationKey[field] || field]));
					}
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me',
					data: formToCustomer()
				}).then(function (customer) {

					customerToForm(customer);

					Thunder.execute(context.options.onUpdate, $container, context, customer);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			}
		});

		function normalizeBirthdate(data) {

			var birthFields = ['birthYear', 'birthMonth', 'birthDate'];

			if (birthFields.every(function (field) {
				return data[field];
			})) {

				data.birthdate = new Date(data.birthYear, data.birthMonth - 1, data.birthDate);
			} else {
				data.birthdate = null;
			}

			birthFields.forEach(function (field) {
				return delete data[field];
			});

			return data;
		}

		function formToCustomer() {

			return normalizeBirthdate(Thunder.util.formToJSON($updateForm.serializeArray()));
		}

		function customerToForm(customer) {

			var birthdate = customer.birthdate ? new Date(customer.birthdate.raw || customer.birthdate) : null;

			delete customer.birthdate;

			if (birthdate) {
				$.extend(customer, {
					birthYear: birthdate.getFullYear(),
					birthMonth: birthdate.getMonth() + 1,
					birthDate: birthdate.getDate()
				});
			}

			fields.forEach(function (_ref3) {
				var key = _ref3.key,
				    $input = _ref3.$input;


				$input.val(get(customer, key) || null);
			});
		}

		function validateCustomer() {

			var customer = formToCustomer();

			var requiredFields = context.fields.filter(function (field) {
				return field.required;
			});

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = requiredFields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var _ref4 = _step.value;
					var key = _ref4.key;
					var _translationKey = _ref4.translationKey;


					if (!get(customer, key, null)) {
						Thunder.notify('error', context.m(_translationKey + 'Required'));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			return true;
		}
	};

	return implementation;
};

},{"lodash.camelcase":166,"lodash.get":167,"lodash.set":172}],39:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'customer-verification'
	};

	implementation.options = function () {
		return {
			customer: 'customer',
			secret: 'secret',
			input: 'query', // 'query' or 'attribute'
			expiresIn: 60 * 60 * 24, // 24 hours

			onEmailRequest: function onEmailRequest($container, context) {

				Thunder.notify('success', context.m('requestEmailSuccess'));
			},
			onVerification: function onVerification($container, context) {

				Thunder.notify('success', context.m('verificationSuccess'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		if (context.options.input === 'query') {

			var query = Thunder.util.urlQuery();
			var customerField = context.options.customer;
			var secretField = context.options.secret;

			if (query[customerField] && query[secretField]) {

				context.customer = query[customerField];
				context.secret = query[secretField];
			}
		}

		if (context.options.input === 'attribute') {

			context.customer = context.options.customer;
			context.secret = context.options.secret;
		}

		context.type = context.customer && context.secret ? 'verification' : 'request-email';

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--reset-password-form');

		if (context.type === 'request-email') {

			var $requestEmail = $form.find('.thunder--request-email');
			var requestEmailSpinner = Thunder.util.makeAsyncButton($requestEmail);

			Thunder.util.makeRecaptcha(implementation.name, $requestEmail, function (token, resetRecaptcha) {

				var data = $.extend(Thunder.util.userIdOrEmail(Thunder.util.formToJSON($form.serializeArray())), {
					expiresIn: context.options.expiresIn,
					scope: 'verification'
				});

				var resetState = function resetState() {
					requestEmailSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					'not-existing-customer': context.m('notExistingCustomer'),
					'email-required': context.m('customerWithoutEmail'),
					default: context.m('requestEmailFailed')
				};

				Thunder.request({
					method: 'POST',
					url: '/v1/customers/verifications/emails',
					data: data
				}).then(function () {

					Thunder.execute(context.options.onEmailRequest, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}

		if (context.type === 'verification') {

			var $finishVerification = $form.find('.thunder--finish-verification');
			var finishVerificationSpinner = Thunder.util.makeAsyncButton($finishVerification);

			Thunder.util.makeRecaptcha(implementation.name, $finishVerification, function (token, resetRecaptcha) {

				var data = {
					secret: context.secret
				};

				var resetState = function resetState() {
					finishVerificationSpinner.done();
					return resetRecaptcha && resetRecaptcha();
				};

				var errors = {
					default: context.m('verificationFailed')
				};

				Thunder.request({
					method: 'POST',
					url: '/v1/customers/' + context.customer + '/verified',
					data: data,
					recaptcha: token
				}).then(function () {

					Thunder.execute(context.options.onVerification, $container, context);

					return resetState();
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return resetState();
					});
				});
			});
		}
	};

	return implementation;
};

},{}],40:[function(require,module,exports){
'use strict';

var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'order-detail'
	};

	implementation.options = function () {
		return {
			order: '', // Order ID to render
			updateTransactions: true, // Update transactions before getting an order
			customerFields: Thunder.options.customerOrderFields.map(function (field) {
				return field.split(':')[0];
			}),
			recipientFields: Thunder.options.recipientFields.map(function (field) {
				return field.split(':')[0];
			})
		};
	};

	implementation.pre = function (context, callback) {
		var order = context.options.order;


		context.couponDetail = function (coupon) {
			return coupon ? context.m('discountedBy', { value: coupon.discount.value.converted }) : '';
		};

		context.fulfillmentTracker = function (_ref) {
			var tracking = _ref.tracking;


			var message = [tracking.company, tracking.uid ? '(' + tracking.uid + ')' : null].filter(function (v) {
				return v;
			}).join(' ');

			return tracking.url ? '<a href="' + tracking.url + '">' + (message || context.m('viewTracker')) + '</a>' : '<span>' + message + '</span>';
		};

		context.refundTotalDetail = function (total) {
			return [typeof total.items.price.withTax.raw === 'number' ? context.m('refundItemTotal', { total: total.items.price.withTax.converted }) : null, typeof total.shipping.fee.withTax.raw === 'number' ? context.m('refundShippingTotal', { total: total.shipping.fee.withTax.converted }) : null].filter(function (v) {
				return v;
			}).join(' + ');
		};

		var translationKeys = {
			'name.first': 'firstName',
			'name.last': 'lastName',
			'name.full': 'fullName'
		};

		context.customerFields = Thunder.util.parseArrayString(context.options.customerFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['customer', translationKeys[key] || key])
			};
		});

		context.recipientFields = Thunder.util.parseArrayString(context.options.recipientFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['address', translationKeys[key] || key])
			};
		});

		return context.options.updateTransactions ?
		// Since we are trying to make the order up-to-date with the best effort,
		// proceed following processes even if `updateTransactions` execution fails.
		updateTransactions().then(function () {
			return fetchOrder().then(function (order) {
				return success(order);
			});
		}, function () {
			return fetchOrder().then(function (order) {
				return success(order);
			});
		}) : fetchOrder().then(function (order) {
			return success(order);
		});

		function success(order) {

			// Make `updateTransactions` option as `true`,
			// event if it was passed as `false`.
			context.options.updateTransactions = true;

			var findDiscount = function findDiscount(type) {
				return function (discount) {
					return discount.coupon && discount.coupon.type === type;
				};
			};
			var findCartDiscount = findDiscount('cart');
			var findProductDiscount = findDiscount('product');

			var allItems = order.items.reduce(function (items, item) {
				return items.concat(item, item.bundleItems || []);
			}, []);
			var itemsAndShipments = [].concat(allItems, order.shipments);

			itemsAndShipments.forEach(function (item) {

				item.appliedCoupon = (item.discounts.find(findProductDiscount) || { coupon: null }).coupon;
			});

			order.shippingStatus = Thunder.util.orderShippingStatus(order);

			order.appliedCoupon = ((itemsAndShipments.find(function (item) {
				return item.discounts.find(findCartDiscount);
			}) || { discounts: [] }).discounts.find(findCartDiscount) || { coupon: null }).coupon;

			order.hasTangibleItem = allItems.some(function (item) {
				return item.type === 'tangible';
			});

			context.order = order;
			context.vbanks = order.transactions.reduce(function (vbanks, transaction) {
				return vbanks.concat(transaction.vbanks || []);
			}, []).filter(function (vbank) {
				// Filter out expired virtual bank details
				return !Thunder.util.isExpired(vbank.expiresAt.raw);
			});

			// Set payment details.
			var thunderPaymentMethodMap = Thunder.options.paymentMethods.order.reduce(function (o, p) {
				return set(o, p.id, p);
			}, {});

			// Filter viable payment methods where..
			var paymentMethods = order.transactions.map(function (_ref2) {
				var paymentMethod = _ref2.paymentMethod,
				    vbanks = _ref2.vbanks;


				var thunderPaymentMethod = thunderPaymentMethodMap[paymentMethod._id] || thunderPaymentMethodMap[paymentMethod.slug];

				var shouldDisplay =
				// the payment method is configured for Thunder and..
				thunderPaymentMethod &&
				// the payment (by the method) is not for later
				!thunderPaymentMethod.payLater && (!vbanks.length || // the payment method is not for virtual banks
				vbanks.some(function (vbank) {
					// or one or more virtual banks are expired
					return Thunder.util.isExpired(vbank.expiresAt.raw);
				}));

				return shouldDisplay ? thunderPaymentMethod : null;
			}).filter(function (v) {
				return v;
			});

			// Should display a payment form when,
			// - The order's status is 'placed'
			// - One or more viable payment methods exist
			var shouldPay = order.status === 'placed' && paymentMethods.length;

			context.paymentMethods = paymentMethods;
			context.shouldPay = shouldPay;

			return callback(null, context);
		}

		function updateTransactions() {

			return Thunder.request({
				method: 'PUT',
				url: '/v1/me/orders/' + order + '/transactions'
			});
		}

		function fetchOrder() {

			var errors = {
				default: context.m('orderReadFailed')
			};

			return Thunder.request({
				method: 'GET',
				url: '/v1/me/orders/' + order
			}).then(null, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
			});
		}
	};

	implementation.init = function (context) {
		var order = context.order,
		    paymentMethods = context.paymentMethods,
		    shouldPay = context.shouldPay;


		var $container = $(this);
		var $backToOrders = $(this).find('.thunder--back-to-orders');
		var $subscriptionid = $(this).find('.thunder--subscription-id a');
		var $markAsReceived = $(this).find('.thunder--mark-order-as-received');
		var $markAsNotReceived = $(this).find('.thunder--mark-order-as-not-received');
		var $cancelOrder = $(this).find('.thunder--cancel-order');
		var $cancellationForm = $(this).find('.thunder--order-cancellation-form');
		var $cancellationReason = $cancellationForm.find('textarea');
		var $cancelButton = $cancellationForm.find('button');
		var $requestRefund = $(this).find('.thunder--request-refund');

		var cancelButtonSpinner = Thunder.util.makeAsyncButton($cancelButton);

		$subscriptionid.on('click', viewSubscription);
		$markAsReceived.on('click', markAsReceived);
		$markAsNotReceived.on('click', markAsNotReceived);
		$cancelOrder.on('click', startCancellation);
		$cancelButton.on('click', cancelOrder);
		$requestRefund.on('click', requestRefund);
		$(this).on('click', '.thunder--cancel-refund', startRefundCancellation);
		$(this).on('click', '.thunder--refund-cancellation-form button', cancelRefund);

		Thunder.util.bindBackButton($backToOrders, context);

		// Render a payment form if it's needed.
		if (shouldPay) {

			var $paymentFormContainer = $(this).find('.thunder--payment-form-container');
			var $makePayment = $(this).find('.thunder--make-payment');
			var makePaymentSpinner = Thunder.util.makeAsyncButton($makePayment, { bind: false });

			Thunder.render($paymentFormContainer, 'payment-form', {
				type: 'order',
				paymentMethods: paymentMethods.map(function (p) {
					return p.id;
				})
			}, function (err, _ref3) {
				var paymentHandler = _ref3.interfaces;
				return $makePayment.on('click', function () {

					var validationError = paymentHandler.validate();

					if (validationError) {
						return Thunder.notify('error', validationError.message);
					}

					makePaymentSpinner.run();

					return paymentHandler.makePayment({
						cart: order,
						order: order,
						customer: order.customer
					}, function (err) {

						if (err) {
							Thunder.notify('error', context.m('paymentFailed'));
							return makePaymentSpinner.done();
						}

						Thunder.notify('success', context.m('paymentSuccess'));
						makePaymentSpinner.done();
						return Thunder.render($container, implementation.name, $.extend(context.options, {
							updateTransactions: true
						}));
					});
				});
			});
		}

		function viewSubscription() {

			return Thunder.render($container, 'subscription-detail', {
				subscription: order.subscription._id,
				back: {
					$container: $container,
					component: implementation.name,
					options: context.options
				}
			});
		}

		function markAsReceived() {

			var errors = {
				'invalid-order-status': context.m('invalidOrderStatus'),
				default: context.m('markAsReceivedFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/orders/' + order._id + '/received'
			}).then(function () {

				Thunder.notify('success', context.m('markAsReceivedSuccess'));

				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function markAsNotReceived() {

			var errors = {
				'invalid-order-status': context.m('invalidOrderStatus'),
				default: context.m('markAsNotReceivedFailed')
			};

			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/orders/' + order._id + '/received'
			}).then(function () {

				Thunder.notify('success', context.m('markAsNotReceivedSuccess'));

				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function startCancellation() {
			$(this).addClass('hidden');
			$cancellationForm.removeClass('hidden');
			$cancellationReason.focus();
		}

		function cancelOrder(event) {

			event.preventDefault();

			var data = Thunder.util.formToJSON($cancellationForm.serializeArray());

			var errors = {
				'invalid-order-status': context.m('invalidOrderStatus'),
				default: context.m('cancellationFailed')
			};

			var resetState = function resetState() {
				cancelButtonSpinner.done();
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/orders/' + order._id + '/cancellation',
				data: data
			}).then(function () {

				resetState();

				Thunder.notify('success', context.m('cancellationSuccess'));

				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
			});
		}

		function requestRefund() {
			return Thunder.render($container, 'order-request-refund', {
				order: order._id,
				back: {
					$container: $container,
					component: implementation.name,
					options: context.options
				}
			});
		}

		function startRefundCancellation(event) {

			event.preventDefault();

			var $refund = $(this).parents('[data-refund]');
			var $cancellationForm = $refund.find('.thunder--refund-cancellation-form');

			$(this).addClass('hidden');
			$cancellationForm.removeClass('hidden');
		}

		function cancelRefund(event) {

			event.preventDefault();

			var $refund = $(this).parents('[data-refund]');
			var $cancellationForm = $refund.find('.thunder--refund-cancellation-form');
			var refundId = $refund.data('refund');

			var data = Thunder.util.formToJSON($cancellationForm.serializeArray());

			return cancel().then(function () {
				Thunder.notify('success', context.m('refundCancellationSuccess'));
				return Thunder.render($container, implementation.name, $.extend(context.options, {
					updateTransactions: false
				}));
			});

			function cancel() {

				var errors = {
					'invalid-refund-status': context.m('invalidRefundStatus'),
					default: context.m('refundCancellationFailed')
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/orders/' + order._id + '/refunds/' + refundId + '/cancellation',
					data: data
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			}
		}
	};

	return implementation;
};

},{"lodash.camelcase":166,"lodash.set":172}],41:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'order-list'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of orders?
			limit: 10, // How many orders at once?
			usePagination: true, // Use pagination?
			onViewOrder: function onViewOrder($container, context, orderId) {

				return Thunder.render($container, 'order-detail', {
					order: orderId,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var errors = {
			default: context.m('orderListFailed')
		};

		return $.when(Thunder.request({
			method: 'GET',
			url: '/v1/me/orders',
			query: {
				page: context.options.page,
				limit: context.options.limit,
				sort: '-createdAt',
				fields: ['subscription', 'status', 'items.type', 'items.product', 'items.bundleItems.type', 'fulfillments.status', 'total.price.withTax', 'cancellation', 'receivedAt', 'createdAt'].join(',')
			}
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/me/orders/count',
			query: {
				raw: true
			}
		}) : null).then(function (orders, count) {

			context.orders = (orders[0] || []).map(function (order) {
				order.shippingStatus = Thunder.util.orderShippingStatus(order);
				return order;
			});

			context.count = count ? count[0].count : null;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $order = $(this).find('[data-order]');
		var $pagination = $(this).find('.thunder--order-list-pagination');

		$order.on('click', ['.thunder--order-id', '.thunder--order-thumbnail', '.thunder--order-first-item', '.thunder--order-rest-items'].join(','), function (event) {
			return Thunder.execute(context.options.onViewOrder, $container, context, $(event.delegateTarget).data('order'));
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{}],42:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var set = require('lodash.set');

module.exports = function (Thunder) {

			var implementation = {
						name: 'order-request-refund'
			};

			implementation.options = function () {
						return {
									order: '', // Order ID to refund
									reasonCategories: Thunder.options.refundReasonCategories
						};
			};

			implementation.pre = function (context, callback) {

						var order = null;

						return fetchOrder(context.options.order).then(function (o) {
									order = o;
									return fetchCurrency(order.currency.payment.code);
						}).then(function (_ref) {
									var _ref2 = _slicedToArray(_ref, 1),
									    currency = _ref2[0];

									return success(order, currency);
						});

						function success(order, currency) {

									context.currency = $.extend(currency, {
												// Override precision with a snapshot version
												precision: order.currency.payment.precision
									});

									var refundsInProcess = order.refunds.filter(function (_ref3) {
												var status = _ref3.status;
												return status !== 'cancelled';
									});

									// { [itemId]: shipment, ... }
									var itemToShipmentMap = order.shipments.reduce(function (o, shipment) {

												return shipment.items.reduce(function (o, item) {

															return set(o, item._id, shipment);
												}, o);
									}, {});

									// { [itemId]: quantity, ... }
									var refundedItemQuantityMap = refundsInProcess.reduce(function (o, refund) {

												return refund.items.reduce(function (o, _ref4) {
															var item = _ref4.item,
															    quantity = _ref4.quantity;

															o[item._id] = o[item._id] || 0;
															o[item._id] += quantity.raw;
															return o;
												}, o);
									}, {});

									// { [shipmentId]: amount, ... }
									var refundedShipmentAmountMap = refundsInProcess.reduce(function (o, refund) {

												return refund.shipments.reduce(function (o, _ref5) {
															var shipment = _ref5.shipment,
															    fee = _ref5.fee;

															o[shipment._id] = o[shipment._id] || 0;
															o[shipment._id] = Thunder.util.toPrecision(o[shipment._id] + fee.withTax.raw, context.currency.precision);
															return o;
												}, o);
									}, {});

									order.items.forEach(function (item) {
												return [].concat(item, item.bundleItems || []).forEach(function (item) {

															var shipment = itemToShipmentMap[item._id];
															var refundedItemQuantity = refundedItemQuantityMap[item._id] || 0;

															item.shipment = shipment;
															item.refundableQuantity = item.quantity.raw - refundedItemQuantity;
												});
									});

									order.shipments.forEach(function (shipment) {

												var refundedShipmentAmount = refundedShipmentAmountMap[shipment._id] || 0;

												shipment.refundableFee = Thunder.util.toPrecision(shipment.fee.withTax.raw - refundedShipmentAmount, context.currency.precision);
									});

									order.hasRefundableItem = order.items.some(function (item) {
												return [].concat(item, item.bundleItems || []).some(function (item) {
															return item.refundableQuantity > 0;
												});
									});

									return callback(null, set(context, 'order', order));
						}

						function fetchOrder(order) {

									var errors = {
												default: context.m('orderReadFailed')
									};

									return Thunder.request({
												method: 'GET',
												url: '/v1/me/orders/' + order,
												fields: ['items', 'shipments', 'refunds', 'transactions', 'total'].join(',')
									}).then(null, function (err) {
												return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
									});
						}

						function fetchCurrency(code) {

									var errors = {
												default: context.m('currencyReadFailed')
									};

									return Thunder.request({
												method: 'GET',
												url: '/v1/currencies',
												query: { code: code }
									}).then(null, function (err) {
												return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
									});
						}
			};

			implementation.init = function (context) {
						var order = context.order,
						    currency = context.currency;


						var categoryMap = context.options.reasonCategories.reduce(function (o, category) {
									return set(o, category.label, category);
						}, {});

						var itemMap = order.items.reduce(function (o, item) {
									return [].concat(item, item.bundleItems || []).reduce(function (o, item) {
												return set(o, item._id, item);
									}, o);
						}, {});

						var shipmentMap = order.shipments.reduce(function (o, shipment) {
									return set(o, shipment._id, shipment);
						}, {});

						var shipmentItemQuantityMap = order.shipments.reduce(function (o, shipment) {
									return shipment.items.reduce(function (o, item) {
												return set(o, [shipment._id, item._id], item.quantity.raw);
									}, o);
						}, {});

						var $container = $(this);
						var $backToOrder = $(this).find('.thunder--back-to-order');
						var $cartItems = $(this).find('.thunder--cart-item');
						var $toggleItemSelection = $(this).find('.thunder--toggle-item-selection');
						var $refundQuantity = $(this).find('.thunder--cart-item input[name="refundQuantity"]');
						var $refundCategory = $(this).find('.thunder--refund-category');
						var $refundReason = $(this).find('.thunder--refund-reason');
						var $requiresReason = $(this).find('.thunder--requires-refund-reason');
						var $totalDetail = $(this).find('.thunder--refund-total-detail');
						var $refundItemsTotal = $(this).find('.thunder--refund-items-total td');
						var $refundShippingTotal = $(this).find('.thunder--refund-shipping-total td');
						var $refundTotal = $(this).find('.thunder--refund-total td');
						var $requestRefund = $(this).find('.thunder--request-refund');
						var requestButtonSpinner = Thunder.util.makeAsyncButton($requestRefund, { bind: false });

						$toggleItemSelection.on('click', toggleItemSelection);
						$refundQuantity.on('change', refundQuantityChanged);
						$refundCategory.on('change', updateRefundTotal);

						Thunder.util.bindBackButton($backToOrder, context);

						Thunder.util.makeRecaptcha({
									componentName: implementation.name,
									button: $requestRefund,
									validate: validateRequest,
									callback: requestRefund
						});

						updateRefundTotal();

						function getOneItemPrice(item) {
									return item.price.withTax.raw / item.quantity.raw;
						}

						function markItemActive($cartItem, active, quantity) {

									var $toggleButton = $cartItem.find('.thunder--toggle-item-selection');
									var $refundQuantity = $cartItem.find('input[name="refundQuantity"]');
									var item = itemMap[$cartItem.data('item')];

									if (active) {
												$cartItem.data('active', true).removeClass('inactive');
												$toggleButton.text(context.m('removeFromRefund'));
												$refundQuantity.val(quantity === undefined ? item.refundableQuantity : quantity);
									} else {
												$cartItem.data('active', false).addClass('inactive');
												$toggleButton.text(context.m('addToRefund'));
												$refundQuantity.val(0);
									}
						}

						function toggleItemSelection(event) {

									event.preventDefault();

									var $cartItem = $(this).parents('.thunder--cart-item');

									markItemActive($cartItem, !$cartItem.data('active'));
									updateRefundTotal();
						}

						function refundQuantityChanged() {

									var $cartItem = $(this).parents('.thunder--cart-item');
									var quantity = parseInt($(this).val());

									markItemActive($cartItem, !!quantity, quantity);
									updateRefundTotal();
						}

						function updateRefundTotal() {

									$cartItems.each(function () {

												var $cartItem = $(this);
												var $refundAmount = $cartItem.find('.thunder--cart-item-refund-amount');
												var item = itemMap[$cartItem.data('item')];
												var quantity = parseInt($cartItem.find('input[name="refundQuantity"]').val());

												var refundAmount = Thunder.util.formatPrice(getOneItemPrice(item) * quantity, currency);

												$refundAmount.text(refundAmount);
									});

									var category = categoryMap[$refundCategory.val()];

									if (!category) {
												$requiresReason.removeClass('hidden');
												$totalDetail.addClass('hidden');
												return;
									}

									var refundItems = getRefundItems();
									var refundShipments = getRefundShipments(category, refundItems);

									var itemsTotal = refundItems.reduce(function (sum, _ref6) {
												var item = _ref6.item,
												    quantity = _ref6.quantity;

												return sum + getOneItemPrice(item) * quantity;
									}, 0);

									var shippingTotal = refundShipments.reduce(function (sum, shipment) {
												return sum + shipment.refundableFee;
									}, 0);

									var total = itemsTotal + shippingTotal;

									$refundItemsTotal.text(Thunder.util.formatPrice(itemsTotal, currency));
									$refundShippingTotal.text(Thunder.util.formatPrice(shippingTotal, currency));
									$refundTotal.text(Thunder.util.formatPrice(total, currency));

									$requiresReason.addClass('hidden');
									$totalDetail.removeClass('hidden');
						}

						function getRefundItems() {

									return $refundQuantity.map(function () {

												return {
															item: itemMap[$(this).parents('[data-item]').data('item')],
															quantity: parseInt($(this).val())
												};
									}).get().filter(function (_ref7) {
												var quantity = _ref7.quantity;
												return quantity;
									});
						}

						function getRefundShipments(category, refundItems) {

									if (!category) {
												return [];
									}

									var shipmentToRefundItems = {};

									refundItems.forEach(function (refundItem) {

												var shipment = refundItem.item.shipment;

												if (!shipment) return;

												shipmentToRefundItems[shipment._id] = (shipmentToRefundItems[shipment._id] || []).concat(refundItem);
									});

									var shipmentIdsToRefund = Object.keys(shipmentToRefundItems);

									return shipmentIdsToRefund.map(function (shipmentId) {

												// Clone first to avoid side effects
												var shipmentItemQuantity = $.extend({}, shipmentItemQuantityMap[shipmentId]);
												var refundItems = shipmentToRefundItems[shipmentId];

												refundItems.forEach(function (_ref8) {
															var item = _ref8.item,
															    quantity = _ref8.quantity;

															shipmentItemQuantity[item._id] -= quantity;
												});

												var areAllItemsRefunded = Object.keys(shipmentItemQuantity).every(function (itemId) {
															return shipmentItemQuantity[itemId] === 0;
												});

												return {
															shipment: shipmentMap[shipmentId],
															shouldRefund: areAllItemsRefunded ? category.shippingFee.allItems : category.shippingFee.someItems
												};
									}).filter(function (_ref9) {
												var shipment = _ref9.shipment,
												    shouldRefund = _ref9.shouldRefund;


												// When the shipment should be refunded
												// and its refundable fee is greater than 0
												return shouldRefund && shipment.refundableFee > 0;
									}).map(function (_ref10) {
												var shipment = _ref10.shipment;
												return shipment;
									});
						}

						function getRequestDetail() {

									var category = categoryMap[$refundCategory.val()];
									var items = getRefundItems();
									var shipments = getRefundShipments(category, items).map(function (s) {
												return s._id;
									});

									items.forEach(function (detail) {
												return detail.item = detail.item._id;
									});

									var reason = {
												category: category ? context.m(category.label) : null,
												body: $refundReason.val()
									};

									return { items: items, shipments: shipments, reason: reason };
						}

						function validateRequest() {
									var _getRequestDetail = getRequestDetail(),
									    items = _getRequestDetail.items,
									    category = _getRequestDetail.reason.category;

									if (!items.length) {
												Thunder.notify('error', context.m('atLeastOneItemRequired'));
												return false;
									}

									if (!category) {
												Thunder.notify('error', context.m('reasonCategoryRequired'));
												return false;
									}

									return true;
						}

						function requestRefund(token, resetRecaptcha) {

									requestButtonSpinner.run();

									var detail = getRequestDetail();

									detail.reason = ('[' + detail.reason.category + '] ' + (detail.reason.body || '')).trim();

									var resetState = function resetState() {
												requestButtonSpinner.done();
												return resetRecaptcha && resetRecaptcha();
									};

									var errors = {
												'invalid-order-status': context.m('invalidOrderStatus'),
												default: context.m('requestRefundFailed')
									};

									return Thunder.request({
												method: 'POST',
												url: '/v1/me/orders/' + order._id + '/refunds',
												data: detail,
												recaptcha: token
									}).then(function () {

												Thunder.notify('success', context.m('requestRefundSuccess'));

												var back = context.options.back;

												if (!back) {
															return resetState();
												}

												return Thunder.render(back.$container, back.component, back.options);
									}, function (err) {
												return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
									});
						}
			};

			return implementation;
};

},{"lodash.set":172}],43:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

			var implementation = {
						name: 'payment-form'
			};

			implementation.options = function () {
						return {
									type: 'order', // 'order' or 'subscription'
									paymentMethods: null
						};
			};

			implementation.pre = function (context, callback) {
						var type = context.options.type;


						var paymentMethodFilter = context.options.paymentMethods;
						var defaultPaymentMethods = Thunder.options.paymentMethods[type];

						context.paymentMethods = context.options.paymentMethods ? defaultPaymentMethods.filter(function (paymentMethod) {
									return paymentMethodFilter.some(function (p) {
												return paymentMethod.id === p;
									});
						}) : defaultPaymentMethods;

						return callback(null, context);
			};

			implementation.init = function (context) {

						var owner = {
									person: { label: context.m('cardOwnerBirthdate'), format: 'YYMMDD' },
									company: { label: context.m('cardOwnerCompanyNumber'), format: 'XXXXXXXXXX' }
						};

						var paymentMethodMap = context.paymentMethods.reduce(function (o, p) {
									return set(o, [p.id + '.' + p.label], p);
						}, {});

						var $cardForm = $(this).find('.thunder--payment-card-detail');
						var $paymentMethod = $(this).find('[name="paymentMethod"]');
						var $cardNumber = $(this).find('[name="card.number"]');
						var $isCompanyCard = $(this).find('.thunder--is-company-card input[type="checkbox"]');
						var $cardOwnerLabel = $(this).find('.thunder--card-owner label');
						var $cardOwnerInput = $(this).find('.thunder--card-owner input[type="text"]');

						$paymentMethod.on('change', displayCardForm);
						$cardNumber.on('keyup', normalizeCardNumber);
						$isCompanyCard.on('change', decideCardOwner);

						decideCardOwner();

						function getPaymentMethodId() {
									return $paymentMethod.val() || null;
						}

						function getPaymentMethod() {
									return paymentMethodMap[getPaymentMethodId()] || null;
						}

						function getCard() {

									var paymentMethod = getPaymentMethod();

									if (!paymentMethod || !paymentMethod.cardFields) {
												return null;
									}

									var data = {};

									$cardForm.find('[name]').each(function () {
												set(data, $(this).prop('name'), $(this).val() || null);
									});

									var card = data.card;

									if (card) {
												if (card.number) {
															card.number = card.number.replace(/\s/g, '-');
												}
									}

									return card;
						}

						function validate() {

									var card = getCard();
									var paymentMethod = getPaymentMethod();

									if (!paymentMethod) {

												var code = 'paymentMethodRequired';
												var err = new Error(context.m(code));

												err.code = code;

												return err;
									}

									if (!paymentMethod.cardFields) {
												return null;
									}

									// Validate if the payment method requires manual card inputs

									var fields = $cardForm.find('[name]').map(function () {
												return $(this).prop('name');
									}).get();

									var _iteratorNormalCompletion = true;
									var _didIteratorError = false;
									var _iteratorError = undefined;

									try {
												for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
															var field = _step.value;


															var value = get(card, field.replace('card.', ''));

															if (value) continue;

															var _code = camelCase([field, 'required']);
															var _err = new Error(context.m(_code));

															_err.code = _code;

															return _err;
												}
									} catch (err) {
												_didIteratorError = true;
												_iteratorError = err;
									} finally {
												try {
															if (!_iteratorNormalCompletion && _iterator.return) {
																		_iterator.return();
															}
												} finally {
															if (_didIteratorError) {
																		throw _iteratorError;
															}
												}
									}

									return null;
						}

						function normalizeCardNumber() {

									var value = ($(this).val() || '').replace(/[^\d]/g, '');

									var normalized = [0, 1, 2, 3].reduce(function (numbers, i) {

												return numbers.concat(value.slice(i * 4, (i + 1) * 4));
									}, []);

									$(this).val(normalized.filter(function (v) {
												return v;
									}).join(' '));
						}

						function decideCardOwner() {

									var isCompanyCard = $isCompanyCard.is(':checked');

									var _ref = isCompanyCard ? owner.company : owner.person,
									    label = _ref.label,
									    format = _ref.format;

									$cardOwnerLabel.text(label);
									$cardOwnerInput.prop('placeholder', format);

									// Reset card owner input's value
									$cardOwnerInput.val('');
						}

						function resetCard() {

									// Reset all input values
									$cardForm.find('input').each(function () {

												return $(this).is('[type="checkbox"]') ? $(this).prop('checked', false) : $(this).val('');
									});

									decideCardOwner();
						}

						function displayCardForm() {

									// Reset all input values
									resetCard();

									var paymentMethod = getPaymentMethod();

									return paymentMethod.cardFields ? $cardForm.show() : $cardForm.hide();
						}

						function makePayment(_ref2, callback) {
									var cart = _ref2.cart,
									    order = _ref2.order,
									    subscription = _ref2.subscription,
									    customer = _ref2.customer;


									var paymentMethod = getPaymentMethod();

									if (!paymentMethod) {
												return callback(new Error(context.m('paymentMethodRequired')));
									}

									if (paymentMethod.payLater) {
												// If a payment is to be made after all checkout processes,
												// simply finish checkout processes.
												return callback();
									}

									return Thunder.plugins.makePayment({
												paymentMethod: paymentMethod,
												cart: cart,
												order: order,
												subscription: subscription,
												customer: customer
									}, function (err) {
												return callback(err);
									});
						}

						// Return interfaces
						return {
									getPaymentMethodId: getPaymentMethodId,
									getPaymentMethod: getPaymentMethod,
									getCard: getCard,
									resetCard: resetCard,
									validate: validate,
									makePayment: makePayment
						};
			};

			return implementation;
};

},{"lodash.camelcase":166,"lodash.get":167,"lodash.set":172}],44:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var set = require('lodash.set');
var productCatalog = require('./lib/productCatalog.js');

module.exports = function (Thunder) {

	var implementation = {
		name: 'product-detail'
	};

	implementation.options = function () {
		return {
			product: '', // Product ID to render
			productActions: Thunder.options.productActions, // ['add-to-cart', 'buy-now']
			descriptionStyle: 'detailed', // 'simple' || 'detailed'
			useFollowingNav: true, // Use following navigation?
			useReviews: Thunder.options.productReview, // Use reviews?
			useRating: // Use review rating?
			Thunder.options.productReview && Thunder.options.productReviewRating,

			onBuyNow: function onBuyNow($container, context, item) {
				return Thunder.render($container, 'cart', { items: [item._id] });
			},
			onItemAdd: function onItemAdd($container, context) {
				return Thunder.notify('success', context.m('itemAddSuccess'));
			},
			onGoToCart: function onGoToCart($container, context) {
				return Thunder.render($container, 'cart');
			}
		};
	};

	implementation.pre = function (context, callback) {

		context.options.productActions = Thunder.util.parseArrayString(context.options.productActions);

		var product = context.options.product;


		context.isUnavailableProduct = function (product) {

			return (
				// A product is unavailable
				!product.available || product.variants && ( // While a product has variants array

				// A product doesn't have any variants
				!product.variants.length ||
				// All variants are unavailable
				product.variants.every(function (v) {
					return !v.available;
				})) ||
				// A tangible product doesn't support any shipping methods
				product.type === 'tangible' && product.shipping.methods.length === 0
			);
		};

		context.isUnavailableVariant = function (product, variant) {

			if (context.isUnavailableProduct(product) || !variant.available) {
				return 'notAvailableVariant';
			}

			if (variant.quantity && variant.quantity.raw === 0) {
				return 'soldOutVariant';
			}
		};

		var errors = {
			'not-existing-product': context.m('notExistingProduct'),
			default: context.m('productReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/products/' + product,
			query: {
				embed: '+bundles.items.product.shipping'
			}
		}).then(function (data) {
			return callback(null, set(context, 'product', data));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.bind = function (context) {

		var $container = $(this);
		var $followingNav = $(this).find('.thunder--following-nav-container');

		if (context.options.useReviews) {

			if (context.options.useFollowingNav) {
				// If reviews are not in use, there will be only one menu item for now.
				// So simply do not use following navigation in this case.
				Thunder.util.followingNavigation($followingNav, [{
					name: context.m('productInfo'),
					$el: $container.find('.thunder--product-detail')
				}, {
					name: [context.m('productReviews'), '<span class="thunder--product-total-comments">(' + context.product.totalReview.converted + ')</span>'].join(' '),
					$el: $container.find('.thunder--product-reviews-wrapper')
				}]);
			}
		}
	};

	implementation.init = function (context) {

		var product = context.product;

		var variantMap = [].concat(context.product.variants, context.product.bundles.reduce(function (variants, bundle) {
			return bundle.items.reduce(function (variants, item) {
				return variants.concat(item.variant);
			}, variants);
		}, [])).reduce(function (o, variant) {
			return set(o, variant._id, variant);
		}, {});

		var bundleProductMap = context.product.bundles.reduce(function (o, bundle) {
			return bundle.items.reduce(function (o, item) {
				return set(o, item.product._id, item.product);
			}, o);
		}, {});

		var variantToBundleMap = context.product.bundles.reduce(function (o, bundle) {
			return bundle.items.reduce(function (o, item) {
				return set(o, item.variant._id, bundle);
			}, o);
		}, {});

		var $container = $(this);
		var $variantSelector = $(this).find('.thunder--product-variant select');
		var $shippingMethodSelector = $(this).find('.thunder--shipping-method select');
		var $itemQuantityInput = $(this).find('.thunder--item-quantity input');
		var $bundleItems = $(this).find('.thunder--product-bundle-item');
		var $bundleItemSelectors = $(this).find('select');
		var $addToCart = $(this).find('.thunder--add-to-cart');
		var $buyNow = $(this).find('.thunder--buy-now');
		var $goToCart = $(this).find('.thunder--go-to-cart');

		var addToCartSpinner = Thunder.util.makeAsyncButton($addToCart);

		productCatalog($container);

		$bundleItemSelectors.on('change', function () {

			var value = $(this).val();
			var $quantity = $(this).parent().find('input[type="number"]');

			$quantity.val(value ? 1 : 0);
		});

		$addToCart.on('click', function () {
			return addToCart();
		});

		$buyNow.on('click', function () {
			return addToCart(function (item) {
				return Thunder.execute(context.options.onBuyNow, $container, context, item);
			});
		});

		$goToCart.on('click', function () {
			return Thunder.execute(context.options.onGoToCart, $container, context);
		});

		if (context.options.useReviews) {

			var $reviewsContainer = $(this).find('.thunder--product-reviews-wrapper');

			Thunder.render($reviewsContainer, 'product-reviews', {
				product: context.product._id,
				productRating: context.options.useRating ? product.rating : null,
				useRating: context.options.useRating
			});
		}

		function addToCart(success) {

			var item = buildItemData();

			success = success || function () {

				$goToCart.show();

				Thunder.execute(context.options.onItemAdd, $container, context);
			};

			if (!validateItemData(item)) {
				return addToCartSpinner.done();
			}

			var errors = {
				'items-exceeded': context.m('itemsExceeded'),
				default: context.m('itemAddFailed')
			};

			if (Thunder.authenticated()) {

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/cart/items',
					data: item
				}).then(function (item) {
					addToCartSpinner.done();
					success(item);
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, function (err) {
						return addToCartSpinner.done();
					});
				});
			} else {

				Thunder.Cart.addItem(item, function (err) {

					if (err) {
						addToCartSpinner.done();
						return Thunder.notify('error', errors[err.code || 'default'] || errors.default);
					}

					addToCartSpinner.done();
					return success(item);
				});
			}
		}

		function validateItemData(itemData) {

			if (!itemData.variant) {
				Thunder.notify('error', context.m('variantRequired'));
				return false;
			}

			if (!validateQuantity(product.name, itemData)) {
				return false;
			}

			var selectedBundles = [];

			var _iteratorNormalCompletion = true;
			var _didIteratorError = false;
			var _iteratorError = undefined;

			try {
				for (var _iterator = (itemData.bundleItems || [])[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
					var item = _step.value;


					var bundle = variantToBundleMap[item.variant];

					selectedBundles.push(bundle);

					if (!validateQuantity(bundle.name, item)) {
						return false;
					}

					if (bundle.required && item.quantity !== itemData.quantity) {
						Thunder.notify('error', context.m('invalidRequiredBundleItemQuantity', { bundle: bundle.name }));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError = true;
				_iteratorError = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion && _iterator.return) {
						_iterator.return();
					}
				} finally {
					if (_didIteratorError) {
						throw _iteratorError;
					}
				}
			}

			var requiredBundles = product.bundles.filter(function (b) {
				return b.required;
			});

			var _iteratorNormalCompletion2 = true;
			var _didIteratorError2 = false;
			var _iteratorError2 = undefined;

			try {
				for (var _iterator2 = requiredBundles[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
					var bundle = _step2.value;


					if (selectedBundles.indexOf(bundle) === -1) {
						Thunder.notify('error', context.m('requiredBundleItemRequired', { bundle: bundle.name }));
						return false;
					}
				}
			} catch (err) {
				_didIteratorError2 = true;
				_iteratorError2 = err;
			} finally {
				try {
					if (!_iteratorNormalCompletion2 && _iterator2.return) {
						_iterator2.return();
					}
				} finally {
					if (_didIteratorError2) {
						throw _iteratorError2;
					}
				}
			}

			return true;

			function validateQuantity(scope, item) {

				if (!item.quantity) {
					Thunder.notify('error', context.m('itemQuantityRequired', { scope: scope }));
					return false;
				}

				var variant = variantMap[item.variant];

				if (variant.quantity && variant.quantity.raw < item.quantity) {
					Thunder.notify('error', context.m('exceededItemQuantity', { scope: scope }));
					return false;
				}

				return true;
			}
		}

		function buildItemData() {

			var shippingMethod = $shippingMethodSelector.val();
			var bundleItems = [];

			$bundleItems.each(function () {
				var _split = ($(this).find('select').val() || '').split('.'),
				    _split2 = _slicedToArray(_split, 2),
				    product = _split2[0],
				    variant = _split2[1];

				var bundleItemQuantity = $(this).find('input[type="number"]').val();

				if (!product || !variant) return;

				bundleItems.push({
					product: product,
					variant: variant,
					shippingMethod: bundleProductMap[product].type === 'tangible' ? shippingMethod : null,
					quantity: bundleItemQuantity ? parseInt(bundleItemQuantity) : null
				});
			});

			var itemQuantity = $itemQuantityInput.val();

			return {
				product: product._id,
				variant: $variantSelector.val() || (product.variants.length === 1 ? product.variants[0]._id : null) || null,
				shippingMethod: shippingMethod,
				quantity: itemQuantity ? parseInt(itemQuantity) : null,
				bundleItems: bundleItems
			};
		}
	};

	return implementation;
};

},{"./lib/productCatalog.js":45,"lodash.set":172}],45:[function(require,module,exports){
'use strict';

module.exports = function ($container) {

	var catalogMap = {};

	var $details = $container.find('.thunder--product-catalog-detail');
	var $thumbnails = $container.find('.thunder--product-catalog-thumbnails img');

	$details.each(function () {
		catalogMap[getImageId($(this))] = $(this);
	});

	setCurrentImage(getImageId($details.eq(0)));

	// Click events for mobile devices..
	$thumbnails.on('click', function () {
		setCurrentImage(getImageId($(this)));
	});

	// Hover events for laptops
	$thumbnails.hover(function () {
		catalogMap[getImageId($(this))].addClass('active');
	}, function () {
		catalogMap[getImageId($(this))].removeClass('active');
	});

	function setCurrentImage(imageId) {
		setAnchor($details, imageId);
		setAnchor($thumbnails, imageId);
	}

	function setAnchor(images, imageId) {

		images.removeClass('anchored').filter(function () {
			return $(this).data().catalogImage === imageId;
		}).addClass('anchored');
	}

	function getImageId(selector) {

		return selector.data('catalogImage') || null;
	}
};

},{}],46:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'product-list'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of products?
			limit: 24, // How many products at once?
			columns: 4, // How many columns? (css supports for 1-12)
			filter: '', // Extra filters. e.g., brand=abcd
			imageWidth: 240, // Image width
			imageHeight: 240, // Image height
			showSummary: true, // Show `product.summary`
			showRating: // Show `product.rating`
			Thunder.options.productReview && Thunder.options.productReviewRating,
			showComparePrice: true, // Show `product.price.original`
			usePagination: true, // Use pagination?

			onViewProduct: function onViewProduct($container, context, productId) {
				return Thunder.render($container, 'product-detail', {
					product: productId
				});
			}
		};
	};

	implementation.pre = function (context, callback) {
		var _$;

		var options = context.options;

		var query = {
			bundled: false // Only display root products
		};

		$.each((options.filter || '').split('&'), function (i, s) {

			if (!s) return;

			var keyValue = s.split('=');

			query[keyValue[0]] = keyValue.slice(1).join('=');
		});

		var listQuery = $.extend({
			fields: ['thumbnail', 'slug', 'name', 'summary', 'price', 'discount', 'rating'].join(','),
			page: options.page, // Page option
			limit: options.limit // Limit option
		}, query);

		var countQuery = $.extend({
			raw: true
		}, query);

		var errors = {
			default: context.m('productListFailed')
		};

		return (_$ = $).when.apply(_$, [Thunder.request({
			method: 'GET',
			url: '/v1/products',
			query: listQuery
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/products/count',
			query: countQuery
		}) : null]).then(function (products, count) {

			context.products = products[0];
			context.count = count ? count[0].count : null;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $product = $(this).find('.thunder--product');
		var $pagination = $(this).find('.thunder--product-list-pagination');

		$product.on('click', ['.thunder--product-thumbnail-wrapper', '.thunder--product-name', '.thunder--product-summary'].join(','), function (event) {
			return Thunder.execute(context.options.onViewProduct, $container, context, $(event.delegateTarget).data('product'));
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{}],47:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');

module.exports = function (Thunder) {

	var commentFields = ['customer', 'collaborator', 'body', 'flagged', 'createdAt'];

	// Implementation
	var implementation = {
		name: 'product-review-comments'
	};

	implementation.options = function () {
		return {
			review: null, // Review ID
			page: 1, // Which page of comments?
			limit: 10, // How many comments at once?
			sort: '-createdAt', // Default sort value
			filter: null, // Extra query filter
			useBodyExcerpt: 140, // Length of a body excerpt || false
			useFlag: true, // Use flag?
			usePagination: true, // Use Pagination?
			hasNoComments: false, // Has no comments? (when it's already known)

			onUnauthenticatedWriteComment: function onUnauthenticatedWriteComment($container, context) {
				return Thunder.notify('info', context.m('loginRequired'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		if (context.options.hasNoComments) {
			// If the review doesn't have any comments, do not call APIs.
			context.comments = [];
			context.count = { raw: 0, formatted: '0', converted: '0' };
			return callback(null, context);
		}

		var errors = {
			default: context.m('commentListFailed')
		};

		var defaultQuery = $.extend({
			review: context.options.review
		}, context.options.filter ? context.options.filter : {});

		return $.when(fetchComments(), countComments()).then(function (comments, count) {
			return callback(null, $.extend(context, {
				comments: (comments[0] || []).map(function (c) {
					return buildReviewComment(c, context.options.useBodyExcerpt);
				}),
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchComments() {

			var query = $.extend({}, defaultQuery, {
				page: context.options.page,
				limit: context.options.limit,
				sort: context.options.sort,
				fields: commentFields.join(',')
			});

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments',
				query: query
			});
		}

		function countComments() {

			var query = $.extend({}, defaultQuery);

			delete query.ids;

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/comments/count',
				query: query
			});
		}
	};

	implementation.init = function (context) {

		var commentMap = {};

		var $container = $(this);
		var $writeComment = $(this).find('.thunder--write-comment');
		var $commentWriterContainer = $(this).find('.thunder--comment-writer-container');
		var $commentBody = $commentWriterContainer.find('textarea');
		var $postComment = $commentWriterContainer.find('.thunder--post-comment');
		var $cancelComment = $commentWriterContainer.find('.thunder--cancel-comment');
		var $commentList = $(this).find('.thunder--review-comment-list');
		var $pagination = $(this).find('.thunder--review-comment-list-pagination');

		updateCommentMap();

		$writeComment.on('click', startCommentWriting);
		$cancelComment.on('click', cancelComment);

		$container.on('click', '.thunder--read-more', readMore);
		$container.on('click', '.thunder--edit-review-comment', editComment);
		$container.on('click', '.thunder--delete-review-comment', deleteComment);
		$container.on('click', '.thunder--flag', flagComment);

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $postComment,
			validate: validateComment,
			callback: postComment
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				type: 'simple',
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}

		function updateCommentMap() {

			commentMap = context.comments.reduce(function (o, comment) {
				return set(o, comment._id, comment);
			}, {});
		}

		function startCommentWriting(event) {

			event.preventDefault();

			if (Thunder.authenticated()) {
				return showCommentWriter();
			}

			return Thunder.execute(context.options.onUnauthenticatedWriteComment, $container, context);
		}

		function getComment() {
			return {
				review: context.options.review,
				body: $commentBody.val()
			};
		}

		function validateComment(comment) {

			comment = comment || getComment();

			if (!comment.body) {
				Thunder.notify('error', context.m('bodyRequired'));
				return false;
			}

			return true;
		}

		function postComment(token, resetRecaptcha) {

			var resetState = function resetState() {
				return resetRecaptcha && resetRecaptcha();
			};

			var data = getComment();

			return createComment(data).then(function (comment) {
				return fetchComment(comment);
			}).then(function (comment) {
				return done(comment);
			});

			function done(comment) {

				comment = buildReviewComment(comment, context.options.useBodyExcerpt);

				context.comments.unshift(comment);

				updateCommentMap();

				var $template = $(Thunder.component(implementation.name).template($.extend({}, context, {
					comments: [comment]
				})));

				var $comment = $($template.find('.thunder--review-comment-list').html());

				$commentList.prepend($comment);

				cancelComment();

				resetState();

				return Thunder.notify('success', context.m('commentPostSuccess'));
			}

			function createComment(data) {

				var errors = {
					default: context.m('commentPostFailed')
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/products/reviews/comments',
					data: data,
					recaptcha: token
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}

			function fetchComment(comment) {

				var errors = {
					default: context.m('commentReadFailed')
				};

				return Thunder.request({
					method: 'GET',
					url: '/v1/products/reviews/comments/' + comment._id,
					query: {
						fields: commentFields.join(',')
					}
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}
		}

		function cancelComment(event) {

			if (event) event.preventDefault();

			$commentBody.val(null);
			hideCommentWriter();
		}

		function showCommentWriter() {
			$writeComment.hide();
			$commentWriterContainer.show();
		}

		function hideCommentWriter() {
			$writeComment.show();
			$commentWriterContainer.hide();
		}

		function readMore(event) {

			event.preventDefault();

			var $comment = $(this).parents('[data-review-comment]');
			var commentId = $comment.data('reviewComment');
			var body = commentMap[commentId].body;

			$comment.find('.thunder--review-comment-body').html(body);
		}

		function editComment(event) {
			var _this = this;

			event.preventDefault();

			var isEditing = $(this).data('editing');
			var $comment = $(this).parents('[data-review-comment]');
			var commentId = $comment.data('reviewComment');

			if (isEditing) {

				var $input = $comment.find('textarea.thunder--review-comment-body');

				var data = { body: $input.val() || null };

				if (!validateComment(data)) {
					return;
				}

				var errors = {
					default: context.m('saveFailed')
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me/products/reviews/comments/' + commentId,
					data: data
				}).then(function (comment) {

					$(_this).text(context.m('editComment'));
					$(_this).data('editing', false);

					var $body = $('<div class="' + $input.attr('class') + '"></div>');

					$body.html(comment.body);

					$input.replaceWith($body);

					return Thunder.notify('success', context.m('saveSuccess'));
				}, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			} else {

				var comment = commentMap[commentId];

				var $body = $comment.find('.thunder--review-comment-body');

				var _$input = $('<textarea class="' + $body.attr('class') + '">' + (comment.body || '') + '</textarea>');

				$body.replaceWith(_$input);

				$(this).text(context.m('saveComment'));
				$(this).data('editing', true);
			}
		}

		function deleteComment(event) {

			if (event) event.preventDefault();

			var $comment = $(this).parents('[data-review-comment]');
			var commentId = $comment.data('reviewComment');

			var errors = {
				default: context.m('deleteFailed')
			};

			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/products/reviews/comments/' + commentId
			}).then(function () {
				$comment.addClass('hidden').hide();
				return Thunder.notify('success', context.m('deleteSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function flagComment(event) {

			if (event) event.preventDefault();

			var commentId = $(this).parents('[data-review-comment]').data('reviewComment');

			var errors = {
				default: context.m('flagFailed'),
				'duplicated-flag': context.m('duplicatedFlag')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/products/reviews/comments/' + commentId + '/flags'
			}).then(function () {
				return Thunder.notify('success', context.m('flagSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}
	};

	return implementation;

	function buildReviewComment(comment, useBodyExcerpt) {

		var customer = get(Thunder.authenticated('customer'), 'sub', 'unauthenticated');

		comment.editable = get(comment, 'customer._id') === customer;
		comment.excerpt = Thunder.util.excerpt(comment.body, useBodyExcerpt) || '';
		comment.body = comment.body || '';

		return comment;
	}
};

},{"lodash.get":167,"lodash.set":172}],48:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var reviewFields = ['customer', 'title', 'body', 'images', 'rating', 'helped', 'flagged', 'totalComment', 'createdAt'];

	// Implementation
	var implementation = {
		name: 'product-review-writer'
	};

	implementation.options = function () {
		return {

			product: null, // Product ID to write a review
			useRating: Thunder.options.productReviewRating, // Use rating?

			onReviewPost: function onReviewPost($container, context, review) {},
			onReviewCancel: function onReviewCancel($container, context) {}

		};
	};

	implementation.pre = function (context, callback) {

		return callback(null, context);
	};

	implementation.init = function (context) {

		var review = { images: [] };

		var $container = $(this);
		var $writeReviewForm = $(this).find('.thunder--write-review-form');
		var $writeReviewImageForm = $(this).find('.thunder--review-image-form');
		var $writeReviewImages = $writeReviewImageForm.find('.thunder--review-images');
		var $postReview = $(this).find('.thunder--post-product-review');
		var $cancelReview = $(this).find('.thunder--cancel-product-review');

		$cancelReview.on('click', cancelReviewWriting);

		$container.on('click', '.thunder--delete-review-image', function () {

			var imageId = $(this).parents('[data-image]').data('image');

			return removeImage(imageId);
		});

		Thunder.util.makeRecaptcha({
			componentName: implementation.name,
			button: $postReview,
			validate: validateReview,
			callback: postReview
		});

		Thunder.util.imageUploader($writeReviewImageForm, function (image) {
			return addImage(image);
		}, function () {
			return Thunder.notify('error', context.m('imageUploadFailed'));
		});

		function cancelReviewWriting(event) {

			if (event) event.preventDefault();

			// Possibly a bug from Babel?
			// `review.images` actually contains multiple id,
			// but `removeImage()` only gets called once in `.forEach`
			review.images.forEach(function (imageId) {
				setTimeout(function () {
					return removeImage(imageId);
				}, 0);
			});

			resetForm();

			return Thunder.execute(context.options.onReviewCancel, $container, context);
		}

		function resetForm() {

			review.images.forEach(function (imageId) {
				return removeImage(imageId, true);
			});

			$writeReviewForm.find('select').val(5);
			$writeReviewForm.find('input[type="text"],textarea').each(function () {
				$(this).val(null);
			});
			$writeReviewImageForm.find('input[type="file"]').val(null);
		}

		function getReview() {

			return $.extend(Thunder.util.formToJSON($writeReviewForm.serializeArray()), review);
		}

		function addImage(image) {

			// Update review
			review.images.push(image._id);

			// Update DOM
			$writeReviewImages.append(('\n\t\t\t\t<div class="thunder--review-image" data-image="' + image._id + '">\n\t\t\t\t\t<img src="' + Thunder.util.imageURL(image, 120, 120) + '">\n\t\t\t\t\t<span class="thunder--delete-review-image">' + context.m('deleteImage') + '</span>\n\t\t\t\t</div>\n\t\t\t').trim());
		}

		function removeImage(imageId) {
			var doNotDelete = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;


			// Update review
			review.images.splice(review.images.indexOf(imageId), 1);

			// Update DOM
			$writeReviewImages.find('[data-image="' + imageId + '"]').remove();

			if (doNotDelete) return;

			// Remove from the storage (Fire & Forget)
			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/images/' + imageId
			});
		}

		function validateReview() {

			var review = getReview();

			if (!review.title) {
				Thunder.notify('error', context.m('titleRequired'));
				return false;
			}

			return true;
		}

		function postReview(token, resetRecaptcha) {

			var resetState = function resetState() {
				return resetRecaptcha && resetRecaptcha();
			};

			return createReview().then(function (review) {
				return fetchReview(review);
			}).then(function (review) {
				return done(review);
			});

			function done(review) {

				resetForm();

				Thunder.notify('success', context.m('reviewPostSuccess'));

				return Thunder.execute(context.options.onReviewPost, $container, context, review);
			}

			function createReview() {

				var errors = {
					'not-purchased-product': context.m('notPurchasedProduct'),
					default: context.m('reviewPostFailed')
				};

				return Thunder.request({
					method: 'POST',
					url: '/v1/me/products/reviews',
					data: getReview(),
					recaptcha: token
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}

			function fetchReview(review) {

				var errors = {
					default: context.m('reviewReadFailed')
				};

				return Thunder.request({
					method: 'GET',
					url: '/v1/products/reviews/published/' + review._id,
					query: { fields: reviewFields.join(',') }
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
				});
			}
		}
	};

	return implementation;
};

},{}],49:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var get = require('lodash.get');
var set = require('lodash.set');

module.exports = function (Thunder) {

	var reviewQuery = function reviewQuery(showProduct) {
		return {
			fields: ['customer', 'title', 'body', 'images', 'rating', 'helped', 'flagged', 'totalComment', 'createdAt'].concat(showProduct ? 'product' : []).join(','),
			embed: '+product.thumbnail'
		};
	};

	// Implementation
	var implementation = {
		name: 'product-review'
	};

	implementation.options = function () {
		return {
			review: null, // Review ID or review object
			useCustomerAvatar: Thunder.options.customerAvatar, // Use customer avatar
			useBodyExcerpt: 140, // Body excerpt length || false
			useRating: Thunder.options.productReviewRating, // Use rating?
			useHelpVote: true, // Use helpful votes?
			useFlag: true, // Use flag?
			useComments: Thunder.options.productReviewComment, // Use review comments?
			showProduct: false, // Show product detail?
			// Load & Show comments from the beginning?
			// (If it's an object, it will be passed as an option to `product-review-comments` component)
			showComments: false
		};
	};

	implementation.pre = function (context, callback) {

		var review = context.options.review;

		if ((typeof review === 'undefined' ? 'undefined' : _typeof(review)) === 'object') {

			return callback(null, setReview(review));
		}

		var errors = {
			default: context.m('reviewReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/products/reviews/published/' + review,
			query: reviewQuery(context.options.showProduct)
		}).then(function (review) {

			return callback(null, setReview(review));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function setReview(review) {
			return set(context, 'review', buildReview(review, context.options.useBodyExcerpt));
		}
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $review = $container.find('.thunder--product-review');
		var $imageForm = $container.find('.thunder--edit-review-image-form');
		var $reviewImages = $container.find('.thunder--review-images');

		$container.on('click', '.thunder--helped-vote', helpVote);
		$container.on('click', '.thunder--flag', flag);
		$container.on('click', '.thunder--edit-product-review', editReview);
		$container.on('click', '.thunder--delete-product-review', deleteReview);
		$container.on('click', '.thunder--delete-review-image', function () {

			var $imageList = $(this).parents('.thunder--review-images');
			var imageId = $(this).parents('[data-image]').data('image');

			return removeImage($imageList, context.review, imageId);
		});

		$container.on('click', '.thunder--read-more', function () {

			var $reviewBody = $(this).parents('.thunder--product-review-body');

			$reviewBody.html(context.review.body);
		});

		$container.on('click', '.thunder--show-product-review-comment', showComments);

		Thunder.util.imageUploader($imageForm, function (image) {
			return addImage($reviewImages, context.review, image);
		}, function () {
			return Thunder.notify('error', context.m('imageUploadFailed'));
		});

		if (context.options.useComments && context.options.showComments) {
			// If `showComments` option is set to `true`,
			// render comments when the component initiates.
			showComments();
		}

		function validateReview(review) {

			if (!review.title) {
				return 'titleRequired';
			}

			return null;
		}

		function addImage($imageList, review, image) {

			// Update review
			review.images.push(image);

			// Update DOM
			$imageList.append(('\n\t\t\t\t<div class="thunder--review-image" data-image="' + image._id + '">\n\t\t\t\t\t<img src="' + Thunder.util.imageURL(image, 120, 120) + '">\n\t\t\t\t\t<span class="thunder--delete-review-image">' + context.m('deleteImage') + '</span>\n\t\t\t\t</div>\n\t\t\t').trim());
		}

		function removeImage($imageList, review, imageId) {

			var image = review.images.find(function (image) {
				return image && image._id === imageId;
			});

			if (!image) return;

			// Update review
			review.images.splice(review.images.indexOf(image), 1);

			// Update DOM
			$imageList.find('[data-image="' + imageId + '"]').remove();

			// Remove from the storage (Fire & Forget)
			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/images/' + imageId
			});
		}

		function helpVote(event) {

			event.preventDefault();

			var review = context.review;
			var upDown = $(this).data('type');

			var errors = {
				unauthorized: { type: 'info', message: context.m('loginRequired') },
				'duplicated-vote': context.m('duplicatedVote'),
				default: context.m('helpVoteFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/products/reviews/' + review._id + '/helped/' + upDown
			}).then(function () {
				return Thunder.notify('success', context.m('helpVoteSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function flag(event) {

			event.preventDefault();

			var review = context.review;

			var errors = {
				unauthorized: { type: 'info', message: context.m('loginRequired') },
				'duplicated-flag': context.m('duplicatedFlag'),
				default: context.m('flagFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/products/reviews/' + review._id + '/flags'
			}).then(function () {
				return Thunder.notify('success', context.m('flagSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function editReview(event) {

			event.preventDefault();

			var isEditing = $review.data('editing') || false;

			if (isEditing) {
				endReviewEditing();
				$review.removeClass('editing');
				$(this).text(context.m('editReview'));
			} else {
				startReviewEditing();
				$review.addClass('editing');
				$(this).text(context.m('saveReview'));
			}

			$review.data('editing', !isEditing);
		}

		function startReviewEditing() {

			var review = context.review;

			var $rating = $container.find('.thunder--review-stars');
			var $title = $container.find('.thunder--product-review-title');
			var $body = $container.find('.thunder--product-review-body');

			var $newRating = $(Thunder.ui('review-star-rating')($rating.data('rating'))).addClass($rating.attr('class'));
			var $newTitle = $('<input class="' + $title.attr('class') + '" type="text" value="' + review.title + '" required>');
			var $newBody = $('<textarea class="' + $body.attr('class') + '">' + review.body + '</textarea>');

			$rating.replaceWith($newRating);
			$title.replaceWith($newTitle);
			$body.replaceWith($newBody);
		}

		function endReviewEditing() {

			var review = context.review;

			var data = {
				rating: $container.find('.thunder--review-stars').val(),
				title: $container.find('.thunder--product-review-title').val(),
				body: $container.find('.thunder--product-review-body').val(),
				images: $container.find('.thunder--review-images [data-image]').map(function () {
					return $(this).data('image');
				}).get()
			};

			var errorCode = validateReview(data);

			if (errorCode) {
				return Thunder.notify('error', context.m(errorCode));
			}

			return updateReview(data).then(function (review) {
				return fetchReview(review);
			}).then(function (review) {
				return done(review);
			});

			function done(review) {

				context.review = review;

				Thunder.render($container, implementation.name, context);

				return Thunder.notify('success', context.m('reviewSaveSuccess'));
			}

			function updateReview(data) {

				var errors = {
					default: context.m('reviewSaveFailed')
				};

				return Thunder.request({
					method: 'PUT',
					url: '/v1/me/products/reviews/' + review._id,
					data: data
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			}

			function fetchReview(review) {

				var errors = {
					default: context.m('reviewReadFailed')
				};

				return Thunder.request({
					method: 'GET',
					url: '/v1/products/reviews/published/' + review._id,
					query: reviewQuery(context.options.showProduct)
				}).then(null, function (err) {
					return Thunder.util.requestErrorHandler(err.responseJSON, errors);
				});
			}
		}

		function deleteReview(event) {

			event.preventDefault();

			var review = context.review;

			deleteReviewImages(review);

			var errors = {
				default: context.m('deleteFailed')
			};

			return Thunder.request({
				method: 'DELETE',
				url: '/v1/me/products/reviews/' + review._id
			}).then(function () {

				// Hide the review
				$container.addClass('hidden').hide();

				// Hide comments of the review
				$container.next('.thunder--review-comments-container').addClass('hidden').hide();

				return Thunder.notify('success', context.m('deleteSuccess'));
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function deleteReviewImages(review) {
			var _$;

			var errors = {
				default: context.m('imageDeleteFailed')
			};

			return (_$ = $).when.apply(_$, _toConsumableArray(review.images.map(function (image) {
				return Thunder.request({
					method: 'DELETE',
					url: '/v1/me/images/' + (image._id || image)
				});
			}))).then(null, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors);
			});
		}

		function showComments() {

			if (context.commentsLoaded) {
				return;
			}

			context.commentsLoaded = true;

			var review = context.review;

			var $commentsContainer = $('<div class="thunder--review-comments-container" data-review="' + review._id + '"></div>');

			$commentsContainer.insertAfter($container);

			return Thunder.render($commentsContainer, 'product-review-comments', $.extend(
			// Use `showComments` as an option when it's an object.
			_typeof(context.options.showComments) === 'object' ? context.options.showComments : {}, {
				review: review._id,
				hasNoComments: context.review.totalComment.raw === 0
			}));
		}
	};

	return implementation;

	function buildReview(review, useBodyExcerpt) {

		var customer = get(Thunder.authenticated('customer'), 'sub', 'unauthenticated');

		review.editable = get(review, 'customer._id') === customer;
		review.excerpt = Thunder.util.excerpt(review.body, useBodyExcerpt) || '';
		review.body = review.body || '';

		return review;
	}
};

},{"lodash.get":167,"lodash.set":172}],50:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'product-reviews'
	};

	implementation.options = function () {
		return {
			product: null, // Product ID
			page: 1, // Which page of products?
			limit: 10, // How many products at once?
			sort: '-createdAt', // Default sort value
			productRating: null, // Product rating?
			useCustomerAvatar: Thunder.options.customerAvatar, // Use customer avatar?
			useBodyExcerpt: 140, // Body excerpt length || false
			useRating: // Use rating?
			Thunder.options.productReview && Thunder.options.productReviewRating,
			useHelpVote: true, // Use helpful votes?
			useFlag: true, // Use flag?
			useComments: Thunder.options.productReviewComment, // Use comments?
			usePagination: true, // Use Pagination?

			onUnauthenticatedWriteReview: function onUnauthenticatedWriteReview($container, context) {
				return Thunder.notify('info', context.m('loginRequired'));
			}
		};
	};

	implementation.pre = function (context, callback) {

		var errors = {
			default: context.m('reviewListFailed')
		};

		return $.when(fetchReviews(), countReviews()).then(function (reviews, count) {
			return callback(null, $.extend(context, {
				reviews: reviews[0] || [],
				count: count ? count[0].count : null
			}));
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});

		function fetchReviews() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published',
				query: {
					product: context.options.product,
					page: context.options.page,
					limit: context.options.limit,
					sort: context.options.sort,
					fields: ['customer', 'title', 'body', 'images', 'rating', 'helped', 'flagged', 'totalComment', 'createdAt'].join(',')
				}
			});
		}

		function countReviews() {

			return Thunder.request({
				method: 'GET',
				url: '/v1/products/reviews/published/count',
				query: {
					product: context.options.product
				}
			});
		}
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $writeReview = $(this).find('.thunder--write-review');
		var $reviewList = $(this).find('.thunder--product-review-list');
		var $pagination = $(this).find('.thunder--product-review-list-pagination');
		var $reviewWriterContainer = $(this).find('.thunder--review-writer-container');

		$writeReview.on('click', startReviewWriting);

		Thunder.render($reviewWriterContainer, 'product-review-writer', {
			product: context.options.product,
			useRating: context.options.useRating,
			onReviewPost: onReviewPost,
			onReviewCancel: function onReviewCancel() {
				return hideReviewWriter();
			}
		});

		context.reviews.forEach(function (review) {
			return renderReview('append', review);
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count.raw,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}

		function renderReview(command, review) {

			var $reviewContainer = $('<div class="thunder--product-review-wrapper" data-review="' + review._id + '"></div>');

			$reviewList[command]($reviewContainer);

			return Thunder.render($reviewContainer, 'product-review', {
				review: review,
				useCustomerAvatar: context.options.useCustomerAvatar,
				useBodyExcerpt: context.options.useBodyExcerpt,
				useRating: context.options.useRating,
				useHelpVote: context.options.useHelpVote,
				useFlag: context.options.useFlag,
				useComments: context.options.useComments,
				showProduct: false,
				showComments: false
			});
		}

		function startReviewWriting(event) {

			event.preventDefault();

			if (Thunder.authenticated()) {
				return showReviewWriter();
			}

			return Thunder.execute(context.options.onUnauthenticatedWriteReview, $container, context);
		}

		function onReviewPost(_$container, _context, review) {

			context.reviews.unshift(review);

			hideReviewWriter();
			renderReview('prepend', review);
		}

		function showReviewWriter() {
			$writeReview.hide();
			$reviewWriterContainer.show();
		}

		function hideReviewWriter() {
			$writeReview.show();
			$reviewWriterContainer.hide();
		}
	};

	return implementation;
};

},{}],51:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = function (Thunder) {

	var implementation = {
		name: 'search-purchase'
	};

	implementation.options = function () {
		return {
			type: 'order', // 'order' || 'subscription'

			onSearch: function onSearch($container, context, subject) {

				var type = context.options.type;

				Thunder.render($container, type + '-detail', _defineProperty({}, type, subject));
			}
		};
	};

	implementation.pre = function (context, callback) {

		var translationKeys = {
			'name.first': 'firstName',
			'name.last': 'lastName',
			'name.full': 'fullName'
		};

		context.authFields = Thunder.options.orderAuthFields.map(function (field) {
			return {
				key: field,
				translationKey: translationKeys[field] || field
			};
		});

		context.showLinks = Object.keys(Thunder.options.paymentMethods).reduce(function (o, scope) {

			var paymentMethods = Thunder.options.paymentMethods[scope];

			o[scope] = paymentMethods && paymentMethods.length;

			return o;
		}, {});

		return callback(null, context);
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $form = $(this).find('.thunder--search-purchase-form');
		var $button = $form.find('.thunder--search-purchase');
		var $goToSearch = $(this).find('.thunder--go-to-search-purchase');
		var buttonSpinner = Thunder.util.makeAsyncButton($button);

		$goToSearch.on('click', goToSearch);

		Thunder.util.makeRecaptcha(implementation.name, $button, function (token, resetRecaptcha) {

			var type = context.options.type;
			var data = Thunder.util.formToJSON($form.serializeArray());
			var subject = data.subject;

			delete data.subject;

			var resetState = function resetState() {
				buttonSpinner.done();
				return resetRecaptcha && resetRecaptcha();
			};

			var errors = {
				'not-existing-order': context.m('notExistingOrder'),
				'not-existing-subscription': context.m('notExistingSubscription'),
				'invalid-customer-info': context.m('invalidCustomerInfo'),
				default: context.m('searchFailed')
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/' + type + 's/' + subject + '/auth',
				data: data
			}).then(function (authResult) {

				var storage = Thunder.plugins.credentialStorage;
				var token = authResult.token;

				// Set auth token in the storage.
				storage.setItem(Thunder.options.authStorage.order, token);

				Thunder.execute(context.options.onSearch, $container, context, subject);

				return resetState();
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, function () {
					return resetState();
				});
			});
		});

		function goToSearch() {

			return Thunder.render($container, 'search-purchase', {
				type: $(this).data('type')
			});
		}
	};

	return implementation;
};

},{}],52:[function(require,module,exports){
'use strict';

var get = require('lodash.get');
var set = require('lodash.set');
var camelCase = require('lodash.camelcase');

module.exports = function (Thunder) {

	var implementation = {
		name: 'subscription-detail'
	};

	implementation.options = function () {
		return {
			subscription: '', // Subscription ID to render
			customerFields: Thunder.options.customerOrderFields.map(function (field) {
				return field.split(':')[0];
			}),
			recipientFields: Thunder.options.recipientFields.map(function (field) {
				return field.split(':')[0];
			})
		};
	};

	implementation.pre = function (context, callback) {
		var subscription = context.options.subscription;


		context.couponDetail = function (coupon) {

			if (!coupon) return '';

			return [context.m('discountedBy', { value: coupon.discount.value.converted }), '&#10;(', context.m({
				first: 'firstNTimesDiscounted',
				last: 'lastNTimesDiscounted',
				every: 'allDiscounted'
			}[coupon.subscription.type], {
				count: get(coupon.subscription, 'value.converted'),
				smart_count: get(coupon.subscription, 'value.raw')
			}), ')'].join('');
		};

		var translationKeys = {
			'name.first': 'firstName',
			'name.last': 'lastName',
			'name.full': 'fullName'
		};

		context.customerFields = Thunder.util.parseArrayString(context.options.customerFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['customer', translationKeys[key] || key])
			};
		});

		context.recipientFields = Thunder.util.parseArrayString(context.options.recipientFields).map(function (key) {
			return {
				key: key,
				translationKey: camelCase(['address', translationKeys[key] || key])
			};
		});

		var errors = {
			default: context.m('subscriptionReadFailed')
		};

		return Thunder.request({
			method: 'GET',
			url: '/v1/me/subscriptions/' + subscription
		}).then(function (subscription) {

			var itemMap = subscription.items.reduce(function (o, item) {
				return [].concat(item, item.bundleItems || []).reduce(function (o, item) {
					return set(o, item._id, item);
				}, o);
			}, {});

			var discount = subscription.discount || {};

			Object.keys(discount).forEach(function (scope) {

				if (scope === 'shipping') {
					// IMPORTANT: For now we will only display 'items' and 'cart' coupons
					return;
				}

				[].concat(discount[scope]).forEach(function (_ref) {
					var item = _ref.item,
					    coupon = _ref.coupon;


					if (!coupon) return;

					return item ? set(itemMap[item._id], 'appliedCoupon', coupon) : set(subscription, 'appliedCoupon', coupon);
				});
			});

			var scheduleStatus = subscription.status === 'cancelled' ? 'cancelled' : null;

			subscription.schedules.forEach(function (schedule) {
				// When the subscription is cancelled,
				// make all schedules' statuses as 'cancelled' as well unless a schedule is 'done'.
				schedule.status = schedule.status === 'done' ? schedule.status : scheduleStatus || schedule.status;
			});

			context.subscription = subscription;

			// Set payment details.
			var paymentMethod = subscription.paymentMethod;

			var thunderPaymentMethodMap = Thunder.options.paymentMethods.subscription.reduce(function (o, p) {
				return set(o, p.id, p);
			}, {});

			var thunderPaymentMethod = thunderPaymentMethodMap[paymentMethod._id] || thunderPaymentMethodMap[paymentMethod.slug];

			var shouldPay = subscription.status === 'pending' && thunderPaymentMethod;

			context.paymentMethod = thunderPaymentMethod;
			context.shouldPay = shouldPay;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {
		var subscription = context.subscription,
		    paymentMethod = context.paymentMethod,
		    shouldPay = context.shouldPay;


		var $container = $(this);
		var $backToSubscriptions = $(this).find('.thunder--back-to-subscriptions');
		var $cancelSubscription = $(this).find('.thunder--cancel-subscription');
		var $cancellationForm = $(this).find('.thunder--subscription-cancellation-form');
		var $cancellationReason = $cancellationForm.find('textarea');
		var $cancelButton = $cancellationForm.find('button');
		var $viewOrder = $(this).find('[data-order][data-status="done"]');
		var $omittedSchedules = $(this).find('.thunder--subscription-omitted-schedules');
		var $viewAllSchedules = $(this).find('.thunder--view-all-schedules');
		var $hiddenSchedules = $(this).find('.thunder--subscription-schedule.hidden');

		var cancelButtonSpinner = Thunder.util.makeAsyncButton($cancelButton);

		$cancelSubscription.on('click', startCancellation);
		$cancelButton.on('click', cancelSubscription);
		$viewAllSchedules.on('click', viewAllSchedules);
		$viewOrder.on('click', '.thunder--schedule-order', function (event) {
			return Thunder.render($container, 'order-detail', {
				order: $(event.delegateTarget).data('order'),
				back: {
					$container: $container,
					component: implementation.name,
					options: context.options
				}
			});
		});

		Thunder.util.bindBackButton($backToSubscriptions, context);

		// Render a payment form if it's needed.
		if (shouldPay) {

			var $paymentFormContainer = $(this).find('.thunder--payment-form-container');
			var $makePayment = $(this).find('.thunder--make-payment');
			var makePaymentSpinner = Thunder.util.makeAsyncButton($makePayment, { bind: false });

			Thunder.render($paymentFormContainer, 'payment-form', {
				type: 'subscription',
				paymentMethods: [paymentMethod.id]
			}, function (err, _ref2) {
				var paymentHandler = _ref2.interfaces;
				return $makePayment.on('click', function () {

					var validationError = paymentHandler.validate();

					if (validationError) {
						return Thunder.notify('error', validationError.message);
					}

					var card = paymentHandler.getCard();

					makePaymentSpinner.run();

					return paymentHandler.makePayment({
						subscription: subscription,
						customer: subscription.customer
					}, function (err) {

						if (err) {
							Thunder.notify('error', context.m('paymentFailed'));
							return makePaymentSpinner.done();
						}

						var errors = {
							default: context.m('schedulingFailed')
						};

						return Thunder.request({
							method: 'POST',
							url: '/v1/me/subscriptions/' + subscription._id + '/scheduled',
							data: card ? { card: card } : {}
						}).then(function () {

							Thunder.notify('success', context.m('schedulingSuccess'));
							makePaymentSpinner.done();
							return Thunder.render($container, implementation.name, context.options);
						}, function (err) {
							return Thunder.util.requestErrorHandler(err.responseJSON, errors, function () {
								return makePaymentSpinner.done();
							});
						});
					});
				});
			});
		}

		function startCancellation() {
			$(this).addClass('hidden');
			$cancellationForm.removeClass('hidden');
			$cancellationReason.focus();
		}

		function cancelSubscription(event) {

			event.preventDefault();

			var data = Thunder.util.formToJSON($cancellationForm.serializeArray());

			var errors = {
				'invalid-subscription-status': context.m('invalidSubscriptionStatus'),
				default: context.m('cancellationFailed')
			};

			var resetState = function resetState() {
				cancelButtonSpinner.done();
			};

			return Thunder.request({
				method: 'POST',
				url: '/v1/me/subscriptions/' + subscription._id + '/cancellation',
				data: data
			}).then(function () {

				resetState();

				Thunder.notify('success', context.m('cancellationSuccess'));

				return Thunder.render($container, implementation.name, context.options);
			}, function (err) {
				return Thunder.util.requestErrorHandler(err.responseJSON, errors, resetState);
			});
		}

		function viewAllSchedules() {
			$omittedSchedules.addClass('hidden');
			$hiddenSchedules.removeClass('hidden');
		}
	};

	return implementation;
};

},{"lodash.camelcase":166,"lodash.get":167,"lodash.set":172}],53:[function(require,module,exports){
'use strict';

module.exports = function (Thunder) {

	var implementation = {
		name: 'subscription-list'
	};

	implementation.options = function () {
		return {
			page: 1, // Which page of subscriptions?
			limit: 10, // How many subscriptions at once?
			usePagination: true, // Use pagination?
			onViewSubscription: function onViewSubscription($container, context, subscriptionId) {

				return Thunder.render($container, 'subscription-detail', {
					subscription: subscriptionId,
					back: {
						$container: $container,
						component: implementation.name,
						options: context.options
					}
				});
			}
		};
	};

	implementation.pre = function (context, callback) {

		var errors = {
			default: context.m('subscriptionListFailed')
		};

		return $.when(Thunder.request({
			method: 'GET',
			url: '/v1/me/subscriptions',
			query: {
				page: context.options.page,
				limit: context.options.limit,
				sort: '-createdAt',
				fields: ['status', 'plan', 'schedules', 'items.product', 'cancellation', 'endsAt', 'createdAt'].join(',')
			}
		}), context.options.usePagination ? Thunder.request({
			method: 'GET',
			url: '/v1/me/subscriptions/count',
			query: {
				raw: true
			}
		}) : null).then(function (subscriptions, count) {

			context.subscriptions = (subscriptions[0] || []).map(function (s) {

				s.maxScheduledAmount = s.schedules.reduce(function (max, s) {
					return max > s.amount.raw ? max : s.amount;
				}, 0);

				s.duration = [s.schedules[0].time === 'now' ? s.createdAt : s.schedules[0].time, s.endsAt];

				return s;
			});

			context.count = count ? count[0].count : null;

			return callback(null, context);
		}, function (err) {
			return Thunder.util.requestErrorHandler(err.responseJSON, errors, callback);
		});
	};

	implementation.init = function (context) {

		var $container = $(this);
		var $subscription = $(this).find('[data-subscription]');
		var $pagination = $(this).find('.thunder--subscription-list-pagination');

		$subscription.on('click', ['.thunder--subscription-id', '.thunder--subscription-thumbnail', '.thunder--subscription-first-item', '.thunder--subscription-rest-items'].join(','), function (event) {
			return Thunder.execute(context.options.onViewSubscription, $container, context, $(event.delegateTarget).data('subscription'));
		});

		if (context.options.usePagination) {

			Thunder.plugins.pagination({
				container: $pagination,
				currentPage: context.options.page,
				totalResult: context.count,
				resultPerPage: context.options.limit,
				onPageChange: function onPageChange(_ref) {
					var page = _ref.page;
					return Thunder.render($container, implementation.name, $.extend(context.options, { page: page }));
				}
			});
		}
	};

	return implementation;
};

},{}],54:[function(require,module,exports){
"use strict";

module.exports = localStorage;

},{}],55:[function(require,module,exports){
"use strict";

module.exports = function (message, ok) {
	var no = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};


	return confirm("\uD83D\uDD14 " + message) ? ok() : no();
};

},{}],56:[function(require,module,exports){
"use strict";

module.exports = sessionStorage;

},{}],57:[function(require,module,exports){
'use strict';

var emojiByType = {
	error: '🚨',
	success: '✅',
	info: '💬'
};

module.exports = function (type, message) {

	return alert((emojiByType[type] || '') + ' ' + message);
};

},{}],58:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var groupStart = function groupStart(group, pagesAtOnce) {
	return (group - 1) * pagesAtOnce + 1;
};

var groupEnd = function groupEnd(group, pagesAtOnce) {
	return groupStart(group, pagesAtOnce) + pagesAtOnce - 1;
};

module.exports = function () {
	var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var _options$type = options.type,
	    type = _options$type === undefined ? 'normal' : _options$type,
	    container = options.container,
	    _options$currentPage = options.currentPage,
	    currentPage = _options$currentPage === undefined ? 1 : _options$currentPage,
	    totalResult = options.totalResult,
	    resultPerPage = options.resultPerPage,
	    _options$pagesAtOnce = options.pagesAtOnce,
	    pagesAtOnce = _options$pagesAtOnce === undefined ? 10 : _options$pagesAtOnce,
	    _options$onPageChange = options.onPageChange,
	    onPageChange = _options$onPageChange === undefined ? function () {} : _options$onPageChange;


	var lastPage = Math.ceil(totalResult / resultPerPage);
	var totalGroups = Math.ceil(lastPage / pagesAtOnce);
	var currentGroup = Math.ceil(currentPage / pagesAtOnce);
	var currentGroupStart = groupStart(currentGroup, pagesAtOnce);

	var iterator = Array.apply(null, Array(pagesAtOnce)).map(function (v, i) {
		return i;
	}).filter(function (v) {
		return currentGroupStart + v <= lastPage;
	});

	if (iterator.length <= 1) {
		return;
	}

	var page = function page(text, type, _page, current) {
		return ('\n\t\t<li data-page="' + _page + '"\n\t\t\tclass="' + type + ' ' + (_page === current ? 'current' : '') + '">\n\t\t\t<span>' + (text || _page) + '</span>\n\t\t</li>\n\t').trim();
	};

	var $pagination = $(['<ul class="thunder--pagination ' + type + '">', currentGroup <= 1 ? '' : page('<', 'thunder--pagination-prev', groupEnd(currentGroup - 1, pagesAtOnce))].concat(_toConsumableArray(iterator.map(function (i) {
		return page(null, 'thunder--pagination-page', currentGroupStart + i, currentPage);
	})), [currentGroup >= totalGroups ? '' : page('>', 'thunder--pagination-next', groupStart(currentGroup + 1, pagesAtOnce)), '</ul>']).join(''));

	container.html($pagination);

	$pagination.find('[data-page]').on('click', function () {

		var page = $(this).data('page');

		if (currentPage === page) return;

		return onPageChange({ page: page });
	});
};

},{}],59:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,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";
};

},{}],60:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<span class=\"thunder--button-spinner\"></span>\n\t".trim();
};

},{}],61:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<div class=\"thunder--component-spinner-wrapper\">\n\t\t\t<div class=\"thunder--component-spinner\"></div>\n\t\t</div>\n\t".trim();
};

},{}],62:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAMAAABVlYYBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAYFBMVEX////Y2NjW1tbT09PY2NjV1dXT09PX19fX19fX19fX19fW1tbW1tbW1tbV1dXV1dXU1NTV1dXT09PU1NTU1NTT09PU1NTV1dXW1tbX19fY2NjZ2dna2trb29vc3Nzd3d0MlpiEAAAAFXRSTlMAHy4wPD1AcIecr8DP3Ofv8vb5+/5ldZdlAAAAqElEQVQYGWXBgVrCIBgF0GtRuIgto/sjjnHf/y1dSvuanoPN6zueOXLAk8lKOuCBZ20W8CCdpQsddj7YJNmIP+4Yph9etKpMY/BYDWQu86KbOp+NDMCYtddKAgYW7VRGAANn/bNYxK/AWZvFJtxFNnXNTgfcOS7qGj06T23o0R2pjQ3oQpZUS2mSckAXsubMU2Kuyp/oohlHD/iJlid0L1/R4cbF7zesrqgiFx5ZJ+DfAAAAAElFTkSuQmCC";
};

},{}],63:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAMAAABVlYYBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAaVBMVEX////4yQD2xwDywwD4yQD1xgDywwD4yQD3yAD3yAD3yAD2xwD2xwD2xwD1xgD1xgDzxAD0xQDywwDzxADzxADywwDzxAD0xQD1xgD2xwD3yAD4yQD5ygD6ywD7zAD8zQD9zgD+zwD/0ABDG/+EAAAAFXRSTlMAHy4wPD1AcIecr8DP3Ofv8vb5+/5ldZdlAAAAq0lEQVQYGWXBAVaDMBQEwK1GU4yB1rj8FETC3v+QYht50s5g8/yKR45s8KCzIR1wx3Ne+oA76SKNdNh5Y5FkLf64Y+g+OWo1M7XBY9WQNk5FV/PXxcgAtKa9ZUhAw1E734wAGk76p/QRvwInbUrf4SayqFrsfMCNY1FV6FF5akOP6kht+gZVMEnzMBRJOaAKWVPmOTHPyu+oohlbD/iOZh2qp1N0uHLx4wWrH9+RGLe/2RyqAAAAAElFTkSuQmCC";
};

},{}],64:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQ4jZ2UO2sUURTH/+fumdmdgCRWQhoVhJ0lWgiCERJibyUI+gEsLba28QNYaC8p/ABiIGAnRBA0WwlaTLNGe9vVedx7rpwZZ50M2Uf2wNmZvffc35znhfd+oabH2Pn57dWDZWxJf+ZJNqLLRYGTH+tfKQiC3X6//3GevZlLAyCC1wCIiOCcO1xkPxeYjWjHWuyFIRCGIURkI0mS4cpA53BojMKATqcDY4x6+XwlYDaioXPY6PX+r3W7XU08J0nydta5aVGyET30Ho+8xw0RbIog6nSAtbXK8PuFcfksiqJUIrJE9MsY8xnAhziOX5bA9BjDPMeL8g8BGqKCmKt3XWsCq1Q4zedUa6eY+YBF8EQPRlEFWEY0n6q1KFC9FpG7hghHIhrKcrCzRD221mrRjkzvtn8cBNjP89WgCsvzXD0ex3F8vwxSocz4kqbng2r+athgMLiGZttE2/4mM8YK1RQsEs1blmVa7T81DO0+jLZ9ubFgvKeiUGPM0+baKaCO2rLhUt1PLWk3yi2g6sNzQPdmeug9LrUPafhZVk1I+6pToPf+YnONW4fv1M2thdFWsrbasrYcOWJmnYjyovgn6zM9rEUrPZmUMMuMgyDA1a2t64aZ951zNk1TqFZO+CunvG6G8fsT7YrgvTGYGIM32p9nfVDvRBF5pvcjM9+L4/hduQHgL43IKyO6pNEvAAAAAElFTkSuQmCC";
};

},{}],65:[function(require,module,exports){
"use strict";

module.exports = function () {
	return "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABc0lEQVQ4EaVU203DQBAcIv5JCSlgpZgOQgXQAaYCXEJKgApiKiAdJFQAaKeA0IE7MBprHV0cJ85jpJPt83n2NeObuq4xBJITAGMz+xk6OzqRTETfJJ+uJgTwBqAC8BH3lxOSnAF4BFAAmKtskvNrMlRGX2a2NLNNPBckx2cTkswBTAHknQDVsdKbKUfEDMAsud4BeDezoifQAsBvDKtZZrZuCN1dk/uM8+mh9SGZRG+7wYUXEZbtCzOrDnbzCEJaGtZkFP2YniKJI1CWzwCWUA/dPXf32t0LPZ+z3D2Lb8vGde3HCWl+KmGQVS2Z1o6XSarsVwD3Q75NLLkxs6zd7+qwdcFB4SYYx3RTne4RtpEG/ypJBTvBe51yqXyE254M/9KNEHERlitbRwRkBL3f7nUzVPr6CTQWI6n7VexrCCuS67CfsFdJX8kZSR2UXxVZE5eLlMlDBFxEMAXR2qIrG2UiK6rhKq/JtouQjNrQeHrbcwD/48MIr+PHIqoAAAAASUVORK5CYII=";
};

},{}],66:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }

var kebabCase = require('lodash.kebabCase');

module.exports = function () {
	var _this = this;

	if (!this.options.header) return '';

	var templates = [];
	var _options$header = this.options.header,
	    items = _options$header.items,
	    actions = _options$header.actions;


	var toAttributes = function toAttributes(component, directives) {
		var _directives = _toArray(directives),
		    primary = _directives[0],
		    rest = _directives.slice(1);

		return ['data-thunder-' + primary + '="' + component + '"'].concat(_toConsumableArray(rest.map(function (_ref) {
			var option = _ref.option,
			    value = _ref.value;

			return 'data-thunder-' + kebabCase(option) + '="' + value + '"';
		}))).join(' ');
	};
	var menuItem = function menuItem(component, message) {
		return '<li><a ' + toAttributes(component, actions[component]) + '>' + message + '</a></li>';
	};

	items.forEach(function (type) {

		if (type === 'customer') {

			if (_this.authenticated()) {

				templates.push('\n\t\t\t\t\t<li><a data-thunder-logout>' + _this.polyglot.t('header-navigation.logout') + '</a></li>\n\t\t\t\t');

				templates.push(menuItem('customer-dashboard', _this.polyglot.t('header-navigation.profile')));
			} else {

				templates.push(menuItem('customer-register', _this.polyglot.t('header-navigation.register')));

				templates.push(menuItem('customer-login', _this.polyglot.t('header-navigation.login')));
			}
		}

		if (type === 'search-purchase') {

			if (!_this.authenticated()) {

				templates.push(menuItem('search-purchase', _this.polyglot.t('header-navigation.searchOrder')));
			}
		}

		if (type === 'cart') {

			templates.push(menuItem('cart', _this.polyglot.t('header-navigation.cart')));
		}
	});

	return '\n\t\t<div id="thunder--header-navigation">\n\t\t\t<ul>\n\t\t\t\t' + templates.join('') + '\n\t\t\t</ul>\n\t\t</div>\n\t';
};

},{"lodash.kebabCase":168}],67:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<div class=\"thunder--overlay-nav\">\n\t\t\t<span class=\"thunder--close-overlay\" data-thunder-close>&times;<span>\n\t\t</div>\n\t".trim();
};

},{}],68:[function(require,module,exports){
'use strict';

module.exports = function () {
	var defaultRating = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5;


	var ratings = [1, 2, 3, 4, 5];

	return ('\n\t<select name="rating">' + ratings.map(function (r) {
		return ('\n\t\t<option value="' + r + '" ' + (defaultRating === r ? 'selected' : '') + '>' + '⭐'.repeat(r) + '</option>\n\t').trim();
	}).join('') + '\n\t</select>\n\t').trim();
};

},{}],69:[function(require,module,exports){
'use strict';

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

module.exports = function () {
	var _this = this;

	var starred = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;


	var stars = [];

	for (var i = 0; i < starred - 1; i++) {
		stars.push(1);
	}

	var rest = starred - stars.length;

	if (rest > 0) {
		stars.push(rest);
	}

	return ['<span class="thunder--review-stars" data-rating="' + starred + '">'].concat(_toConsumableArray(Array.apply(null, { length: 5 }).map(function (el, i) {
		return starred === 0 ? '<img src="' + _this.ui(star(-1))() + '">' : '<img src="' + _this.ui(star(stars[i] || 0))() + '">';
	})), ['</span>']).join('');
};

function star() {
	var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;


	if (n === -1) return 'hallow-star';
	if (n === 0) return 'empty-star';
	if (n === 1) return 'filled-star';

	return n >= 0.5 ? 'half-filled-star' : 'empty-star';
}

},{}],70:[function(require,module,exports){
"use strict";

module.exports = function () {

	return "\n\t\t<div class=\"thunder--section-spinner-wrapper\">\n\t\t\t<span class=\"thunder--section-spinner\"></span>\n\t\t</div>\n\t".trim();
};

},{}],71:[function(require,module,exports){
'use strict';

module.exports = function () {
	var _this = this;

	var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var _options$type = options.type,
	    type = _options$type === undefined ? 'login' : _options$type,
	    _options$vendors = options.vendors,
	    vendors = _options$vendors === undefined ? ['facebook', 'google', 'instagram', 'naver', 'kakao'] : _options$vendors,
	    _options$logos = options.logos,
	    logos = _options$logos === undefined ? {
		facebook: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path d="M19.4.5H1.6C1 .5.5 1 .5 1.6v17.8c0 .6.5 1.1 1.1 1.1h9.6v-7.7H8.6v-3h2.6V7.5c0-2.6 1.6-4 3.9-4 .8 0 1.6 0 2.3.1v2.7h-1.6c-1.3 0-1.5.6-1.5 1.5v1.9h3l-.4 3h-2.6v7.7h5.1c.6 0 1.1-.5 1.1-1.1V1.6c0-.6-.5-1.1-1.1-1.1z" fill="#fff"/></svg>',
		google: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path d="M20.1 10.7c0-.7-.1-1.4-.2-2h-9.4v3.9h5.4c-.2 1.3-.9 2.3-2 3v2.5h3.2c1.9-1.8 3-4.3 3-7.4z" fill="#4285f4"/><path d="M10.5 20.5c2.7 0 5-.9 6.6-2.4l-3.2-2.5c-.9.6-2 1-3.4 1-2.6 0-4.8-1.8-5.6-4.1H1.6V15c1.6 3.3 5 5.5 8.9 5.5z" fill="#34a853"/><path d="M4.9 12.4c-.2-.6-.3-1.2-.3-1.9s.1-1.3.3-1.9V6H1.6C.9 7.4.5 8.9.5 10.5s.4 3.1 1.1 4.5l3.3-2.6z" fill="#fbbc05"/><path d="M10.5 4.5c1.5 0 2.8.5 3.8 1.5l2.9-2.9c-1.7-1.6-4-2.6-6.7-2.6C6.6.5 3.2 2.7 1.6 6l3.3 2.6c.8-2.4 3-4.1 5.6-4.1z" fill="#ea4335"/><path d="M.5.5h20v20H.5V.5z" fill="none"/></svg>',
		instagram: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><style>.st0{fill:#fff}</style><path class="st0" d="M10.5 1.9c2.8 0 3.1 0 4.2.1 1 0 1.6.2 1.9.4.5.2.8.4 1.2.8.4.4.6.7.8 1.2.2.3.4.8.4 1.9.1 1.1.1 1.4.1 4.2s0 3.1-.1 4.2c0 1-.2 1.6-.4 1.9-.2.5-.4.8-.8 1.2-.4.4-.7.6-1.2.8-.4.1-.9.3-1.9.4-1.1.1-1.4.1-4.2.1s-3.1 0-4.2-.1c-1 0-1.6-.2-1.9-.4-.5-.2-.8-.4-1.2-.8-.4-.4-.6-.7-.8-1.2-.2-.3-.4-.8-.4-1.9-.1-1.1-.1-1.4-.1-4.2s0-3.1.1-4.2c0-1 .2-1.6.4-1.9.2-.5.4-.8.8-1.2.4-.4.7-.6 1.2-.8.3-.2.8-.4 1.9-.4 1.1-.1 1.4-.1 4.2-.1m0-1.9C7.6 0 7.3 0 6.2.1 5.1.1 4.3.3 3.6.6c-.7.2-1.3.6-1.8 1.2-.6.5-1 1.1-1.2 1.8-.3.7-.5 1.5-.5 2.6C0 7.3 0 7.6 0 10.5s0 3.2.1 4.3c.1 1.1.2 1.9.5 2.5.3.7.6 1.3 1.2 1.9.6.6 1.2.9 1.9 1.2.7.3 1.4.4 2.5.5 1.1.1 1.4.1 4.3.1s3.2 0 4.3-.1c1.1-.1 1.9-.2 2.5-.5.7-.3 1.3-.6 1.9-1.2.6-.6.9-1.2 1.2-1.9.3-.7.4-1.4.5-2.5.1-1.1.1-1.5.1-4.3s0-3.2-.1-4.3c-.1-1.1-.2-1.9-.5-2.5-.3-.7-.6-1.3-1.2-1.9-.6-.6-1.2-.9-1.9-1.2-.7-.3-1.4-.4-2.5-.5-1.1-.1-1.4-.1-4.3-.1z"/><path class="st0" d="M10.5 5.1c-3 0-5.4 2.4-5.4 5.4s2.4 5.4 5.4 5.4 5.4-2.4 5.4-5.4-2.4-5.4-5.4-5.4zm0 8.9C8.6 14 7 12.4 7 10.5S8.6 7 10.5 7 14 8.6 14 10.5 12.4 14 10.5 14z"/><circle class="st0" cx="16.1" cy="4.9" r="1.3"/></svg>',
		naver: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path fill="#fff" d="M13.5 1.8v8.8l-6-8.8H.9v17.5h6.6v-8.9l6 8.9h6.6V1.8z"/></svg>',
		kakao: '<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21"><path d="M10.5 1.7C5 1.7.5 5.2.5 9.6c0 2.8 1.9 5.3 4.7 6.7-.2.8-.8 2.8-.9 3.3-.1.5.2.5.4.4.2-.1 2.7-1.9 3.8-2.6.6.1 1.2.1 1.9.1 5.5 0 10-3.5 10-7.9S16 1.7 10.5 1.7z" fill="#3c1e1e"/></svg>'
	} : _options$logos;


	vendors = typeof vendors === 'string' ? vendors.split(',').filter(function (v) {
		return v;
	}) : vendors;

	if (vendors.length === 0) {
		return '';
	}

	return ('\n\t\t<ul class="thunder--social-app-actions thunder--social-app-' + type + '">\n\t\t\t' + vendors.map(function (vendor) {
		return '\n\t\t\t<li class="thunder-social-app-' + vendor + '">\n\t\t\t\t<button data-social-app="' + vendor + '">\n\t\t\t\t\t<span class="thunder--social-app-logo">' + logos[vendor] + '</span>\n\t\t\t\t\t<span class="thunder--social-app-button-message">' + _this.polyglot.t('social-login.' + type + 'By' + (vendor[0].toUpperCase() + vendor.slice(1))) + '</span>\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t\t';
	}).join('') + '\n\t\t</ul>\n\t').trim();
};

},{}],72:[function(require,module,exports){
'use strict';

var get = require('lodash.get');

module.exports = function ($button, context) {
	var _this = this;

	var history = get(context, 'options.back');

	if (!$button || !history) return;

	var $container = history.$container,
	    component = history.component,
	    options = history.options;


	$button.on('click', function (event) {

		if (event) event.preventDefault();

		return _this.render($container, component, options || {});
	});
};

},{"lodash.get":167}],73:[function(require,module,exports){
"use strict";

module.exports = function () {
	var _this = this;

	this.options.recaptcha.queue.forEach(function (option) {

		_this.util.makeRecaptcha(option.componentName, option.$button, option.fn);
	});

	this.options.recaptcha.queue = [];
};

},{}],74:[function(require,module,exports){
'use strict';

module.exports = function ($container) {

	var Thunder = this;

	var $socialButton = $container.find('[data-social-app]');

	$socialButton.on('click', function () {

		var vendor = $(this).data('socialApp');

		Thunder.request({
			method: 'POST',
			url: '/v1/customers/auth/' + vendor
		}).done(function (data) {

			location.replace(data.redirect);
		}).fail(function (res, status) {

			// TODO: Error handling

		});
	});
};

},{}],75:[function(require,module,exports){
'use strict';

module.exports = function () {
	var code = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
	var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';


	if (!code || !name) return '';

	var flag = code.toUpperCase().replace(/./g, function (char) {
		return String.fromCodePoint(char.charCodeAt(0) + 127397);
	});

	return [flag, name].filter(function (v) {
		return v;
	}).join(' ');
};

},{}],76:[function(require,module,exports){
'use strict';

var get = require('lodash.get');

module.exports = function (customer) {

	if (!customer) return null;

	var _iteratorNormalCompletion = true;
	var _didIteratorError = false;
	var _iteratorError = undefined;

	try {
		for (var _iterator = this.options.customerIdentity[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
			var field = _step.value;


			var value = get(customer, field);

			if (value) {
				return value;
			}
		}
	} catch (err) {
		_didIteratorError = true;
		_iteratorError = err;
	} finally {
		try {
			if (!_iteratorNormalCompletion && _iterator.return) {
				_iterator.return();
			}
		} finally {
			if (_didIteratorError) {
				throw _iteratorError;
			}
		}
	}

	return null;
};

},{"lodash.get":167}],77:[function(require,module,exports){
'use strict';

module.exports = function (text, length) {

	if (typeof length !== 'number') {
		return text;
	}

	// Remove HTML tags
	text = $('<div>' + (text || '') + '</div>').text();

	var reduced = text.replace(/\s+/g, ' ') // Replace all empty spaced to one space
	.trim().slice(0, length).trim();

	return text.length <= length ? reduced : reduced + '...';
};

},{}],78:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function ($container) {
	var menuItems = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];


	var id = Math.random().toString().slice(2);

	var itemMap = menuItems.reduce(function (o, item, i) {
		return set(o, [id + '.' + i], item);
	}, {});

	var items = menuItems.map(function (item, i) {
		return '<li><span data-scroll-to="' + id + '.' + i + '">' + item.name + '</span></li>';
	}).join('');

	$container.addClass('thunder--following-nav-container').addClass('sticky').html('<ul class="thunder--following-nav">' + items + '</ul>');

	$container.on('click', '[data-scroll-to]', function (event) {

		event.preventDefault();

		var itemId = $(this).data('scrollTo');
		var item = itemMap[itemId];

		return item.$el.get(0).scrollIntoView();
	});
};

},{"lodash.set":172}],79:[function(require,module,exports){
'use strict';

var set = require('lodash.set');

module.exports = function (serialized) {

	var data = {};

	serialized.forEach(function (d) {
		return set(data, d.name, d.value || null);
	});

	return data;
};

},{"lodash.set":172}],80:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

module.exports = function (number) {
	var currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


	if (typeof number !== 'number') {

		return '';
	}

	var precision = currency.precision,
	    _currency$delimiter = currency.delimiter,
	    delimiter = _currency$delimiter === undefined ? {} : _currency$delimiter;
	var _delimiter$thousands = delimiter.thousands,
	    thousands = _delimiter$thousands === undefined ? '' : _delimiter$thousands,
	    _delimiter$decimal = delimiter.decimal,
	    decimal = _delimiter$decimal === undefined ? '.' : _delimiter$decimal;


	if (typeof precision === 'number') {

		number = this.util.toPrecision(number, precision);
	}

	var _String$split = String(number).split('.'),
	    _String$split2 = _slicedToArray(_String$split, 2),
	    a = _String$split2[0],
	    _String$split2$ = _String$split2[1],
	    b = _String$split2$ === undefined ? '' : _String$split2$;

	var reversedArray = a.split('').reverse();

	var segments = [];

	while (reversedArray.length) {

		segments.unshift(reversedArray.splice(0, 3).reverse().join(''));
	}

	if (precision) {

		var diff = precision - b.length;

		for (var i = 0; i < diff; i++) {
			b += '0';
		}
	}

	return [segments.join(thousands), b].join(b ? decimal : '');
};

},{}],81:[function(require,module,exports){
'use strict';

module.exports = function (number) {
	var currency = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};


	var formattedNumber = this.util.formatNumber(number, currency);

	if (!formattedNumber) {

		return '';
	}

	var _currency$symbol = currency.symbol,
	    symbol = _currency$symbol === undefined ? '' : _currency$symbol,
	    _currency$format = currency.format,
	    format = _currency$format === undefined ? '{price}' : _currency$format;


	return format.replace('{symbol}', symbol).replace('{price}', formattedNumber);
};

},{}],82:[function(require,module,exports){
'use strict';

module.exports = function () {
	var _util$urlQuery = this.util.urlQuery(),
	    action = _util$urlQuery.action,
	    customer = _util$urlQuery.customer,
	    token = _util$urlQuery.token;

	if (!action) {
		return null;
	}

	if (action && customer && token) {

		var storage = this.plugins.credentialStorage;

		storage.setItem(this.options.authStorage.customer, token);

		// Re-render header
		this.header();
	}

	var query = this.util.urlQuery();
	var payload = {};

	['action', 'customer', 'token', 'error'].forEach(function (field) {
		return payload[field] = query[field];
	});

	return payload;
};

},{}],83:[function(require,module,exports){
'use strict';

module.exports = function (image, width, height) {

	if (!image) return '';

	var dimension = [];

	width = width ? 'width=' + width : '';
	height = height ? 'height=' + height : '';

	if (width) dimension.push(width);
	if (height) dimension.push(height);

	dimension = dimension.length ? '?' + dimension.join('&') : '';

	return image.url + dimension;
};

},{}],84:[function(require,module,exports){
'use strict';

module.exports = function ($uploadForm, successCallback, errorCallback) {
	var _this = this;

	var $file = $uploadForm.find('input[type="file"]');
	var $label = $uploadForm.find('label[for="' + $file.attr('id') + '"]');
	var originalLabel = $label.text();

	return $file.on('change', function () {

		$label.html(_this.ui('button-spinner'));

		$uploadForm.ajaxSubmit({
			method: 'POST',
			url: _this.options.baseURL + '/v1/me/images',
			headers: _this.request.getRequestHeaders(),
			success: function success() {
				$label.html(originalLabel);
				return successCallback.apply(undefined, arguments);
			},
			error: function error() {
				$label.html(originalLabel);
				return errorCallback.apply(undefined, arguments);
			}
		});
	});
};

},{}],85:[function(require,module,exports){
"use strict";

module.exports = function (date) {
	var timeToCompare = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Date.now();


	return new Date(date).valueOf() - timeToCompare < 0;
};

},{}],86:[function(require,module,exports){
'use strict';

module.exports = function () {
	var tags = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
	var message = arguments[1];


	var type = tags.indexOf('error') === -1 ? 'log' : 'error';

	return console[type]('[' + tags.join(',') + '] Thunder: ' + message);
};

},{}],87:[function(require,module,exports){
'use strict';

module.exports = function ($button, options) {
	var _this = this;

	options = options || {};

	var _options = options,
	    _options$bind = _options.bind,
	    bind = _options$bind === undefined ? true : _options$bind;


	var original = $button.html();

	var run = function run() {
		return $button.html(_this.ui('button-spinner'));
	};
	var done = function done() {
		return $button.html(original);
	};

	if (bind) {
		$button.on('click', run);
	}

	return { run: run, done: done };
};

},{}],88:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

module.exports = function (componentName, $button, _callback) {

	var validate = function validate() {
		return true;
	};

	if ((typeof componentName === 'undefined' ? 'undefined' : _typeof(componentName)) === 'object') {

		var options = componentName;

		componentName = options.componentName;
		$button = options.button;
		validate = options.validate || validate;
		_callback = options.callback;
	}

	var signature = 'thunder--recaptcha-handler';

	if (!$button.hasClass(signature)) {

		$button.addClass(signature);

		$button.data('execute', ($button.data('execute') || []).concat(_callback));

		$button.on('click', function (event) {

			event.preventDefault();

			if (!validate()) return;

			$button.data('execute').forEach(function (execute) {
				return execute();
			});
		});
	}

	if (!this.util.useRecaptcha(componentName)) {
		return $button.data('execute');
	}

	var grecaptcha = window.grecaptcha;

	if (!grecaptcha || !grecaptcha.render) {

		this.options.recaptcha.queue.push({
			componentName: componentName,
			$button: $button,
			fn: _callback
		});

		return $button.data('execute');
	}

	var $challenge = $('<div class="g-recaptcha"></div>');

	$button.before($challenge);

	var challenge = $challenge.get(0);

	var id = grecaptcha.render(challenge, {
		sitekey: this.options.recaptcha.sitekey,
		size: 'invisible',
		badge: 'bottomright',
		isolated: true,
		callback: function callback(token) {
			return _callback(token, function () {
				return grecaptcha.reset(id);
			});
		},
		'expired-callback': function expiredCallback(err) {
			// TODO: Implement callback
		},
		'error-callback': function errorCallback(err) {
			// TODO: Implement callback
		}
	});

	$challenge.prop('id', 'g-recaptcha-' + id);

	var callbacks = ($button.data('execute') || []).concat(function () {
		return grecaptcha.execute(id);
	}).filter(function (fn) {
		return fn !== _callback;
	}); // Remove original callback

	$button.data('execute', callbacks);

	return $button.data('execute');
};

},{}],89:[function(require,module,exports){
'use strict';

module.exports = function (order) {

	if (!order) return null;

	if (order.status === 'placed' || order.status === 'cancelled') {
		return null;
	}

	var hasTangibleItem = order.items.reduce(function (items, item) {
		return items.concat(item, item.bundleItems || []);
	}, []).some(function (item) {
		return item.type === 'tangible';
	});

	if (!hasTangibleItem) return null;

	if (order.receivedAt) {
		return 'received';
	}

	var countByStatus = order.fulfillments.reduce(function (o, _ref) {
		var status = _ref.status;

		o[status] = o[status] || 0;
		o[status]++;
		return o;
	}, {});

	if (order.fulfillments.length === 0 || order.fulfillments.length === countByStatus.pending) {
		return 'pending';
	}

	if (order.fulfillments.length === countByStatus.arrived) {
		return 'arrived';
	}

	return 'shipped';
};

},{}],90:[function(require,module,exports){
'use strict';

module.exports = function (value) {

		return typeof value === 'string' ? value.split(',') : value;
};

},{}],91:[function(require,module,exports){
'use strict';

module.exports = function (product, variant) {

	return [].concat(product.name, variant && variant.types.length ? this.util.variantName(variant) : []).join(' / ');
};

},{}],92:[function(require,module,exports){
'use strict';

module.exports = function ($container) {

		$container.find('.thunder--quantity').each(function () {
				var _this = this;

				var min = parseInt($(this).attr('min') || 0);
				var max = parseInt($(this).attr('max') || 100);

				var $wrapper = $('\n\t\t\t<span class="thunder--quantity-wrapper"></span>\n\t\t');

				$(this).wrap($wrapper);

				var $dec = $('<span class="thunder--quantity-action" data-type="dec">-</span>');
				var $inc = $('<span class="thunder--quantity-action" data-type="inc">+</span>');

				$dec.insertBefore($(this));
				$inc.insertAfter($(this));

				$dec.on('click', function () {

						var oldVal = parseInt($(_this).val());
						var newVal = oldVal - 1;

						if (oldVal === min) {
								return;
						}

						$(_this).val(newVal);
						$(_this).trigger('change');
				});

				$inc.on('click', function () {

						var oldVal = parseInt($(_this).val());
						var newVal = oldVal + 1;

						if (oldVal === max) {
								return;
						}

						$(_this).val(newVal);
						$(_this).trigger('change');
				});
		});
};

},{}],93:[function(require,module,exports){
'use strict';

var get = require('lodash.get');

var HandlerError = function HandlerError(code, message) {

	var error = new Error(message);

	error.code = code;

	return error;
};

module.exports = function (res, codeToMessage) {
	var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};


	if (!res.error) {
		// Not an error case
		return callback();
	}

	// Find a Clayful error code
	var errorCode = get(res, 'errorCode', null);

	var messageGetter = codeToMessage[errorCode];
	var defaultMessage = codeToMessage.default;
	var message = messageGetter ? typeof messageGetter === 'function' ? messageGetter(res) || defaultMessage : messageGetter.message || messageGetter || defaultMessage : defaultMessage;

	if (message) {
		this.plugins.notification(get(messageGetter, 'type') || 'error', message);
		return callback(HandlerError(errorCode, message));
	}

	return callback(HandlerError('unknown', 'Unknown Error'));
};

},{"lodash.get":167}],94:[function(require,module,exports){
'use strict';

module.exports = function () {
	var text = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';


	return $('<div>' + text + '</div>').text();
};

},{}],95:[function(require,module,exports){
"use strict";

module.exports = function () {
	var number = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
	var precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;


	var n = Math.pow(10, precision);

	return Math.round(number * n) / n;
};

},{}],96:[function(require,module,exports){
'use strict';

module.exports = function (name) {

	return this.uis[name] ? this.uis[name]() : '';
};

},{}],97:[function(require,module,exports){
'use strict';

module.exports = function (data) {

	if (!data) return null;

	var recaptchaField = 'g-recaptcha-response';
	var response = data[recaptchaField];

	delete data[recaptchaField];

	return response || null;
};

},{}],98:[function(require,module,exports){
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

module.exports = function () {

	// Since SPA(Single Page App) might use hashbang(/#/?hello=world) in its url,
	// `location.href` is being used to find query string.
	var _location$href$split = location.href.split('?'),
	    _location$href$split2 = _slicedToArray(_location$href$split, 2),
	    _location$href$split3 = _location$href$split2[1],
	    queryAfter = _location$href$split3 === undefined ? '' : _location$href$split3;

	// Remove URL hash


	var _queryAfter$split = queryAfter.split('#'),
	    _queryAfter$split2 = _slicedToArray(_queryAfter$split, 1),
	    search = _queryAfter$split2[0];

	if (!search) return {};

	return JSON.parse('{"' + search.replace(/&/g, '","').replace(/=/g, '":"') + '"}', function (key, value) {
		return key === '' ? value : decodeURIComponent(value);
	});
};

},{}],99:[function(require,module,exports){
"use strict";

module.exports = function (moduleName) {

	return this.options.recaptcha.sitekey && this.options.recaptcha.modules.some(function (m) {
		return m === moduleName;
	});
};

},{}],100:[function(require,module,exports){
'use strict';

module.exports = function (data) {

	if (!data.userIdOrEmail) {
		return data;
	}

	if (data.userIdOrEmail.indexOf('@') > 0) {
		data.email = data.userIdOrEmail;
	} else {
		data.userId = data.userIdOrEmail;
	}

	delete data.userIdOrEmail;

	return data;
};

},{}],101:[function(require,module,exports){
'use strict';

module.exports = function (variant) {

		return variant.types.map(function (type) {
				return type.option.name + ' - ' + type.variation.value;
		}).join(', ');
};

},{}],102:[function(require,module,exports){
require('../../modules/es6.array.find');
module.exports = require('../../modules/_core').Array.find;

},{"../../modules/_core":113,"../../modules/es6.array.find":140}],103:[function(require,module,exports){
require('../../modules/es6.array.is-array');
module.exports = require('../../modules/_core').Array.isArray;

},{"../../modules/_core":113,"../../modules/es6.array.is-array":141}],104:[function(require,module,exports){
require('../../modules/es6.string.from-code-point');
module.exports = require('../../modules/_core').String.fromCodePoint;

},{"../../modules/_core":113,"../../modules/es6.string.from-code-point":142}],105:[function(require,module,exports){
require('../../modules/es6.string.repeat');
module.exports = require('../../modules/_core').String.repeat;

},{"../../modules/_core":113,"../../modules/es6.string.repeat":143}],106:[function(require,module,exports){
module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};

},{}],107:[function(require,module,exports){
// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = require('./_wks')('unscopables');
var ArrayProto = Array.prototype;
if (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});
module.exports = function (key) {
  ArrayProto[UNSCOPABLES][key] = true;
};

},{"./_hide":122,"./_wks":139}],108:[function(require,module,exports){
var isObject = require('./_is-object');
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};

},{"./_is-object":126}],109:[function(require,module,exports){
// 0 -> Array#forEach
// 1 -> Array#map
// 2 -> Array#filter
// 3 -> Array#some
// 4 -> Array#every
// 5 -> Array#find
// 6 -> Array#findIndex
var ctx = require('./_ctx');
var IObject = require('./_iobject');
var toObject = require('./_to-object');
var toLength = require('./_to-length');
var asc = require('./_array-species-create');
module.exports = function (TYPE, $create) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  var create = $create || asc;
  return function ($this, callbackfn, that) {
    var O = toObject($this);
    var self = IObject(O);
    var f = ctx(callbackfn, that, 3);
    var length = toLength(self.length);
    var index = 0;
    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
    var val, res;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      val = self[index];
      res = f(val, index, O);
      if (TYPE) {
        if (IS_MAP) result[index] = res;   // map
        else if (res) switch (TYPE) {
          case 3: return true;             // some
          case 5: return val;              // find
          case 6: return index;            // findIndex
          case 2: result.push(val);        // filter
        } else if (IS_EVERY) return false; // every
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
  };
};

},{"./_array-species-create":111,"./_ctx":114,"./_iobject":124,"./_to-length":135,"./_to-object":136}],110:[function(require,module,exports){
var isObject = require('./_is-object');
var isArray = require('./_is-array');
var SPECIES = require('./_wks')('species');

module.exports = function (original) {
  var C;
  if (isArray(original)) {
    C = original.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? Array : C;
};

},{"./_is-array":125,"./_is-object":126,"./_wks":139}],111:[function(require,module,exports){
// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
var speciesConstructor = require('./_array-species-constructor');

module.exports = function (original, length) {
  return new (speciesConstructor(original))(length);
};

},{"./_array-species-constructor":110}],112:[function(require,module,exports){
var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};

},{}],113:[function(require,module,exports){
var core = module.exports = { version: '2.5.7' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef

},{}],114:[function(require,module,exports){
// optional / simple context binding
var aFunction = require('./_a-function');
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};

},{"./_a-function":106}],115:[function(require,module,exports){
// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};

},{}],116:[function(require,module,exports){
// Thank's IE8 for his funny defineProperty
module.exports = !require('./_fails')(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_fails":119}],117:[function(require,module,exports){
var isObject = require('./_is-object');
var document = require('./_global').document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};

},{"./_global":120,"./_is-object":126}],118:[function(require,module,exports){
var global = require('./_global');
var core = require('./_core');
var hide = require('./_hide');
var redefine = require('./_redefine');
var ctx = require('./_ctx');
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
  var key, own, out, exp;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if (target) redefine(target, key, out, type & $export.U);
    // export
    if (exports[key] != out) hide(exports, key, exp);
    if (IS_PROTO && expProto[key] != out) expProto[key] = out;
  }
};
global.core = core;
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;

},{"./_core":113,"./_ctx":114,"./_global":120,"./_hide":122,"./_redefine":130}],119:[function(require,module,exports){
module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};

},{}],120:[function(require,module,exports){
// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef

},{}],121:[function(require,module,exports){
var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};

},{}],122:[function(require,module,exports){
var dP = require('./_object-dp');
var createDesc = require('./_property-desc');
module.exports = require('./_descriptors') ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};

},{"./_descriptors":116,"./_object-dp":128,"./_property-desc":129}],123:[function(require,module,exports){
module.exports = !require('./_descriptors') && !require('./_fails')(function () {
  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;
});

},{"./_descriptors":116,"./_dom-create":117,"./_fails":119}],124:[function(require,module,exports){
// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = require('./_cof');
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};

},{"./_cof":112}],125:[function(require,module,exports){
// 7.2.2 IsArray(argument)
var cof = require('./_cof');
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};

},{"./_cof":112}],126:[function(require,module,exports){
module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};

},{}],127:[function(require,module,exports){
module.exports = false;

},{}],128:[function(require,module,exports){
var anObject = require('./_an-object');
var IE8_DOM_DEFINE = require('./_ie8-dom-define');
var toPrimitive = require('./_to-primitive');
var dP = Object.defineProperty;

exports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};

},{"./_an-object":108,"./_descriptors":116,"./_ie8-dom-define":123,"./_to-primitive":137}],129:[function(require,module,exports){
module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};

},{}],130:[function(require,module,exports){
var global = require('./_global');
var hide = require('./_hide');
var has = require('./_has');
var SRC = require('./_uid')('src');
var TO_STRING = 'toString';
var $toString = Function[TO_STRING];
var TPL = ('' + $toString).split(TO_STRING);

require('./_core').inspectSource = function (it) {
  return $toString.call(it);
};

(module.exports = function (O, key, val, safe) {
  var isFunction = typeof val == 'function';
  if (isFunction) has(val, 'name') || hide(val, 'name', key);
  if (O[key] === val) return;
  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
  if (O === global) {
    O[key] = val;
  } else if (!safe) {
    delete O[key];
    hide(O, key, val);
  } else if (O[key]) {
    O[key] = val;
  } else {
    hide(O, key, val);
  }
// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
})(Function.prototype, TO_STRING, function toString() {
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});

},{"./_core":113,"./_global":120,"./_has":121,"./_hide":122,"./_uid":138}],131:[function(require,module,exports){
var core = require('./_core');
var global = require('./_global');
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: require('./_library') ? 'pure' : 'global',
  copyright: '© 2018 Denis Pushkarev (zloirock.ru)'
});

},{"./_core":113,"./_global":120,"./_library":127}],132:[function(require,module,exports){
'use strict';
var toInteger = require('./_to-integer');
var defined = require('./_defined');

module.exports = function repeat(count) {
  var str = String(defined(this));
  var res = '';
  var n = toInteger(count);
  if (n < 0 || n == Infinity) throw RangeError("Count can't be negative");
  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) res += str;
  return res;
};

},{"./_defined":115,"./_to-integer":134}],133:[function(require,module,exports){
var toInteger = require('./_to-integer');
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};

},{"./_to-integer":134}],134:[function(require,module,exports){
// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};

},{}],135:[function(require,module,exports){
// 7.1.15 ToLength
var toInteger = require('./_to-integer');
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};

},{"./_to-integer":134}],136:[function(require,module,exports){
// 7.1.13 ToObject(argument)
var defined = require('./_defined');
module.exports = function (it) {
  return Object(defined(it));
};

},{"./_defined":115}],137:[function(require,module,exports){
// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = require('./_is-object');
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};

},{"./_is-object":126}],138:[function(require,module,exports){
var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};

},{}],139:[function(require,module,exports){
var store = require('./_shared')('wks');
var uid = require('./_uid');
var Symbol = require('./_global').Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;

},{"./_global":120,"./_shared":131,"./_uid":138}],140:[function(require,module,exports){
'use strict';
// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)
var $export = require('./_export');
var $find = require('./_array-methods')(5);
var KEY = 'find';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  find: function find(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
require('./_add-to-unscopables')(KEY);

},{"./_add-to-unscopables":107,"./_array-methods":109,"./_export":118}],141:[function(require,module,exports){
// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)
var $export = require('./_export');

$export($export.S, 'Array', { isArray: require('./_is-array') });

},{"./_export":118,"./_is-array":125}],142:[function(require,module,exports){
var $export = require('./_export');
var toAbsoluteIndex = require('./_to-absolute-index');
var fromCharCode = String.fromCharCode;
var $fromCodePoint = String.fromCodePoint;

// length should be 1, old FF problem
$export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), 'String', {
  // 21.1.2.2 String.fromCodePoint(...codePoints)
  fromCodePoint: function fromCodePoint(x) { // eslint-disable-line no-unused-vars
    var res = [];
    var aLen = arguments.length;
    var i = 0;
    var code;
    while (aLen > i) {
      code = +arguments[i++];
      if (toAbsoluteIndex(code, 0x10ffff) !== code) throw RangeError(code + ' is not a valid code point');
      res.push(code < 0x10000
        ? fromCharCode(code)
        : fromCharCode(((code -= 0x10000) >> 10) + 0xd800, code % 0x400 + 0xdc00)
      );
    } return res.join('');
  }
});

},{"./_export":118,"./_to-absolute-index":133}],143:[function(require,module,exports){
var $export = require('./_export');

$export($export.P, 'String', {
  // 21.1.3.13 String.prototype.repeat(count)
  repeat: require('./_string-repeat')
});

},{"./_export":118,"./_string-repeat":132}],144:[function(require,module,exports){
'use strict';

var keys = require('object-keys');
var foreach = require('foreach');
var hasSymbols = typeof Symbol === 'function' && typeof Symbol() === 'symbol';

var toStr = Object.prototype.toString;

var isFunction = function (fn) {
	return typeof fn === 'function' && toStr.call(fn) === '[object Function]';
};

var arePropertyDescriptorsSupported = function () {
	var obj = {};
	try {
		Object.defineProperty(obj, 'x', { enumerable: false, value: obj });
        /* eslint-disable no-unused-vars, no-restricted-syntax */
        for (var _ in obj) { return false; }
        /* eslint-enable no-unused-vars, no-restricted-syntax */
		return obj.x === obj;
	} catch (e) { /* this is IE 8. */
		return false;
	}
};
var supportsDescriptors = Object.defineProperty && arePropertyDescriptorsSupported();

var defineProperty = function (object, name, value, predicate) {
	if (name in object && (!isFunction(predicate) || !predicate())) {
		return;
	}
	if (supportsDescriptors) {
		Object.defineProperty(object, name, {
			configurable: true,
			enumerable: false,
			value: value,
			writable: true
		});
	} else {
		object[name] = value;
	}
};

var defineProperties = function (object, map) {
	var predicates = arguments.length > 2 ? arguments[2] : {};
	var props = keys(map);
	if (hasSymbols) {
		props = props.concat(Object.getOwnPropertySymbols(map));
	}
	foreach(props, function (name) {
		defineProperty(object, name, map[name], predicates[name]);
	});
};

defineProperties.supportsDescriptors = !!supportsDescriptors;

module.exports = defineProperties;

},{"foreach":157,"object-keys":145}],145:[function(require,module,exports){
'use strict';

// modified from https://github.com/es-shims/es5-shim
var has = Object.prototype.hasOwnProperty;
var toStr = Object.prototype.toString;
var slice = Array.prototype.slice;
var isArgs = require('./isArguments');
var isEnumerable = Object.prototype.propertyIsEnumerable;
var hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');
var hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');
var dontEnums = [
	'toString',
	'toLocaleString',
	'valueOf',
	'hasOwnProperty',
	'isPrototypeOf',
	'propertyIsEnumerable',
	'constructor'
];
var equalsConstructorPrototype = function (o) {
	var ctor = o.constructor;
	return ctor && ctor.prototype === o;
};
var excludedKeys = {
	$applicationCache: true,
	$console: true,
	$external: true,
	$frame: true,
	$frameElement: true,
	$frames: true,
	$innerHeight: true,
	$innerWidth: true,
	$outerHeight: true,
	$outerWidth: true,
	$pageXOffset: true,
	$pageYOffset: true,
	$parent: true,
	$scrollLeft: true,
	$scrollTop: true,
	$scrollX: true,
	$scrollY: true,
	$self: true,
	$webkitIndexedDB: true,
	$webkitStorageInfo: true,
	$window: true
};
var hasAutomationEqualityBug = (function () {
	/* global window */
	if (typeof window === 'undefined') { return false; }
	for (var k in window) {
		try {
			if (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {
				try {
					equalsConstructorPrototype(window[k]);
				} catch (e) {
					return true;
				}
			}
		} catch (e) {
			return true;
		}
	}
	return false;
}());
var equalsConstructorPrototypeIfNotBuggy = function (o) {
	/* global window */
	if (typeof window === 'undefined' || !hasAutomationEqualityBug) {
		return equalsConstructorPrototype(o);
	}
	try {
		return equalsConstructorPrototype(o);
	} catch (e) {
		return false;
	}
};

var keysShim = function keys(object) {
	var isObject = object !== null && typeof object === 'object';
	var isFunction = toStr.call(object) === '[object Function]';
	var isArguments = isArgs(object);
	var isString = isObject && toStr.call(object) === '[object String]';
	var theKeys = [];

	if (!isObject && !isFunction && !isArguments) {
		throw new TypeError('Object.keys called on a non-object');
	}

	var skipProto = hasProtoEnumBug && isFunction;
	if (isString && object.length > 0 && !has.call(object, 0)) {
		for (var i = 0; i < object.length; ++i) {
			theKeys.push(String(i));
		}
	}

	if (isArguments && object.length > 0) {
		for (var j = 0; j < object.length; ++j) {
			theKeys.push(String(j));
		}
	} else {
		for (var name in object) {
			if (!(skipProto && name === 'prototype') && has.call(object, name)) {
				theKeys.push(String(name));
			}
		}
	}

	if (hasDontEnumBug) {
		var skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);

		for (var k = 0; k < dontEnums.length; ++k) {
			if (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {
				theKeys.push(dontEnums[k]);
			}
		}
	}
	return theKeys;
};

keysShim.shim = function shimObjectKeys() {
	if (Object.keys) {
		var keysWorksWithArguments = (function () {
			// Safari 5.0 bug
			return (Object.keys(arguments) || '').length === 2;
		}(1, 2));
		if (!keysWorksWithArguments) {
			var originalKeys = Object.keys;
			Object.keys = function keys(object) { // eslint-disable-line func-name-matching
				if (isArgs(object)) {
					return originalKeys(slice.call(object));
				} else {
					return originalKeys(object);
				}
			};
		}
	} else {
		Object.keys = keysShim;
	}
	return Object.keys || keysShim;
};

module.exports = keysShim;

},{"./isArguments":146}],146:[function(require,module,exports){
'use strict';

var toStr = Object.prototype.toString;

module.exports = function isArguments(value) {
	var str = toStr.call(value);
	var isArgs = str === '[object Arguments]';
	if (!isArgs) {
		isArgs = str !== '[object Array]' &&
			value !== null &&
			typeof value === 'object' &&
			typeof value.length === 'number' &&
			value.length >= 0 &&
			toStr.call(value.callee) === '[object Function]';
	}
	return isArgs;
};

},{}],147:[function(require,module,exports){
'use strict';

/* globals
	Set,
	Map,
	WeakSet,
	WeakMap,

	Promise,

	Symbol,
	Proxy,

	Atomics,
	SharedArrayBuffer,

	ArrayBuffer,
	DataView,
	Uint8Array,
	Float32Array,
	Float64Array,
	Int8Array,
	Int16Array,
	Int32Array,
	Uint8ClampedArray,
	Uint16Array,
	Uint32Array,
*/

var undefined; // eslint-disable-line no-shadow-restricted-names

var ThrowTypeError = Object.getOwnPropertyDescriptor
	? (function () { return Object.getOwnPropertyDescriptor(arguments, 'callee').get; }())
	: function () { throw new TypeError(); };

var hasSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol';

var getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto

var generator; // = function * () {};
var generatorFunction = generator ? getProto(generator) : undefined;
var asyncFn; // async function() {};
var asyncFunction = asyncFn ? asyncFn.constructor : undefined;
var asyncGen; // async function * () {};
var asyncGenFunction = asyncGen ? getProto(asyncGen) : undefined;
var asyncGenIterator = asyncGen ? asyncGen() : undefined;

var TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);

var INTRINSICS = {
	'$ %Array%': Array,
	'$ %ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,
	'$ %ArrayBufferPrototype%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer.prototype,
	'$ %ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,
	'$ %ArrayPrototype%': Array.prototype,
	'$ %ArrayProto_entries%': Array.prototype.entries,
	'$ %ArrayProto_forEach%': Array.prototype.forEach,
	'$ %ArrayProto_keys%': Array.prototype.keys,
	'$ %ArrayProto_values%': Array.prototype.values,
	'$ %AsyncFromSyncIteratorPrototype%': undefined,
	'$ %AsyncFunction%': asyncFunction,
	'$ %AsyncFunctionPrototype%': asyncFunction ? asyncFunction.prototype : undefined,
	'$ %AsyncGenerator%': asyncGen ? getProto(asyncGenIterator) : undefined,
	'$ %AsyncGeneratorFunction%': asyncGenFunction,
	'$ %AsyncGeneratorPrototype%': asyncGenFunction ? asyncGenFunction.prototype : undefined,
	'$ %AsyncIteratorPrototype%': asyncGenIterator && hasSymbols && Symbol.asyncIterator ? asyncGenIterator[Symbol.asyncIterator]() : undefined,
	'$ %Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,
	'$ %Boolean%': Boolean,
	'$ %BooleanPrototype%': Boolean.prototype,
	'$ %DataView%': typeof DataView === 'undefined' ? undefined : DataView,
	'$ %DataViewPrototype%': typeof DataView === 'undefined' ? undefined : DataView.prototype,
	'$ %Date%': Date,
	'$ %DatePrototype%': Date.prototype,
	'$ %decodeURI%': decodeURI,
	'$ %decodeURIComponent%': decodeURIComponent,
	'$ %encodeURI%': encodeURI,
	'$ %encodeURIComponent%': encodeURIComponent,
	'$ %Error%': Error,
	'$ %ErrorPrototype%': Error.prototype,
	'$ %eval%': eval, // eslint-disable-line no-eval
	'$ %EvalError%': EvalError,
	'$ %EvalErrorPrototype%': EvalError.prototype,
	'$ %Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,
	'$ %Float32ArrayPrototype%': typeof Float32Array === 'undefined' ? undefined : Float32Array.prototype,
	'$ %Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,
	'$ %Float64ArrayPrototype%': typeof Float64Array === 'undefined' ? undefined : Float64Array.prototype,
	'$ %Function%': Function,
	'$ %FunctionPrototype%': Function.prototype,
	'$ %Generator%': generator ? getProto(generator()) : undefined,
	'$ %GeneratorFunction%': generatorFunction,
	'$ %GeneratorPrototype%': generatorFunction ? generatorFunction.prototype : undefined,
	'$ %Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,
	'$ %Int8ArrayPrototype%': typeof Int8Array === 'undefined' ? undefined : Int8Array.prototype,
	'$ %Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,
	'$ %Int16ArrayPrototype%': typeof Int16Array === 'undefined' ? undefined : Int8Array.prototype,
	'$ %Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,
	'$ %Int32ArrayPrototype%': typeof Int32Array === 'undefined' ? undefined : Int32Array.prototype,
	'$ %isFinite%': isFinite,
	'$ %isNaN%': isNaN,
	'$ %IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,
	'$ %JSON%': JSON,
	'$ %JSONParse%': JSON.parse,
	'$ %Map%': typeof Map === 'undefined' ? undefined : Map,
	'$ %MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),
	'$ %MapPrototype%': typeof Map === 'undefined' ? undefined : Map.prototype,
	'$ %Math%': Math,
	'$ %Number%': Number,
	'$ %NumberPrototype%': Number.prototype,
	'$ %Object%': Object,
	'$ %ObjectPrototype%': Object.prototype,
	'$ %ObjProto_toString%': Object.prototype.toString,
	'$ %ObjProto_valueOf%': Object.prototype.valueOf,
	'$ %parseFloat%': parseFloat,
	'$ %parseInt%': parseInt,
	'$ %Promise%': typeof Promise === 'undefined' ? undefined : Promise,
	'$ %PromisePrototype%': typeof Promise === 'undefined' ? undefined : Promise.prototype,
	'$ %PromiseProto_then%': typeof Promise === 'undefined' ? undefined : Promise.prototype.then,
	'$ %Promise_all%': typeof Promise === 'undefined' ? undefined : Promise.all,
	'$ %Promise_reject%': typeof Promise === 'undefined' ? undefined : Promise.reject,
	'$ %Promise_resolve%': typeof Promise === 'undefined' ? undefined : Promise.resolve,
	'$ %Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,
	'$ %RangeError%': RangeError,
	'$ %RangeErrorPrototype%': RangeError.prototype,
	'$ %ReferenceError%': ReferenceError,
	'$ %ReferenceErrorPrototype%': ReferenceError.prototype,
	'$ %Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,
	'$ %RegExp%': RegExp,
	'$ %RegExpPrototype%': RegExp.prototype,
	'$ %Set%': typeof Set === 'undefined' ? undefined : Set,
	'$ %SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),
	'$ %SetPrototype%': typeof Set === 'undefined' ? undefined : Set.prototype,
	'$ %SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,
	'$ %SharedArrayBufferPrototype%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer.prototype,
	'$ %String%': String,
	'$ %StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,
	'$ %StringPrototype%': String.prototype,
	'$ %Symbol%': hasSymbols ? Symbol : undefined,
	'$ %SymbolPrototype%': hasSymbols ? Symbol.prototype : undefined,
	'$ %SyntaxError%': SyntaxError,
	'$ %SyntaxErrorPrototype%': SyntaxError.prototype,
	'$ %ThrowTypeError%': ThrowTypeError,
	'$ %TypedArray%': TypedArray,
	'$ %TypedArrayPrototype%': TypedArray ? TypedArray.prototype : undefined,
	'$ %TypeError%': TypeError,
	'$ %TypeErrorPrototype%': TypeError.prototype,
	'$ %Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,
	'$ %Uint8ArrayPrototype%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array.prototype,
	'$ %Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,
	'$ %Uint8ClampedArrayPrototype%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray.prototype,
	'$ %Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,
	'$ %Uint16ArrayPrototype%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array.prototype,
	'$ %Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,
	'$ %Uint32ArrayPrototype%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array.prototype,
	'$ %URIError%': URIError,
	'$ %URIErrorPrototype%': URIError.prototype,
	'$ %WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,
	'$ %WeakMapPrototype%': typeof WeakMap === 'undefined' ? undefined : WeakMap.prototype,
	'$ %WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet,
	'$ %WeakSetPrototype%': typeof WeakSet === 'undefined' ? undefined : WeakSet.prototype
};

module.exports = function GetIntrinsic(name, allowMissing) {
	if (arguments.length > 1 && typeof allowMissing !== 'boolean') {
		throw new TypeError('"allowMissing" argument must be a boolean');
	}

	var key = '$ ' + name;
	if (!(key in INTRINSICS)) {
		throw new SyntaxError('intrinsic ' + name + ' does not exist!');
	}

	// istanbul ignore if // hopefully this is impossible to test :-)
	if (typeof INTRINSICS[key] === 'undefined' && !allowMissing) {
		throw new TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');
	}
	return INTRINSICS[key];
};

},{}],148:[function(require,module,exports){
'use strict';

var GetIntrinsic = require('./GetIntrinsic');

var $Object = GetIntrinsic('%Object%');
var $TypeError = GetIntrinsic('%TypeError%');
var $String = GetIntrinsic('%String%');

var $isNaN = require('./helpers/isNaN');
var $isFinite = require('./helpers/isFinite');

var sign = require('./helpers/sign');
var mod = require('./helpers/mod');

var IsCallable = require('is-callable');
var toPrimitive = require('es-to-primitive/es5');

var has = require('has');

// https://es5.github.io/#x9
var ES5 = {
	ToPrimitive: toPrimitive,

	ToBoolean: function ToBoolean(value) {
		return !!value;
	},
	ToNumber: function ToNumber(value) {
		return +value; // eslint-disable-line no-implicit-coercion
	},
	ToInteger: function ToInteger(value) {
		var number = this.ToNumber(value);
		if ($isNaN(number)) { return 0; }
		if (number === 0 || !$isFinite(number)) { return number; }
		return sign(number) * Math.floor(Math.abs(number));
	},
	ToInt32: function ToInt32(x) {
		return this.ToNumber(x) >> 0;
	},
	ToUint32: function ToUint32(x) {
		return this.ToNumber(x) >>> 0;
	},
	ToUint16: function ToUint16(value) {
		var number = this.ToNumber(value);
		if ($isNaN(number) || number === 0 || !$isFinite(number)) { return 0; }
		var posInt = sign(number) * Math.floor(Math.abs(number));
		return mod(posInt, 0x10000);
	},
	ToString: function ToString(value) {
		return $String(value);
	},
	ToObject: function ToObject(value) {
		this.CheckObjectCoercible(value);
		return $Object(value);
	},
	CheckObjectCoercible: function CheckObjectCoercible(value, optMessage) {
		/* jshint eqnull:true */
		if (value == null) {
			throw new $TypeError(optMessage || 'Cannot call method on ' + value);
		}
		return value;
	},
	IsCallable: IsCallable,
	SameValue: function SameValue(x, y) {
		if (x === y) { // 0 === -0, but they are not identical.
			if (x === 0) { return 1 / x === 1 / y; }
			return true;
		}
		return $isNaN(x) && $isNaN(y);
	},

	// https://www.ecma-international.org/ecma-262/5.1/#sec-8
	Type: function Type(x) {
		if (x === null) {
			return 'Null';
		}
		if (typeof x === 'undefined') {
			return 'Undefined';
		}
		if (typeof x === 'function' || typeof x === 'object') {
			return 'Object';
		}
		if (typeof x === 'number') {
			return 'Number';
		}
		if (typeof x === 'boolean') {
			return 'Boolean';
		}
		if (typeof x === 'string') {
			return 'String';
		}
	},

	// https://ecma-international.org/ecma-262/6.0/#sec-property-descriptor-specification-type
	IsPropertyDescriptor: function IsPropertyDescriptor(Desc) {
		if (this.Type(Desc) !== 'Object') {
			return false;
		}
		var allowed = {
			'[[Configurable]]': true,
			'[[Enumerable]]': true,
			'[[Get]]': true,
			'[[Set]]': true,
			'[[Value]]': true,
			'[[Writable]]': true
		};
		// jscs:disable
		for (var key in Desc) { // eslint-disable-line
			if (has(Desc, key) && !allowed[key]) {
				return false;
			}
		}
		// jscs:enable
		var isData = has(Desc, '[[Value]]');
		var IsAccessor = has(Desc, '[[Get]]') || has(Desc, '[[Set]]');
		if (isData && IsAccessor) {
			throw new $TypeError('Property Descriptors may not be both accessor and data descriptors');
		}
		return true;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.1
	IsAccessorDescriptor: function IsAccessorDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return false;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (!has(Desc, '[[Get]]') && !has(Desc, '[[Set]]')) {
			return false;
		}

		return true;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.2
	IsDataDescriptor: function IsDataDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return false;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (!has(Desc, '[[Value]]') && !has(Desc, '[[Writable]]')) {
			return false;
		}

		return true;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.3
	IsGenericDescriptor: function IsGenericDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return false;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (!this.IsAccessorDescriptor(Desc) && !this.IsDataDescriptor(Desc)) {
			return true;
		}

		return false;
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.4
	FromPropertyDescriptor: function FromPropertyDescriptor(Desc) {
		if (typeof Desc === 'undefined') {
			return Desc;
		}

		if (!this.IsPropertyDescriptor(Desc)) {
			throw new $TypeError('Desc must be a Property Descriptor');
		}

		if (this.IsDataDescriptor(Desc)) {
			return {
				value: Desc['[[Value]]'],
				writable: !!Desc['[[Writable]]'],
				enumerable: !!Desc['[[Enumerable]]'],
				configurable: !!Desc['[[Configurable]]']
			};
		} else if (this.IsAccessorDescriptor(Desc)) {
			return {
				get: Desc['[[Get]]'],
				set: Desc['[[Set]]'],
				enumerable: !!Desc['[[Enumerable]]'],
				configurable: !!Desc['[[Configurable]]']
			};
		} else {
			throw new $TypeError('FromPropertyDescriptor must be called with a fully populated Property Descriptor');
		}
	},

	// https://ecma-international.org/ecma-262/5.1/#sec-8.10.5
	ToPropertyDescriptor: function ToPropertyDescriptor(Obj) {
		if (this.Type(Obj) !== 'Object') {
			throw new $TypeError('ToPropertyDescriptor requires an object');
		}

		var desc = {};
		if (has(Obj, 'enumerable')) {
			desc['[[Enumerable]]'] = this.ToBoolean(Obj.enumerable);
		}
		if (has(Obj, 'configurable')) {
			desc['[[Configurable]]'] = this.ToBoolean(Obj.configurable);
		}
		if (has(Obj, 'value')) {
			desc['[[Value]]'] = Obj.value;
		}
		if (has(Obj, 'writable')) {
			desc['[[Writable]]'] = this.ToBoolean(Obj.writable);
		}
		if (has(Obj, 'get')) {
			var getter = Obj.get;
			if (typeof getter !== 'undefined' && !this.IsCallable(getter)) {
				throw new TypeError('getter must be a function');
			}
			desc['[[Get]]'] = getter;
		}
		if (has(Obj, 'set')) {
			var setter = Obj.set;
			if (typeof setter !== 'undefined' && !this.IsCallable(setter)) {
				throw new $TypeError('setter must be a function');
			}
			desc['[[Set]]'] = setter;
		}

		if ((has(desc, '[[Get]]') || has(desc, '[[Set]]')) && (has(desc, '[[Value]]') || has(desc, '[[Writable]]'))) {
			throw new $TypeError('Invalid property descriptor. Cannot both specify accessors and a value or writable attribute');
		}
		return desc;
	}
};

module.exports = ES5;

},{"./GetIntrinsic":147,"./helpers/isFinite":149,"./helpers/isNaN":150,"./helpers/mod":151,"./helpers/sign":152,"es-to-primitive/es5":153,"has":160,"is-callable":162}],149:[function(require,module,exports){
var $isNaN = Number.isNaN || function (a) { return a !== a; };

module.exports = Number.isFinite || function (x) { return typeof x === 'number' && !$isNaN(x) && x !== Infinity && x !== -Infinity; };

},{}],150:[function(require,module,exports){
module.exports = Number.isNaN || function isNaN(a) {
	return a !== a;
};

},{}],151:[function(require,module,exports){
module.exports = function mod(number, modulo) {
	var remain = number % modulo;
	return Math.floor(remain >= 0 ? remain : remain + modulo);
};

},{}],152:[function(require,module,exports){
module.exports = function sign(number) {
	return number >= 0 ? 1 : -1;
};

},{}],153:[function(require,module,exports){
'use strict';

var toStr = Object.prototype.toString;

var isPrimitive = require('./helpers/isPrimitive');

var isCallable = require('is-callable');

// https://es5.github.io/#x8.12
var ES5internalSlots = {
	'[[DefaultValue]]': function (O, hint) {
		var actualHint = hint || (toStr.call(O) === '[object Date]' ? String : Number);

		if (actualHint === String || actualHint === Number) {
			var methods = actualHint === String ? ['toString', 'valueOf'] : ['valueOf', 'toString'];
			var value, i;
			for (i = 0; i < methods.length; ++i) {
				if (isCallable(O[methods[i]])) {
					value = O[methods[i]]();
					if (isPrimitive(value)) {
						return value;
					}
				}
			}
			throw new TypeError('No default value');
		}
		throw new TypeError('invalid [[DefaultValue]] hint supplied');
	}
};

// https://es5.github.io/#x9
module.exports = function ToPrimitive(input, PreferredType) {
	if (isPrimitive(input)) {
		return input;
	}
	return ES5internalSlots['[[DefaultValue]]'](input, PreferredType);
};

},{"./helpers/isPrimitive":154,"is-callable":162}],154:[function(require,module,exports){
module.exports = function isPrimitive(value) {
	return value === null || (typeof value !== 'function' && typeof value !== 'object');
};

},{}],155:[function(require,module,exports){
/**
 * EvEmitter v1.1.0
 * Lil' event emitter
 * MIT License
 */

/* jshint unused: true, undef: true, strict: true */

( function( global, factory ) {
  // universal module definition
  /* jshint strict: false */ /* globals define, module, window */
  if ( typeof define == 'function' && define.amd ) {
    // AMD - RequireJS
    define( factory );
  } else if ( typeof module == 'object' && module.exports ) {
    // CommonJS - Browserify, Webpack
    module.exports = factory();
  } else {
    // Browser globals
    global.EvEmitter = factory();
  }

}( typeof window != 'undefined' ? window : this, function() {

"use strict";

function EvEmitter() {}

var proto = EvEmitter.prototype;

proto.on = function( eventName, listener ) {
  if ( !eventName || !listener ) {
    return;
  }
  // set events hash
  var events = this._events = this._events || {};
  // set listeners array
  var listeners = events[ eventName ] = events[ eventName ] || [];
  // only add once
  if ( listeners.indexOf( listener ) == -1 ) {
    listeners.push( listener );
  }

  return this;
};

proto.once = function( eventName, listener ) {
  if ( !eventName || !listener ) {
    return;
  }
  // add event
  this.on( eventName, listener );
  // set once flag
  // set onceEvents hash
  var onceEvents = this._onceEvents = this._onceEvents || {};
  // set onceListeners object
  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};
  // set flag
  onceListeners[ listener ] = true;

  return this;
};

proto.off = function( eventName, listener ) {
  var listeners = this._events && this._events[ eventName ];
  if ( !listeners || !listeners.length ) {
    return;
  }
  var index = listeners.indexOf( listener );
  if ( index != -1 ) {
    listeners.splice( index, 1 );
  }

  return this;
};

proto.emitEvent = function( eventName, args ) {
  var listeners = this._events && this._events[ eventName ];
  if ( !listeners || !listeners.length ) {
    return;
  }
  // copy over to avoid interference if .off() in listener
  listeners = listeners.slice(0);
  args = args || [];
  // once stuff
  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];

  for ( var i=0; i < listeners.length; i++ ) {
    var listener = listeners[i]
    var isOnce = onceListeners && onceListeners[ listener ];
    if ( isOnce ) {
      // remove listener
      // remove before trigger to prevent recursion
      this.off( eventName, listener );
      // unset once flag
      delete onceListeners[ listener ];
    }
    // trigger listener
    listener.apply( this, args );
  }

  return this;
};

proto.allOff = function() {
  delete this._events;
  delete this._onceEvents;
};

return EvEmitter;

}));

},{}],156:[function(require,module,exports){
'use strict';

var isCallable = require('is-callable');

var toStr = Object.prototype.toString;
var hasOwnProperty = Object.prototype.hasOwnProperty;

var forEachArray = function forEachArray(array, iterator, receiver) {
    for (var i = 0, len = array.length; i < len; i++) {
        if (hasOwnProperty.call(array, i)) {
            if (receiver == null) {
                iterator(array[i], i, array);
            } else {
                iterator.call(receiver, array[i], i, array);
            }
        }
    }
};

var forEachString = function forEachString(string, iterator, receiver) {
    for (var i = 0, len = string.length; i < len; i++) {
        // no such thing as a sparse string.
        if (receiver == null) {
            iterator(string.charAt(i), i, string);
        } else {
            iterator.call(receiver, string.charAt(i), i, string);
        }
    }
};

var forEachObject = function forEachObject(object, iterator, receiver) {
    for (var k in object) {
        if (hasOwnProperty.call(object, k)) {
            if (receiver == null) {
                iterator(object[k], k, object);
            } else {
                iterator.call(receiver, object[k], k, object);
            }
        }
    }
};

var forEach = function forEach(list, iterator, thisArg) {
    if (!isCallable(iterator)) {
        throw new TypeError('iterator must be a function');
    }

    var receiver;
    if (arguments.length >= 3) {
        receiver = thisArg;
    }

    if (toStr.call(list) === '[object Array]') {
        forEachArray(list, iterator, receiver);
    } else if (typeof list === 'string') {
        forEachString(list, iterator, receiver);
    } else {
        forEachObject(list, iterator, receiver);
    }
};

module.exports = forEach;

},{"is-callable":162}],157:[function(require,module,exports){

var hasOwn = Object.prototype.hasOwnProperty;
var toString = Object.prototype.toString;

module.exports = function forEach (obj, fn, ctx) {
    if (toString.call(fn) !== '[object Function]') {
        throw new TypeError('iterator must be a function');
    }
    var l = obj.length;
    if (l === +l) {
        for (var i = 0; i < l; i++) {
            fn.call(ctx, obj[i], i, obj);
        }
    } else {
        for (var k in obj) {
            if (hasOwn.call(obj, k)) {
                fn.call(ctx, obj[k], k, obj);
            }
        }
    }
};


},{}],158:[function(require,module,exports){
'use strict';

/* eslint no-invalid-this: 1 */

var ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';
var slice = Array.prototype.slice;
var toStr = Object.prototype.toString;
var funcType = '[object Function]';

module.exports = function bind(that) {
    var target = this;
    if (typeof target !== 'function' || toStr.call(target) !== funcType) {
        throw new TypeError(ERROR_MESSAGE + target);
    }
    var args = slice.call(arguments, 1);

    var bound;
    var binder = function () {
        if (this instanceof bound) {
            var result = target.apply(
                this,
                args.concat(slice.call(arguments))
            );
            if (Object(result) === result) {
                return result;
            }
            return this;
        } else {
            return target.apply(
                that,
                args.concat(slice.call(arguments))
            );
        }
    };

    var boundLength = Math.max(0, target.length - args.length);
    var boundArgs = [];
    for (var i = 0; i < boundLength; i++) {
        boundArgs.push('$' + i);
    }

    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);

    if (target.prototype) {
        var Empty = function Empty() {};
        Empty.prototype = target.prototype;
        bound.prototype = new Empty();
        Empty.prototype = null;
    }

    return bound;
};

},{}],159:[function(require,module,exports){
'use strict';

var implementation = require('./implementation');

module.exports = Function.prototype.bind || implementation;

},{"./implementation":158}],160:[function(require,module,exports){
'use strict';

var bind = require('function-bind');

module.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);

},{"function-bind":159}],161:[function(require,module,exports){
/*!
 * imagesLoaded v4.1.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */

( function( window, factory ) { 'use strict';
  // universal module definition

  /*global define: false, module: false, require: false */

  if ( typeof define == 'function' && define.amd ) {
    // AMD
    define( [
      'ev-emitter/ev-emitter'
    ], function( EvEmitter ) {
      return factory( window, EvEmitter );
    });
  } else if ( typeof module == 'object' && module.exports ) {
    // CommonJS
    module.exports = factory(
      window,
      require('ev-emitter')
    );
  } else {
    // browser global
    window.imagesLoaded = factory(
      window,
      window.EvEmitter
    );
  }

})( typeof window !== 'undefined' ? window : this,

// --------------------------  factory -------------------------- //

function factory( window, EvEmitter ) {

'use strict';

var $ = window.jQuery;
var console = window.console;

// -------------------------- helpers -------------------------- //

// extend objects
function extend( a, b ) {
  for ( var prop in b ) {
    a[ prop ] = b[ prop ];
  }
  return a;
}

var arraySlice = Array.prototype.slice;

// turn element or nodeList into an array
function makeArray( obj ) {
  if ( Array.isArray( obj ) ) {
    // use object if already an array
    return obj;
  }

  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';
  if ( isArrayLike ) {
    // convert nodeList to array
    return arraySlice.call( obj );
  }

  // array of single index
  return [ obj ];
}

// -------------------------- imagesLoaded -------------------------- //

/**
 * @param {Array, Element, NodeList, String} elem
 * @param {Object or Function} options - if function, use as callback
 * @param {Function} onAlways - callback function
 */
function ImagesLoaded( elem, options, onAlways ) {
  // coerce ImagesLoaded() without new, to be new ImagesLoaded()
  if ( !( this instanceof ImagesLoaded ) ) {
    return new ImagesLoaded( elem, options, onAlways );
  }
  // use elem as selector string
  var queryElem = elem;
  if ( typeof elem == 'string' ) {
    queryElem = document.querySelectorAll( elem );
  }
  // bail if bad element
  if ( !queryElem ) {
    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );
    return;
  }

  this.elements = makeArray( queryElem );
  this.options = extend( {}, this.options );
  // shift arguments if no options set
  if ( typeof options == 'function' ) {
    onAlways = options;
  } else {
    extend( this.options, options );
  }

  if ( onAlways ) {
    this.on( 'always', onAlways );
  }

  this.getImages();

  if ( $ ) {
    // add jQuery Deferred object
    this.jqDeferred = new $.Deferred();
  }

  // HACK check async to allow time to bind listeners
  setTimeout( this.check.bind( this ) );
}

ImagesLoaded.prototype = Object.create( EvEmitter.prototype );

ImagesLoaded.prototype.options = {};

ImagesLoaded.prototype.getImages = function() {
  this.images = [];

  // filter & find items if we have an item selector
  this.elements.forEach( this.addElementImages, this );
};

/**
 * @param {Node} element
 */
ImagesLoaded.prototype.addElementImages = function( elem ) {
  // filter siblings
  if ( elem.nodeName == 'IMG' ) {
    this.addImage( elem );
  }
  // get background image on element
  if ( this.options.background === true ) {
    this.addElementBackgroundImages( elem );
  }

  // find children
  // no non-element nodes, #143
  var nodeType = elem.nodeType;
  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {
    return;
  }
  var childImgs = elem.querySelectorAll('img');
  // concat childElems to filterFound array
  for ( var i=0; i < childImgs.length; i++ ) {
    var img = childImgs[i];
    this.addImage( img );
  }

  // get child background images
  if ( typeof this.options.background == 'string' ) {
    var children = elem.querySelectorAll( this.options.background );
    for ( i=0; i < children.length; i++ ) {
      var child = children[i];
      this.addElementBackgroundImages( child );
    }
  }
};

var elementNodeTypes = {
  1: true,
  9: true,
  11: true
};

ImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {
  var style = getComputedStyle( elem );
  if ( !style ) {
    // Firefox returns null if in a hidden iframe https://bugzil.la/548397
    return;
  }
  // get url inside url("...")
  var reURL = /url\((['"])?(.*?)\1\)/gi;
  var matches = reURL.exec( style.backgroundImage );
  while ( matches !== null ) {
    var url = matches && matches[2];
    if ( url ) {
      this.addBackground( url, elem );
    }
    matches = reURL.exec( style.backgroundImage );
  }
};

/**
 * @param {Image} img
 */
ImagesLoaded.prototype.addImage = function( img ) {
  var loadingImage = new LoadingImage( img );
  this.images.push( loadingImage );
};

ImagesLoaded.prototype.addBackground = function( url, elem ) {
  var background = new Background( url, elem );
  this.images.push( background );
};

ImagesLoaded.prototype.check = function() {
  var _this = this;
  this.progressedCount = 0;
  this.hasAnyBroken = false;
  // complete if no images
  if ( !this.images.length ) {
    this.complete();
    return;
  }

  function onProgress( image, elem, message ) {
    // HACK - Chrome triggers event before object properties have changed. #83
    setTimeout( function() {
      _this.progress( image, elem, message );
    });
  }

  this.images.forEach( function( loadingImage ) {
    loadingImage.once( 'progress', onProgress );
    loadingImage.check();
  });
};

ImagesLoaded.prototype.progress = function( image, elem, message ) {
  this.progressedCount++;
  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;
  // progress event
  this.emitEvent( 'progress', [ this, image, elem ] );
  if ( this.jqDeferred && this.jqDeferred.notify ) {
    this.jqDeferred.notify( this, image );
  }
  // check if completed
  if ( this.progressedCount == this.images.length ) {
    this.complete();
  }

  if ( this.options.debug && console ) {
    console.log( 'progress: ' + message, image, elem );
  }
};

ImagesLoaded.prototype.complete = function() {
  var eventName = this.hasAnyBroken ? 'fail' : 'done';
  this.isComplete = true;
  this.emitEvent( eventName, [ this ] );
  this.emitEvent( 'always', [ this ] );
  if ( this.jqDeferred ) {
    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';
    this.jqDeferred[ jqMethod ]( this );
  }
};

// --------------------------  -------------------------- //

function LoadingImage( img ) {
  this.img = img;
}

LoadingImage.prototype = Object.create( EvEmitter.prototype );

LoadingImage.prototype.check = function() {
  // If complete is true and browser supports natural sizes,
  // try to check for image status manually.
  var isComplete = this.getIsImageComplete();
  if ( isComplete ) {
    // report based on naturalWidth
    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );
    return;
  }

  // If none of the checks above matched, simulate loading on detached element.
  this.proxyImage = new Image();
  this.proxyImage.addEventListener( 'load', this );
  this.proxyImage.addEventListener( 'error', this );
  // bind to image as well for Firefox. #191
  this.img.addEventListener( 'load', this );
  this.img.addEventListener( 'error', this );
  this.proxyImage.src = this.img.src;
};

LoadingImage.prototype.getIsImageComplete = function() {
  // check for non-zero, non-undefined naturalWidth
  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671
  return this.img.complete && this.img.naturalWidth;
};

LoadingImage.prototype.confirm = function( isLoaded, message ) {
  this.isLoaded = isLoaded;
  this.emitEvent( 'progress', [ this, this.img, message ] );
};

// ----- events ----- //

// trigger specified handler for event type
LoadingImage.prototype.handleEvent = function( event ) {
  var method = 'on' + event.type;
  if ( this[ method ] ) {
    this[ method ]( event );
  }
};

LoadingImage.prototype.onload = function() {
  this.confirm( true, 'onload' );
  this.unbindEvents();
};

LoadingImage.prototype.onerror = function() {
  this.confirm( false, 'onerror' );
  this.unbindEvents();
};

LoadingImage.prototype.unbindEvents = function() {
  this.proxyImage.removeEventListener( 'load', this );
  this.proxyImage.removeEventListener( 'error', this );
  this.img.removeEventListener( 'load', this );
  this.img.removeEventListener( 'error', this );
};

// -------------------------- Background -------------------------- //

function Background( url, element ) {
  this.url = url;
  this.element = element;
  this.img = new Image();
}

// inherit LoadingImage prototype
Background.prototype = Object.create( LoadingImage.prototype );

Background.prototype.check = function() {
  this.img.addEventListener( 'load', this );
  this.img.addEventListener( 'error', this );
  this.img.src = this.url;
  // check if image is already complete
  var isComplete = this.getIsImageComplete();
  if ( isComplete ) {
    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );
    this.unbindEvents();
  }
};

Background.prototype.unbindEvents = function() {
  this.img.removeEventListener( 'load', this );
  this.img.removeEventListener( 'error', this );
};

Background.prototype.confirm = function( isLoaded, message ) {
  this.isLoaded = isLoaded;
  this.emitEvent( 'progress', [ this, this.element, message ] );
};

// -------------------------- jQuery -------------------------- //

ImagesLoaded.makeJQueryPlugin = function( jQuery ) {
  jQuery = jQuery || window.jQuery;
  if ( !jQuery ) {
    return;
  }
  // set local variable
  $ = jQuery;
  // $().imagesLoaded()
  $.fn.imagesLoaded = function( options, callback ) {
    var instance = new ImagesLoaded( this, options, callback );
    return instance.jqDeferred.promise( $(this) );
  };
};
// try making plugin
ImagesLoaded.makeJQueryPlugin();

// --------------------------  -------------------------- //

return ImagesLoaded;

});

},{"ev-emitter":155}],162:[function(require,module,exports){
'use strict';

var fnToStr = Function.prototype.toString;

var constructorRegex = /^\s*class /;
var isES6ClassFn = function isES6ClassFn(value) {
	try {
		var fnStr = fnToStr.call(value);
		var singleStripped = fnStr.replace(/\/\/.*\n/g, '');
		var multiStripped = singleStripped.replace(/\/\*[.\s\S]*\*\//g, '');
		var spaceStripped = multiStripped.replace(/\n/mg, ' ').replace(/ {2}/g, ' ');
		return constructorRegex.test(spaceStripped);
	} catch (e) {
		return false; // not a function
	}
};

var tryFunctionObject = function tryFunctionObject(value) {
	try {
		if (isES6ClassFn(value)) { return false; }
		fnToStr.call(value);
		return true;
	} catch (e) {
		return false;
	}
};
var toStr = Object.prototype.toString;
var fnClass = '[object Function]';
var genClass = '[object GeneratorFunction]';
var hasToStringTag = typeof Symbol === 'function' && typeof Symbol.toStringTag === 'symbol';

module.exports = function isCallable(value) {
	if (!value) { return false; }
	if (typeof value !== 'function' && typeof value !== 'object') { return false; }
	if (hasToStringTag) { return tryFunctionObject(value); }
	if (isES6ClassFn(value)) { return false; }
	var strClass = toStr.call(value);
	return strClass === fnClass || strClass === genClass;
};

},{}],163:[function(require,module,exports){
(function (global){
/*!
 * jQuery Form Plugin
 * version: 4.2.2
 * Requires jQuery v1.7.2 or later
 * Project repository: https://github.com/jquery-form/form

 * Copyright 2017 Kevin Morris
 * Copyright 2006 M. Alsup

 * Dual licensed under the LGPL-2.1+ or MIT licenses
 * https://github.com/jquery-form/form#license

 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * Lesser General Public License for more details.
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,r){return void 0===r&&(r="undefined"!=typeof window?(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null):(typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null)(t)),e(r),r}:e(jQuery)}(function(e){"use strict";function t(t){var r=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(t.target).closest("form").ajaxSubmit(r))}function r(t){var r=t.target,a=e(r);if(!a.is("[type=submit],[type=image]")){var n=a.closest("[type=submit]");if(0===n.length)return;r=n[0]}var i=r.form;if(i.clk=r,"image"===r.type)if(void 0!==t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}function a(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var n=/\r?\n/g,i={};i.fileapi=void 0!==e('<input type="file">').get(0).files,i.formdata=void 0!==window.FormData;var o=!!e.fn.prop;e.fn.attr2=function(){if(!o)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t,r,n,s){function u(r){var a,n,i=e.param(r,t.traditional).split("&"),o=i.length,s=[];for(a=0;a<o;a++)i[a]=i[a].replace(/\+/g," "),n=i[a].split("="),s.push([decodeURIComponent(n[0]),decodeURIComponent(n[1])]);return s}function c(r){function n(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){a("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(r){a("cannot get iframe.contentDocument: "+r),t=e.document}return t}function i(){function t(){try{var e=n(v).readyState;a("state = "+e),e&&"uninitialized"===e.toLowerCase()&&setTimeout(t,50)}catch(e){a("Server abort: ",e," (",e.name,")"),s(L),j&&clearTimeout(j),j=void 0}}var r=p.attr2("target"),i=p.attr2("action"),o=p.attr("enctype")||p.attr("encoding")||"multipart/form-data";w.setAttribute("target",m),l&&!/post/i.test(l)||w.setAttribute("method","POST"),i!==f.url&&w.setAttribute("action",f.url),f.skipEncodingOverride||l&&!/post/i.test(l)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),f.timeout&&(j=setTimeout(function(){T=!0,s(A)},f.timeout));var u=[];try{if(f.extraData)for(var c in f.extraData)f.extraData.hasOwnProperty(c)&&(e.isPlainObject(f.extraData[c])&&f.extraData[c].hasOwnProperty("name")&&f.extraData[c].hasOwnProperty("value")?u.push(e('<input type="hidden" name="'+f.extraData[c].name+'">',k).val(f.extraData[c].value).appendTo(w)[0]):u.push(e('<input type="hidden" name="'+c+'">',k).val(f.extraData[c]).appendTo(w)[0]));f.iframeTarget||h.appendTo(D),v.attachEvent?v.attachEvent("onload",s):v.addEventListener("load",s,!1),setTimeout(t,15);try{w.submit()}catch(e){document.createElement("form").submit.apply(w)}}finally{w.setAttribute("action",i),w.setAttribute("enctype",o),r?w.setAttribute("target",r):p.removeAttr("target"),e(u).remove()}}function s(t){if(!x.aborted&&!X){if((O=n(v))||(a("cannot access response document"),t=L),t===A&&x)return x.abort("timeout"),void S.reject(x,"timeout");if(t===L&&x)return x.abort("server abort"),void S.reject(x,"error","server abort");if(O&&O.location.href!==f.iframeSrc||T){v.detachEvent?v.detachEvent("onload",s):v.removeEventListener("load",s,!1);var r,i="success";try{if(T)throw"timeout";var o="xml"===f.dataType||O.XMLDocument||e.isXMLDoc(O);if(a("isXml="+o),!o&&window.opera&&(null===O.body||!O.body.innerHTML)&&--C)return a("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=O.body?O.body:O.documentElement;x.responseText=u?u.innerHTML:null,x.responseXML=O.XMLDocument?O.XMLDocument:O,o&&(f.dataType="xml"),x.getResponseHeader=function(e){return{"content-type":f.dataType}[e.toLowerCase()]},u&&(x.status=Number(u.getAttribute("status"))||x.status,x.statusText=u.getAttribute("statusText")||x.statusText);var c=(f.dataType||"").toLowerCase(),l=/(json|script|text)/.test(c);if(l||f.textarea){var p=O.getElementsByTagName("textarea")[0];if(p)x.responseText=p.value,x.status=Number(p.getAttribute("status"))||x.status,x.statusText=p.getAttribute("statusText")||x.statusText;else if(l){var m=O.getElementsByTagName("pre")[0],g=O.getElementsByTagName("body")[0];m?x.responseText=m.textContent?m.textContent:m.innerText:g&&(x.responseText=g.textContent?g.textContent:g.innerText)}}else"xml"===c&&!x.responseXML&&x.responseText&&(x.responseXML=q(x.responseText));try{M=N(x,c,f)}catch(e){i="parsererror",x.error=r=e||i}}catch(e){a("error caught: ",e),i="error",x.error=r=e||i}x.aborted&&(a("upload aborted"),i=null),x.status&&(i=x.status>=200&&x.status<300||304===x.status?"success":"error"),"success"===i?(f.success&&f.success.call(f.context,M,"success",x),S.resolve(x.responseText,"success",x),d&&e.event.trigger("ajaxSuccess",[x,f])):i&&(void 0===r&&(r=x.statusText),f.error&&f.error.call(f.context,x,i,r),S.reject(x,"error",r),d&&e.event.trigger("ajaxError",[x,f,r])),d&&e.event.trigger("ajaxComplete",[x,f]),d&&!--e.active&&e.event.trigger("ajaxStop"),f.complete&&f.complete.call(f.context,x,i),X=!0,f.timeout&&clearTimeout(j),setTimeout(function(){f.iframeTarget?h.attr("src",f.iframeSrc):h.remove(),x.responseXML=null},100)}}}var u,c,f,d,m,h,v,x,y,b,T,j,w=p[0],S=e.Deferred();if(S.abort=function(e){x.abort(e)},r)for(c=0;c<g.length;c++)u=e(g[c]),o?u.prop("disabled",!1):u.removeAttr("disabled");(f=e.extend(!0,{},e.ajaxSettings,t)).context=f.context||f,m="jqFormIO"+(new Date).getTime();var k=w.ownerDocument,D=p.closest("body");if(f.iframeTarget?(b=(h=e(f.iframeTarget,k)).attr2("name"))?m=b:h.attr2("name",m):(h=e('<iframe name="'+m+'" src="'+f.iframeSrc+'" />',k)).css({position:"absolute",top:"-1000px",left:"-1000px"}),v=h[0],x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var r="timeout"===t?"timeout":"aborted";a("aborting upload... "+r),this.aborted=1;try{v.contentWindow.document.execCommand&&v.contentWindow.document.execCommand("Stop")}catch(e){}h.attr("src",f.iframeSrc),x.error=r,f.error&&f.error.call(f.context,x,r,t),d&&e.event.trigger("ajaxError",[x,f,r]),f.complete&&f.complete.call(f.context,x,r)}},(d=f.global)&&0==e.active++&&e.event.trigger("ajaxStart"),d&&e.event.trigger("ajaxSend",[x,f]),f.beforeSend&&!1===f.beforeSend.call(f.context,x,f))return f.global&&e.active--,S.reject(),S;if(x.aborted)return S.reject(),S;(y=w.clk)&&(b=y.name)&&!y.disabled&&(f.extraData=f.extraData||{},f.extraData[b]=y.value,"image"===y.type&&(f.extraData[b+".x"]=w.clk_x,f.extraData[b+".y"]=w.clk_y));var A=1,L=2,F=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&F&&(f.extraData=f.extraData||{},f.extraData[E]=F),f.forceSync?i():setTimeout(i,10);var M,O,X,C=50,q=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!==t.documentElement.nodeName?t:null},_=e.parseJSON||function(e){return window.eval("("+e+")")},N=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i=("xml"===r||!r)&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&(("json"===r||!r)&&n.indexOf("json")>=0?o=_(o):("script"===r||!r)&&n.indexOf("javascript")>=0&&e.globalEval(o)),o};return S}if(!this.length)return a("ajaxSubmit: skipping submit process - no element selected"),this;var l,f,d,p=this;"function"==typeof t?t={success:t}:"string"==typeof t||!1===t&&arguments.length>0?(t={url:t,data:r,dataType:n},"function"==typeof s&&(t.success=s)):void 0===t&&(t={}),l=t.method||t.type||this.attr2("method"),(d=(d="string"==typeof(f=t.url||this.attr2("action"))?e.trim(f):"")||window.location.href||"")&&(d=(d.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:d,success:e.ajaxSettings.success,type:l||e.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var m={};if(this.trigger("form-pre-serialize",[this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return a("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=t.traditional;void 0===h&&(h=e.ajaxSettings.traditional);var v,g=[],x=this.formToArray(t.semantic,g,t.filtering);if(t.data){var y=e.isFunction(t.data)?t.data(x):t.data;t.extraData=y,v=e.param(y,h)}if(t.beforeSubmit&&!1===t.beforeSubmit(x,this,t))return a("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[x,this,t,m]),m.veto)return a("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var b=e.param(x,h);v&&(b=b?b+"&"+v:v),"GET"===t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+b,t.data=null):t.data=b;var T=[];if(t.resetForm&&T.push(function(){p.resetForm()}),t.clearForm&&T.push(function(){p.clearForm(t.includeHidden)}),!t.dataType&&t.target){var j=t.success||function(){};T.push(function(r,a,n){var i=arguments,o=t.replaceTarget?"replaceWith":"html";e(t.target)[o](r).each(function(){j.apply(this,i)})})}else t.success&&(e.isArray(t.success)?e.merge(T,t.success):T.push(t.success));if(t.success=function(e,r,a){for(var n=t.context||this,i=0,o=T.length;i<o;i++)T[i].apply(n,[e,r,a||p,p])},t.error){var w=t.error;t.error=function(e,r,a){var n=t.context||this;w.apply(n,[e,r,a,p])}}if(t.complete){var S=t.complete;t.complete=function(e,r){var a=t.context||this;S.apply(a,[e,r,p])}}var k=e("input[type=file]:enabled",this).filter(function(){return""!==e(this).val()}).length>0,D="multipart/form-data",A=p.attr("enctype")===D||p.attr("encoding")===D,L=i.fileapi&&i.formdata;a("fileAPI :"+L);var F,E=(k||A)&&!L;!1!==t.iframe&&(t.iframe||E)?t.closeKeepAlive?e.get(t.closeKeepAlive,function(){F=c(x)}):F=c(x):F=(k||A)&&L?function(r){for(var a=new FormData,n=0;n<r.length;n++)a.append(r[n].name,r[n].value);if(t.extraData){var i=u(t.extraData);for(n=0;n<i.length;n++)i[n]&&a.append(i[n][0],i[n][1])}t.data=null;var o=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:l||"POST"});t.uploadProgress&&(o.xhr=function(){var r=e.ajaxSettings.xhr();return r.upload&&r.upload.addEventListener("progress",function(e){var r=0,a=e.loaded||e.position,n=e.total;e.lengthComputable&&(r=Math.ceil(a/n*100)),t.uploadProgress(e,a,n,r)},!1),r}),o.data=null;var s=o.beforeSend;return o.beforeSend=function(e,r){t.formData?r.data=t.formData:r.data=a,s&&s.call(this,e,r)},e.ajax(o)}(x):e.ajax(t),p.removeData("jqxhr").data("jqxhr",F);for(var M=0;M<g.length;M++)g[M]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(n,i,o,s){if(("string"==typeof n||!1===n&&arguments.length>0)&&(n={url:n,data:i,dataType:o},"function"==typeof s&&(n.success=s)),n=n||{},n.delegation=n.delegation&&e.isFunction(e.fn.on),!n.delegation&&0===this.length){var u={s:this.selector,c:this.context};return!e.isReady&&u.s?(a("DOM not ready, queuing ajaxForm"),e(function(){e(u.s,u.c).ajaxForm(n)}),this):(a("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return n.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,n,t).on("click.form-plugin",this.selector,n,r),this):this.ajaxFormUnbind().on("submit.form-plugin",n,t).on("click.form-plugin",n,r)},e.fn.ajaxFormUnbind=function(){return this.off("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,r,a){var n=[];if(0===this.length)return n;var o,s=this[0],u=this.attr("id"),c=t||void 0===s.elements?s.getElementsByTagName("*"):s.elements;if(c&&(c=e.makeArray(c)),u&&(t||/(Edge|Trident)\//.test(navigator.userAgent))&&(o=e(':input[form="'+u+'"]').get()).length&&(c=(c||[]).concat(o)),!c||!c.length)return n;e.isFunction(a)&&(c=e.map(c,a));var l,f,d,p,m,h,v;for(l=0,h=c.length;l<h;l++)if(m=c[l],(d=m.name)&&!m.disabled)if(t&&s.clk&&"image"===m.type)s.clk===m&&(n.push({name:d,value:e(m).val(),type:m.type}),n.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}));else if((p=e.fieldValue(m,!0))&&p.constructor===Array)for(r&&r.push(m),f=0,v=p.length;f<v;f++)n.push({name:d,value:p[f]});else if(i.fileapi&&"file"===m.type){r&&r.push(m);var g=m.files;if(g.length)for(f=0;f<g.length;f++)n.push({name:d,value:g[f],type:m.type});else n.push({name:d,value:"",type:m.type})}else null!==p&&void 0!==p&&(r&&r.push(m),n.push({name:d,value:p,type:m.type,required:m.required}));if(!t&&s.clk){var x=e(s.clk),y=x[0];(d=y.name)&&!y.disabled&&"image"===y.type&&(n.push({name:d,value:x.val()}),n.push({name:d+".x",value:s.clk_x},{name:d+".y",value:s.clk_y}))}return n},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor===Array)for(var i=0,o=n.length;i<o;i++)r.push({name:a,value:n[i]});else null!==n&&void 0!==n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;a<n;a++){var i=this[a],o=e.fieldValue(i,t);null===o||void 0===o||o.constructor===Array&&!o.length||(o.constructor===Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,i=t.type,o=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"===i||"button"===i||("checkbox"===i||"radio"===i)&&!t.checked||("submit"===i||"image"===i)&&t.form&&t.form.clk!==t||"select"===o&&-1===t.selectedIndex))return null;if("select"===o){var s=t.selectedIndex;if(s<0)return null;for(var u=[],c=t.options,l="select-one"===i,f=l?s+1:c.length,d=l?s:0;d<f;d++){var p=c[d];if(p.selected&&!p.disabled){var m=p.value;if(m||(m=p.attributes&&p.attributes.value&&!p.attributes.value.specified?p.text:p.value),l)return m;u.push(m)}}return u}return e(t).val().replace(n,"\r\n")},e.fn.clearForm=function(t){return this.each(function(){e("input,select,textarea",this).clearFields(t)})},e.fn.clearFields=e.fn.clearInputs=function(t){var r=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var a=this.type,n=this.tagName.toLowerCase();r.test(a)||"textarea"===n?this.value="":"checkbox"===a||"radio"===a?this.checked=!1:"select"===n?this.selectedIndex=-1:"file"===a?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(a)||"string"==typeof t&&e(this).is(t))&&(this.value="")})},e.fn.resetForm=function(){return this.each(function(){var t=e(this),r=this.tagName.toLowerCase();switch(r){case"input":this.checked=this.defaultChecked;case"textarea":return this.value=this.defaultValue,!0;case"option":case"optgroup":var a=t.parents("select");return a.length&&a[0].multiple?"option"===r?this.selected=this.defaultSelected:t.find("option").resetForm():a.resetForm(),!0;case"select":return t.find("option").each(function(e){if(this.selected=this.defaultSelected,this.defaultSelected&&!t[0].multiple)return t[0].selectedIndex=e,!1}),!0;case"label":var n=e(t.attr("for")),i=t.find("input,select,textarea");return n[0]&&i.unshift(n[0]),i.resetForm(),!0;case"form":return("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset(),!0;default:return t.find("form,input,label,select,textarea").resetForm(),!0}})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"===r||"radio"===r)this.checked=t;else if("option"===this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"===a[0].type&&a.find("option").selected(!1),this.selected=t}})},e.fn.ajaxSubmit.debug=!1});


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],164:[function(require,module,exports){
(function (global){
/**
* jquery-match-height 0.7.2 by @liabru
* http://brm.io/jquery-match-height/
* License: MIT
*/

;(function(factory) { // eslint-disable-line no-extra-semi
    'use strict';
    if (typeof define === 'function' && define.amd) {
        // AMD
        define(['jquery'], factory);
    } else if (typeof module !== 'undefined' && module.exports) {
        // CommonJS
        module.exports = factory((typeof window !== "undefined" ? window['jQuery'] : typeof global !== "undefined" ? global['jQuery'] : null));
    } else {
        // Global
        factory(jQuery);
    }
})(function($) {
    /*
    *  internal
    */

    var _previousResizeWidth = -1,
        _updateTimeout = -1;

    /*
    *  _parse
    *  value parse utility function
    */

    var _parse = function(value) {
        // parse value and convert NaN to 0
        return parseFloat(value) || 0;
    };

    /*
    *  _rows
    *  utility function returns array of jQuery selections representing each row
    *  (as displayed after float wrapping applied by browser)
    */

    var _rows = function(elements) {
        var tolerance = 1,
            $elements = $(elements),
            lastTop = null,
            rows = [];

        // group elements by their top position
        $elements.each(function(){
            var $that = $(this),
                top = $that.offset().top - _parse($that.css('margin-top')),
                lastRow = rows.length > 0 ? rows[rows.length - 1] : null;

            if (lastRow === null) {
                // first item on the row, so just push it
                rows.push($that);
            } else {
                // if the row top is the same, add to the row group
                if (Math.floor(Math.abs(lastTop - top)) <= tolerance) {
                    rows[rows.length - 1] = lastRow.add($that);
                } else {
                    // otherwise start a new row group
                    rows.push($that);
                }
            }

            // keep track of the last row top
            lastTop = top;
        });

        return rows;
    };

    /*
    *  _parseOptions
    *  handle plugin options
    */

    var _parseOptions = function(options) {
        var opts = {
            byRow: true,
            property: 'height',
            target: null,
            remove: false
        };

        if (typeof options === 'object') {
            return $.extend(opts, options);
        }

        if (typeof options === 'boolean') {
            opts.byRow = options;
        } else if (options === 'remove') {
            opts.remove = true;
        }

        return opts;
    };

    /*
    *  matchHeight
    *  plugin definition
    */

    var matchHeight = $.fn.matchHeight = function(options) {
        var opts = _parseOptions(options);

        // handle remove
        if (opts.remove) {
            var that = this;

            // remove fixed height from all selected elements
            this.css(opts.property, '');

            // remove selected elements from all groups
            $.each(matchHeight._groups, function(key, group) {
                group.elements = group.elements.not(that);
            });

            // TODO: cleanup empty groups

            return this;
        }

        if (this.length <= 1 && !opts.target) {
            return this;
        }

        // keep track of this group so we can re-apply later on load and resize events
        matchHeight._groups.push({
            elements: this,
            options: opts
        });

        // match each element's height to the tallest element in the selection
        matchHeight._apply(this, opts);

        return this;
    };

    /*
    *  plugin global options
    */

    matchHeight.version = '0.7.2';
    matchHeight._groups = [];
    matchHeight._throttle = 80;
    matchHeight._maintainScroll = false;
    matchHeight._beforeUpdate = null;
    matchHeight._afterUpdate = null;
    matchHeight._rows = _rows;
    matchHeight._parse = _parse;
    matchHeight._parseOptions = _parseOptions;

    /*
    *  matchHeight._apply
    *  apply matchHeight to given elements
    */

    matchHeight._apply = function(elements, options) {
        var opts = _parseOptions(options),
            $elements = $(elements),
            rows = [$elements];

        // take note of scroll position
        var scrollTop = $(window).scrollTop(),
            htmlHeight = $('html').outerHeight(true);

        // get hidden parents
        var $hiddenParents = $elements.parents().filter(':hidden');

        // cache the original inline style
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.data('style-cache', $that.attr('style'));
        });

        // temporarily must force hidden parents visible
        $hiddenParents.css('display', 'block');

        // get rows if using byRow, otherwise assume one row
        if (opts.byRow && !opts.target) {

            // must first force an arbitrary equal height so floating elements break evenly
            $elements.each(function() {
                var $that = $(this),
                    display = $that.css('display');

                // temporarily force a usable display value
                if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {
                    display = 'block';
                }

                // cache the original inline style
                $that.data('style-cache', $that.attr('style'));

                $that.css({
                    'display': display,
                    'padding-top': '0',
                    'padding-bottom': '0',
                    'margin-top': '0',
                    'margin-bottom': '0',
                    'border-top-width': '0',
                    'border-bottom-width': '0',
                    'height': '100px',
                    'overflow': 'hidden'
                });
            });

            // get the array of rows (based on element top position)
            rows = _rows($elements);

            // revert original inline styles
            $elements.each(function() {
                var $that = $(this);
                $that.attr('style', $that.data('style-cache') || '');
            });
        }

        $.each(rows, function(key, row) {
            var $row = $(row),
                targetHeight = 0;

            if (!opts.target) {
                // skip apply to rows with only one item
                if (opts.byRow && $row.length <= 1) {
                    $row.css(opts.property, '');
                    return;
                }

                // iterate the row and find the max height
                $row.each(function(){
                    var $that = $(this),
                        style = $that.attr('style'),
                        display = $that.css('display');

                    // temporarily force a usable display value
                    if (display !== 'inline-block' && display !== 'flex' && display !== 'inline-flex') {
                        display = 'block';
                    }

                    // ensure we get the correct actual height (and not a previously set height value)
                    var css = { 'display': display };
                    css[opts.property] = '';
                    $that.css(css);

                    // find the max height (including padding, but not margin)
                    if ($that.outerHeight(false) > targetHeight) {
                        targetHeight = $that.outerHeight(false);
                    }

                    // revert styles
                    if (style) {
                        $that.attr('style', style);
                    } else {
                        $that.css('display', '');
                    }
                });
            } else {
                // if target set, use the height of the target element
                targetHeight = opts.target.outerHeight(false);
            }

            // iterate the row and apply the height to all elements
            $row.each(function(){
                var $that = $(this),
                    verticalPadding = 0;

                // don't apply to a target
                if (opts.target && $that.is(opts.target)) {
                    return;
                }

                // handle padding and border correctly (required when not using border-box)
                if ($that.css('box-sizing') !== 'border-box') {
                    verticalPadding += _parse($that.css('border-top-width')) + _parse($that.css('border-bottom-width'));
                    verticalPadding += _parse($that.css('padding-top')) + _parse($that.css('padding-bottom'));
                }

                // set the height (accounting for padding and border)
                $that.css(opts.property, (targetHeight - verticalPadding) + 'px');
            });
        });

        // revert hidden parents
        $hiddenParents.each(function() {
            var $that = $(this);
            $that.attr('style', $that.data('style-cache') || null);
        });

        // restore scroll position if enabled
        if (matchHeight._maintainScroll) {
            $(window).scrollTop((scrollTop / htmlHeight) * $('html').outerHeight(true));
        }

        return this;
    };

    /*
    *  matchHeight._applyDataApi
    *  applies matchHeight to all elements with a data-match-height attribute
    */

    matchHeight._applyDataApi = function() {
        var groups = {};

        // generate groups by their groupId set by elements using data-match-height
        $('[data-match-height], [data-mh]').each(function() {
            var $this = $(this),
                groupId = $this.attr('data-mh') || $this.attr('data-match-height');

            if (groupId in groups) {
                groups[groupId] = groups[groupId].add($this);
            } else {
                groups[groupId] = $this;
            }
        });

        // apply matchHeight to each group
        $.each(groups, function() {
            this.matchHeight(true);
        });
    };

    /*
    *  matchHeight._update
    *  updates matchHeight on all current groups with their correct options
    */

    var _update = function(event) {
        if (matchHeight._beforeUpdate) {
            matchHeight._beforeUpdate(event, matchHeight._groups);
        }

        $.each(matchHeight._groups, function() {
            matchHeight._apply(this.elements, this.options);
        });

        if (matchHeight._afterUpdate) {
            matchHeight._afterUpdate(event, matchHeight._groups);
        }
    };

    matchHeight._update = function(throttle, event) {
        // prevent update if fired from a resize event
        // where the viewport width hasn't actually changed
        // fixes an event looping bug in IE8
        if (event && event.type === 'resize') {
            var windowWidth = $(window).width();
            if (windowWidth === _previousResizeWidth) {
                return;
            }
            _previousResizeWidth = windowWidth;
        }

        // throttle updates
        if (!throttle) {
            _update(event);
        } else if (_updateTimeout === -1) {
            _updateTimeout = setTimeout(function() {
                _update(event);
                _updateTimeout = -1;
            }, matchHeight._throttle);
        }
    };

    /*
    *  bind events
    */

    // apply on DOM ready event
    $(matchHeight._applyDataApi);

    // use on or bind where supported
    var on = $.fn.on ? 'on' : 'bind';

    // update heights on load and resize events
    $(window)[on]('load', function(event) {
        matchHeight._update(false, event);
    });

    // throttled update heights on resize events
    $(window)[on]('resize orientationchange', function(event) {
        matchHeight._update(true, event);
    });

});

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],165:[function(require,module,exports){
(function (root) {/*global exports, Intl*/
/**
 * This script gives you the zone info key representing your device's time zone setting.
 *
 * @name jsTimezoneDetect
 * @version 1.0.6
 * @author Jon Nylander
 * @license MIT License - https://bitbucket.org/pellepim/jstimezonedetect/src/default/LICENCE.txt
 *
 * For usage and examples, visit:
 * http://pellepim.bitbucket.org/jstz/
 *
 * Copyright (c) Jon Nylander
 */


/**
 * Namespace to hold all the code for timezone detection.
 */
var jstz = (function () {
    'use strict';
    var HEMISPHERE_SOUTH = 's',

        consts = {
            DAY: 86400000,
            HOUR: 3600000,
            MINUTE: 60000,
            SECOND: 1000,
            BASELINE_YEAR: 2014,
            MAX_SCORE: 864000000, // 10 days
            AMBIGUITIES: {
                'America/Denver':       ['America/Mazatlan'],
                'Europe/London':        ['Africa/Casablanca'],
                'America/Chicago':      ['America/Mexico_City'],
                'America/Asuncion':     ['America/Campo_Grande', 'America/Santiago'],
                'America/Montevideo':   ['America/Sao_Paulo', 'America/Santiago'],
                // Europe/Minsk should not be in this list... but Windows.
                'Asia/Beirut':          ['Asia/Amman', 'Asia/Jerusalem', 'Europe/Helsinki', 'Asia/Damascus', 'Africa/Cairo', 'Asia/Gaza', 'Europe/Minsk'],
                'Pacific/Auckland':     ['Pacific/Fiji'],
                'America/Los_Angeles':  ['America/Santa_Isabel'],
                'America/New_York':     ['America/Havana'],
                'America/Halifax':      ['America/Goose_Bay'],
                'America/Godthab':      ['America/Miquelon'],
                'Asia/Dubai':           ['Asia/Yerevan'],
                'Asia/Jakarta':         ['Asia/Krasnoyarsk'],
                'Asia/Shanghai':        ['Asia/Irkutsk', 'Australia/Perth'],
                'Australia/Sydney':     ['Australia/Lord_Howe'],
                'Asia/Tokyo':           ['Asia/Yakutsk'],
                'Asia/Dhaka':           ['Asia/Omsk'],
                // In the real world Yerevan is not ambigous for Baku... but Windows.
                'Asia/Baku':            ['Asia/Yerevan'],
                'Australia/Brisbane':   ['Asia/Vladivostok'],
                'Pacific/Noumea':       ['Asia/Vladivostok'],
                'Pacific/Majuro':       ['Asia/Kamchatka', 'Pacific/Fiji'],
                'Pacific/Tongatapu':    ['Pacific/Apia'],
                'Asia/Baghdad':         ['Europe/Minsk', 'Europe/Moscow'],
                'Asia/Karachi':         ['Asia/Yekaterinburg'],
                'Africa/Johannesburg':  ['Asia/Gaza', 'Africa/Cairo']
            }
        },

        /**
         * Gets the offset in minutes from UTC for a certain date.
         * @param {Date} date
         * @returns {Number}
         */
        get_date_offset = function get_date_offset(date) {
            var offset = -date.getTimezoneOffset();
            return (offset !== null ? offset : 0);
        },

        /**
         * This function does some basic calculations to create information about
         * the user's timezone. It uses REFERENCE_YEAR as a solid year for which
         * the script has been tested rather than depend on the year set by the
         * client device.
         *
         * Returns a key that can be used to do lookups in jstz.olson.timezones.
         * eg: "720,1,2".
         *
         * @returns {String}
         */
        lookup_key = function lookup_key() {
            var january_offset = get_date_offset(new Date(consts.BASELINE_YEAR, 0, 2)),
                june_offset = get_date_offset(new Date(consts.BASELINE_YEAR, 5, 2)),
                diff = january_offset - june_offset;

            if (diff < 0) {
                return january_offset + ",1";
            } else if (diff > 0) {
                return june_offset + ",1," + HEMISPHERE_SOUTH;
            }

            return january_offset + ",0";
        },


        /**
         * Tries to get the time zone key directly from the operating system for those
         * environments that support the ECMAScript Internationalization API.
         */
        get_from_internationalization_api = function get_from_internationalization_api() {
            var format, timezone;
            if (typeof Intl === "undefined" || typeof Intl.DateTimeFormat === "undefined") {
                return;
            }

            format = Intl.DateTimeFormat();

            if (typeof format === "undefined" || typeof format.resolvedOptions === "undefined") {
                return;
            }

            timezone = format.resolvedOptions().timeZone;

            if (timezone && (timezone.indexOf("/") > -1 || timezone === 'UTC')) {
                return timezone;
            }

        },

        /**
         * Starting point for getting all the DST rules for a specific year
         * for the current timezone (as described by the client system).
         *
         * Returns an object with start and end attributes, or false if no
         * DST rules were found for the year.
         *
         * @param year
         * @returns {Object} || {Boolean}
         */
        dst_dates = function dst_dates(year) {
            var yearstart = new Date(year, 0, 1, 0, 0, 1, 0).getTime();
            var yearend = new Date(year, 12, 31, 23, 59, 59).getTime();
            var current = yearstart;
            var offset = (new Date(current)).getTimezoneOffset();
            var dst_start = null;
            var dst_end = null;

            while (current < yearend - 86400000) {
                var dateToCheck = new Date(current);
                var dateToCheckOffset = dateToCheck.getTimezoneOffset();

                if (dateToCheckOffset !== offset) {
                    if (dateToCheckOffset < offset) {
                        dst_start = dateToCheck;
                    }
                    if (dateToCheckOffset > offset) {
                        dst_end = dateToCheck;
                    }
                    offset = dateToCheckOffset;
                }

                current += 86400000;
            }

            if (dst_start && dst_end) {
                return {
                    s: find_dst_fold(dst_start).getTime(),
                    e: find_dst_fold(dst_end).getTime()
                };
            }

            return false;
        },

        /**
         * Probably completely unnecessary function that recursively finds the
         * exact (to the second) time when a DST rule was changed.
         *
         * @param a_date - The candidate Date.
         * @param padding - integer specifying the padding to allow around the candidate
         *                  date for finding the fold.
         * @param iterator - integer specifying how many milliseconds to iterate while
         *                   searching for the fold.
         *
         * @returns {Date}
         */
        find_dst_fold = function find_dst_fold(a_date, padding, iterator) {
            if (typeof padding === 'undefined') {
                padding = consts.DAY;
                iterator = consts.HOUR;
            }

            var date_start = new Date(a_date.getTime() - padding).getTime();
            var date_end = a_date.getTime() + padding;
            var offset = new Date(date_start).getTimezoneOffset();

            var current = date_start;

            var dst_change = null;
            while (current < date_end - iterator) {
                var dateToCheck = new Date(current);
                var dateToCheckOffset = dateToCheck.getTimezoneOffset();

                if (dateToCheckOffset !== offset) {
                    dst_change = dateToCheck;
                    break;
                }
                current += iterator;
            }

            if (padding === consts.DAY) {
                return find_dst_fold(dst_change, consts.HOUR, consts.MINUTE);
            }

            if (padding === consts.HOUR) {
                return find_dst_fold(dst_change, consts.MINUTE, consts.SECOND);
            }

            return dst_change;
        },

        windows7_adaptations = function windows7_adaptions(rule_list, preliminary_timezone, score, sample) {
            if (score !== 'N/A') {
                return score;
            }
            if (preliminary_timezone === 'Asia/Beirut') {
                if (sample.name === 'Africa/Cairo') {
                    if (rule_list[6].s === 1398376800000 && rule_list[6].e === 1411678800000) {
                        return 0;
                    }
                }
                if (sample.name === 'Asia/Jerusalem') {
                    if (rule_list[6].s === 1395964800000 && rule_list[6].e === 1411858800000) {
                        return 0;
                }
            }
            } else if (preliminary_timezone === 'America/Santiago') {
                if (sample.name === 'America/Asuncion') {
                    if (rule_list[6].s === 1412481600000 && rule_list[6].e === 1397358000000) {
                        return 0;
                    }
                }
                if (sample.name === 'America/Campo_Grande') {
                    if (rule_list[6].s === 1413691200000 && rule_list[6].e === 1392519600000) {
                        return 0;
                    }
                }
            } else if (preliminary_timezone === 'America/Montevideo') {
                if (sample.name === 'America/Sao_Paulo') {
                    if (rule_list[6].s === 1413687600000 && rule_list[6].e === 1392516000000) {
                        return 0;
                    }
                }
            } else if (preliminary_timezone === 'Pacific/Auckland') {
                if (sample.name === 'Pacific/Fiji') {
                    if (rule_list[6].s === 1414245600000 && rule_list[6].e === 1396101600000) {
                        return 0;
                    }
                }
            }

            return score;
        },

        /**
         * Takes the DST rules for the current timezone, and proceeds to find matches
         * in the jstz.olson.dst_rules.zones array.
         *
         * Compares samples to the current timezone on a scoring basis.
         *
         * Candidates are ruled immediately if either the candidate or the current zone
         * has a DST rule where the other does not.
         *
         * Candidates are ruled out immediately if the current zone has a rule that is
         * outside the DST scope of the candidate.
         *
         * Candidates are included for scoring if the current zones rules fall within the
         * span of the samples rules.
         *
         * Low score is best, the score is calculated by summing up the differences in DST
         * rules and if the consts.MAX_SCORE is overreached the candidate is ruled out.
         *
         * Yah follow? :)
         *
         * @param rule_list
         * @param preliminary_timezone
         * @returns {*}
         */
        best_dst_match = function best_dst_match(rule_list, preliminary_timezone) {
            var score_sample = function score_sample(sample) {
                var score = 0;

                for (var j = 0; j < rule_list.length; j++) {

                    // Both sample and current time zone report DST during the year.
                    if (!!sample.rules[j] && !!rule_list[j]) {

                        // The current time zone's DST rules are inside the sample's. Include.
                        if (rule_list[j].s >= sample.rules[j].s && rule_list[j].e <= sample.rules[j].e) {
                            score = 0;
                            score += Math.abs(rule_list[j].s - sample.rules[j].s);
                            score += Math.abs(sample.rules[j].e - rule_list[j].e);

                        // The current time zone's DST rules are outside the sample's. Discard.
                        } else {
                            score = 'N/A';
                            break;
                        }

                        // The max score has been reached. Discard.
                        if (score > consts.MAX_SCORE) {
                            score = 'N/A';
                            break;
                        }
                    }
                }

                score = windows7_adaptations(rule_list, preliminary_timezone, score, sample);

                return score;
            };
            var scoreboard = {};
            var dst_zones = jstz.olson.dst_rules.zones;
            var dst_zones_length = dst_zones.length;
            var ambiguities = consts.AMBIGUITIES[preliminary_timezone];

            for (var i = 0; i < dst_zones_length; i++) {
                var sample = dst_zones[i];
                var score = score_sample(dst_zones[i]);

                if (score !== 'N/A') {
                    scoreboard[sample.name] = score;
                }
            }

            for (var tz in scoreboard) {
                if (scoreboard.hasOwnProperty(tz)) {
                    for (var j = 0; j < ambiguities.length; j++) {
                        if (ambiguities[j] === tz) {
                            return tz;
                        }
                    }
                }
            }

            return preliminary_timezone;
        },

        /**
         * Takes the preliminary_timezone as detected by lookup_key().
         *
         * Builds up the current timezones DST rules for the years defined
         * in the jstz.olson.dst_rules.years array.
         *
         * If there are no DST occurences for those years, immediately returns
         * the preliminary timezone. Otherwise proceeds and tries to solve
         * ambiguities.
         *
         * @param preliminary_timezone
         * @returns {String} timezone_name
         */
        get_by_dst = function get_by_dst(preliminary_timezone) {
            var get_rules = function get_rules() {
                var rule_list = [];
                for (var i = 0; i < jstz.olson.dst_rules.years.length; i++) {
                    var year_rules = dst_dates(jstz.olson.dst_rules.years[i]);
                    rule_list.push(year_rules);
                }
                return rule_list;
            };
            var check_has_dst = function check_has_dst(rules) {
                for (var i = 0; i < rules.length; i++) {
                    if (rules[i] !== false) {
                        return true;
                    }
                }
                return false;
            };
            var rules = get_rules();
            var has_dst = check_has_dst(rules);

            if (has_dst) {
                return best_dst_match(rules, preliminary_timezone);
            }

            return preliminary_timezone;
        },

        /**
         * Uses get_timezone_info() to formulate a key to use in the olson.timezones dictionary.
         *
         * Returns an object with one function ".name()"
         *
         * @returns Object
         */
        determine = function determine() {
            var preliminary_tz = get_from_internationalization_api();

            if (!preliminary_tz) {
                preliminary_tz = jstz.olson.timezones[lookup_key()];

                if (typeof consts.AMBIGUITIES[preliminary_tz] !== 'undefined') {
                    preliminary_tz = get_by_dst(preliminary_tz);
                }
            }

            return {
                name: function () {
                    return preliminary_tz;
                }
            };
        };

    return {
        determine: determine
    };
}());


jstz.olson = jstz.olson || {};

/**
 * The keys in this dictionary are comma separated as such:
 *
 * First the offset compared to UTC time in minutes.
 *
 * Then a flag which is 0 if the timezone does not take daylight savings into account and 1 if it
 * does.
 *
 * Thirdly an optional 's' signifies that the timezone is in the southern hemisphere,
 * only interesting for timezones with DST.
 *
 * The mapped arrays is used for constructing the jstz.TimeZone object from within
 * jstz.determine();
 */
jstz.olson.timezones = {
    '-720,0': 'Etc/GMT+12',
    '-660,0': 'Pacific/Pago_Pago',
    '-660,1,s': 'Pacific/Apia', // Why? Because windows... cry!
    '-600,1': 'America/Adak',
    '-600,0': 'Pacific/Honolulu',
    '-570,0': 'Pacific/Marquesas',
    '-540,0': 'Pacific/Gambier',
    '-540,1': 'America/Anchorage',
    '-480,1': 'America/Los_Angeles',
    '-480,0': 'Pacific/Pitcairn',
    '-420,0': 'America/Phoenix',
    '-420,1': 'America/Denver',
    '-360,0': 'America/Guatemala',
    '-360,1': 'America/Chicago',
    '-360,1,s': 'Pacific/Easter',
    '-300,0': 'America/Bogota',
    '-300,1': 'America/New_York',
    '-270,0': 'America/Caracas',
    '-240,1': 'America/Halifax',
    '-240,0': 'America/Santo_Domingo',
    '-240,1,s': 'America/Asuncion',
    '-210,1': 'America/St_Johns',
    '-180,1': 'America/Godthab',
    '-180,0': 'America/Argentina/Buenos_Aires',
    '-180,1,s': 'America/Montevideo',
    '-120,0': 'America/Noronha',
    '-120,1': 'America/Noronha',
    '-60,1': 'Atlantic/Azores',
    '-60,0': 'Atlantic/Cape_Verde',
    '0,0': 'UTC',
    '0,1': 'Europe/London',
    '60,1': 'Europe/Berlin',
    '60,0': 'Africa/Lagos',
    '60,1,s': 'Africa/Windhoek',
    '120,1': 'Asia/Beirut',
    '120,0': 'Africa/Johannesburg',
    '180,0': 'Asia/Baghdad',
    '180,1': 'Europe/Moscow',
    '210,1': 'Asia/Tehran',
    '240,0': 'Asia/Dubai',
    '240,1': 'Asia/Baku',
    '270,0': 'Asia/Kabul',
    '300,1': 'Asia/Yekaterinburg',
    '300,0': 'Asia/Karachi',
    '330,0': 'Asia/Kolkata',
    '345,0': 'Asia/Kathmandu',
    '360,0': 'Asia/Dhaka',
    '360,1': 'Asia/Omsk',
    '390,0': 'Asia/Rangoon',
    '420,1': 'Asia/Krasnoyarsk',
    '420,0': 'Asia/Jakarta',
    '480,0': 'Asia/Shanghai',
    '480,1': 'Asia/Irkutsk',
    '525,0': 'Australia/Eucla',
    '525,1,s': 'Australia/Eucla',
    '540,1': 'Asia/Yakutsk',
    '540,0': 'Asia/Tokyo',
    '570,0': 'Australia/Darwin',
    '570,1,s': 'Australia/Adelaide',
    '600,0': 'Australia/Brisbane',
    '600,1': 'Asia/Vladivostok',
    '600,1,s': 'Australia/Sydney',
    '630,1,s': 'Australia/Lord_Howe',
    '660,1': 'Asia/Kamchatka',
    '660,0': 'Pacific/Noumea',
    '690,0': 'Pacific/Norfolk',
    '720,1,s': 'Pacific/Auckland',
    '720,0': 'Pacific/Majuro',
    '765,1,s': 'Pacific/Chatham',
    '780,0': 'Pacific/Tongatapu',
    '780,1,s': 'Pacific/Apia',
    '840,0': 'Pacific/Kiritimati'
};

/* Build time: 2015-11-02 13:01:00Z Build by invoking python utilities/dst.py generate */
jstz.olson.dst_rules = {
    "years": [
        2008,
        2009,
        2010,
        2011,
        2012,
        2013,
        2014
    ],
    "zones": [
        {
            "name": "Africa/Cairo",
            "rules": [
                {
                    "e": 1219957200000,
                    "s": 1209074400000
                },
                {
                    "e": 1250802000000,
                    "s": 1240524000000
                },
                {
                    "e": 1285880400000,
                    "s": 1284069600000
                },
                false,
                false,
                false,
                {
                    "e": 1411678800000,
                    "s": 1406844000000
                }
            ]
        },
        {
            "name": "Africa/Casablanca",
            "rules": [
                {
                    "e": 1220223600000,
                    "s": 1212278400000
                },
                {
                    "e": 1250809200000,
                    "s": 1243814400000
                },
                {
                    "e": 1281222000000,
                    "s": 1272758400000
                },
                {
                    "e": 1312066800000,
                    "s": 1301788800000
                },
                {
                    "e": 1348970400000,
                    "s": 1345428000000
                },
                {
                    "e": 1382839200000,
                    "s": 1376100000000
                },
                {
                    "e": 1414288800000,
                    "s": 1406944800000
                }
            ]
        },
        {
            "name": "America/Asuncion",
            "rules": [
                {
                    "e": 1205031600000,
                    "s": 1224388800000
                },
                {
                    "e": 1236481200000,
                    "s": 1255838400000
                },
                {
                    "e": 1270954800000,
                    "s": 1286078400000
                },
                {
                    "e": 1302404400000,
                    "s": 1317528000000
                },
                {
                    "e": 1333854000000,
                    "s": 1349582400000
                },
                {
                    "e": 1364094000000,
                    "s": 1381032000000
                },
                {
                    "e": 1395543600000,
                    "s": 1412481600000
                }
            ]
        },
        {
            "name": "America/Campo_Grande",
            "rules": [
                {
                    "e": 1203217200000,
                    "s": 1224388800000
                },
                {
                    "e": 1234666800000,
                    "s": 1255838400000
                },
                {
                    "e": 1266721200000,
                    "s": 1287288000000
                },
                {
                    "e": 1298170800000,
                    "s": 1318737600000
                },
                {
                    "e": 1330225200000,
                    "s": 1350792000000
                },
                {
                    "e": 1361070000000,
                    "s": 1382241600000
                },
                {
                    "e": 1392519600000,
                    "s": 1413691200000
                }
            ]
        },
        {
            "name": "America/Goose_Bay",
            "rules": [
                {
                    "e": 1225594860000,
                    "s": 1205035260000
                },
                {
                    "e": 1257044460000,
                    "s": 1236484860000
                },
                {
                    "e": 1289098860000,
                    "s": 1268539260000
                },
                {
                    "e": 1320555600000,
                    "s": 1299988860000
                },
                {
                    "e": 1352005200000,
                    "s": 1331445600000
                },
                {
                    "e": 1383454800000,
                    "s": 1362895200000
                },
                {
                    "e": 1414904400000,
                    "s": 1394344800000
                }
            ]
        },
        {
            "name": "America/Havana",
            "rules": [
                {
                    "e": 1224997200000,
                    "s": 1205643600000
                },
                {
                    "e": 1256446800000,
                    "s": 1236488400000
                },
                {
                    "e": 1288501200000,
                    "s": 1268542800000
                },
                {
                    "e": 1321160400000,
                    "s": 1300597200000
                },
                {
                    "e": 1352005200000,
                    "s": 1333256400000
                },
                {
                    "e": 1383454800000,
                    "s": 1362891600000
                },
                {
                    "e": 1414904400000,
                    "s": 1394341200000
                }
            ]
        },
        {
            "name": "America/Mazatlan",
            "rules": [
                {
                    "e": 1225008000000,
                    "s": 1207472400000
                },
                {
                    "e": 1256457600000,
                    "s": 1238922000000
                },
                {
                    "e": 1288512000000,
                    "s": 1270371600000
                },
                {
                    "e": 1319961600000,
                    "s": 1301821200000
                },
                {
                    "e": 1351411200000,
                    "s": 1333270800000
                },
                {
                    "e": 1382860800000,
                    "s": 1365325200000
                },
                {
                    "e": 1414310400000,
                    "s": 1396774800000
                }
            ]
        },
        {
            "name": "America/Mexico_City",
            "rules": [
                {
                    "e": 1225004400000,
                    "s": 1207468800000
                },
                {
                    "e": 1256454000000,
                    "s": 1238918400000
                },
                {
                    "e": 1288508400000,
                    "s": 1270368000000
                },
                {
                    "e": 1319958000000,
                    "s": 1301817600000
                },
                {
                    "e": 1351407600000,
                    "s": 1333267200000
                },
                {
                    "e": 1382857200000,
                    "s": 1365321600000
                },
                {
                    "e": 1414306800000,
                    "s": 1396771200000
                }
            ]
        },
        {
            "name": "America/Miquelon",
            "rules": [
                {
                    "e": 1225598400000,
                    "s": 1205038800000
                },
                {
                    "e": 1257048000000,
                    "s": 1236488400000
                },
                {
                    "e": 1289102400000,
                    "s": 1268542800000
                },
                {
                    "e": 1320552000000,
                    "s": 1299992400000
                },
                {
                    "e": 1352001600000,
                    "s": 1331442000000
                },
                {
                    "e": 1383451200000,
                    "s": 1362891600000
                },
                {
                    "e": 1414900800000,
                    "s": 1394341200000
                }
            ]
        },
        {
            "name": "America/Santa_Isabel",
            "rules": [
                {
                    "e": 1225011600000,
                    "s": 1207476000000
                },
                {
                    "e": 1256461200000,
                    "s": 1238925600000
                },
                {
                    "e": 1288515600000,
                    "s": 1270375200000
                },
                {
                    "e": 1319965200000,
                    "s": 1301824800000
                },
                {
                    "e": 1351414800000,
                    "s": 1333274400000
                },
                {
                    "e": 1382864400000,
                    "s": 1365328800000
                },
                {
                    "e": 1414314000000,
                    "s": 1396778400000
                }
            ]
        },
        {
            "name": "America/Santiago",
            "rules": [
                {
                    "e": 1206846000000,
                    "s": 1223784000000
                },
                {
                    "e": 1237086000000,
                    "s": 1255233600000
                },
                {
                    "e": 1270350000000,
                    "s": 1286683200000
                },
                {
                    "e": 1304823600000,
                    "s": 1313899200000
                },
                {
                    "e": 1335668400000,
                    "s": 1346558400000
                },
                {
                    "e": 1367118000000,
                    "s": 1378612800000
                },
                {
                    "e": 1398567600000,
                    "s": 1410062400000
                }
            ]
        },
        {
            "name": "America/Sao_Paulo",
            "rules": [
                {
                    "e": 1203213600000,
                    "s": 1224385200000
                },
                {
                    "e": 1234663200000,
                    "s": 1255834800000
                },
                {
                    "e": 1266717600000,
                    "s": 1287284400000
                },
                {
                    "e": 1298167200000,
                    "s": 1318734000000
                },
                {
                    "e": 1330221600000,
                    "s": 1350788400000
                },
                {
                    "e": 1361066400000,
                    "s": 1382238000000
                },
                {
                    "e": 1392516000000,
                    "s": 1413687600000
                }
            ]
        },
        {
            "name": "Asia/Amman",
            "rules": [
                {
                    "e": 1225404000000,
                    "s": 1206655200000
                },
                {
                    "e": 1256853600000,
                    "s": 1238104800000
                },
                {
                    "e": 1288303200000,
                    "s": 1269554400000
                },
                {
                    "e": 1319752800000,
                    "s": 1301608800000
                },
                false,
                false,
                {
                    "e": 1414706400000,
                    "s": 1395957600000
                }
            ]
        },
        {
            "name": "Asia/Damascus",
            "rules": [
                {
                    "e": 1225486800000,
                    "s": 1207260000000
                },
                {
                    "e": 1256850000000,
                    "s": 1238104800000
                },
                {
                    "e": 1288299600000,
                    "s": 1270159200000
                },
                {
                    "e": 1319749200000,
                    "s": 1301608800000
                },
                {
                    "e": 1351198800000,
                    "s": 1333058400000
                },
                {
                    "e": 1382648400000,
                    "s": 1364508000000
                },
                {
                    "e": 1414702800000,
                    "s": 1395957600000
                }
            ]
        },
        {
            "name": "Asia/Dubai",
            "rules": [
                false,
                false,
                false,
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Gaza",
            "rules": [
                {
                    "e": 1219957200000,
                    "s": 1206655200000
                },
                {
                    "e": 1252015200000,
                    "s": 1238104800000
                },
                {
                    "e": 1281474000000,
                    "s": 1269640860000
                },
                {
                    "e": 1312146000000,
                    "s": 1301608860000
                },
                {
                    "e": 1348178400000,
                    "s": 1333058400000
                },
                {
                    "e": 1380229200000,
                    "s": 1364508000000
                },
                {
                    "e": 1414098000000,
                    "s": 1395957600000
                }
            ]
        },
        {
            "name": "Asia/Irkutsk",
            "rules": [
                {
                    "e": 1224957600000,
                    "s": 1206813600000
                },
                {
                    "e": 1256407200000,
                    "s": 1238263200000
                },
                {
                    "e": 1288461600000,
                    "s": 1269712800000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Jerusalem",
            "rules": [
                {
                    "e": 1223161200000,
                    "s": 1206662400000
                },
                {
                    "e": 1254006000000,
                    "s": 1238112000000
                },
                {
                    "e": 1284246000000,
                    "s": 1269561600000
                },
                {
                    "e": 1317510000000,
                    "s": 1301616000000
                },
                {
                    "e": 1348354800000,
                    "s": 1333065600000
                },
                {
                    "e": 1382828400000,
                    "s": 1364515200000
                },
                {
                    "e": 1414278000000,
                    "s": 1395964800000
                }
            ]
        },
        {
            "name": "Asia/Kamchatka",
            "rules": [
                {
                    "e": 1224943200000,
                    "s": 1206799200000
                },
                {
                    "e": 1256392800000,
                    "s": 1238248800000
                },
                {
                    "e": 1288450800000,
                    "s": 1269698400000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Krasnoyarsk",
            "rules": [
                {
                    "e": 1224961200000,
                    "s": 1206817200000
                },
                {
                    "e": 1256410800000,
                    "s": 1238266800000
                },
                {
                    "e": 1288465200000,
                    "s": 1269716400000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Omsk",
            "rules": [
                {
                    "e": 1224964800000,
                    "s": 1206820800000
                },
                {
                    "e": 1256414400000,
                    "s": 1238270400000
                },
                {
                    "e": 1288468800000,
                    "s": 1269720000000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Vladivostok",
            "rules": [
                {
                    "e": 1224950400000,
                    "s": 1206806400000
                },
                {
                    "e": 1256400000000,
                    "s": 1238256000000
                },
                {
                    "e": 1288454400000,
                    "s": 1269705600000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Yakutsk",
            "rules": [
                {
                    "e": 1224954000000,
                    "s": 1206810000000
                },
                {
                    "e": 1256403600000,
                    "s": 1238259600000
                },
                {
                    "e": 1288458000000,
                    "s": 1269709200000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Yekaterinburg",
            "rules": [
                {
                    "e": 1224968400000,
                    "s": 1206824400000
                },
                {
                    "e": 1256418000000,
                    "s": 1238274000000
                },
                {
                    "e": 1288472400000,
                    "s": 1269723600000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Asia/Yerevan",
            "rules": [
                {
                    "e": 1224972000000,
                    "s": 1206828000000
                },
                {
                    "e": 1256421600000,
                    "s": 1238277600000
                },
                {
                    "e": 1288476000000,
                    "s": 1269727200000
                },
                {
                    "e": 1319925600000,
                    "s": 1301176800000
                },
                false,
                false,
                false
            ]
        },
        {
            "name": "Australia/Lord_Howe",
            "rules": [
                {
                    "e": 1207407600000,
                    "s": 1223134200000
                },
                {
                    "e": 1238857200000,
                    "s": 1254583800000
                },
                {
                    "e": 1270306800000,
                    "s": 1286033400000
                },
                {
                    "e": 1301756400000,
                    "s": 1317483000000
                },
                {
                    "e": 1333206000000,
                    "s": 1349537400000
                },
                {
                    "e": 1365260400000,
                    "s": 1380987000000
                },
                {
                    "e": 1396710000000,
                    "s": 1412436600000
                }
            ]
        },
        {
            "name": "Australia/Perth",
            "rules": [
                {
                    "e": 1206813600000,
                    "s": 1224957600000
                },
                false,
                false,
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Europe/Helsinki",
            "rules": [
                {
                    "e": 1224982800000,
                    "s": 1206838800000
                },
                {
                    "e": 1256432400000,
                    "s": 1238288400000
                },
                {
                    "e": 1288486800000,
                    "s": 1269738000000
                },
                {
                    "e": 1319936400000,
                    "s": 1301187600000
                },
                {
                    "e": 1351386000000,
                    "s": 1332637200000
                },
                {
                    "e": 1382835600000,
                    "s": 1364691600000
                },
                {
                    "e": 1414285200000,
                    "s": 1396141200000
                }
            ]
        },
        {
            "name": "Europe/Minsk",
            "rules": [
                {
                    "e": 1224979200000,
                    "s": 1206835200000
                },
                {
                    "e": 1256428800000,
                    "s": 1238284800000
                },
                {
                    "e": 1288483200000,
                    "s": 1269734400000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Europe/Moscow",
            "rules": [
                {
                    "e": 1224975600000,
                    "s": 1206831600000
                },
                {
                    "e": 1256425200000,
                    "s": 1238281200000
                },
                {
                    "e": 1288479600000,
                    "s": 1269730800000
                },
                false,
                false,
                false,
                false
            ]
        },
        {
            "name": "Pacific/Apia",
            "rules": [
                false,
                false,
                false,
                {
                    "e": 1301752800000,
                    "s": 1316872800000
                },
                {
                    "e": 1333202400000,
                    "s": 1348927200000
                },
                {
                    "e": 1365256800000,
                    "s": 1380376800000
                },
                {
                    "e": 1396706400000,
                    "s": 1411826400000
                }
            ]
        },
        {
            "name": "Pacific/Fiji",
            "rules": [
                false,
                false,
                {
                    "e": 1269698400000,
                    "s": 1287842400000
                },
                {
                    "e": 1327154400000,
                    "s": 1319292000000
                },
                {
                    "e": 1358604000000,
                    "s": 1350741600000
                },
                {
                    "e": 1390050000000,
                    "s": 1382796000000
                },
                {
                    "e": 1421503200000,
                    "s": 1414850400000
                }
            ]
        },
        {
            "name": "Europe/London",
            "rules": [
                {
                    "e": 1224982800000,
                    "s": 1206838800000
                },
                {
                    "e": 1256432400000,
                    "s": 1238288400000
                },
                {
                    "e": 1288486800000,
                    "s": 1269738000000
                },
                {
                    "e": 1319936400000,
                    "s": 1301187600000
                },
                {
                    "e": 1351386000000,
                    "s": 1332637200000
                },
                {
                    "e": 1382835600000,
                    "s": 1364691600000
                },
                {
                    "e": 1414285200000,
                    "s": 1396141200000
                }
            ]
        }
    ]
};
if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {
    module.exports = jstz;
} else if ((typeof define !== 'undefined' && define !== null) && (define.amd != null)) {
    define([], function() {
        return jstz;
    });
} else {
    if (typeof root === 'undefined') {
        window.jstz = jstz;
    } else {
        root.jstz = jstz;
    }
}
}());

},{}],166:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match words composed of alphanumeric characters. */
var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

/** Used to match Latin Unicode letters (excluding mathematical operators). */
var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;

/** Used to compose unicode character classes. */
var rsAstralRange = '\\ud800-\\udfff',
    rsComboMarksRange = '\\u0300-\\u036f\\ufe20-\\ufe23',
    rsComboSymbolsRange = '\\u20d0-\\u20f0',
    rsDingbatRange = '\\u2700-\\u27bf',
    rsLowerRange = 'a-z\\xdf-\\xf6\\xf8-\\xff',
    rsMathOpRange = '\\xac\\xb1\\xd7\\xf7',
    rsNonCharRange = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',
    rsPunctuationRange = '\\u2000-\\u206f',
    rsSpaceRange = ' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
    rsUpperRange = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
    rsVarRange = '\\ufe0e\\ufe0f',
    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;

/** Used to compose unicode capture groups. */
var rsApos = "['\u2019]",
    rsAstral = '[' + rsAstralRange + ']',
    rsBreak = '[' + rsBreakRange + ']',
    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',
    rsDigits = '\\d+',
    rsDingbat = '[' + rsDingbatRange + ']',
    rsLower = '[' + rsLowerRange + ']',
    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',
    rsFitz = '\\ud83c[\\udffb-\\udfff]',
    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',
    rsNonAstral = '[^' + rsAstralRange + ']',
    rsRegional = '(?:\\ud83c[\\udde6-\\uddff]){2}',
    rsSurrPair = '[\\ud800-\\udbff][\\udc00-\\udfff]',
    rsUpper = '[' + rsUpperRange + ']',
    rsZWJ = '\\u200d';

/** Used to compose unicode regexes. */
var rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',
    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',
    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',
    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',
    reOptMod = rsModifier + '?',
    rsOptVar = '[' + rsVarRange + ']?',
    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',
    rsSeq = rsOptVar + reOptMod + rsOptJoin,
    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,
    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';

/** Used to match apostrophes. */
var reApos = RegExp(rsApos, 'g');

/**
 * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
 * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
 */
var reComboMark = RegExp(rsCombo, 'g');

/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */
var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');

/** Used to match complex or compound words. */
var reUnicodeWord = RegExp([
  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',
  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',
  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,
  rsUpper + '+' + rsOptUpperContr,
  rsDigits,
  rsEmoji
].join('|'), 'g');

/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */
var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');

/** Used to detect strings that need a more robust regexp to match words. */
var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

/** Used to map Latin Unicode letters to basic Latin letters. */
var deburredLetters = {
  // Latin-1 Supplement block.
  '\xc0': 'A',  '\xc1': 'A', '\xc2': 'A', '\xc3': 'A', '\xc4': 'A', '\xc5': 'A',
  '\xe0': 'a',  '\xe1': 'a', '\xe2': 'a', '\xe3': 'a', '\xe4': 'a', '\xe5': 'a',
  '\xc7': 'C',  '\xe7': 'c',
  '\xd0': 'D',  '\xf0': 'd',
  '\xc8': 'E',  '\xc9': 'E', '\xca': 'E', '\xcb': 'E',
  '\xe8': 'e',  '\xe9': 'e', '\xea': 'e', '\xeb': 'e',
  '\xcc': 'I',  '\xcd': 'I', '\xce': 'I', '\xcf': 'I',
  '\xec': 'i',  '\xed': 'i', '\xee': 'i', '\xef': 'i',
  '\xd1': 'N',  '\xf1': 'n',
  '\xd2': 'O',  '\xd3': 'O', '\xd4': 'O', '\xd5': 'O', '\xd6': 'O', '\xd8': 'O',
  '\xf2': 'o',  '\xf3': 'o', '\xf4': 'o', '\xf5': 'o', '\xf6': 'o', '\xf8': 'o',
  '\xd9': 'U',  '\xda': 'U', '\xdb': 'U', '\xdc': 'U',
  '\xf9': 'u',  '\xfa': 'u', '\xfb': 'u', '\xfc': 'u',
  '\xdd': 'Y',  '\xfd': 'y', '\xff': 'y',
  '\xc6': 'Ae', '\xe6': 'ae',
  '\xde': 'Th', '\xfe': 'th',
  '\xdf': 'ss',
  // Latin Extended-A block.
  '\u0100': 'A',  '\u0102': 'A', '\u0104': 'A',
  '\u0101': 'a',  '\u0103': 'a', '\u0105': 'a',
  '\u0106': 'C',  '\u0108': 'C', '\u010a': 'C', '\u010c': 'C',
  '\u0107': 'c',  '\u0109': 'c', '\u010b': 'c', '\u010d': 'c',
  '\u010e': 'D',  '\u0110': 'D', '\u010f': 'd', '\u0111': 'd',
  '\u0112': 'E',  '\u0114': 'E', '\u0116': 'E', '\u0118': 'E', '\u011a': 'E',
  '\u0113': 'e',  '\u0115': 'e', '\u0117': 'e', '\u0119': 'e', '\u011b': 'e',
  '\u011c': 'G',  '\u011e': 'G', '\u0120': 'G', '\u0122': 'G',
  '\u011d': 'g',  '\u011f': 'g', '\u0121': 'g', '\u0123': 'g',
  '\u0124': 'H',  '\u0126': 'H', '\u0125': 'h', '\u0127': 'h',
  '\u0128': 'I',  '\u012a': 'I', '\u012c': 'I', '\u012e': 'I', '\u0130': 'I',
  '\u0129': 'i',  '\u012b': 'i', '\u012d': 'i', '\u012f': 'i', '\u0131': 'i',
  '\u0134': 'J',  '\u0135': 'j',
  '\u0136': 'K',  '\u0137': 'k', '\u0138': 'k',
  '\u0139': 'L',  '\u013b': 'L', '\u013d': 'L', '\u013f': 'L', '\u0141': 'L',
  '\u013a': 'l',  '\u013c': 'l', '\u013e': 'l', '\u0140': 'l', '\u0142': 'l',
  '\u0143': 'N',  '\u0145': 'N', '\u0147': 'N', '\u014a': 'N',
  '\u0144': 'n',  '\u0146': 'n', '\u0148': 'n', '\u014b': 'n',
  '\u014c': 'O',  '\u014e': 'O', '\u0150': 'O',
  '\u014d': 'o',  '\u014f': 'o', '\u0151': 'o',
  '\u0154': 'R',  '\u0156': 'R', '\u0158': 'R',
  '\u0155': 'r',  '\u0157': 'r', '\u0159': 'r',
  '\u015a': 'S',  '\u015c': 'S', '\u015e': 'S', '\u0160': 'S',
  '\u015b': 's',  '\u015d': 's', '\u015f': 's', '\u0161': 's',
  '\u0162': 'T',  '\u0164': 'T', '\u0166': 'T',
  '\u0163': 't',  '\u0165': 't', '\u0167': 't',
  '\u0168': 'U',  '\u016a': 'U', '\u016c': 'U', '\u016e': 'U', '\u0170': 'U', '\u0172': 'U',
  '\u0169': 'u',  '\u016b': 'u', '\u016d': 'u', '\u016f': 'u', '\u0171': 'u', '\u0173': 'u',
  '\u0174': 'W',  '\u0175': 'w',
  '\u0176': 'Y',  '\u0177': 'y', '\u0178': 'Y',
  '\u0179': 'Z',  '\u017b': 'Z', '\u017d': 'Z',
  '\u017a': 'z',  '\u017c': 'z', '\u017e': 'z',
  '\u0132': 'IJ', '\u0133': 'ij',
  '\u0152': 'Oe', '\u0153': 'oe',
  '\u0149': "'n", '\u017f': 'ss'
};

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A specialized version of `_.reduce` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {*} [accumulator] The initial value.
 * @param {boolean} [initAccum] Specify using the first element of `array` as
 *  the initial value.
 * @returns {*} Returns the accumulated value.
 */
function arrayReduce(array, iteratee, accumulator, initAccum) {
  var index = -1,
      length = array ? array.length : 0;

  if (initAccum && length) {
    accumulator = array[++index];
  }
  while (++index < length) {
    accumulator = iteratee(accumulator, array[index], index, array);
  }
  return accumulator;
}

/**
 * Converts an ASCII `string` to an array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the converted array.
 */
function asciiToArray(string) {
  return string.split('');
}

/**
 * Splits an ASCII `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function asciiWords(string) {
  return string.match(reAsciiWord) || [];
}

/**
 * The base implementation of `_.propertyOf` without support for deep paths.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyOf(object) {
  return function(key) {
    return object == null ? undefined : object[key];
  };
}

/**
 * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
 * letters to basic Latin letters.
 *
 * @private
 * @param {string} letter The matched letter to deburr.
 * @returns {string} Returns the deburred letter.
 */
var deburrLetter = basePropertyOf(deburredLetters);

/**
 * Checks if `string` contains Unicode symbols.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {boolean} Returns `true` if a symbol is found, else `false`.
 */
function hasUnicode(string) {
  return reHasUnicode.test(string);
}

/**
 * Checks if `string` contains a word composed of Unicode symbols.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {boolean} Returns `true` if a word is found, else `false`.
 */
function hasUnicodeWord(string) {
  return reHasUnicodeWord.test(string);
}

/**
 * Converts `string` to an array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the converted array.
 */
function stringToArray(string) {
  return hasUnicode(string)
    ? unicodeToArray(string)
    : asciiToArray(string);
}

/**
 * Converts a Unicode `string` to an array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the converted array.
 */
function unicodeToArray(string) {
  return string.match(reUnicode) || [];
}

/**
 * Splits a Unicode `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function unicodeWords(string) {
  return string.match(reUnicodeWord) || [];
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol;

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * The base implementation of `_.slice` without an iteratee call guard.
 *
 * @private
 * @param {Array} array The array to slice.
 * @param {number} [start=0] The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the slice of `array`.
 */
function baseSlice(array, start, end) {
  var index = -1,
      length = array.length;

  if (start < 0) {
    start = -start > length ? 0 : (length + start);
  }
  end = end > length ? length : end;
  if (end < 0) {
    end += length;
  }
  length = start > end ? 0 : ((end - start) >>> 0);
  start >>>= 0;

  var result = Array(length);
  while (++index < length) {
    result[index] = array[index + start];
  }
  return result;
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `array` to a slice if it's needed.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {number} start The start position.
 * @param {number} [end=array.length] The end position.
 * @returns {Array} Returns the cast slice.
 */
function castSlice(array, start, end) {
  var length = array.length;
  end = end === undefined ? length : end;
  return (!start && end >= length) ? array : baseSlice(array, start, end);
}

/**
 * Creates a function like `_.lowerFirst`.
 *
 * @private
 * @param {string} methodName The name of the `String` case method to use.
 * @returns {Function} Returns the new case function.
 */
function createCaseFirst(methodName) {
  return function(string) {
    string = toString(string);

    var strSymbols = hasUnicode(string)
      ? stringToArray(string)
      : undefined;

    var chr = strSymbols
      ? strSymbols[0]
      : string.charAt(0);

    var trailing = strSymbols
      ? castSlice(strSymbols, 1).join('')
      : string.slice(1);

    return chr[methodName]() + trailing;
  };
}

/**
 * Creates a function like `_.camelCase`.
 *
 * @private
 * @param {Function} callback The function to combine each word.
 * @returns {Function} Returns the new compounder function.
 */
function createCompounder(callback) {
  return function(string) {
    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');
  };
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to convert.
 * @returns {string} Returns the camel cased string.
 * @example
 *
 * _.camelCase('Foo Bar');
 * // => 'fooBar'
 *
 * _.camelCase('--foo-bar--');
 * // => 'fooBar'
 *
 * _.camelCase('__FOO_BAR__');
 * // => 'fooBar'
 */
var camelCase = createCompounder(function(result, word, index) {
  word = word.toLowerCase();
  return result + (index ? capitalize(word) : word);
});

/**
 * Converts the first character of `string` to upper case and the remaining
 * to lower case.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to capitalize.
 * @returns {string} Returns the capitalized string.
 * @example
 *
 * _.capitalize('FRED');
 * // => 'Fred'
 */
function capitalize(string) {
  return upperFirst(toString(string).toLowerCase());
}

/**
 * Deburrs `string` by converting
 * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
 * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
 * letters to basic Latin letters and removing
 * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to deburr.
 * @returns {string} Returns the deburred string.
 * @example
 *
 * _.deburr('déjà vu');
 * // => 'deja vu'
 */
function deburr(string) {
  string = toString(string);
  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');
}

/**
 * Converts the first character of `string` to upper case.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category String
 * @param {string} [string=''] The string to convert.
 * @returns {string} Returns the converted string.
 * @example
 *
 * _.upperFirst('fred');
 * // => 'Fred'
 *
 * _.upperFirst('FRED');
 * // => 'FRED'
 */
var upperFirst = createCaseFirst('toUpperCase');

/**
 * Splits `string` into an array of its words.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to inspect.
 * @param {RegExp|string} [pattern] The pattern to match words.
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
 * @returns {Array} Returns the words of `string`.
 * @example
 *
 * _.words('fred, barney, & pebbles');
 * // => ['fred', 'barney', 'pebbles']
 *
 * _.words('fred, barney, & pebbles', /[^, ]+/g);
 * // => ['fred', 'barney', '&', 'pebbles']
 */
function words(string, pattern, guard) {
  string = toString(string);
  pattern = guard ? undefined : pattern;

  if (pattern === undefined) {
    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
  }
  return string.match(pattern) || [];
}

module.exports = camelCase;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],167:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.get` without support for default values.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @returns {*} Returns the resolved value.
 */
function baseGet(object, path) {
  path = isKey(path, object) ? [path] : castPath(path);

  var index = 0,
      length = path.length;

  while (object != null && index < length) {
    object = object[toKey(path[index++])];
  }
  return (index && index == length) ? object : undefined;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function(string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Gets the value at `path` of `object`. If the resolved value is
 * `undefined`, the `defaultValue` is returned in its place.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to query.
 * @param {Array|string} path The path of the property to get.
 * @param {*} [defaultValue] The value returned for `undefined` resolved values.
 * @returns {*} Returns the resolved value.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.get(object, 'a[0].b.c');
 * // => 3
 *
 * _.get(object, ['a', '0', 'b', 'c']);
 * // => 3
 *
 * _.get(object, 'a.b.c', 'default');
 * // => 'default'
 */
function get(object, path, defaultValue) {
  var result = object == null ? undefined : baseGet(object, path);
  return result === undefined ? defaultValue : result;
}

module.exports = get;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],168:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match words composed of alphanumeric characters. */
var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

/** Used to match Latin Unicode letters (excluding mathematical operators). */
var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;

/** Used to compose unicode character classes. */
var rsAstralRange = '\\ud800-\\udfff',
    rsComboMarksRange = '\\u0300-\\u036f\\ufe20-\\ufe23',
    rsComboSymbolsRange = '\\u20d0-\\u20f0',
    rsDingbatRange = '\\u2700-\\u27bf',
    rsLowerRange = 'a-z\\xdf-\\xf6\\xf8-\\xff',
    rsMathOpRange = '\\xac\\xb1\\xd7\\xf7',
    rsNonCharRange = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',
    rsPunctuationRange = '\\u2000-\\u206f',
    rsSpaceRange = ' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
    rsUpperRange = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
    rsVarRange = '\\ufe0e\\ufe0f',
    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;

/** Used to compose unicode capture groups. */
var rsApos = "['\u2019]",
    rsBreak = '[' + rsBreakRange + ']',
    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',
    rsDigits = '\\d+',
    rsDingbat = '[' + rsDingbatRange + ']',
    rsLower = '[' + rsLowerRange + ']',
    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',
    rsFitz = '\\ud83c[\\udffb-\\udfff]',
    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',
    rsNonAstral = '[^' + rsAstralRange + ']',
    rsRegional = '(?:\\ud83c[\\udde6-\\uddff]){2}',
    rsSurrPair = '[\\ud800-\\udbff][\\udc00-\\udfff]',
    rsUpper = '[' + rsUpperRange + ']',
    rsZWJ = '\\u200d';

/** Used to compose unicode regexes. */
var rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',
    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',
    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',
    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',
    reOptMod = rsModifier + '?',
    rsOptVar = '[' + rsVarRange + ']?',
    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',
    rsSeq = rsOptVar + reOptMod + rsOptJoin,
    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;

/** Used to match apostrophes. */
var reApos = RegExp(rsApos, 'g');

/**
 * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
 * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
 */
var reComboMark = RegExp(rsCombo, 'g');

/** Used to match complex or compound words. */
var reUnicodeWord = RegExp([
  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',
  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',
  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,
  rsUpper + '+' + rsOptUpperContr,
  rsDigits,
  rsEmoji
].join('|'), 'g');

/** Used to detect strings that need a more robust regexp to match words. */
var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

/** Used to map Latin Unicode letters to basic Latin letters. */
var deburredLetters = {
  // Latin-1 Supplement block.
  '\xc0': 'A',  '\xc1': 'A', '\xc2': 'A', '\xc3': 'A', '\xc4': 'A', '\xc5': 'A',
  '\xe0': 'a',  '\xe1': 'a', '\xe2': 'a', '\xe3': 'a', '\xe4': 'a', '\xe5': 'a',
  '\xc7': 'C',  '\xe7': 'c',
  '\xd0': 'D',  '\xf0': 'd',
  '\xc8': 'E',  '\xc9': 'E', '\xca': 'E', '\xcb': 'E',
  '\xe8': 'e',  '\xe9': 'e', '\xea': 'e', '\xeb': 'e',
  '\xcc': 'I',  '\xcd': 'I', '\xce': 'I', '\xcf': 'I',
  '\xec': 'i',  '\xed': 'i', '\xee': 'i', '\xef': 'i',
  '\xd1': 'N',  '\xf1': 'n',
  '\xd2': 'O',  '\xd3': 'O', '\xd4': 'O', '\xd5': 'O', '\xd6': 'O', '\xd8': 'O',
  '\xf2': 'o',  '\xf3': 'o', '\xf4': 'o', '\xf5': 'o', '\xf6': 'o', '\xf8': 'o',
  '\xd9': 'U',  '\xda': 'U', '\xdb': 'U', '\xdc': 'U',
  '\xf9': 'u',  '\xfa': 'u', '\xfb': 'u', '\xfc': 'u',
  '\xdd': 'Y',  '\xfd': 'y', '\xff': 'y',
  '\xc6': 'Ae', '\xe6': 'ae',
  '\xde': 'Th', '\xfe': 'th',
  '\xdf': 'ss',
  // Latin Extended-A block.
  '\u0100': 'A',  '\u0102': 'A', '\u0104': 'A',
  '\u0101': 'a',  '\u0103': 'a', '\u0105': 'a',
  '\u0106': 'C',  '\u0108': 'C', '\u010a': 'C', '\u010c': 'C',
  '\u0107': 'c',  '\u0109': 'c', '\u010b': 'c', '\u010d': 'c',
  '\u010e': 'D',  '\u0110': 'D', '\u010f': 'd', '\u0111': 'd',
  '\u0112': 'E',  '\u0114': 'E', '\u0116': 'E', '\u0118': 'E', '\u011a': 'E',
  '\u0113': 'e',  '\u0115': 'e', '\u0117': 'e', '\u0119': 'e', '\u011b': 'e',
  '\u011c': 'G',  '\u011e': 'G', '\u0120': 'G', '\u0122': 'G',
  '\u011d': 'g',  '\u011f': 'g', '\u0121': 'g', '\u0123': 'g',
  '\u0124': 'H',  '\u0126': 'H', '\u0125': 'h', '\u0127': 'h',
  '\u0128': 'I',  '\u012a': 'I', '\u012c': 'I', '\u012e': 'I', '\u0130': 'I',
  '\u0129': 'i',  '\u012b': 'i', '\u012d': 'i', '\u012f': 'i', '\u0131': 'i',
  '\u0134': 'J',  '\u0135': 'j',
  '\u0136': 'K',  '\u0137': 'k', '\u0138': 'k',
  '\u0139': 'L',  '\u013b': 'L', '\u013d': 'L', '\u013f': 'L', '\u0141': 'L',
  '\u013a': 'l',  '\u013c': 'l', '\u013e': 'l', '\u0140': 'l', '\u0142': 'l',
  '\u0143': 'N',  '\u0145': 'N', '\u0147': 'N', '\u014a': 'N',
  '\u0144': 'n',  '\u0146': 'n', '\u0148': 'n', '\u014b': 'n',
  '\u014c': 'O',  '\u014e': 'O', '\u0150': 'O',
  '\u014d': 'o',  '\u014f': 'o', '\u0151': 'o',
  '\u0154': 'R',  '\u0156': 'R', '\u0158': 'R',
  '\u0155': 'r',  '\u0157': 'r', '\u0159': 'r',
  '\u015a': 'S',  '\u015c': 'S', '\u015e': 'S', '\u0160': 'S',
  '\u015b': 's',  '\u015d': 's', '\u015f': 's', '\u0161': 's',
  '\u0162': 'T',  '\u0164': 'T', '\u0166': 'T',
  '\u0163': 't',  '\u0165': 't', '\u0167': 't',
  '\u0168': 'U',  '\u016a': 'U', '\u016c': 'U', '\u016e': 'U', '\u0170': 'U', '\u0172': 'U',
  '\u0169': 'u',  '\u016b': 'u', '\u016d': 'u', '\u016f': 'u', '\u0171': 'u', '\u0173': 'u',
  '\u0174': 'W',  '\u0175': 'w',
  '\u0176': 'Y',  '\u0177': 'y', '\u0178': 'Y',
  '\u0179': 'Z',  '\u017b': 'Z', '\u017d': 'Z',
  '\u017a': 'z',  '\u017c': 'z', '\u017e': 'z',
  '\u0132': 'IJ', '\u0133': 'ij',
  '\u0152': 'Oe', '\u0153': 'oe',
  '\u0149': "'n", '\u017f': 'ss'
};

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A specialized version of `_.reduce` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {*} [accumulator] The initial value.
 * @param {boolean} [initAccum] Specify using the first element of `array` as
 *  the initial value.
 * @returns {*} Returns the accumulated value.
 */
function arrayReduce(array, iteratee, accumulator, initAccum) {
  var index = -1,
      length = array ? array.length : 0;

  if (initAccum && length) {
    accumulator = array[++index];
  }
  while (++index < length) {
    accumulator = iteratee(accumulator, array[index], index, array);
  }
  return accumulator;
}

/**
 * Splits an ASCII `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function asciiWords(string) {
  return string.match(reAsciiWord) || [];
}

/**
 * The base implementation of `_.propertyOf` without support for deep paths.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyOf(object) {
  return function(key) {
    return object == null ? undefined : object[key];
  };
}

/**
 * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
 * letters to basic Latin letters.
 *
 * @private
 * @param {string} letter The matched letter to deburr.
 * @returns {string} Returns the deburred letter.
 */
var deburrLetter = basePropertyOf(deburredLetters);

/**
 * Checks if `string` contains a word composed of Unicode symbols.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {boolean} Returns `true` if a word is found, else `false`.
 */
function hasUnicodeWord(string) {
  return reHasUnicodeWord.test(string);
}

/**
 * Splits a Unicode `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function unicodeWords(string) {
  return string.match(reUnicodeWord) || [];
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol;

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Creates a function like `_.camelCase`.
 *
 * @private
 * @param {Function} callback The function to combine each word.
 * @returns {Function} Returns the new compounder function.
 */
function createCompounder(callback) {
  return function(string) {
    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');
  };
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Deburrs `string` by converting
 * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
 * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
 * letters to basic Latin letters and removing
 * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to deburr.
 * @returns {string} Returns the deburred string.
 * @example
 *
 * _.deburr('déjà vu');
 * // => 'deja vu'
 */
function deburr(string) {
  string = toString(string);
  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');
}

/**
 * Converts `string` to
 * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to convert.
 * @returns {string} Returns the kebab cased string.
 * @example
 *
 * _.kebabCase('Foo Bar');
 * // => 'foo-bar'
 *
 * _.kebabCase('fooBar');
 * // => 'foo-bar'
 *
 * _.kebabCase('__FOO_BAR__');
 * // => 'foo-bar'
 */
var kebabCase = createCompounder(function(result, word, index) {
  return result + (index ? '-' : '') + word.toLowerCase();
});

/**
 * Splits `string` into an array of its words.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to inspect.
 * @param {RegExp|string} [pattern] The pattern to match words.
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
 * @returns {Array} Returns the words of `string`.
 * @example
 *
 * _.words('fred, barney, & pebbles');
 * // => ['fred', 'barney', 'pebbles']
 *
 * _.words('fred, barney, & pebbles', /[^, ]+/g);
 * // => ['fred', 'barney', '&', 'pebbles']
 */
function words(string, pattern, guard) {
  string = toString(string);
  pattern = guard ? undefined : pattern;

  if (pattern === undefined) {
    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
  }
  return string.match(pattern) || [];
}

module.exports = kebabCase;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],169:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0;

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/** Used to match words composed of alphanumeric characters. */
var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

/** Used to match Latin Unicode letters (excluding mathematical operators). */
var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;

/** Used to compose unicode character classes. */
var rsAstralRange = '\\ud800-\\udfff',
    rsComboMarksRange = '\\u0300-\\u036f\\ufe20-\\ufe23',
    rsComboSymbolsRange = '\\u20d0-\\u20f0',
    rsDingbatRange = '\\u2700-\\u27bf',
    rsLowerRange = 'a-z\\xdf-\\xf6\\xf8-\\xff',
    rsMathOpRange = '\\xac\\xb1\\xd7\\xf7',
    rsNonCharRange = '\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf',
    rsPunctuationRange = '\\u2000-\\u206f',
    rsSpaceRange = ' \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
    rsUpperRange = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
    rsVarRange = '\\ufe0e\\ufe0f',
    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;

/** Used to compose unicode capture groups. */
var rsApos = "['\u2019]",
    rsBreak = '[' + rsBreakRange + ']',
    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',
    rsDigits = '\\d+',
    rsDingbat = '[' + rsDingbatRange + ']',
    rsLower = '[' + rsLowerRange + ']',
    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',
    rsFitz = '\\ud83c[\\udffb-\\udfff]',
    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',
    rsNonAstral = '[^' + rsAstralRange + ']',
    rsRegional = '(?:\\ud83c[\\udde6-\\uddff]){2}',
    rsSurrPair = '[\\ud800-\\udbff][\\udc00-\\udfff]',
    rsUpper = '[' + rsUpperRange + ']',
    rsZWJ = '\\u200d';

/** Used to compose unicode regexes. */
var rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',
    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',
    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',
    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',
    reOptMod = rsModifier + '?',
    rsOptVar = '[' + rsVarRange + ']?',
    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',
    rsSeq = rsOptVar + reOptMod + rsOptJoin,
    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;

/** Used to match apostrophes. */
var reApos = RegExp(rsApos, 'g');

/**
 * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and
 * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).
 */
var reComboMark = RegExp(rsCombo, 'g');

/** Used to match complex or compound words. */
var reUnicodeWord = RegExp([
  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',
  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',
  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,
  rsUpper + '+' + rsOptUpperContr,
  rsDigits,
  rsEmoji
].join('|'), 'g');

/** Used to detect strings that need a more robust regexp to match words. */
var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

/** Used to map Latin Unicode letters to basic Latin letters. */
var deburredLetters = {
  // Latin-1 Supplement block.
  '\xc0': 'A',  '\xc1': 'A', '\xc2': 'A', '\xc3': 'A', '\xc4': 'A', '\xc5': 'A',
  '\xe0': 'a',  '\xe1': 'a', '\xe2': 'a', '\xe3': 'a', '\xe4': 'a', '\xe5': 'a',
  '\xc7': 'C',  '\xe7': 'c',
  '\xd0': 'D',  '\xf0': 'd',
  '\xc8': 'E',  '\xc9': 'E', '\xca': 'E', '\xcb': 'E',
  '\xe8': 'e',  '\xe9': 'e', '\xea': 'e', '\xeb': 'e',
  '\xcc': 'I',  '\xcd': 'I', '\xce': 'I', '\xcf': 'I',
  '\xec': 'i',  '\xed': 'i', '\xee': 'i', '\xef': 'i',
  '\xd1': 'N',  '\xf1': 'n',
  '\xd2': 'O',  '\xd3': 'O', '\xd4': 'O', '\xd5': 'O', '\xd6': 'O', '\xd8': 'O',
  '\xf2': 'o',  '\xf3': 'o', '\xf4': 'o', '\xf5': 'o', '\xf6': 'o', '\xf8': 'o',
  '\xd9': 'U',  '\xda': 'U', '\xdb': 'U', '\xdc': 'U',
  '\xf9': 'u',  '\xfa': 'u', '\xfb': 'u', '\xfc': 'u',
  '\xdd': 'Y',  '\xfd': 'y', '\xff': 'y',
  '\xc6': 'Ae', '\xe6': 'ae',
  '\xde': 'Th', '\xfe': 'th',
  '\xdf': 'ss',
  // Latin Extended-A block.
  '\u0100': 'A',  '\u0102': 'A', '\u0104': 'A',
  '\u0101': 'a',  '\u0103': 'a', '\u0105': 'a',
  '\u0106': 'C',  '\u0108': 'C', '\u010a': 'C', '\u010c': 'C',
  '\u0107': 'c',  '\u0109': 'c', '\u010b': 'c', '\u010d': 'c',
  '\u010e': 'D',  '\u0110': 'D', '\u010f': 'd', '\u0111': 'd',
  '\u0112': 'E',  '\u0114': 'E', '\u0116': 'E', '\u0118': 'E', '\u011a': 'E',
  '\u0113': 'e',  '\u0115': 'e', '\u0117': 'e', '\u0119': 'e', '\u011b': 'e',
  '\u011c': 'G',  '\u011e': 'G', '\u0120': 'G', '\u0122': 'G',
  '\u011d': 'g',  '\u011f': 'g', '\u0121': 'g', '\u0123': 'g',
  '\u0124': 'H',  '\u0126': 'H', '\u0125': 'h', '\u0127': 'h',
  '\u0128': 'I',  '\u012a': 'I', '\u012c': 'I', '\u012e': 'I', '\u0130': 'I',
  '\u0129': 'i',  '\u012b': 'i', '\u012d': 'i', '\u012f': 'i', '\u0131': 'i',
  '\u0134': 'J',  '\u0135': 'j',
  '\u0136': 'K',  '\u0137': 'k', '\u0138': 'k',
  '\u0139': 'L',  '\u013b': 'L', '\u013d': 'L', '\u013f': 'L', '\u0141': 'L',
  '\u013a': 'l',  '\u013c': 'l', '\u013e': 'l', '\u0140': 'l', '\u0142': 'l',
  '\u0143': 'N',  '\u0145': 'N', '\u0147': 'N', '\u014a': 'N',
  '\u0144': 'n',  '\u0146': 'n', '\u0148': 'n', '\u014b': 'n',
  '\u014c': 'O',  '\u014e': 'O', '\u0150': 'O',
  '\u014d': 'o',  '\u014f': 'o', '\u0151': 'o',
  '\u0154': 'R',  '\u0156': 'R', '\u0158': 'R',
  '\u0155': 'r',  '\u0157': 'r', '\u0159': 'r',
  '\u015a': 'S',  '\u015c': 'S', '\u015e': 'S', '\u0160': 'S',
  '\u015b': 's',  '\u015d': 's', '\u015f': 's', '\u0161': 's',
  '\u0162': 'T',  '\u0164': 'T', '\u0166': 'T',
  '\u0163': 't',  '\u0165': 't', '\u0167': 't',
  '\u0168': 'U',  '\u016a': 'U', '\u016c': 'U', '\u016e': 'U', '\u0170': 'U', '\u0172': 'U',
  '\u0169': 'u',  '\u016b': 'u', '\u016d': 'u', '\u016f': 'u', '\u0171': 'u', '\u0173': 'u',
  '\u0174': 'W',  '\u0175': 'w',
  '\u0176': 'Y',  '\u0177': 'y', '\u0178': 'Y',
  '\u0179': 'Z',  '\u017b': 'Z', '\u017d': 'Z',
  '\u017a': 'z',  '\u017c': 'z', '\u017e': 'z',
  '\u0132': 'IJ', '\u0133': 'ij',
  '\u0152': 'Oe', '\u0153': 'oe',
  '\u0149': "'n", '\u017f': 'ss'
};

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A specialized version of `_.reduce` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {*} [accumulator] The initial value.
 * @param {boolean} [initAccum] Specify using the first element of `array` as
 *  the initial value.
 * @returns {*} Returns the accumulated value.
 */
function arrayReduce(array, iteratee, accumulator, initAccum) {
  var index = -1,
      length = array ? array.length : 0;

  if (initAccum && length) {
    accumulator = array[++index];
  }
  while (++index < length) {
    accumulator = iteratee(accumulator, array[index], index, array);
  }
  return accumulator;
}

/**
 * Splits an ASCII `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function asciiWords(string) {
  return string.match(reAsciiWord) || [];
}

/**
 * The base implementation of `_.propertyOf` without support for deep paths.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Function} Returns the new accessor function.
 */
function basePropertyOf(object) {
  return function(key) {
    return object == null ? undefined : object[key];
  };
}

/**
 * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A
 * letters to basic Latin letters.
 *
 * @private
 * @param {string} letter The matched letter to deburr.
 * @returns {string} Returns the deburred letter.
 */
var deburrLetter = basePropertyOf(deburredLetters);

/**
 * Checks if `string` contains a word composed of Unicode symbols.
 *
 * @private
 * @param {string} string The string to inspect.
 * @returns {boolean} Returns `true` if a word is found, else `false`.
 */
function hasUnicodeWord(string) {
  return reHasUnicodeWord.test(string);
}

/**
 * Splits a Unicode `string` into an array of its words.
 *
 * @private
 * @param {string} The string to inspect.
 * @returns {Array} Returns the words of `string`.
 */
function unicodeWords(string) {
  return string.match(reUnicodeWord) || [];
}

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Built-in value references. */
var Symbol = root.Symbol;

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Creates a function like `_.camelCase`.
 *
 * @private
 * @param {Function} callback The function to combine each word.
 * @returns {Function} Returns the new compounder function.
 */
function createCompounder(callback) {
  return function(string) {
    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');
  };
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Deburrs `string` by converting
 * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)
 * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)
 * letters to basic Latin letters and removing
 * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to deburr.
 * @returns {string} Returns the deburred string.
 * @example
 *
 * _.deburr('déjà vu');
 * // => 'deja vu'
 */
function deburr(string) {
  string = toString(string);
  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');
}

/**
 * Converts `string` to
 * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to convert.
 * @returns {string} Returns the kebab cased string.
 * @example
 *
 * _.kebabCase('Foo Bar');
 * // => 'foo-bar'
 *
 * _.kebabCase('fooBar');
 * // => 'foo-bar'
 *
 * _.kebabCase('__FOO_BAR__');
 * // => 'foo-bar'
 */
var kebabCase = createCompounder(function(result, word, index) {
  return result + (index ? '-' : '') + word.toLowerCase();
});

/**
 * Splits `string` into an array of its words.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category String
 * @param {string} [string=''] The string to inspect.
 * @param {RegExp|string} [pattern] The pattern to match words.
 * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.
 * @returns {Array} Returns the words of `string`.
 * @example
 *
 * _.words('fred, barney, & pebbles');
 * // => ['fred', 'barney', 'pebbles']
 *
 * _.words('fred, barney, & pebbles', /[^, ]+/g);
 * // => ['fred', 'barney', '&', 'pebbles']
 */
function words(string, pattern, guard) {
  string = toString(string);
  pattern = guard ? undefined : pattern;

  if (pattern === undefined) {
    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
  }
  return string.match(pattern) || [];
}

module.exports = kebabCase;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],170:[function(require,module,exports){
(function (global){
/**
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used to detect hot functions by number of calls within a span of milliseconds. */
var HOT_COUNT = 800,
    HOT_SPAN = 16;

/** Used as references for various `Number` constants. */
var MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    arrayTag = '[object Array]',
    asyncTag = '[object AsyncFunction]',
    boolTag = '[object Boolean]',
    dateTag = '[object Date]',
    errorTag = '[object Error]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    mapTag = '[object Map]',
    numberTag = '[object Number]',
    nullTag = '[object Null]',
    objectTag = '[object Object]',
    proxyTag = '[object Proxy]',
    regexpTag = '[object RegExp]',
    setTag = '[object Set]',
    stringTag = '[object String]',
    undefinedTag = '[object Undefined]',
    weakMapTag = '[object WeakMap]';

var arrayBufferTag = '[object ArrayBuffer]',
    dataViewTag = '[object DataView]',
    float32Tag = '[object Float32Array]',
    float64Tag = '[object Float64Array]',
    int8Tag = '[object Int8Array]',
    int16Tag = '[object Int16Array]',
    int32Tag = '[object Int32Array]',
    uint8Tag = '[object Uint8Array]',
    uint8ClampedTag = '[object Uint8ClampedArray]',
    uint16Tag = '[object Uint16Array]',
    uint32Tag = '[object Uint32Array]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Used to identify `toStringTag` values of typed arrays. */
var typedArrayTags = {};
typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
typedArrayTags[uint32Tag] = true;
typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
typedArrayTags[errorTag] = typedArrayTags[funcTag] =
typedArrayTags[mapTag] = typedArrayTags[numberTag] =
typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
typedArrayTags[setTag] = typedArrayTags[stringTag] =
typedArrayTags[weakMapTag] = false;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/** Detect free variable `exports`. */
var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

/** Detect free variable `module`. */
var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

/** Detect the popular CommonJS extension `module.exports`. */
var moduleExports = freeModule && freeModule.exports === freeExports;

/** Detect free variable `process` from Node.js. */
var freeProcess = moduleExports && freeGlobal.process;

/** Used to access faster Node.js helpers. */
var nodeUtil = (function() {
  try {
    return freeProcess && freeProcess.binding && freeProcess.binding('util');
  } catch (e) {}
}());

/* Node.js helper references. */
var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/**
 * Gets the value at `key`, unless `key` is "__proto__".
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function safeGet(object, key) {
  return key == '__proto__'
    ? undefined
    : object[key];
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Used to infer the `Object` constructor. */
var objectCtorString = funcToString.call(Object);

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Buffer = moduleExports ? root.Buffer : undefined,
    Symbol = root.Symbol,
    Uint8Array = root.Uint8Array,
    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
    getPrototype = overArg(Object.getPrototypeOf, Object),
    objectCreate = Object.create,
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    symToStringTag = Symbol ? Symbol.toStringTag : undefined;

var defineProperty = (function() {
  try {
    var func = getNative(Object, 'defineProperty');
    func({}, '', {});
    return func;
  } catch (e) {}
}());

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
    nativeMax = Math.max,
    nativeNow = Date.now;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * The base implementation of `_.create` without support for assigning
 * properties to the created object.
 *
 * @private
 * @param {Object} proto The object to inherit from.
 * @returns {Object} Returns the new object.
 */
var baseCreate = (function() {
  function object() {}
  return function(proto) {
    if (!isObject(proto)) {
      return {};
    }
    if (objectCreate) {
      return objectCreate(proto);
    }
    object.prototype = proto;
    var result = new object;
    object.prototype = undefined;
    return result;
  };
}());

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
  this.size = 0;
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  var result = this.has(key) && delete this.__data__[key];
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  this.size += this.has(key) ? 0 : 1;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
  this.size = 0;
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  --this.size;
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    ++this.size;
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries == null ? 0 : entries.length;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.size = 0;
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  var result = getMapData(this, key)['delete'](key);
  this.size -= result ? 1 : 0;
  return result;
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  var data = getMapData(this, key),
      size = data.size;

  data.set(key, value);
  this.size += data.size == size ? 0 : 1;
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Creates a stack cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Stack(entries) {
  var data = this.__data__ = new ListCache(entries);
  this.size = data.size;
}

/**
 * Removes all key-value entries from the stack.
 *
 * @private
 * @name clear
 * @memberOf Stack
 */
function stackClear() {
  this.__data__ = new ListCache;
  this.size = 0;
}

/**
 * Removes `key` and its value from the stack.
 *
 * @private
 * @name delete
 * @memberOf Stack
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function stackDelete(key) {
  var data = this.__data__,
      result = data['delete'](key);

  this.size = data.size;
  return result;
}

/**
 * Gets the stack value for `key`.
 *
 * @private
 * @name get
 * @memberOf Stack
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function stackGet(key) {
  return this.__data__.get(key);
}

/**
 * Checks if a stack value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Stack
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function stackHas(key) {
  return this.__data__.has(key);
}

/**
 * Sets the stack `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Stack
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the stack cache instance.
 */
function stackSet(key, value) {
  var data = this.__data__;
  if (data instanceof ListCache) {
    var pairs = data.__data__;
    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {
      pairs.push([key, value]);
      this.size = ++data.size;
      return this;
    }
    data = this.__data__ = new MapCache(pairs);
  }
  data.set(key, value);
  this.size = data.size;
  return this;
}

// Add methods to `Stack`.
Stack.prototype.clear = stackClear;
Stack.prototype['delete'] = stackDelete;
Stack.prototype.get = stackGet;
Stack.prototype.has = stackHas;
Stack.prototype.set = stackSet;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  var isArr = isArray(value),
      isArg = !isArr && isArguments(value),
      isBuff = !isArr && !isArg && isBuffer(value),
      isType = !isArr && !isArg && !isBuff && isTypedArray(value),
      skipIndexes = isArr || isArg || isBuff || isType,
      result = skipIndexes ? baseTimes(value.length, String) : [],
      length = result.length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (
           // Safari 9 has enumerable `arguments.length` in strict mode.
           key == 'length' ||
           // Node.js 0.10 has enumerable non-index properties on buffers.
           (isBuff && (key == 'offset' || key == 'parent')) ||
           // PhantomJS 2 has enumerable non-index properties on typed arrays.
           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
           // Skip index properties.
           isIndex(key, length)
        ))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * This function is like `assignValue` except that it doesn't assign
 * `undefined` values.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignMergeValue(object, key, value) {
  if ((value !== undefined && !eq(object[key], value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    baseAssignValue(object, key, value);
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `assignValue` and `assignMergeValue` without
 * value checks.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function baseAssignValue(object, key, value) {
  if (key == '__proto__' && defineProperty) {
    defineProperty(object, key, {
      'configurable': true,
      'enumerable': true,
      'value': value,
      'writable': true
    });
  } else {
    object[key] = value;
  }
}

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

/**
 * The base implementation of `_.isArguments`.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 */
function baseIsArguments(value) {
  return isObjectLike(value) && baseGetTag(value) == argsTag;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.isTypedArray` without Node.js optimizations.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 */
function baseIsTypedArray(value) {
  return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.merge` without support for multiple sources.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} [customizer] The function to customize merged values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMerge(object, source, srcIndex, customizer, stack) {
  if (object === source) {
    return;
  }
  baseFor(source, function(srcValue, key) {
    if (isObject(srcValue)) {
      stack || (stack = new Stack);
      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);
    }
    else {
      var newValue = customizer
        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)
        : undefined;

      if (newValue === undefined) {
        newValue = srcValue;
      }
      assignMergeValue(object, key, newValue);
    }
  }, keysIn);
}

/**
 * A specialized version of `baseMerge` for arrays and objects which performs
 * deep merges and tracks traversed objects enabling objects with circular
 * references to be merged.
 *
 * @private
 * @param {Object} object The destination object.
 * @param {Object} source The source object.
 * @param {string} key The key of the value to merge.
 * @param {number} srcIndex The index of `source`.
 * @param {Function} mergeFunc The function to merge values.
 * @param {Function} [customizer] The function to customize assigned values.
 * @param {Object} [stack] Tracks traversed source values and their merged
 *  counterparts.
 */
function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {
  var objValue = safeGet(object, key),
      srcValue = safeGet(source, key),
      stacked = stack.get(srcValue);

  if (stacked) {
    assignMergeValue(object, key, stacked);
    return;
  }
  var newValue = customizer
    ? customizer(objValue, srcValue, (key + ''), object, source, stack)
    : undefined;

  var isCommon = newValue === undefined;

  if (isCommon) {
    var isArr = isArray(srcValue),
        isBuff = !isArr && isBuffer(srcValue),
        isTyped = !isArr && !isBuff && isTypedArray(srcValue);

    newValue = srcValue;
    if (isArr || isBuff || isTyped) {
      if (isArray(objValue)) {
        newValue = objValue;
      }
      else if (isArrayLikeObject(objValue)) {
        newValue = copyArray(objValue);
      }
      else if (isBuff) {
        isCommon = false;
        newValue = cloneBuffer(srcValue, true);
      }
      else if (isTyped) {
        isCommon = false;
        newValue = cloneTypedArray(srcValue, true);
      }
      else {
        newValue = [];
      }
    }
    else if (isPlainObject(srcValue) || isArguments(srcValue)) {
      newValue = objValue;
      if (isArguments(objValue)) {
        newValue = toPlainObject(objValue);
      }
      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {
        newValue = initCloneObject(srcValue);
      }
    }
    else {
      isCommon = false;
    }
  }
  if (isCommon) {
    // Recursively merge objects and arrays (susceptible to call stack limits).
    stack.set(srcValue, newValue);
    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);
    stack['delete'](srcValue);
  }
  assignMergeValue(object, key, newValue);
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  return setToString(overRest(func, start, identity), func + '');
}

/**
 * The base implementation of `setToString` without support for hot loop shorting.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var baseSetToString = !defineProperty ? identity : function(func, string) {
  return defineProperty(func, 'toString', {
    'configurable': true,
    'enumerable': false,
    'value': constant(string),
    'writable': true
  });
};

/**
 * Creates a clone of  `buffer`.
 *
 * @private
 * @param {Buffer} buffer The buffer to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Buffer} Returns the cloned buffer.
 */
function cloneBuffer(buffer, isDeep) {
  if (isDeep) {
    return buffer.slice();
  }
  var length = buffer.length,
      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

  buffer.copy(result);
  return result;
}

/**
 * Creates a clone of `arrayBuffer`.
 *
 * @private
 * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
 * @returns {ArrayBuffer} Returns the cloned array buffer.
 */
function cloneArrayBuffer(arrayBuffer) {
  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
  new Uint8Array(result).set(new Uint8Array(arrayBuffer));
  return result;
}

/**
 * Creates a clone of `typedArray`.
 *
 * @private
 * @param {Object} typedArray The typed array to clone.
 * @param {boolean} [isDeep] Specify a deep clone.
 * @returns {Object} Returns the cloned typed array.
 */
function cloneTypedArray(typedArray, isDeep) {
  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
}

/**
 * Copies the values of `source` to `array`.
 *
 * @private
 * @param {Array} source The array to copy values from.
 * @param {Array} [array=[]] The array to copy values to.
 * @returns {Array} Returns `array`.
 */
function copyArray(source, array) {
  var index = -1,
      length = source.length;

  array || (array = Array(length));
  while (++index < length) {
    array[index] = source[index];
  }
  return array;
}

/**
 * Copies properties of `source` to `object`.
 *
 * @private
 * @param {Object} source The object to copy properties from.
 * @param {Array} props The property identifiers to copy.
 * @param {Object} [object={}] The object to copy properties to.
 * @param {Function} [customizer] The function to customize copied values.
 * @returns {Object} Returns `object`.
 */
function copyObject(source, props, object, customizer) {
  var isNew = !object;
  object || (object = {});

  var index = -1,
      length = props.length;

  while (++index < length) {
    var key = props[index];

    var newValue = customizer
      ? customizer(object[key], source[key], key, object, source)
      : undefined;

    if (newValue === undefined) {
      newValue = source[key];
    }
    if (isNew) {
      baseAssignValue(object, key, newValue);
    } else {
      assignValue(object, key, newValue);
    }
  }
  return object;
}

/**
 * Creates a function like `_.assign`.
 *
 * @private
 * @param {Function} assigner The function to assign values.
 * @returns {Function} Returns the new assigner function.
 */
function createAssigner(assigner) {
  return baseRest(function(object, sources) {
    var index = -1,
        length = sources.length,
        customizer = length > 1 ? sources[length - 1] : undefined,
        guard = length > 2 ? sources[2] : undefined;

    customizer = (assigner.length > 3 && typeof customizer == 'function')
      ? (length--, customizer)
      : undefined;

    if (guard && isIterateeCall(sources[0], sources[1], guard)) {
      customizer = length < 3 ? undefined : customizer;
      length = 1;
    }
    object = Object(object);
    while (++index < length) {
      var source = sources[index];
      if (source) {
        assigner(object, source, index, customizer);
      }
    }
    return object;
  });
}

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

/**
 * Initializes an object clone.
 *
 * @private
 * @param {Object} object The object to clone.
 * @returns {Object} Returns the initialized clone.
 */
function initCloneObject(object) {
  return (typeof object.constructor == 'function' && !isPrototype(object))
    ? baseCreate(getPrototype(object))
    : {};
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  var type = typeof value;
  length = length == null ? MAX_SAFE_INTEGER : length;

  return !!length &&
    (type == 'number' ||
      (type != 'symbol' && reIsUint.test(value))) &&
        (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if the given arguments are from an iteratee call.
 *
 * @private
 * @param {*} value The potential iteratee value argument.
 * @param {*} index The potential iteratee index or key argument.
 * @param {*} object The potential iteratee object argument.
 * @returns {boolean} Returns `true` if the arguments are from an iteratee call,
 *  else `false`.
 */
function isIterateeCall(value, index, object) {
  if (!isObject(object)) {
    return false;
  }
  var type = typeof index;
  if (type == 'number'
        ? (isArrayLike(object) && isIndex(index, object.length))
        : (type == 'string' && index in object)
      ) {
    return eq(object[index], value);
  }
  return false;
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

/**
 * A specialized version of `baseRest` which transforms the rest array.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @param {Function} transform The rest array transform.
 * @returns {Function} Returns the new function.
 */
function overRest(func, start, transform) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = transform(array);
    return apply(func, this, otherArgs);
  };
}

/**
 * Sets the `toString` method of `func` to return `string`.
 *
 * @private
 * @param {Function} func The function to modify.
 * @param {Function} string The `toString` result.
 * @returns {Function} Returns `func`.
 */
var setToString = shortOut(baseSetToString);

/**
 * Creates a function that'll short out and invoke `identity` instead
 * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`
 * milliseconds.
 *
 * @private
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new shortable function.
 */
function shortOut(func) {
  var count = 0,
      lastCalled = 0;

  return function() {
    var stamp = nativeNow(),
        remaining = HOT_SPAN - (stamp - lastCalled);

    lastCalled = stamp;
    if (remaining > 0) {
      if (++count >= HOT_COUNT) {
        return arguments[0];
      }
    } else {
      count = 0;
    }
    return func.apply(undefined, arguments);
  };
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to convert.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
};

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is a buffer.
 *
 * @static
 * @memberOf _
 * @since 4.3.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
 * @example
 *
 * _.isBuffer(new Buffer(2));
 * // => true
 *
 * _.isBuffer(new Uint8Array(2));
 * // => false
 */
var isBuffer = nativeIsBuffer || stubFalse;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  if (!isObject(value)) {
    return false;
  }
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 9 which returns 'object' for typed arrays and other constructors.
  var tag = baseGetTag(value);
  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

/**
 * Checks if `value` is a plain object, that is, an object created by the
 * `Object` constructor or one with a `[[Prototype]]` of `null`.
 *
 * @static
 * @memberOf _
 * @since 0.8.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * _.isPlainObject(new Foo);
 * // => false
 *
 * _.isPlainObject([1, 2, 3]);
 * // => false
 *
 * _.isPlainObject({ 'x': 0, 'y': 0 });
 * // => true
 *
 * _.isPlainObject(Object.create(null));
 * // => true
 */
function isPlainObject(value) {
  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {
    return false;
  }
  var proto = getPrototype(value);
  if (proto === null) {
    return true;
  }
  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;
  return typeof Ctor == 'function' && Ctor instanceof Ctor &&
    funcToString.call(Ctor) == objectCtorString;
}

/**
 * Checks if `value` is classified as a typed array.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
 * @example
 *
 * _.isTypedArray(new Uint8Array);
 * // => true
 *
 * _.isTypedArray([]);
 * // => false
 */
var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

/**
 * Converts `value` to a plain object flattening inherited enumerable string
 * keyed properties of `value` to own properties of the plain object.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {Object} Returns the converted plain object.
 * @example
 *
 * function Foo() {
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.assign({ 'a': 1 }, new Foo);
 * // => { 'a': 1, 'b': 2 }
 *
 * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));
 * // => { 'a': 1, 'b': 2, 'c': 3 }
 */
function toPlainObject(value) {
  return copyObject(value, keysIn(value));
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * This method is like `_.merge` except that it accepts `customizer` which
 * is invoked to produce the merged values of the destination and source
 * properties. If `customizer` returns `undefined`, merging is handled by the
 * method instead. The `customizer` is invoked with six arguments:
 * (objValue, srcValue, key, object, source, stack).
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} sources The source objects.
 * @param {Function} customizer The function to customize assigned values.
 * @returns {Object} Returns `object`.
 * @example
 *
 * function customizer(objValue, srcValue) {
 *   if (_.isArray(objValue)) {
 *     return objValue.concat(srcValue);
 *   }
 * }
 *
 * var object = { 'a': [1], 'b': [2] };
 * var other = { 'a': [3], 'b': [4] };
 *
 * _.mergeWith(object, other, customizer);
 * // => { 'a': [1, 3], 'b': [2, 4] }
 */
var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {
  baseMerge(object, source, srcIndex, customizer);
});

/**
 * Creates a function that returns `value`.
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Util
 * @param {*} value The value to return from the new function.
 * @returns {Function} Returns the new constant function.
 * @example
 *
 * var objects = _.times(2, _.constant({ 'a': 1 }));
 *
 * console.log(objects);
 * // => [{ 'a': 1 }, { 'a': 1 }]
 *
 * console.log(objects[0] === objects[1]);
 * // => true
 */
function constant(value) {
  return function() {
    return value;
  };
}

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

/**
 * This method returns `false`.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {boolean} Returns `false`.
 * @example
 *
 * _.times(2, _.stubFalse);
 * // => [false, false]
 */
function stubFalse() {
  return false;
}

module.exports = mergeWith;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],171:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the size to enable large array optimizations. */
var LARGE_ARRAY_SIZE = 200;

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var argsTag = '[object Arguments]',
    funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * A faster alternative to `Function#apply`, this function invokes `func`
 * with the `this` binding of `thisArg` and the arguments of `args`.
 *
 * @private
 * @param {Function} func The function to invoke.
 * @param {*} thisArg The `this` binding of `func`.
 * @param {Array} args The arguments to invoke `func` with.
 * @returns {*} Returns the result of `func`.
 */
function apply(func, thisArg, args) {
  switch (args.length) {
    case 0: return func.call(thisArg);
    case 1: return func.call(thisArg, args[0]);
    case 2: return func.call(thisArg, args[0], args[1]);
    case 3: return func.call(thisArg, args[0], args[1], args[2]);
  }
  return func.apply(thisArg, args);
}

/**
 * A specialized version of `_.includes` for arrays without support for
 * specifying an index to search from.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludes(array, value) {
  var length = array ? array.length : 0;
  return !!length && baseIndexOf(array, value, 0) > -1;
}

/**
 * This function is like `arrayIncludes` except that it accepts a comparator.
 *
 * @private
 * @param {Array} [array] The array to inspect.
 * @param {*} target The value to search for.
 * @param {Function} comparator The comparator invoked per element.
 * @returns {boolean} Returns `true` if `target` is found, else `false`.
 */
function arrayIncludesWith(array, value, comparator) {
  var index = -1,
      length = array ? array.length : 0;

  while (++index < length) {
    if (comparator(value, array[index])) {
      return true;
    }
  }
  return false;
}

/**
 * A specialized version of `_.map` for arrays without support for iteratee
 * shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the new mapped array.
 */
function arrayMap(array, iteratee) {
  var index = -1,
      length = array ? array.length : 0,
      result = Array(length);

  while (++index < length) {
    result[index] = iteratee(array[index], index, array);
  }
  return result;
}

/**
 * Appends the elements of `values` to `array`.
 *
 * @private
 * @param {Array} array The array to modify.
 * @param {Array} values The values to append.
 * @returns {Array} Returns `array`.
 */
function arrayPush(array, values) {
  var index = -1,
      length = values.length,
      offset = array.length;

  while (++index < length) {
    array[offset + index] = values[index];
  }
  return array;
}

/**
 * The base implementation of `_.findIndex` and `_.findLastIndex` without
 * support for iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Function} predicate The function invoked per iteration.
 * @param {number} fromIndex The index to search from.
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseFindIndex(array, predicate, fromIndex, fromRight) {
  var length = array.length,
      index = fromIndex + (fromRight ? 1 : -1);

  while ((fromRight ? index-- : ++index < length)) {
    if (predicate(array[index], index, array)) {
      return index;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.indexOf` without `fromIndex` bounds checks.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} value The value to search for.
 * @param {number} fromIndex The index to search from.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function baseIndexOf(array, value, fromIndex) {
  if (value !== value) {
    return baseFindIndex(array, baseIsNaN, fromIndex);
  }
  var index = fromIndex - 1,
      length = array.length;

  while (++index < length) {
    if (array[index] === value) {
      return index;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNaN` without support for number objects.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.
 */
function baseIsNaN(value) {
  return value !== value;
}

/**
 * The base implementation of `_.times` without support for iteratee shorthands
 * or max array length checks.
 *
 * @private
 * @param {number} n The number of times to invoke `iteratee`.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns the array of results.
 */
function baseTimes(n, iteratee) {
  var index = -1,
      result = Array(n);

  while (++index < n) {
    result[index] = iteratee(index);
  }
  return result;
}

/**
 * The base implementation of `_.unary` without support for storing metadata.
 *
 * @private
 * @param {Function} func The function to cap arguments for.
 * @returns {Function} Returns the new capped function.
 */
function baseUnary(func) {
  return function(value) {
    return func(value);
  };
}

/**
 * Checks if a cache value for `key` exists.
 *
 * @private
 * @param {Object} cache The cache to query.
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function cacheHas(cache, key) {
  return cache.has(key);
}

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/**
 * Creates a unary function that invokes `func` with its argument transformed.
 *
 * @private
 * @param {Function} func The function to wrap.
 * @param {Function} transform The argument transform.
 * @returns {Function} Returns the new function.
 */
function overArg(func, transform) {
  return function(arg) {
    return func(transform(arg));
  };
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    getPrototype = overArg(Object.getPrototypeOf, Object),
    propertyIsEnumerable = objectProto.propertyIsEnumerable,
    splice = arrayProto.splice,
    spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeGetSymbols = Object.getOwnPropertySymbols,
    nativeMax = Math.max;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 *
 * Creates an array cache object to store unique values.
 *
 * @private
 * @constructor
 * @param {Array} [values] The values to cache.
 */
function SetCache(values) {
  var index = -1,
      length = values ? values.length : 0;

  this.__data__ = new MapCache;
  while (++index < length) {
    this.add(values[index]);
  }
}

/**
 * Adds `value` to the array cache.
 *
 * @private
 * @name add
 * @memberOf SetCache
 * @alias push
 * @param {*} value The value to cache.
 * @returns {Object} Returns the cache instance.
 */
function setCacheAdd(value) {
  this.__data__.set(value, HASH_UNDEFINED);
  return this;
}

/**
 * Checks if `value` is in the array cache.
 *
 * @private
 * @name has
 * @memberOf SetCache
 * @param {*} value The value to search for.
 * @returns {number} Returns `true` if `value` is found, else `false`.
 */
function setCacheHas(value) {
  return this.__data__.has(value);
}

// Add methods to `SetCache`.
SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
SetCache.prototype.has = setCacheHas;

/**
 * Creates an array of the enumerable property names of the array-like `value`.
 *
 * @private
 * @param {*} value The value to query.
 * @param {boolean} inherited Specify returning inherited property names.
 * @returns {Array} Returns the array of property names.
 */
function arrayLikeKeys(value, inherited) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  // Safari 9 makes `arguments.length` enumerable in strict mode.
  var result = (isArray(value) || isArguments(value))
    ? baseTimes(value.length, String)
    : [];

  var length = result.length,
      skipIndexes = !!length;

  for (var key in value) {
    if ((inherited || hasOwnProperty.call(value, key)) &&
        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of methods like `_.difference` without support
 * for excluding multiple arrays or iteratee shorthands.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {Array} values The values to exclude.
 * @param {Function} [iteratee] The iteratee invoked per element.
 * @param {Function} [comparator] The comparator invoked per element.
 * @returns {Array} Returns the new array of filtered values.
 */
function baseDifference(array, values, iteratee, comparator) {
  var index = -1,
      includes = arrayIncludes,
      isCommon = true,
      length = array.length,
      result = [],
      valuesLength = values.length;

  if (!length) {
    return result;
  }
  if (iteratee) {
    values = arrayMap(values, baseUnary(iteratee));
  }
  if (comparator) {
    includes = arrayIncludesWith;
    isCommon = false;
  }
  else if (values.length >= LARGE_ARRAY_SIZE) {
    includes = cacheHas;
    isCommon = false;
    values = new SetCache(values);
  }
  outer:
  while (++index < length) {
    var value = array[index],
        computed = iteratee ? iteratee(value) : value;

    value = (comparator || value !== 0) ? value : 0;
    if (isCommon && computed === computed) {
      var valuesIndex = valuesLength;
      while (valuesIndex--) {
        if (values[valuesIndex] === computed) {
          continue outer;
        }
      }
      result.push(value);
    }
    else if (!includes(values, computed, comparator)) {
      result.push(value);
    }
  }
  return result;
}

/**
 * The base implementation of `_.flatten` with support for restricting flattening.
 *
 * @private
 * @param {Array} array The array to flatten.
 * @param {number} depth The maximum recursion depth.
 * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.
 * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.
 * @param {Array} [result=[]] The initial result value.
 * @returns {Array} Returns the new flattened array.
 */
function baseFlatten(array, depth, predicate, isStrict, result) {
  var index = -1,
      length = array.length;

  predicate || (predicate = isFlattenable);
  result || (result = []);

  while (++index < length) {
    var value = array[index];
    if (depth > 0 && predicate(value)) {
      if (depth > 1) {
        // Recursively flatten arrays (susceptible to call stack limits).
        baseFlatten(value, depth - 1, predicate, isStrict, result);
      } else {
        arrayPush(result, value);
      }
    } else if (!isStrict) {
      result[result.length] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
 * `keysFunc` and `symbolsFunc` to get the enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @param {Function} symbolsFunc The function to get the symbols of `object`.
 * @returns {Array} Returns the array of property names and symbols.
 */
function baseGetAllKeys(object, keysFunc, symbolsFunc) {
  var result = keysFunc(object);
  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function baseKeysIn(object) {
  if (!isObject(object)) {
    return nativeKeysIn(object);
  }
  var isProto = isPrototype(object),
      result = [];

  for (var key in object) {
    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
      result.push(key);
    }
  }
  return result;
}

/**
 * The base implementation of `_.pick` without support for individual
 * property identifiers.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick.
 * @returns {Object} Returns the new object.
 */
function basePick(object, props) {
  object = Object(object);
  return basePickBy(object, props, function(value, key) {
    return key in object;
  });
}

/**
 * The base implementation of  `_.pickBy` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The source object.
 * @param {string[]} props The property identifiers to pick from.
 * @param {Function} predicate The function invoked per property.
 * @returns {Object} Returns the new object.
 */
function basePickBy(object, props, predicate) {
  var index = -1,
      length = props.length,
      result = {};

  while (++index < length) {
    var key = props[index],
        value = object[key];

    if (predicate(value, key)) {
      result[key] = value;
    }
  }
  return result;
}

/**
 * The base implementation of `_.rest` which doesn't validate or coerce arguments.
 *
 * @private
 * @param {Function} func The function to apply a rest parameter to.
 * @param {number} [start=func.length-1] The start position of the rest parameter.
 * @returns {Function} Returns the new function.
 */
function baseRest(func, start) {
  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);
  return function() {
    var args = arguments,
        index = -1,
        length = nativeMax(args.length - start, 0),
        array = Array(length);

    while (++index < length) {
      array[index] = args[start + index];
    }
    index = -1;
    var otherArgs = Array(start + 1);
    while (++index < start) {
      otherArgs[index] = args[index];
    }
    otherArgs[start] = array;
    return apply(func, this, otherArgs);
  };
}

/**
 * Creates an array of own and inherited enumerable property names and
 * symbols of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names and symbols.
 */
function getAllKeysIn(object) {
  return baseGetAllKeys(object, keysIn, getSymbolsIn);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Creates an array of the own enumerable symbol properties of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;

/**
 * Creates an array of the own and inherited enumerable symbol properties
 * of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of symbols.
 */
var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {
  var result = [];
  while (object) {
    arrayPush(result, getSymbols(object));
    object = getPrototype(object);
  }
  return result;
};

/**
 * Checks if `value` is a flattenable `arguments` object or array.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.
 */
function isFlattenable(value) {
  return isArray(value) || isArguments(value) ||
    !!(spreadableSymbol && value && value[spreadableSymbol]);
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Checks if `value` is likely a prototype object.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
 */
function isPrototype(value) {
  var Ctor = value && value.constructor,
      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;

  return value === proto;
}

/**
 * This function is like
 * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
 * except that it includes inherited enumerable properties.
 *
 * @private
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 */
function nativeKeysIn(object) {
  var result = [];
  if (object != null) {
    for (var key in Object(object)) {
      result.push(key);
    }
  }
  return result;
}

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is likely an `arguments` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an `arguments` object,
 *  else `false`.
 * @example
 *
 * _.isArguments(function() { return arguments; }());
 * // => true
 *
 * _.isArguments([1, 2, 3]);
 * // => false
 */
function isArguments(value) {
  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.
  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&
    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is array-like. A value is considered array-like if it's
 * not a function and has a `value.length` that's an integer greater than or
 * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
 * @example
 *
 * _.isArrayLike([1, 2, 3]);
 * // => true
 *
 * _.isArrayLike(document.body.children);
 * // => true
 *
 * _.isArrayLike('abc');
 * // => true
 *
 * _.isArrayLike(_.noop);
 * // => false
 */
function isArrayLike(value) {
  return value != null && isLength(value.length) && !isFunction(value);
}

/**
 * This method is like `_.isArrayLike` except that it also checks if `value`
 * is an object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array-like object,
 *  else `false`.
 * @example
 *
 * _.isArrayLikeObject([1, 2, 3]);
 * // => true
 *
 * _.isArrayLikeObject(document.body.children);
 * // => true
 *
 * _.isArrayLikeObject('abc');
 * // => false
 *
 * _.isArrayLikeObject(_.noop);
 * // => false
 */
function isArrayLikeObject(value) {
  return isObjectLike(value) && isArrayLike(value);
}

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is a valid array-like length.
 *
 * **Note:** This method is loosely based on
 * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
 * @example
 *
 * _.isLength(3);
 * // => true
 *
 * _.isLength(Number.MIN_VALUE);
 * // => false
 *
 * _.isLength(Infinity);
 * // => false
 *
 * _.isLength('3');
 * // => false
 */
function isLength(value) {
  return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Creates an array of the own and inherited enumerable property names of `object`.
 *
 * **Note:** Non-object values are coerced to objects.
 *
 * @static
 * @memberOf _
 * @since 3.0.0
 * @category Object
 * @param {Object} object The object to query.
 * @returns {Array} Returns the array of property names.
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 *   this.b = 2;
 * }
 *
 * Foo.prototype.c = 3;
 *
 * _.keysIn(new Foo);
 * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
 */
function keysIn(object) {
  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
}

/**
 * The opposite of `_.pick`; this method creates an object composed of the
 * own and inherited enumerable string keyed properties of `object` that are
 * not omitted.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Object
 * @param {Object} object The source object.
 * @param {...(string|string[])} [props] The property identifiers to omit.
 * @returns {Object} Returns the new object.
 * @example
 *
 * var object = { 'a': 1, 'b': '2', 'c': 3 };
 *
 * _.omit(object, ['a', 'c']);
 * // => { 'b': '2' }
 */
var omit = baseRest(function(object, props) {
  if (object == null) {
    return {};
  }
  props = arrayMap(baseFlatten(props, 1), toKey);
  return basePick(object, baseDifference(getAllKeysIn(object), props));
});

/**
 * This method returns a new empty array.
 *
 * @static
 * @memberOf _
 * @since 4.13.0
 * @category Util
 * @returns {Array} Returns the new empty array.
 * @example
 *
 * var arrays = _.times(2, _.stubArray);
 *
 * console.log(arrays);
 * // => [[], []]
 *
 * console.log(arrays[0] === arrays[1]);
 * // => false
 */
function stubArray() {
  return [];
}

module.exports = omit;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],172:[function(require,module,exports){
(function (global){
/**
 * lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="npm" -o ./`
 * Copyright jQuery Foundation and other contributors <https://jquery.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/** Used as the `TypeError` message for "Functions" methods. */
var FUNC_ERROR_TEXT = 'Expected a function';

/** Used to stand-in for `undefined` hash values. */
var HASH_UNDEFINED = '__lodash_hash_undefined__';

/** Used as references for various `Number` constants. */
var INFINITY = 1 / 0,
    MAX_SAFE_INTEGER = 9007199254740991;

/** `Object#toString` result references. */
var funcTag = '[object Function]',
    genTag = '[object GeneratorFunction]',
    symbolTag = '[object Symbol]';

/** Used to match property names within property paths. */
var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
    reIsPlainProp = /^\w*$/,
    reLeadingDot = /^\./,
    rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

/**
 * Used to match `RegExp`
 * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
 */
var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

/** Used to match backslashes in property paths. */
var reEscapeChar = /\\(\\)?/g;

/** Used to detect host constructors (Safari). */
var reIsHostCtor = /^\[object .+?Constructor\]$/;

/** Used to detect unsigned integer values. */
var reIsUint = /^(?:0|[1-9]\d*)$/;

/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

/**
 * Gets the value at `key` of `object`.
 *
 * @private
 * @param {Object} [object] The object to query.
 * @param {string} key The key of the property to get.
 * @returns {*} Returns the property value.
 */
function getValue(object, key) {
  return object == null ? undefined : object[key];
}

/**
 * Checks if `value` is a host object in IE < 9.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a host object, else `false`.
 */
function isHostObject(value) {
  // Many host objects are `Object` objects that can coerce to strings
  // despite having improperly defined `toString` methods.
  var result = false;
  if (value != null && typeof value.toString != 'function') {
    try {
      result = !!(value + '');
    } catch (e) {}
  }
  return result;
}

/** Used for built-in method references. */
var arrayProto = Array.prototype,
    funcProto = Function.prototype,
    objectProto = Object.prototype;

/** Used to detect overreaching core-js shims. */
var coreJsData = root['__core-js_shared__'];

/** Used to detect methods masquerading as native. */
var maskSrcKey = (function() {
  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
  return uid ? ('Symbol(src)_1.' + uid) : '';
}());

/** Used to resolve the decompiled source of functions. */
var funcToString = funcProto.toString;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var objectToString = objectProto.toString;

/** Used to detect if a method is native. */
var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&')
  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$'
);

/** Built-in value references. */
var Symbol = root.Symbol,
    splice = arrayProto.splice;

/* Built-in method references that are verified to be native. */
var Map = getNative(root, 'Map'),
    nativeCreate = getNative(Object, 'create');

/** Used to convert symbols to primitives and strings. */
var symbolProto = Symbol ? Symbol.prototype : undefined,
    symbolToString = symbolProto ? symbolProto.toString : undefined;

/**
 * Creates a hash object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function Hash(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the hash.
 *
 * @private
 * @name clear
 * @memberOf Hash
 */
function hashClear() {
  this.__data__ = nativeCreate ? nativeCreate(null) : {};
}

/**
 * Removes `key` and its value from the hash.
 *
 * @private
 * @name delete
 * @memberOf Hash
 * @param {Object} hash The hash to modify.
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function hashDelete(key) {
  return this.has(key) && delete this.__data__[key];
}

/**
 * Gets the hash value for `key`.
 *
 * @private
 * @name get
 * @memberOf Hash
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function hashGet(key) {
  var data = this.__data__;
  if (nativeCreate) {
    var result = data[key];
    return result === HASH_UNDEFINED ? undefined : result;
  }
  return hasOwnProperty.call(data, key) ? data[key] : undefined;
}

/**
 * Checks if a hash value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf Hash
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function hashHas(key) {
  var data = this.__data__;
  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
}

/**
 * Sets the hash `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf Hash
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the hash instance.
 */
function hashSet(key, value) {
  var data = this.__data__;
  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;
  return this;
}

// Add methods to `Hash`.
Hash.prototype.clear = hashClear;
Hash.prototype['delete'] = hashDelete;
Hash.prototype.get = hashGet;
Hash.prototype.has = hashHas;
Hash.prototype.set = hashSet;

/**
 * Creates an list cache object.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function ListCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the list cache.
 *
 * @private
 * @name clear
 * @memberOf ListCache
 */
function listCacheClear() {
  this.__data__ = [];
}

/**
 * Removes `key` and its value from the list cache.
 *
 * @private
 * @name delete
 * @memberOf ListCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function listCacheDelete(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    return false;
  }
  var lastIndex = data.length - 1;
  if (index == lastIndex) {
    data.pop();
  } else {
    splice.call(data, index, 1);
  }
  return true;
}

/**
 * Gets the list cache value for `key`.
 *
 * @private
 * @name get
 * @memberOf ListCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function listCacheGet(key) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  return index < 0 ? undefined : data[index][1];
}

/**
 * Checks if a list cache value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf ListCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function listCacheHas(key) {
  return assocIndexOf(this.__data__, key) > -1;
}

/**
 * Sets the list cache `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf ListCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the list cache instance.
 */
function listCacheSet(key, value) {
  var data = this.__data__,
      index = assocIndexOf(data, key);

  if (index < 0) {
    data.push([key, value]);
  } else {
    data[index][1] = value;
  }
  return this;
}

// Add methods to `ListCache`.
ListCache.prototype.clear = listCacheClear;
ListCache.prototype['delete'] = listCacheDelete;
ListCache.prototype.get = listCacheGet;
ListCache.prototype.has = listCacheHas;
ListCache.prototype.set = listCacheSet;

/**
 * Creates a map cache object to store key-value pairs.
 *
 * @private
 * @constructor
 * @param {Array} [entries] The key-value pairs to cache.
 */
function MapCache(entries) {
  var index = -1,
      length = entries ? entries.length : 0;

  this.clear();
  while (++index < length) {
    var entry = entries[index];
    this.set(entry[0], entry[1]);
  }
}

/**
 * Removes all key-value entries from the map.
 *
 * @private
 * @name clear
 * @memberOf MapCache
 */
function mapCacheClear() {
  this.__data__ = {
    'hash': new Hash,
    'map': new (Map || ListCache),
    'string': new Hash
  };
}

/**
 * Removes `key` and its value from the map.
 *
 * @private
 * @name delete
 * @memberOf MapCache
 * @param {string} key The key of the value to remove.
 * @returns {boolean} Returns `true` if the entry was removed, else `false`.
 */
function mapCacheDelete(key) {
  return getMapData(this, key)['delete'](key);
}

/**
 * Gets the map value for `key`.
 *
 * @private
 * @name get
 * @memberOf MapCache
 * @param {string} key The key of the value to get.
 * @returns {*} Returns the entry value.
 */
function mapCacheGet(key) {
  return getMapData(this, key).get(key);
}

/**
 * Checks if a map value for `key` exists.
 *
 * @private
 * @name has
 * @memberOf MapCache
 * @param {string} key The key of the entry to check.
 * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
 */
function mapCacheHas(key) {
  return getMapData(this, key).has(key);
}

/**
 * Sets the map `key` to `value`.
 *
 * @private
 * @name set
 * @memberOf MapCache
 * @param {string} key The key of the value to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns the map cache instance.
 */
function mapCacheSet(key, value) {
  getMapData(this, key).set(key, value);
  return this;
}

// Add methods to `MapCache`.
MapCache.prototype.clear = mapCacheClear;
MapCache.prototype['delete'] = mapCacheDelete;
MapCache.prototype.get = mapCacheGet;
MapCache.prototype.has = mapCacheHas;
MapCache.prototype.set = mapCacheSet;

/**
 * Assigns `value` to `key` of `object` if the existing value is not equivalent
 * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * for equality comparisons.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {string} key The key of the property to assign.
 * @param {*} value The value to assign.
 */
function assignValue(object, key, value) {
  var objValue = object[key];
  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
      (value === undefined && !(key in object))) {
    object[key] = value;
  }
}

/**
 * Gets the index at which the `key` is found in `array` of key-value pairs.
 *
 * @private
 * @param {Array} array The array to inspect.
 * @param {*} key The key to search for.
 * @returns {number} Returns the index of the matched value, else `-1`.
 */
function assocIndexOf(array, key) {
  var length = array.length;
  while (length--) {
    if (eq(array[length][0], key)) {
      return length;
    }
  }
  return -1;
}

/**
 * The base implementation of `_.isNative` without bad shim checks.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a native function,
 *  else `false`.
 */
function baseIsNative(value) {
  if (!isObject(value) || isMasked(value)) {
    return false;
  }
  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;
  return pattern.test(toSource(value));
}

/**
 * The base implementation of `_.set`.
 *
 * @private
 * @param {Object} object The object to modify.
 * @param {Array|string} path The path of the property to set.
 * @param {*} value The value to set.
 * @param {Function} [customizer] The function to customize path creation.
 * @returns {Object} Returns `object`.
 */
function baseSet(object, path, value, customizer) {
  if (!isObject(object)) {
    return object;
  }
  path = isKey(path, object) ? [path] : castPath(path);

  var index = -1,
      length = path.length,
      lastIndex = length - 1,
      nested = object;

  while (nested != null && ++index < length) {
    var key = toKey(path[index]),
        newValue = value;

    if (index != lastIndex) {
      var objValue = nested[key];
      newValue = customizer ? customizer(objValue, key, nested) : undefined;
      if (newValue === undefined) {
        newValue = isObject(objValue)
          ? objValue
          : (isIndex(path[index + 1]) ? [] : {});
      }
    }
    assignValue(nested, key, newValue);
    nested = nested[key];
  }
  return object;
}

/**
 * The base implementation of `_.toString` which doesn't convert nullish
 * values to empty strings.
 *
 * @private
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 */
function baseToString(value) {
  // Exit early for strings to avoid a performance hit in some environments.
  if (typeof value == 'string') {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : '';
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Casts `value` to a path array if it's not one.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {Array} Returns the cast property path array.
 */
function castPath(value) {
  return isArray(value) ? value : stringToPath(value);
}

/**
 * Gets the data for `map`.
 *
 * @private
 * @param {Object} map The map to query.
 * @param {string} key The reference key.
 * @returns {*} Returns the map data.
 */
function getMapData(map, key) {
  var data = map.__data__;
  return isKeyable(key)
    ? data[typeof key == 'string' ? 'string' : 'hash']
    : data.map;
}

/**
 * Gets the native function at `key` of `object`.
 *
 * @private
 * @param {Object} object The object to query.
 * @param {string} key The key of the method to get.
 * @returns {*} Returns the function if it's native, else `undefined`.
 */
function getNative(object, key) {
  var value = getValue(object, key);
  return baseIsNative(value) ? value : undefined;
}

/**
 * Checks if `value` is a valid array-like index.
 *
 * @private
 * @param {*} value The value to check.
 * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
 * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
 */
function isIndex(value, length) {
  length = length == null ? MAX_SAFE_INTEGER : length;
  return !!length &&
    (typeof value == 'number' || reIsUint.test(value)) &&
    (value > -1 && value % 1 == 0 && value < length);
}

/**
 * Checks if `value` is a property name and not a property path.
 *
 * @private
 * @param {*} value The value to check.
 * @param {Object} [object] The object to query keys on.
 * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
 */
function isKey(value, object) {
  if (isArray(value)) {
    return false;
  }
  var type = typeof value;
  if (type == 'number' || type == 'symbol' || type == 'boolean' ||
      value == null || isSymbol(value)) {
    return true;
  }
  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    (object != null && value in Object(object));
}

/**
 * Checks if `value` is suitable for use as unique object key.
 *
 * @private
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
 */
function isKeyable(value) {
  var type = typeof value;
  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')
    ? (value !== '__proto__')
    : (value === null);
}

/**
 * Checks if `func` has its source masked.
 *
 * @private
 * @param {Function} func The function to check.
 * @returns {boolean} Returns `true` if `func` is masked, else `false`.
 */
function isMasked(func) {
  return !!maskSrcKey && (maskSrcKey in func);
}

/**
 * Converts `string` to a property path array.
 *
 * @private
 * @param {string} string The string to convert.
 * @returns {Array} Returns the property path array.
 */
var stringToPath = memoize(function(string) {
  string = toString(string);

  var result = [];
  if (reLeadingDot.test(string)) {
    result.push('');
  }
  string.replace(rePropName, function(match, number, quote, string) {
    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));
  });
  return result;
});

/**
 * Converts `value` to a string key if it's not a string or symbol.
 *
 * @private
 * @param {*} value The value to inspect.
 * @returns {string|symbol} Returns the key.
 */
function toKey(value) {
  if (typeof value == 'string' || isSymbol(value)) {
    return value;
  }
  var result = (value + '');
  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;
}

/**
 * Converts `func` to its source code.
 *
 * @private
 * @param {Function} func The function to process.
 * @returns {string} Returns the source code.
 */
function toSource(func) {
  if (func != null) {
    try {
      return funcToString.call(func);
    } catch (e) {}
    try {
      return (func + '');
    } catch (e) {}
  }
  return '';
}

/**
 * Creates a function that memoizes the result of `func`. If `resolver` is
 * provided, it determines the cache key for storing the result based on the
 * arguments provided to the memoized function. By default, the first argument
 * provided to the memoized function is used as the map cache key. The `func`
 * is invoked with the `this` binding of the memoized function.
 *
 * **Note:** The cache is exposed as the `cache` property on the memoized
 * function. Its creation may be customized by replacing the `_.memoize.Cache`
 * constructor with one whose instances implement the
 * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
 * method interface of `delete`, `get`, `has`, and `set`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to have its output memoized.
 * @param {Function} [resolver] The function to resolve the cache key.
 * @returns {Function} Returns the new memoized function.
 * @example
 *
 * var object = { 'a': 1, 'b': 2 };
 * var other = { 'c': 3, 'd': 4 };
 *
 * var values = _.memoize(_.values);
 * values(object);
 * // => [1, 2]
 *
 * values(other);
 * // => [3, 4]
 *
 * object.a = 2;
 * values(object);
 * // => [1, 2]
 *
 * // Modify the result cache.
 * values.cache.set(object, ['a', 'b']);
 * values(object);
 * // => ['a', 'b']
 *
 * // Replace `_.memoize.Cache`.
 * _.memoize.Cache = WeakMap;
 */
function memoize(func, resolver) {
  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  var memoized = function() {
    var args = arguments,
        key = resolver ? resolver.apply(this, args) : args[0],
        cache = memoized.cache;

    if (cache.has(key)) {
      return cache.get(key);
    }
    var result = func.apply(this, args);
    memoized.cache = cache.set(key, result);
    return result;
  };
  memoized.cache = new (memoize.Cache || MapCache);
  return memoized;
}

// Assign cache to `_.memoize`.
memoize.Cache = MapCache;

/**
 * Performs a
 * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
 * comparison between two values to determine if they are equivalent.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to compare.
 * @param {*} other The other value to compare.
 * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
 * @example
 *
 * var object = { 'a': 1 };
 * var other = { 'a': 1 };
 *
 * _.eq(object, object);
 * // => true
 *
 * _.eq(object, other);
 * // => false
 *
 * _.eq('a', 'a');
 * // => true
 *
 * _.eq('a', Object('a'));
 * // => false
 *
 * _.eq(NaN, NaN);
 * // => true
 */
function eq(value, other) {
  return value === other || (value !== value && other !== other);
}

/**
 * Checks if `value` is classified as an `Array` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an array, else `false`.
 * @example
 *
 * _.isArray([1, 2, 3]);
 * // => true
 *
 * _.isArray(document.body.children);
 * // => false
 *
 * _.isArray('abc');
 * // => false
 *
 * _.isArray(_.noop);
 * // => false
 */
var isArray = Array.isArray;

/**
 * Checks if `value` is classified as a `Function` object.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a function, else `false`.
 * @example
 *
 * _.isFunction(_);
 * // => true
 *
 * _.isFunction(/abc/);
 * // => false
 */
function isFunction(value) {
  // The use of `Object#toString` avoids issues with the `typeof` operator
  // in Safari 8-9 which returns 'object' for typed array and other constructors.
  var tag = isObject(value) ? objectToString.call(value) : '';
  return tag == funcTag || tag == genTag;
}

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return !!value && (type == 'object' || type == 'function');
}

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return !!value && typeof value == 'object';
}

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && objectToString.call(value) == symbolTag);
}

/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {string} Returns the string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */
function toString(value) {
  return value == null ? '' : baseToString(value);
}

/**
 * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,
 * it's created. Arrays are created for missing index properties while objects
 * are created for all other missing properties. Use `_.setWith` to customize
 * `path` creation.
 *
 * **Note:** This method mutates `object`.
 *
 * @static
 * @memberOf _
 * @since 3.7.0
 * @category Object
 * @param {Object} object The object to modify.
 * @param {Array|string} path The path of the property to set.
 * @param {*} value The value to set.
 * @returns {Object} Returns `object`.
 * @example
 *
 * var object = { 'a': [{ 'b': { 'c': 3 } }] };
 *
 * _.set(object, 'a[0].b.c', 4);
 * console.log(object.a[0].b.c);
 * // => 4
 *
 * _.set(object, ['x', '0', 'y', 'z'], 5);
 * console.log(object.x[0].y.z);
 * // => 5
 */
function set(object, path, value) {
  return object == null ? object : baseSet(object, path, value);
}

module.exports = set;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],173:[function(require,module,exports){
//! moment.js

;(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false,
            parsedDateParts : [],
            meridiem        : null,
            rfc2822         : false,
            weekdayMismatch : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));

            if (m._strict) {
                isNowValid = isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }

            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid (flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false &&
                (typeof console !==  'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) &&
                    !hasOwnProp(childConfig, prop) &&
                    isObject(parentConfig[prop])) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function calendar (key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        ss : '%d seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match3to4      = /\d\d\d\d?/;     //     999 - 9999
    var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    // includes scottish gaelic two word and hyphenated months
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;

    var regexes = {};

    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PRIORITIES

    addUnitPriority('year', 1);

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get (mom, unit) {
        return mom.isValid() ?
            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1 (mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    // MOMENTS

    function stringGet (units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }


    function stringSet (units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PRIORITY

    addUnitPriority('month', 8);

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m, format) {
        if (!m) {
            return isArray(this._months) ? this._months :
                this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] :
            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort :
                this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;
    function monthsShortRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ?
                this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;
    function monthsRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ?
                this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate (y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date = new Date(y, m, d, h, M, s, ms);

        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
            date.setFullYear(y);
        }
        return date;
    }

    function createUTCDate (y) {
        var date = new Date(Date.UTC.apply(null, arguments));

        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek, resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PRIORITIES

    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 1st is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PRIORITY
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd',   function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd',   function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m, format) {
        if (!m) {
            return isArray(this._weekdays) ? this._weekdays :
                this._weekdays['standalone'];
        }
        return isArray(this._weekdays) ? this._weekdays[m.day()] :
            this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse (weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;
    function weekdaysRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ?
                this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;
    function weekdaysShortRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ?
                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;
    function weekdaysMinRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ?
                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }


    function computeWeekdaysParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PRIORITY
    addUnitPriority('hour', 13);

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('k',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour they want. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse
    };

    // internal storage for locale config files
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                aliasedRequire('./locale/' + name);
                getSetGlobalLocale(oldLocale);
            } catch (e) {}
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
            else {
                if ((typeof console !==  'undefined') && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride',
                        'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);


            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            // MERGE
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            var curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from begining of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to begining of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
        ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
        ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
        ['YYYY-DDD', /\d{4}-\d{3}/],
        ['YYYY-MM', /\d{4}-\d\d/, false],
        ['YYYYYYMMDD', /[+-]\d{10}/],
        ['YYYYMMDD', /\d{8}/],
        // YYYYMM is NOT allowed by the standard
        ['GGGG[W]WWE', /\d{4}W\d{3}/],
        ['GGGG[W]WW', /\d{4}W\d{2}/, false],
        ['YYYYDDD', /\d{7}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        if (match) {
            getParsingFlags(config).iso = true;

            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10)
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        // Final attempt, use Input Fallback
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
        'discouraged and will be removed in an upcoming major release. Please refer to ' +
        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        }  else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if ((isObject(input) && isObjectEmpty(input)) ||
                (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other < this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other > this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };

    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }

        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function absRound (number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // FORMATTING

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);

        if (matches === null) {
            return null;
        }

        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ?
          0 :
          parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            }
            else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset () {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc () {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    // and further modified to allow for strings containing both week and day
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])                         * sign,
                h  : toInt(match[HOUR])                         * sign,
                m  : toInt(match[MINUTE])                       * sign,
                s  : toInt(match[SECOND])                       * sign,
                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                w : parseIso(match[4], sign),
                d : parseIso(match[5], sign),
                h : parseIso(match[6], sign),
                m : parseIso(match[7], sign),
                s : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {milliseconds: 0, months: 0};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add      = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1 (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';

        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween (from, to, units, inclusivity) {
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&
            (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
    }

    function isSame (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units || 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter (input, units) {
        return this.isSame(input, units) || this.isAfter(input,units);
    }

    function isSameOrBefore (input, units) {
        return this.isSame(input, units) || this.isBefore(input,units);
    }

    function diff (input, units, asFloat) {
        var that,
            zoneDelta,
            output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year': output = monthDiff(this, that) / 12; break;
            case 'month': output = monthDiff(this, that); break;
            case 'quarter': output = monthDiff(this, that) / 3; break;
            case 'second': output = (this - that) / 1e3; break; // 1000
            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60
            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60
            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst
            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default: output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect () {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format (inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow (withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow (withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    function startOf (units) {
        units = normalizeUnits(units);
        // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (units) {
            case 'year':
                this.month(0);
                /* falls through */
            case 'quarter':
            case 'month':
                this.date(1);
                /* falls through */
            case 'week':
            case 'isoWeek':
            case 'day':
            case 'date':
                this.hours(0);
                /* falls through */
            case 'hour':
                this.minutes(0);
                /* falls through */
            case 'minute':
                this.seconds(0);
                /* falls through */
            case 'second':
                this.milliseconds(0);
        }

        // weeks are a special case
        if (units === 'week') {
            this.weekday(0);
        }
        if (units === 'isoWeek') {
            this.isoWeekday(1);
        }

        // quarters are also special
        if (units === 'quarter') {
            this.month(Math.floor(this.month() / 3) * 3);
        }

        return this;
    }

    function endOf (units) {
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond') {
            return this;
        }

        // 'date' is an alias for 'day', so it should be considered as such.
        if (units === 'date') {
            units = 'day';
        }

        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
    }

    function valueOf () {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate () {
        return new Date(this.valueOf());
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON () {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2 () {
        return isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PRIORITY

    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);


    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input,
                this.week(),
                this.weekday(),
                this.localeData()._week.dow,
                this.localeData()._week.doy);
    }

    function getSetISOWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PRIORITY

    addUnitPriority('quarter', 7);

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PRIORITY
    addUnitPriority('date', 9);

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PRIORITY
    addUnitPriority('dayOfYear', 4);

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PRIORITY

    addUnitPriority('minute', 14);

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PRIORITY

    addUnitPriority('second', 15);

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PRIORITY

    addUnitPriority('millisecond', 16);

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$1;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = from;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$2;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix (input) {
        return createLocal(input * 1000);
    }

    function createInZone () {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat (string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar        = calendar;
    proto$1.longDateFormat  = longDateFormat;
    proto$1.invalidDate     = invalidDate;
    proto$1.ordinal         = ordinal;
    proto$1.preparse        = preParsePostFormat;
    proto$1.postformat      = preParsePostFormat;
    proto$1.relativeTime    = relativeTime;
    proto$1.pastFuture      = pastFuture;
    proto$1.set             = set;

    proto$1.months            =        localeMonths;
    proto$1.monthsShort       =        localeMonthsShort;
    proto$1.monthsParse       =        localeMonthsParse;
    proto$1.monthsRegex       = monthsRegex;
    proto$1.monthsShortRegex  = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays       =        localeWeekdays;
    proto$1.weekdaysMin    =        localeWeekdaysMin;
    proto$1.weekdaysShort  =        localeWeekdaysShort;
    proto$1.weekdaysParse  =        localeWeekdaysParse;

    proto$1.weekdaysRegex       =        weekdaysRegex;
    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1 (format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl (format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl (localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0;

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths (format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort (format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports

    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

    var mathAbs = Math.abs;

    function abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function addSubtract$1 (duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1 (input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1 (input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'year') {
            days   = this._days   + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            return units === 'month' ? months : months / 12;
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function valueOf$1 () {
        if (!this.isValid()) {
            return NaN;
        }
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asYears        = makeAs('y');

    function clone$1 () {
        return createDuration(this);
    }

    function get$2 (units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        ss: 44,         // a few seconds to seconds
        s : 45,         // seconds to minute
        m : 45,         // minutes to hour
        h : 22,         // hours to day
        d : 26,         // days to month
        M : 11          // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds <= thresholds.ss && ['s', seconds]  ||
                seconds < thresholds.s   && ['ss', seconds] ||
                minutes <= 1             && ['m']           ||
                minutes < thresholds.m   && ['mm', minutes] ||
                hours   <= 1             && ['h']           ||
                hours   < thresholds.h   && ['hh', hours]   ||
                days    <= 1             && ['d']           ||
                days    < thresholds.d   && ['dd', days]    ||
                months  <= 1             && ['M']           ||
                months  < thresholds.M   && ['MM', months]  ||
                years   <= 1             && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding (roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof(roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize (withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000;
        var days         = abs$1(this._days);
        var months       = abs$1(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return totalSign + 'P' +
            (Y ? ymSign + Y + 'Y' : '') +
            (M ? ymSign + M + 'M' : '') +
            (D ? daysSign + D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? hmsSign + h + 'H' : '') +
            (m ? hmsSign + m + 'M' : '') +
            (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid        = isValid$1;
    proto$2.abs            = abs;
    proto$2.add            = add$1;
    proto$2.subtract       = subtract$1;
    proto$2.as             = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds      = asSeconds;
    proto$2.asMinutes      = asMinutes;
    proto$2.asHours        = asHours;
    proto$2.asDays         = asDays;
    proto$2.asWeeks        = asWeeks;
    proto$2.asMonths       = asMonths;
    proto$2.asYears        = asYears;
    proto$2.valueOf        = valueOf$1;
    proto$2._bubble        = bubble;
    proto$2.clone          = clone$1;
    proto$2.get            = get$2;
    proto$2.milliseconds   = milliseconds;
    proto$2.seconds        = seconds;
    proto$2.minutes        = minutes;
    proto$2.hours          = hours;
    proto$2.days           = days;
    proto$2.weeks          = weeks;
    proto$2.months         = months;
    proto$2.years          = years;
    proto$2.humanize       = humanize;
    proto$2.toISOString    = toISOString$1;
    proto$2.toString       = toISOString$1;
    proto$2.toJSON         = toISOString$1;
    proto$2.locale         = locale;
    proto$2.localeData     = localeData;

    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;

    // Side effect imports

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    hooks.version = '2.22.2';

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD',                             // <input type="date" />
        TIME: 'HH:mm',                                  // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss',                       // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS',                        // <input type="time" step="0.001" />
        WEEK: 'YYYY-[W]WW',                             // <input type="week" />
        MONTH: 'YYYY-MM'                                // <input type="month" />
    };

    return hooks;

})));

},{}],174:[function(require,module,exports){
//     (c) 2012-2016 Airbnb, Inc.
//
//     polyglot.js may be freely distributed under the terms of the BSD
//     license. For all licensing information, details, and documention:
//     http://airbnb.github.com/polyglot.js
//
//
// Polyglot.js is an I18n helper library written in JavaScript, made to
// work both in the browser and in Node. It provides a simple solution for
// interpolation and pluralization, based off of Airbnb's
// experience adding I18n functionality to its Backbone.js and Node apps.
//
// Polylglot is agnostic to your translation backend. It doesn't perform any
// translation; it simply gives you a way to manage translated phrases from
// your client- or server-side JavaScript application.
//

'use strict';

var forEach = require('for-each');
var warning = require('warning');
var has = require('has');
var trim = require('string.prototype.trim');

var warn = function warn(message) {
  warning(false, message);
};

var replace = String.prototype.replace;
var split = String.prototype.split;

// #### Pluralization methods
// The string that separates the different phrase possibilities.
var delimeter = '||||';

// Mapping from pluralization group plural logic.
var pluralTypes = {
  arabic: function (n) {
    // http://www.arabeyes.org/Plural_Forms
    if (n < 3) { return n; }
    if (n % 100 >= 3 && n % 100 <= 10) return 3;
    return n % 100 >= 11 ? 4 : 5;
  },
  chinese: function () { return 0; },
  german: function (n) { return n !== 1 ? 1 : 0; },
  french: function (n) { return n > 1 ? 1 : 0; },
  russian: function (n) {
    if (n % 10 === 1 && n % 100 !== 11) { return 0; }
    return n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;
  },
  czech: function (n) {
    if (n === 1) { return 0; }
    return (n >= 2 && n <= 4) ? 1 : 2;
  },
  polish: function (n) {
    if (n === 1) { return 0; }
    return n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2;
  },
  icelandic: function (n) { return (n % 10 !== 1 || n % 100 === 11) ? 1 : 0; }
};

// Mapping from pluralization group to individual locales.
var pluralTypeToLanguages = {
  arabic: ['ar'],
  chinese: ['fa', 'id', 'ja', 'ko', 'lo', 'ms', 'th', 'tr', 'zh'],
  german: ['da', 'de', 'en', 'es', 'fi', 'el', 'he', 'hu', 'it', 'nl', 'no', 'pt', 'sv'],
  french: ['fr', 'tl', 'pt-br'],
  russian: ['hr', 'ru', 'lt'],
  czech: ['cs', 'sk'],
  polish: ['pl'],
  icelandic: ['is']
};

function langToTypeMap(mapping) {
  var ret = {};
  forEach(mapping, function (langs, type) {
    forEach(langs, function (lang) {
      ret[lang] = type;
    });
  });
  return ret;
}

function pluralTypeName(locale) {
  var langToPluralType = langToTypeMap(pluralTypeToLanguages);
  return langToPluralType[locale]
    || langToPluralType[split.call(locale, /-/, 1)[0]]
    || langToPluralType.en;
}

function pluralTypeIndex(locale, count) {
  return pluralTypes[pluralTypeName(locale)](count);
}

var dollarRegex = /\$/g;
var dollarBillsYall = '$$';
var tokenRegex = /%\{(.*?)\}/g;

// ### transformPhrase(phrase, substitutions, locale)
//
// Takes a phrase string and transforms it by choosing the correct
// plural form and interpolating it.
//
//     transformPhrase('Hello, %{name}!', {name: 'Spike'});
//     // "Hello, Spike!"
//
// The correct plural form is selected if substitutions.smart_count
// is set. You can pass in a number instead of an Object as `substitutions`
// as a shortcut for `smart_count`.
//
//     transformPhrase('%{smart_count} new messages |||| 1 new message', {smart_count: 1}, 'en');
//     // "1 new message"
//
//     transformPhrase('%{smart_count} new messages |||| 1 new message', {smart_count: 2}, 'en');
//     // "2 new messages"
//
//     transformPhrase('%{smart_count} new messages |||| 1 new message', 5, 'en');
//     // "5 new messages"
//
// You should pass in a third argument, the locale, to specify the correct plural type.
// It defaults to `'en'` with 2 plural forms.
function transformPhrase(phrase, substitutions, locale) {
  if (typeof phrase !== 'string') {
    throw new TypeError('Polyglot.transformPhrase expects argument #1 to be string');
  }

  if (substitutions == null) {
    return phrase;
  }

  var result = phrase;

  // allow number as a pluralization shortcut
  var options = typeof substitutions === 'number' ? { smart_count: substitutions } : substitutions;

  // Select plural form: based on a phrase text that contains `n`
  // plural forms separated by `delimeter`, a `locale`, and a `substitutions.smart_count`,
  // choose the correct plural form. This is only done if `count` is set.
  if (options.smart_count != null && result) {
    var texts = split.call(result, delimeter);
    result = trim(texts[pluralTypeIndex(locale || 'en', options.smart_count)] || texts[0]);
  }

  // Interpolate: Creates a `RegExp` object for each interpolation placeholder.
  result = replace.call(result, tokenRegex, function (expression, argument) {
    if (!has(options, argument) || options[argument] == null) { return expression; }
    // Ensure replacement value is escaped to prevent special $-prefixed regex replace tokens.
    return replace.call(options[argument], dollarRegex, dollarBillsYall);
  });

  return result;
}

// ### Polyglot class constructor
function Polyglot(options) {
  var opts = options || {};
  this.phrases = {};
  this.extend(opts.phrases || {});
  this.currentLocale = opts.locale || 'en';
  var allowMissing = opts.allowMissing ? transformPhrase : null;
  this.onMissingKey = typeof opts.onMissingKey === 'function' ? opts.onMissingKey : allowMissing;
  this.warn = opts.warn || warn;
}

// ### polyglot.locale([locale])
//
// Get or set locale. Internally, Polyglot only uses locale for pluralization.
Polyglot.prototype.locale = function (newLocale) {
  if (newLocale) this.currentLocale = newLocale;
  return this.currentLocale;
};

// ### polyglot.extend(phrases)
//
// Use `extend` to tell Polyglot how to translate a given key.
//
//     polyglot.extend({
//       "hello": "Hello",
//       "hello_name": "Hello, %{name}"
//     });
//
// The key can be any string.  Feel free to call `extend` multiple times;
// it will override any phrases with the same key, but leave existing phrases
// untouched.
//
// It is also possible to pass nested phrase objects, which get flattened
// into an object with the nested keys concatenated using dot notation.
//
//     polyglot.extend({
//       "nav": {
//         "hello": "Hello",
//         "hello_name": "Hello, %{name}",
//         "sidebar": {
//           "welcome": "Welcome"
//         }
//       }
//     });
//
//     console.log(polyglot.phrases);
//     // {
//     //   'nav.hello': 'Hello',
//     //   'nav.hello_name': 'Hello, %{name}',
//     //   'nav.sidebar.welcome': 'Welcome'
//     // }
//
// `extend` accepts an optional second argument, `prefix`, which can be used
// to prefix every key in the phrases object with some string, using dot
// notation.
//
//     polyglot.extend({
//       "hello": "Hello",
//       "hello_name": "Hello, %{name}"
//     }, "nav");
//
//     console.log(polyglot.phrases);
//     // {
//     //   'nav.hello': 'Hello',
//     //   'nav.hello_name': 'Hello, %{name}'
//     // }
//
// This feature is used internally to support nested phrase objects.
Polyglot.prototype.extend = function (morePhrases, prefix) {
  forEach(morePhrases, function (phrase, key) {
    var prefixedKey = prefix ? prefix + '.' + key : key;
    if (typeof phrase === 'object') {
      this.extend(phrase, prefixedKey);
    } else {
      this.phrases[prefixedKey] = phrase;
    }
  }, this);
};

// ### polyglot.unset(phrases)
// Use `unset` to selectively remove keys from a polyglot instance.
//
//     polyglot.unset("some_key");
//     polyglot.unset({
//       "hello": "Hello",
//       "hello_name": "Hello, %{name}"
//     });
//
// The unset method can take either a string (for the key), or an object hash with
// the keys that you would like to unset.
Polyglot.prototype.unset = function (morePhrases, prefix) {
  if (typeof morePhrases === 'string') {
    delete this.phrases[morePhrases];
  } else {
    forEach(morePhrases, function (phrase, key) {
      var prefixedKey = prefix ? prefix + '.' + key : key;
      if (typeof phrase === 'object') {
        this.unset(phrase, prefixedKey);
      } else {
        delete this.phrases[prefixedKey];
      }
    }, this);
  }
};

// ### polyglot.clear()
//
// Clears all phrases. Useful for special cases, such as freeing
// up memory if you have lots of phrases but no longer need to
// perform any translation. Also used internally by `replace`.
Polyglot.prototype.clear = function () {
  this.phrases = {};
};

// ### polyglot.replace(phrases)
//
// Completely replace the existing phrases with a new set of phrases.
// Normally, just use `extend` to add more phrases, but under certain
// circumstances, you may want to make sure no old phrases are lying around.
Polyglot.prototype.replace = function (newPhrases) {
  this.clear();
  this.extend(newPhrases);
};


// ### polyglot.t(key, options)
//
// The most-used method. Provide a key, and `t` will return the
// phrase.
//
//     polyglot.t("hello");
//     => "Hello"
//
// The phrase value is provided first by a call to `polyglot.extend()` or
// `polyglot.replace()`.
//
// Pass in an object as the second argument to perform interpolation.
//
//     polyglot.t("hello_name", {name: "Spike"});
//     => "Hello, Spike"
//
// If you like, you can provide a default value in case the phrase is missing.
// Use the special option key "_" to specify a default.
//
//     polyglot.t("i_like_to_write_in_language", {
//       _: "I like to write in %{language}.",
//       language: "JavaScript"
//     });
//     => "I like to write in JavaScript."
//
Polyglot.prototype.t = function (key, options) {
  var phrase, result;
  var opts = options == null ? {} : options;
  if (typeof this.phrases[key] === 'string') {
    phrase = this.phrases[key];
  } else if (typeof opts._ === 'string') {
    phrase = opts._;
  } else if (this.onMissingKey) {
    var onMissingKey = this.onMissingKey;
    result = onMissingKey(key, opts, this.currentLocale);
  } else {
    this.warn('Missing translation for key: "' + key + '"');
    result = key;
  }
  if (typeof phrase === 'string') {
    result = transformPhrase(phrase, opts, this.currentLocale);
  }
  return result;
};


// ### polyglot.has(key)
//
// Check if polyglot has a translation for given key
Polyglot.prototype.has = function (key) {
  return has(this.phrases, key);
};

// export transformPhrase
Polyglot.transformPhrase = transformPhrase;

module.exports = Polyglot;

},{"for-each":156,"has":160,"string.prototype.trim":178,"warning":181}],175:[function(require,module,exports){
/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */

(function (root, factory)
{
    'use strict';

    var moment;
    if (typeof exports === 'object') {
        // CommonJS module
        // Load moment.js as an optional dependency
        try { moment = require('moment'); } catch (e) {}
        module.exports = factory(moment);
    } else if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(function (req)
        {
            // Load moment.js as an optional dependency
            var id = 'moment';
            try { moment = req(id); } catch (e) {}
            return factory(moment);
        });
    } else {
        root.Pikaday = factory(root.moment);
    }
}(this, function (moment)
{
    'use strict';

    /**
     * feature detection and helper functions
     */
    var hasMoment = typeof moment === 'function',

    hasEventListeners = !!window.addEventListener,

    document = window.document,

    sto = window.setTimeout,

    addEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.addEventListener(e, callback, !!capture);
        } else {
            el.attachEvent('on' + e, callback);
        }
    },

    removeEvent = function(el, e, callback, capture)
    {
        if (hasEventListeners) {
            el.removeEventListener(e, callback, !!capture);
        } else {
            el.detachEvent('on' + e, callback);
        }
    },

    trim = function(str)
    {
        return str.trim ? str.trim() : str.replace(/^\s+|\s+$/g,'');
    },

    hasClass = function(el, cn)
    {
        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;
    },

    addClass = function(el, cn)
    {
        if (!hasClass(el, cn)) {
            el.className = (el.className === '') ? cn : el.className + ' ' + cn;
        }
    },

    removeClass = function(el, cn)
    {
        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));
    },

    isArray = function(obj)
    {
        return (/Array/).test(Object.prototype.toString.call(obj));
    },

    isDate = function(obj)
    {
        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());
    },

    isWeekend = function(date)
    {
        var day = date.getDay();
        return day === 0 || day === 6;
    },

    isLeapYear = function(year)
    {
        // solution by Matti Virkkunen: http://stackoverflow.com/a/4881951
        return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;
    },

    getDaysInMonth = function(year, month)
    {
        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
    },

    setToStartOfDay = function(date)
    {
        if (isDate(date)) date.setHours(0,0,0,0);
    },

    compareDates = function(a,b)
    {
        // weak date comparison (use setToStartOfDay(date) to ensure correct result)
        return a.getTime() === b.getTime();
    },

    extend = function(to, from, overwrite)
    {
        var prop, hasProp;
        for (prop in from) {
            hasProp = to[prop] !== undefined;
            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {
                if (isDate(from[prop])) {
                    if (overwrite) {
                        to[prop] = new Date(from[prop].getTime());
                    }
                }
                else if (isArray(from[prop])) {
                    if (overwrite) {
                        to[prop] = from[prop].slice(0);
                    }
                } else {
                    to[prop] = extend({}, from[prop], overwrite);
                }
            } else if (overwrite || !hasProp) {
                to[prop] = from[prop];
            }
        }
        return to;
    },

    fireEvent = function(el, eventName, data)
    {
        var ev;

        if (document.createEvent) {
            ev = document.createEvent('HTMLEvents');
            ev.initEvent(eventName, true, false);
            ev = extend(ev, data);
            el.dispatchEvent(ev);
        } else if (document.createEventObject) {
            ev = document.createEventObject();
            ev = extend(ev, data);
            el.fireEvent('on' + eventName, ev);
        }
    },

    adjustCalendar = function(calendar) {
        if (calendar.month < 0) {
            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);
            calendar.month += 12;
        }
        if (calendar.month > 11) {
            calendar.year += Math.floor(Math.abs(calendar.month)/12);
            calendar.month -= 12;
        }
        return calendar;
    },

    /**
     * defaults and localisation
     */
    defaults = {

        // bind the picker to a form field
        field: null,

        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)
        bound: undefined,

        // position of the datepicker, relative to the field (default to bottom & left)
        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)
        position: 'bottom left',

        // automatically fit in the viewport even if it means repositioning from the position option
        reposition: true,

        // the default output format for `.toString()` and `field` value
        format: 'YYYY-MM-DD',

        // the toString function which gets passed a current date object and format
        // and returns a string
        toString: null,

        // used to create date object from current input string
        parse: null,

        // the initial date to view when first opened
        defaultDate: null,

        // make the `defaultDate` the initial selected value
        setDefaultDate: false,

        // first day of week (0: Sunday, 1: Monday etc)
        firstDay: 0,

        // the default flag for moment's strict date parsing
        formatStrict: false,

        // the minimum/earliest date that can be selected
        minDate: null,
        // the maximum/latest date that can be selected
        maxDate: null,

        // number of years either side, or array of upper/lower range
        yearRange: 10,

        // show week numbers at head of row
        showWeekNumber: false,

        // Week picker mode
        pickWholeWeek: false,

        // used internally (don't config outside)
        minYear: 0,
        maxYear: 9999,
        minMonth: undefined,
        maxMonth: undefined,

        startRange: null,
        endRange: null,

        isRTL: false,

        // Additional text to append to the year in the calendar title
        yearSuffix: '',

        // Render the month after year in the calendar title
        showMonthAfterYear: false,

        // Render days of the calendar grid that fall in the next or previous month
        showDaysInNextAndPreviousMonths: false,

        // Allows user to select days that fall in the next or previous month
        enableSelectionDaysInNextAndPreviousMonths: false,

        // how many months are visible
        numberOfMonths: 1,

        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)
        // only used for the first display or when a selected date is not visible
        mainCalendar: 'left',

        // Specify a DOM element to render the calendar in
        container: undefined,

        // Blur field when date is selected
        blurFieldOnSelect : true,

        // internationalization
        i18n: {
            previousMonth : 'Previous Month',
            nextMonth     : 'Next Month',
            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],
            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],
            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']
        },

        // Theme Classname
        theme: null,

        // events array
        events: [],

        // callback function
        onSelect: null,
        onOpen: null,
        onClose: null,
        onDraw: null,

        // Enable keyboard input
        keyboardInput: true
    },


    /**
     * templating functions to abstract HTML rendering
     */
    renderDayName = function(opts, day, abbr)
    {
        day += opts.firstDay;
        while (day >= 7) {
            day -= 7;
        }
        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];
    },

    renderDay = function(opts)
    {
        var arr = [];
        var ariaSelected = 'false';
        if (opts.isEmpty) {
            if (opts.showDaysInNextAndPreviousMonths) {
                arr.push('is-outside-current-month');

                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {
                    arr.push('is-selection-disabled');
                }

            } else {
                return '<td class="is-empty"></td>';
            }
        }
        if (opts.isDisabled) {
            arr.push('is-disabled');
        }
        if (opts.isToday) {
            arr.push('is-today');
        }
        if (opts.isSelected) {
            arr.push('is-selected');
            ariaSelected = 'true';
        }
        if (opts.hasEvent) {
            arr.push('has-event');
        }
        if (opts.isInRange) {
            arr.push('is-inrange');
        }
        if (opts.isStartRange) {
            arr.push('is-startrange');
        }
        if (opts.isEndRange) {
            arr.push('is-endrange');
        }
        return '<td data-day="' + opts.day + '" class="' + arr.join(' ') + '" aria-selected="' + ariaSelected + '">' +
                 '<button class="pika-button pika-day" type="button" ' +
                    'data-pika-year="' + opts.year + '" data-pika-month="' + opts.month + '" data-pika-day="' + opts.day + '">' +
                        opts.day +
                 '</button>' +
               '</td>';
    },

    renderWeek = function (d, m, y) {
        // Lifted from http://javascript.about.com/library/blweekyear.htm, lightly modified.
        var onejan = new Date(y, 0, 1),
            weekNum = Math.ceil((((new Date(y, m, d) - onejan) / 86400000) + onejan.getDay()+1)/7);
        return '<td class="pika-week">' + weekNum + '</td>';
    },

    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)
    {
        return '<tr class="pika-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '">' + (isRTL ? days.reverse() : days).join('') + '</tr>';
    },

    renderBody = function(rows)
    {
        return '<tbody>' + rows.join('') + '</tbody>';
    },

    renderHead = function(opts)
    {
        var i, arr = [];
        if (opts.showWeekNumber) {
            arr.push('<th></th>');
        }
        for (i = 0; i < 7; i++) {
            arr.push('<th scope="col"><abbr title="' + renderDayName(opts, i) + '">' + renderDayName(opts, i, true) + '</abbr></th>');
        }
        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';
    },

    renderTitle = function(instance, c, year, month, refYear, randId)
    {
        var i, j, arr,
            opts = instance._o,
            isMinYear = year === opts.minYear,
            isMaxYear = year === opts.maxYear,
            html = '<div id="' + randId + '" class="pika-title" role="heading" aria-live="assertive">',
            monthHtml,
            yearHtml,
            prev = true,
            next = true;

        for (arr = [], i = 0; i < 12; i++) {
            arr.push('<option value="' + (year === refYear ? i - c : 12 + i - c) + '"' +
                (i === month ? ' selected="selected"': '') +
                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? 'disabled="disabled"' : '') + '>' +
                opts.i18n.months[i] + '</option>');
        }

        monthHtml = '<div class="pika-label">' + opts.i18n.months[month] + '<select class="pika-select pika-select-month" tabindex="-1">' + arr.join('') + '</select></div>';

        if (isArray(opts.yearRange)) {
            i = opts.yearRange[0];
            j = opts.yearRange[1] + 1;
        } else {
            i = year - opts.yearRange;
            j = 1 + year + opts.yearRange;
        }

        for (arr = []; i < j && i <= opts.maxYear; i++) {
            if (i >= opts.minYear) {
                arr.push('<option value="' + i + '"' + (i === year ? ' selected="selected"': '') + '>' + (i) + '</option>');
            }
        }
        yearHtml = '<div class="pika-label">' + year + opts.yearSuffix + '<select class="pika-select pika-select-year" tabindex="-1">' + arr.join('') + '</select></div>';

        if (opts.showMonthAfterYear) {
            html += yearHtml + monthHtml;
        } else {
            html += monthHtml + yearHtml;
        }

        if (isMinYear && (month === 0 || opts.minMonth >= month)) {
            prev = false;
        }

        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {
            next = false;
        }

        if (c === 0) {
            html += '<button class="pika-prev' + (prev ? '' : ' is-disabled') + '" type="button">' + opts.i18n.previousMonth + '</button>';
        }
        if (c === (instance._o.numberOfMonths - 1) ) {
            html += '<button class="pika-next' + (next ? '' : ' is-disabled') + '" type="button">' + opts.i18n.nextMonth + '</button>';
        }

        return html += '</div>';
    },

    renderTable = function(opts, data, randId)
    {
        return '<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="' + randId + '">' + renderHead(opts) + renderBody(data) + '</table>';
    },


    /**
     * Pikaday constructor
     */
    Pikaday = function(options)
    {
        var self = this,
            opts = self.config(options);

        self._onMouseDown = function(e)
        {
            if (!self._v) {
                return;
            }
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }

            if (!hasClass(target, 'is-disabled')) {
                if (hasClass(target, 'pika-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {
                    self.setDate(new Date(target.getAttribute('data-pika-year'), target.getAttribute('data-pika-month'), target.getAttribute('data-pika-day')));
                    if (opts.bound) {
                        sto(function() {
                            self.hide();
                            if (opts.blurFieldOnSelect && opts.field) {
                                opts.field.blur();
                            }
                        }, 100);
                    }
                }
                else if (hasClass(target, 'pika-prev')) {
                    self.prevMonth();
                }
                else if (hasClass(target, 'pika-next')) {
                    self.nextMonth();
                }
            }
            if (!hasClass(target, 'pika-select')) {
                // if this is touch event prevent mouse events emulation
                if (e.preventDefault) {
                    e.preventDefault();
                } else {
                    e.returnValue = false;
                    return false;
                }
            } else {
                self._c = true;
            }
        };

        self._onChange = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement;
            if (!target) {
                return;
            }
            if (hasClass(target, 'pika-select-month')) {
                self.gotoMonth(target.value);
            }
            else if (hasClass(target, 'pika-select-year')) {
                self.gotoYear(target.value);
            }
        };

        self._onKeyChange = function(e)
        {
            e = e || window.event;

            if (self.isVisible()) {

                switch(e.keyCode){
                    case 13:
                    case 27:
                        if (opts.field) {
                            opts.field.blur();
                        }
                        break;
                    case 37:
                        e.preventDefault();
                        self.adjustDate('subtract', 1);
                        break;
                    case 38:
                        self.adjustDate('subtract', 7);
                        break;
                    case 39:
                        self.adjustDate('add', 1);
                        break;
                    case 40:
                        self.adjustDate('add', 7);
                        break;
                }
            }
        };

        self._onInputChange = function(e)
        {
            var date;

            if (e.firedBy === self) {
                return;
            }
            if (opts.parse) {
                date = opts.parse(opts.field.value, opts.format);
            } else if (hasMoment) {
                date = moment(opts.field.value, opts.format, opts.formatStrict);
                date = (date && date.isValid()) ? date.toDate() : null;
            }
            else {
                date = new Date(Date.parse(opts.field.value));
            }
            if (isDate(date)) {
              self.setDate(date);
            }
            if (!self._v) {
                self.show();
            }
        };

        self._onInputFocus = function()
        {
            self.show();
        };

        self._onInputClick = function()
        {
            self.show();
        };

        self._onInputBlur = function()
        {
            // IE allows pika div to gain focus; catch blur the input field
            var pEl = document.activeElement;
            do {
                if (hasClass(pEl, 'pika-single')) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));

            if (!self._c) {
                self._b = sto(function() {
                    self.hide();
                }, 50);
            }
            self._c = false;
        };

        self._onClick = function(e)
        {
            e = e || window.event;
            var target = e.target || e.srcElement,
                pEl = target;
            if (!target) {
                return;
            }
            if (!hasEventListeners && hasClass(target, 'pika-select')) {
                if (!target.onchange) {
                    target.setAttribute('onchange', 'return;');
                    addEvent(target, 'change', self._onChange);
                }
            }
            do {
                if (hasClass(pEl, 'pika-single') || pEl === opts.trigger) {
                    return;
                }
            }
            while ((pEl = pEl.parentNode));
            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {
                self.hide();
            }
        };

        self.el = document.createElement('div');
        self.el.className = 'pika-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '');

        addEvent(self.el, 'mousedown', self._onMouseDown, true);
        addEvent(self.el, 'touchend', self._onMouseDown, true);
        addEvent(self.el, 'change', self._onChange);

        if (opts.keyboardInput) {
            addEvent(document, 'keydown', self._onKeyChange);
        }

        if (opts.field) {
            if (opts.container) {
                opts.container.appendChild(self.el);
            } else if (opts.bound) {
                document.body.appendChild(self.el);
            } else {
                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);
            }
            addEvent(opts.field, 'change', self._onInputChange);

            if (!opts.defaultDate) {
                if (hasMoment && opts.field.value) {
                    opts.defaultDate = moment(opts.field.value, opts.format).toDate();
                } else {
                    opts.defaultDate = new Date(Date.parse(opts.field.value));
                }
                opts.setDefaultDate = true;
            }
        }

        var defDate = opts.defaultDate;

        if (isDate(defDate)) {
            if (opts.setDefaultDate) {
                self.setDate(defDate, true);
            } else {
                self.gotoDate(defDate);
            }
        } else {
            self.gotoDate(new Date());
        }

        if (opts.bound) {
            this.hide();
            self.el.className += ' is-bound';
            addEvent(opts.trigger, 'click', self._onInputClick);
            addEvent(opts.trigger, 'focus', self._onInputFocus);
            addEvent(opts.trigger, 'blur', self._onInputBlur);
        } else {
            this.show();
        }
    };


    /**
     * public Pikaday API
     */
    Pikaday.prototype = {


        /**
         * configure functionality
         */
        config: function(options)
        {
            if (!this._o) {
                this._o = extend({}, defaults, true);
            }

            var opts = extend(this._o, options, true);

            opts.isRTL = !!opts.isRTL;

            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;

            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;

            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);

            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;

            opts.disableWeekends = !!opts.disableWeekends;

            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;

            var nom = parseInt(opts.numberOfMonths, 10) || 1;
            opts.numberOfMonths = nom > 4 ? 4 : nom;

            if (!isDate(opts.minDate)) {
                opts.minDate = false;
            }
            if (!isDate(opts.maxDate)) {
                opts.maxDate = false;
            }
            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {
                opts.maxDate = opts.minDate = false;
            }
            if (opts.minDate) {
                this.setMinDate(opts.minDate);
            }
            if (opts.maxDate) {
                this.setMaxDate(opts.maxDate);
            }

            if (isArray(opts.yearRange)) {
                var fallback = new Date().getFullYear() - 10;
                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;
                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;
            } else {
                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;
                if (opts.yearRange > 100) {
                    opts.yearRange = 100;
                }
            }

            return opts;
        },

        /**
         * return a formatted string of the current selection (using Moment.js if available)
         */
        toString: function(format)
        {
            format = format || this._o.format;
            if (!isDate(this._d)) {
                return '';
            }
            if (this._o.toString) {
              return this._o.toString(this._d, format);
            }
            if (hasMoment) {
              return moment(this._d).format(format);
            }
            return this._d.toDateString();
        },

        /**
         * return a Moment.js object of the current selection (if available)
         */
        getMoment: function()
        {
            return hasMoment ? moment(this._d) : null;
        },

        /**
         * set the current selection from a Moment.js object (if available)
         */
        setMoment: function(date, preventOnSelect)
        {
            if (hasMoment && moment.isMoment(date)) {
                this.setDate(date.toDate(), preventOnSelect);
            }
        },

        /**
         * return a Date object of the current selection
         */
        getDate: function()
        {
            return isDate(this._d) ? new Date(this._d.getTime()) : null;
        },

        /**
         * set the current selection
         */
        setDate: function(date, preventOnSelect)
        {
            if (!date) {
                this._d = null;

                if (this._o.field) {
                    this._o.field.value = '';
                    fireEvent(this._o.field, 'change', { firedBy: this });
                }

                return this.draw();
            }
            if (typeof date === 'string') {
                date = new Date(Date.parse(date));
            }
            if (!isDate(date)) {
                return;
            }

            var min = this._o.minDate,
                max = this._o.maxDate;

            if (isDate(min) && date < min) {
                date = min;
            } else if (isDate(max) && date > max) {
                date = max;
            }

            this._d = new Date(date.getTime());
            setToStartOfDay(this._d);
            this.gotoDate(this._d);

            if (this._o.field) {
                this._o.field.value = this.toString();
                fireEvent(this._o.field, 'change', { firedBy: this });
            }
            if (!preventOnSelect && typeof this._o.onSelect === 'function') {
                this._o.onSelect.call(this, this.getDate());
            }
        },

        /**
         * change view to a specific date
         */
        gotoDate: function(date)
        {
            var newCalendar = true;

            if (!isDate(date)) {
                return;
            }

            if (this.calendars) {
                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),
                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),
                    visibleDate = date.getTime();
                // get the end of the month
                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);
                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);
                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);
            }

            if (newCalendar) {
                this.calendars = [{
                    month: date.getMonth(),
                    year: date.getFullYear()
                }];
                if (this._o.mainCalendar === 'right') {
                    this.calendars[0].month += 1 - this._o.numberOfMonths;
                }
            }

            this.adjustCalendars();
        },

        adjustDate: function(sign, days) {

            var day = this.getDate() || new Date();
            var difference = parseInt(days)*24*60*60*1000;

            var newDay;

            if (sign === 'add') {
                newDay = new Date(day.valueOf() + difference);
            } else if (sign === 'subtract') {
                newDay = new Date(day.valueOf() - difference);
            }

            this.setDate(newDay);
        },

        adjustCalendars: function() {
            this.calendars[0] = adjustCalendar(this.calendars[0]);
            for (var c = 1; c < this._o.numberOfMonths; c++) {
                this.calendars[c] = adjustCalendar({
                    month: this.calendars[0].month + c,
                    year: this.calendars[0].year
                });
            }
            this.draw();
        },

        gotoToday: function()
        {
            this.gotoDate(new Date());
        },

        /**
         * change view to a specific month (zero-index, e.g. 0: January)
         */
        gotoMonth: function(month)
        {
            if (!isNaN(month)) {
                this.calendars[0].month = parseInt(month, 10);
                this.adjustCalendars();
            }
        },

        nextMonth: function()
        {
            this.calendars[0].month++;
            this.adjustCalendars();
        },

        prevMonth: function()
        {
            this.calendars[0].month--;
            this.adjustCalendars();
        },

        /**
         * change view to a specific full year (e.g. "2012")
         */
        gotoYear: function(year)
        {
            if (!isNaN(year)) {
                this.calendars[0].year = parseInt(year, 10);
                this.adjustCalendars();
            }
        },

        /**
         * change the minDate
         */
        setMinDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.minDate = value;
                this._o.minYear  = value.getFullYear();
                this._o.minMonth = value.getMonth();
            } else {
                this._o.minDate = defaults.minDate;
                this._o.minYear  = defaults.minYear;
                this._o.minMonth = defaults.minMonth;
                this._o.startRange = defaults.startRange;
            }

            this.draw();
        },

        /**
         * change the maxDate
         */
        setMaxDate: function(value)
        {
            if(value instanceof Date) {
                setToStartOfDay(value);
                this._o.maxDate = value;
                this._o.maxYear = value.getFullYear();
                this._o.maxMonth = value.getMonth();
            } else {
                this._o.maxDate = defaults.maxDate;
                this._o.maxYear = defaults.maxYear;
                this._o.maxMonth = defaults.maxMonth;
                this._o.endRange = defaults.endRange;
            }

            this.draw();
        },

        setStartRange: function(value)
        {
            this._o.startRange = value;
        },

        setEndRange: function(value)
        {
            this._o.endRange = value;
        },

        /**
         * refresh the HTML
         */
        draw: function(force)
        {
            if (!this._v && !force) {
                return;
            }
            var opts = this._o,
                minYear = opts.minYear,
                maxYear = opts.maxYear,
                minMonth = opts.minMonth,
                maxMonth = opts.maxMonth,
                html = '',
                randId;

            if (this._y <= minYear) {
                this._y = minYear;
                if (!isNaN(minMonth) && this._m < minMonth) {
                    this._m = minMonth;
                }
            }
            if (this._y >= maxYear) {
                this._y = maxYear;
                if (!isNaN(maxMonth) && this._m > maxMonth) {
                    this._m = maxMonth;
                }
            }

            randId = 'pika-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);

            for (var c = 0; c < opts.numberOfMonths; c++) {
                html += '<div class="pika-lendar">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';
            }

            this.el.innerHTML = html;

            if (opts.bound) {
                if(opts.field.type !== 'hidden') {
                    sto(function() {
                        opts.trigger.focus();
                    }, 1);
                }
            }

            if (typeof this._o.onDraw === 'function') {
                this._o.onDraw(this);
            }

            if (opts.bound) {
                // let the screen reader user know to use arrow keys
                opts.field.setAttribute('aria-label', 'Use the arrow keys to pick a date');
            }
        },

        adjustPosition: function()
        {
            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect;

            if (this._o.container) return;

            this.el.style.position = 'absolute';

            field = this._o.trigger;
            pEl = field;
            width = this.el.offsetWidth;
            height = this.el.offsetHeight;
            viewportWidth = window.innerWidth || document.documentElement.clientWidth;
            viewportHeight = window.innerHeight || document.documentElement.clientHeight;
            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;

            if (typeof field.getBoundingClientRect === 'function') {
                clientRect = field.getBoundingClientRect();
                left = clientRect.left + window.pageXOffset;
                top = clientRect.bottom + window.pageYOffset;
            } else {
                left = pEl.offsetLeft;
                top  = pEl.offsetTop + pEl.offsetHeight;
                while((pEl = pEl.offsetParent)) {
                    left += pEl.offsetLeft;
                    top  += pEl.offsetTop;
                }
            }

            // default position is bottom & left
            if ((this._o.reposition && left + width > viewportWidth) ||
                (
                    this._o.position.indexOf('right') > -1 &&
                    left - width + field.offsetWidth > 0
                )
            ) {
                left = left - width + field.offsetWidth;
            }
            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||
                (
                    this._o.position.indexOf('top') > -1 &&
                    top - height - field.offsetHeight > 0
                )
            ) {
                top = top - height - field.offsetHeight;
            }

            this.el.style.left = left + 'px';
            this.el.style.top = top + 'px';
        },

        /**
         * render HTML for a particular month
         */
        render: function(year, month, randId)
        {
            var opts   = this._o,
                now    = new Date(),
                days   = getDaysInMonth(year, month),
                before = new Date(year, month, 1).getDay(),
                data   = [],
                row    = [];
            setToStartOfDay(now);
            if (opts.firstDay > 0) {
                before -= opts.firstDay;
                if (before < 0) {
                    before += 7;
                }
            }
            var previousMonth = month === 0 ? 11 : month - 1,
                nextMonth = month === 11 ? 0 : month + 1,
                yearOfPreviousMonth = month === 0 ? year - 1 : year,
                yearOfNextMonth = month === 11 ? year + 1 : year,
                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);
            var cells = days + before,
                after = cells;
            while(after > 7) {
                after -= 7;
            }
            cells += 7 - after;
            var isWeekSelected = false;
            for (var i = 0, r = 0; i < cells; i++)
            {
                var day = new Date(year, month, 1 + (i - before)),
                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,
                    isToday = compareDates(day, now),
                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,
                    isEmpty = i < before || i >= (days + before),
                    dayNumber = 1 + (i - before),
                    monthNumber = month,
                    yearNumber = year,
                    isStartRange = opts.startRange && compareDates(opts.startRange, day),
                    isEndRange = opts.endRange && compareDates(opts.endRange, day),
                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,
                    isDisabled = (opts.minDate && day < opts.minDate) ||
                                 (opts.maxDate && day > opts.maxDate) ||
                                 (opts.disableWeekends && isWeekend(day)) ||
                                 (opts.disableDayFn && opts.disableDayFn(day));

                if (isEmpty) {
                    if (i < before) {
                        dayNumber = daysInPreviousMonth + dayNumber;
                        monthNumber = previousMonth;
                        yearNumber = yearOfPreviousMonth;
                    } else {
                        dayNumber = dayNumber - days;
                        monthNumber = nextMonth;
                        yearNumber = yearOfNextMonth;
                    }
                }

                var dayConfig = {
                        day: dayNumber,
                        month: monthNumber,
                        year: yearNumber,
                        hasEvent: hasEvent,
                        isSelected: isSelected,
                        isToday: isToday,
                        isDisabled: isDisabled,
                        isEmpty: isEmpty,
                        isStartRange: isStartRange,
                        isEndRange: isEndRange,
                        isInRange: isInRange,
                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,
                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths
                    };

                if (opts.pickWholeWeek && isSelected) {
                    isWeekSelected = true;
                }

                row.push(renderDay(dayConfig));

                if (++r === 7) {
                    if (opts.showWeekNumber) {
                        row.unshift(renderWeek(i - before, month, year));
                    }
                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));
                    row = [];
                    r = 0;
                    isWeekSelected = false;
                }
            }
            return renderTable(opts, data, randId);
        },

        isVisible: function()
        {
            return this._v;
        },

        show: function()
        {
            if (!this.isVisible()) {
                this._v = true;
                this.draw();
                removeClass(this.el, 'is-hidden');
                if (this._o.bound) {
                    addEvent(document, 'click', this._onClick);
                    this.adjustPosition();
                }
                if (typeof this._o.onOpen === 'function') {
                    this._o.onOpen.call(this);
                }
            }
        },

        hide: function()
        {
            var v = this._v;
            if (v !== false) {
                if (this._o.bound) {
                    removeEvent(document, 'click', this._onClick);
                }
                this.el.style.position = 'static'; // reset
                this.el.style.left = 'auto';
                this.el.style.top = 'auto';
                addClass(this.el, 'is-hidden');
                this._v = false;
                if (v !== undefined && typeof this._o.onClose === 'function') {
                    this._o.onClose.call(this);
                }
            }
        },

        /**
         * GAME OVER
         */
        destroy: function()
        {
            var opts = this._o;

            this.hide();
            removeEvent(this.el, 'mousedown', this._onMouseDown, true);
            removeEvent(this.el, 'touchend', this._onMouseDown, true);
            removeEvent(this.el, 'change', this._onChange);
            if (opts.keyboardInput) {
                removeEvent(document, 'keydown', this._onKeyChange);
            }
            if (opts.field) {
                removeEvent(opts.field, 'change', this._onInputChange);
                if (opts.bound) {
                    removeEvent(opts.trigger, 'click', this._onInputClick);
                    removeEvent(opts.trigger, 'focus', this._onInputFocus);
                    removeEvent(opts.trigger, 'blur', this._onInputBlur);
                }
            }
            if (this.el.parentNode) {
                this.el.parentNode.removeChild(this.el);
            }
        }

    };

    return Pikaday;
}));

},{"moment":173}],176:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],177:[function(require,module,exports){
'use strict';

var bind = require('function-bind');
var ES = require('es-abstract/es5');
var replace = bind.call(Function.call, String.prototype.replace);

var leftWhitespace = /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;
var rightWhitespace = /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;

module.exports = function trim() {
	var S = ES.ToString(ES.CheckObjectCoercible(this));
	return replace(replace(S, leftWhitespace, ''), rightWhitespace, '');
};

},{"es-abstract/es5":148,"function-bind":159}],178:[function(require,module,exports){
'use strict';

var bind = require('function-bind');
var define = require('define-properties');

var implementation = require('./implementation');
var getPolyfill = require('./polyfill');
var shim = require('./shim');

var boundTrim = bind.call(Function.call, getPolyfill());

define(boundTrim, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = boundTrim;

},{"./implementation":177,"./polyfill":179,"./shim":180,"define-properties":144,"function-bind":159}],179:[function(require,module,exports){
'use strict';

var implementation = require('./implementation');

var zeroWidthSpace = '\u200b';

module.exports = function getPolyfill() {
	if (String.prototype.trim && zeroWidthSpace.trim() === zeroWidthSpace) {
		return String.prototype.trim;
	}
	return implementation;
};

},{"./implementation":177}],180:[function(require,module,exports){
'use strict';

var define = require('define-properties');
var getPolyfill = require('./polyfill');

module.exports = function shimStringTrim() {
	var polyfill = getPolyfill();
	define(String.prototype, { trim: polyfill }, { trim: function () { return String.prototype.trim !== polyfill; } });
	return polyfill;
};

},{"./polyfill":179,"define-properties":144}],181:[function(require,module,exports){
(function (process){
/**
 * Copyright 2014-2015, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 */

'use strict';

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var warning = function() {};

if (process.env.NODE_ENV !== 'production') {
  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
        '`warning(condition, format, ...args)` requires a warning ' +
        'message argument'
      );
    }

    if (format.length < 10 || (/^[s\W]*$/).test(format)) {
      throw new Error(
        'The warning format should be able to uniquely identify this ' +
        'warning. Please, use a more descriptive format than: ' + format
      );
    }

    if (!condition) {
      var argIndex = 0;
      var message = 'Warning: ' +
        format.replace(/%s/g, function() {
          return args[argIndex++];
        });
      if (typeof console !== 'undefined') {
        console.error(message);
      }
      try {
        // This error was thrown as a convenience so that you can use this stack
        // to find the callsite that caused this warning to fire.
        throw new Error(message);
      } catch(x) {}
    }
  };
}

module.exports = warning;

}).call(this,require('_process'))

},{"_process":176}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvaW5kZXguanMiLCJhcHAvbGliL2F1dGhlbnRpY2F0ZWQuanMiLCJhcHAvbGliL2NhcnQuanMiLCJhcHAvbGliL2Nsb3NlLmpzIiwiYXBwL2xpYi9jcmVkZW50aWFsLmpzIiwiYXBwL2xpYi9leGVjdXRlLmpzIiwiYXBwL2xpYi9oZWFkZXIuanMiLCJhcHAvbGliL2luaXRpYWxpemUuanMiLCJhcHAvbGliL2xvZ291dC5qcyIsImFwcC9saWIvbm90aWZ5LmpzIiwiYXBwL2xpYi9vZmYuanMiLCJhcHAvbGliL29uLmpzIiwiYXBwL2xpYi9vcGVuLmpzIiwiYXBwL2xpYi9wcmVmZXJlbmNlLmpzIiwiYXBwL2xpYi9yZW5kZXIuanMiLCJhcHAvbGliL3JlcXVlc3QuanMiLCJhcHAvbGliL3NldE1lc3NhZ2VzLmpzIiwiYXBwL21vZHVsZXMvY2FydC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2NoZWNrb3V0LXN1Y2Nlc3MvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jaGVja291dC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2NoZWNrb3V0L2xpYi9hZGRyZXNzSGFuZGxlci5qcyIsImFwcC9tb2R1bGVzL2NoZWNrb3V0L2xpYi9jb3Vwb25IYW5kbGVyLmpzIiwiYXBwL21vZHVsZXMvY2hlY2tvdXQvbGliL2N1c3RvbWVySGFuZGxlci5qcyIsImFwcC9tb2R1bGVzL2NoZWNrb3V0L2xpYi9yZWNhcHRjaGFIYW5kbGVyLmpzIiwiYXBwL21vZHVsZXMvY2hlY2tvdXQvbGliL3N1YnNjcmlwdGlvbkhhbmRsZXIuanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci1jb3Vwb25zL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItZGFzaGJvYXJkL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItZGVsZXRlLWFjY291bnQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci1sb2dpbi9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLXJlZ2lzdGVyL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItcmVzZXQtcGFzc3dvcmQvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci1yZXZpZXctY29tbWVudC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLXJldmlldy1jb21tZW50cy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLXJldmlldy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLXJldmlld3MvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9jdXN0b21lci11cGRhdGUtYWRkcmVzcy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL2N1c3RvbWVyLXVwZGF0ZS1jcmVkZW50aWFsL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItdXBkYXRlL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvY3VzdG9tZXItdmVyaWZpY2F0aW9uL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvb3JkZXItZGV0YWlsL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvb3JkZXItbGlzdC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL29yZGVyLXJlcXVlc3QtcmVmdW5kL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvcGF5bWVudC1mb3JtL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvcHJvZHVjdC1kZXRhaWwvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wcm9kdWN0LWRldGFpbC9saWIvcHJvZHVjdENhdGFsb2cuanMiLCJhcHAvbW9kdWxlcy9wcm9kdWN0LWxpc3QvaW5kZXguanMiLCJhcHAvbW9kdWxlcy9wcm9kdWN0LXJldmlldy1jb21tZW50cy9pbmRleC5qcyIsImFwcC9tb2R1bGVzL3Byb2R1Y3QtcmV2aWV3LXdyaXRlci9pbmRleC5qcyIsImFwcC9tb2R1bGVzL3Byb2R1Y3QtcmV2aWV3L2luZGV4LmpzIiwiYXBwL21vZHVsZXMvcHJvZHVjdC1yZXZpZXdzL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvc2VhcmNoLXB1cmNoYXNlL2luZGV4LmpzIiwiYXBwL21vZHVsZXMvc3Vic2NyaXB0aW9uLWRldGFpbC9pbmRleC5qcyIsImFwcC9tb2R1bGVzL3N1YnNjcmlwdGlvbi1saXN0L2luZGV4LmpzIiwiYXBwL3BsdWdpbnMvY2FydFN0b3JhZ2UuanMiLCJhcHAvcGx1Z2lucy9jb25maXJtYXRpb24uanMiLCJhcHAvcGx1Z2lucy9jcmVkZW50aWFsU3RvcmFnZS5qcyIsImFwcC9wbHVnaW5zL25vdGlmaWNhdGlvbi5qcyIsImFwcC9wbHVnaW5zL3BhZ2luYXRpb24uanMiLCJhcHAvdWkvYXZhdGFyLXBsYWNlaG9sZGVyLmpzIiwiYXBwL3VpL2J1dHRvbi1zcGlubmVyLmpzIiwiYXBwL3VpL2NvbXBvbmVudC1zcGlubmVyLmpzIiwiYXBwL3VpL2VtcHR5LXN0YXIuanMiLCJhcHAvdWkvZmlsbGVkLXN0YXIuanMiLCJhcHAvdWkvaGFsZi1maWxsZWQtc3Rhci5qcyIsImFwcC91aS9oYWxsb3ctc3Rhci5qcyIsImFwcC91aS9oZWFkZXItbmF2aWdhdGlvbi5qcyIsImFwcC91aS9vdmVybGF5LW5hdmlnYXRpb24uanMiLCJhcHAvdWkvcmV2aWV3LXN0YXItcmF0aW5nLmpzIiwiYXBwL3VpL3Jldmlldy1zdGFycy5qcyIsImFwcC91aS9zZWN0aW9uLXNwaW5uZXIuanMiLCJhcHAvdWkvc29jaWFsLWxvZ2luLmpzIiwiYXBwL3V0aWwvYmluZEJhY2tCdXR0b24uanMiLCJhcHAvdXRpbC9iaW5kUmVjYXB0Y2hhLmpzIiwiYXBwL3V0aWwvYmluZFNvY2lhbEFwcHMuanMiLCJhcHAvdXRpbC9jb3VudHJ5TmFtZS5qcyIsImFwcC91dGlsL2N1c3RvbWVySWRlbnRpdHkuanMiLCJhcHAvdXRpbC9leGNlcnB0LmpzIiwiYXBwL3V0aWwvZm9sbG93aW5nTmF2aWdhdGlvbi5qcyIsImFwcC91dGlsL2Zvcm1Ub0pTT04uanMiLCJhcHAvdXRpbC9mb3JtYXROdW1iZXIuanMiLCJhcHAvdXRpbC9mb3JtYXRQcmljZS5qcyIsImFwcC91dGlsL2hhbmRsZVNvY2lhbExvZ2luLmpzIiwiYXBwL3V0aWwvaW1hZ2VVUkwuanMiLCJhcHAvdXRpbC9pbWFnZVVwbG9hZGVyLmpzIiwiYXBwL3V0aWwvaXNFeHBpcmVkLmpzIiwiYXBwL3V0aWwvbG9nLmpzIiwiYXBwL3V0aWwvbWFrZUFzeW5jQnV0dG9uLmpzIiwiYXBwL3V0aWwvbWFrZVJlY2FwdGNoYS5qcyIsImFwcC91dGlsL29yZGVyU2hpcHBpbmdTdGF0dXMuanMiLCJhcHAvdXRpbC9wYXJzZUFycmF5U3RyaW5nLmpzIiwiYXBwL3V0aWwvcHJvZHVjdE5hbWUuanMiLCJhcHAvdXRpbC9xdWFudGl0eUlucHV0LmpzIiwiYXBwL3V0aWwvcmVxdWVzdEVycm9ySGFuZGxlci5qcyIsImFwcC91dGlsL3N0cmlwSFRNTC5qcyIsImFwcC91dGlsL3RvUHJlY2lzaW9uLmpzIiwiYXBwL3V0aWwvdWkuanMiLCJhcHAvdXRpbC91bnNldFJlY2FwdGNoYS5qcyIsImFwcC91dGlsL3VybFF1ZXJ5LmpzIiwiYXBwL3V0aWwvdXNlUmVjYXB0Y2hhLmpzIiwiYXBwL3V0aWwvdXNlcklkT3JFbWFpbC5qcyIsImFwcC91dGlsL3ZhcmlhbnROYW1lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvZm4vYXJyYXkvZmluZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ZuL2FycmF5L2lzLWFycmF5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvZm4vc3RyaW5nL2Zyb20tY29kZS1wb2ludC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL2ZuL3N0cmluZy9yZXBlYXQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hLWZ1bmN0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYW4tb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fYXJyYXktbWV0aG9kcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3IuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19hcnJheS1zcGVjaWVzLWNyZWF0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2NvZi5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX2NvcmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19jdHguanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kZWZpbmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZGVzY3JpcHRvcnMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19kb20tY3JlYXRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZXhwb3J0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fZmFpbHMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19nbG9iYWwuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oYXMuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19oaWRlLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pb2JqZWN0LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19pcy1vYmplY3QuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL19saWJyYXJ5LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3JlZGVmaW5lLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc2hhcmVkLmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLXJlcGVhdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3RvLWFic29sdXRlLWluZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3RvLWxlbmd0aC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3RvLW9iamVjdC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3RvLXByaW1pdGl2ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3VpZC5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvX3drcy5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5LmZpbmQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5pcy1hcnJheS5qcyIsIm5vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5mcm9tLWNvZGUtcG9pbnQuanMiLCJub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcucmVwZWF0LmpzIiwibm9kZV9tb2R1bGVzL2RlZmluZS1wcm9wZXJ0aWVzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2RlZmluZS1wcm9wZXJ0aWVzL25vZGVfbW9kdWxlcy9vYmplY3Qta2V5cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9kZWZpbmUtcHJvcGVydGllcy9ub2RlX21vZHVsZXMvb2JqZWN0LWtleXMvaXNBcmd1bWVudHMuanMiLCJub2RlX21vZHVsZXMvZXMtYWJzdHJhY3QvR2V0SW50cmluc2ljLmpzIiwibm9kZV9tb2R1bGVzL2VzLWFic3RyYWN0L2VzNS5qcyIsIm5vZGVfbW9kdWxlcy9lcy1hYnN0cmFjdC9oZWxwZXJzL2lzRmluaXRlLmpzIiwibm9kZV9tb2R1bGVzL2VzLWFic3RyYWN0L2hlbHBlcnMvaXNOYU4uanMiLCJub2RlX21vZHVsZXMvZXMtYWJzdHJhY3QvaGVscGVycy9tb2QuanMiLCJub2RlX21vZHVsZXMvZXMtYWJzdHJhY3QvaGVscGVycy9zaWduLmpzIiwibm9kZV9tb2R1bGVzL2VzLXRvLXByaW1pdGl2ZS9lczUuanMiLCJub2RlX21vZHVsZXMvZXMtdG8tcHJpbWl0aXZlL2hlbHBlcnMvaXNQcmltaXRpdmUuanMiLCJub2RlX21vZHVsZXMvZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzIiwibm9kZV9tb2R1bGVzL2Zvci1lYWNoL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2ZvcmVhY2gvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZnVuY3Rpb24tYmluZC9pbXBsZW1lbnRhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9mdW5jdGlvbi1iaW5kL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2hhcy9zcmMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvaW1hZ2VzbG9hZGVkL2ltYWdlc2xvYWRlZC5qcyIsIm5vZGVfbW9kdWxlcy9pcy1jYWxsYWJsZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9qcXVlcnktZm9ybS9kaXN0L2pxdWVyeS5mb3JtLm1pbi5qcyIsIm5vZGVfbW9kdWxlcy9qcXVlcnktbWF0Y2gtaGVpZ2h0L2Rpc3QvanF1ZXJ5Lm1hdGNoSGVpZ2h0LmpzIiwibm9kZV9tb2R1bGVzL2pzdGltZXpvbmVkZXRlY3QvZGlzdC9qc3R6LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5jYW1lbGNhc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLmdldC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gua2ViYWJDYXNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC5rZWJhYmNhc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvbG9kYXNoLm1lcmdlV2l0aC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2gub21pdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9sb2Rhc2guc2V0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL21vbWVudC9tb21lbnQuanMiLCJub2RlX21vZHVsZXMvbm9kZS1wb2x5Z2xvdC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9waWthZGF5L3Bpa2FkYXkuanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3N0cmluZy5wcm90b3R5cGUudHJpbS9pbXBsZW1lbnRhdGlvbi5qcyIsIm5vZGVfbW9kdWxlcy9zdHJpbmcucHJvdG90eXBlLnRyaW0vaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3RyaW5nLnByb3RvdHlwZS50cmltL3BvbHlmaWxsLmpzIiwibm9kZV9tb2R1bGVzL3N0cmluZy5wcm90b3R5cGUudHJpbS9zaGltLmpzIiwibm9kZV9tb2R1bGVzL3dhcm5pbmcvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsUUFBUSw2QkFBUjtBQUNBLFFBQVEsc0NBQVI7QUFDQSxRQUFRLDBCQUFSO0FBQ0EsUUFBUSw4QkFBUjtBQUNBLFFBQVEsY0FBUjtBQUNBLFFBQVEsYUFBUixFQUF1QixNQUF2QixFQUErQixDQUEvQjtBQUNBLFFBQVEscUJBQVI7O0FBRUEsSUFBTSxXQUFXLFFBQVEsZUFBUixDQUFqQjtBQUNBLElBQU0sT0FBTyxRQUFRLGtCQUFSLENBQWI7QUFDQSxJQUFNLFlBQVksUUFBUSxrQkFBUixDQUFsQjs7QUFFQSxJQUFNLFVBQVUsU0FBVixPQUFVLENBQVMsT0FBVCxFQUFrQjs7QUFFakMsS0FBTSxXQUFXLE9BQU8sU0FBUCxDQUFpQixZQUFqQixJQUNiLE9BQU8sU0FBUCxDQUFpQixRQURKLElBRWIsSUFGSjs7QUFJQSxLQUFNLFdBQVcsS0FBSyxT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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFBBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6WEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNwWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN6NUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUN2bEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDbjZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNuYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDbmJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDMzZEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNoOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDOTlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxNUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsInJlcXVpcmUoJ2NvcmUtanMvZm4vc3RyaW5nL3JlcGVhdC5qcycpO1xyXG5yZXF1aXJlKCdjb3JlLWpzL2ZuL3N0cmluZy9mcm9tLWNvZGUtcG9pbnQuanMnKTtcclxucmVxdWlyZSgnY29yZS1qcy9mbi9hcnJheS9maW5kLmpzJyk7XHJcbnJlcXVpcmUoJ2NvcmUtanMvZm4vYXJyYXkvaXMtYXJyYXkuanMnKTtcclxucmVxdWlyZSgnaW1hZ2VzbG9hZGVkJyk7XHJcbnJlcXVpcmUoJ2pxdWVyeS1mb3JtJykod2luZG93LCAkKTtcclxucmVxdWlyZSgnanF1ZXJ5LW1hdGNoLWhlaWdodCcpO1xyXG5cclxuY29uc3QgUG9seWdsb3QgPSByZXF1aXJlKCdub2RlLXBvbHlnbG90Jyk7XHJcbmNvbnN0IGpzdHogPSByZXF1aXJlKCdqc3RpbWV6b25lZGV0ZWN0Jyk7XHJcbmNvbnN0IG1lcmdlV2l0aCA9IHJlcXVpcmUoJ2xvZGFzaC5tZXJnZVdpdGgnKTtcclxuXHJcbmNvbnN0IFRodW5kZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblxyXG5cdGNvbnN0IGxhbmd1YWdlID0gd2luZG93Lm5hdmlnYXRvci51c2VyTGFuZ3VhZ2UgfHxcclxuXHRcdFx0XHRcdHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2UgfHxcclxuXHRcdFx0XHRcdG51bGw7XHJcblxyXG5cdGNvbnN0IHRpbWV6b25lID0ganN0ei5kZXRlcm1pbmUoKS5uYW1lKCk7XHJcblxyXG5cdG9wdGlvbnMgPSBtZXJnZVdpdGgoe1xyXG5cdFx0Y2xpZW50OiAgICAgICAgbnVsbCxcclxuXHRcdGxhbmd1YWdlOiAgICAgIGxhbmd1YWdlLFxyXG5cdFx0Y3VycmVuY3k6ICAgICAgbnVsbCxcclxuXHRcdHRpbWV6b25lOiAgICAgIHRpbWV6b25lLFxyXG5cdFx0ZGVidWdMYW5ndWFnZTogbGFuZ3VhZ2UgPT09ICdrbycgPyAna28nIDogJ2VuJyxcclxuXHRcdHJvb3Q6ICAgICAgICAgIGAke2xvY2F0aW9uLnByb3RvY29sfS8vJHtsb2NhdGlvbi5ob3N0fWAsXHJcblx0XHRiYXNlVVJMOiAgICAgICBudWxsLFxyXG5cdFx0YXV0aFN0b3JhZ2U6ICAge1xyXG5cdFx0XHRjdXN0b21lcjogJ19fdGN0X18nLFxyXG5cdFx0XHRvcmRlcjogICAgJ19fdG90X18nLFxyXG5cdFx0fSxcclxuXHRcdGRhdGVJbnB1dEZvcm1hdDogJ1lZWVktTU0tREQnLFxyXG5cdFx0cHJvZHVjdEFjdGlvbnM6ICBbXHJcblx0XHRcdCdhZGQtdG8tY2FydCcsXHJcblx0XHRcdCdidXktbm93J1xyXG5cdFx0XSxcclxuXHRcdHByb2R1Y3RSZXZpZXc6ICAgICAgICB0cnVlLFxyXG5cdFx0cHJvZHVjdFJldmlld1JhdGluZzogIHRydWUsXHJcblx0XHRwcm9kdWN0UmV2aWV3Q29tbWVudDogdHJ1ZSxcclxuXHRcdHBheW1lbnRNZXRob2RzOiAgICAgICB7XHJcblx0XHRcdG9yZGVyOiAgICAgICAgW10sXHJcblx0XHRcdHN1YnNjcmlwdGlvbjogW11cclxuXHRcdH0sXHJcblx0XHRyZWZ1bmRSZWFzb25DYXRlZ29yaWVzOiBbXSxcclxuXHRcdHN1YnNjcmlwdGlvblBsYW5zOiAgICAgIFtdLFxyXG5cdFx0Y3VzdG9tZXJBdmF0YXI6ICAgICAgICAgdHJ1ZSxcclxuXHRcdGN1c3RvbWVySWRlbnRpdHk6ICAgICAgIFtcclxuXHRcdFx0J25hbWUuZnVsbCcsXHJcblx0XHRcdCdhbGlhcycsXHJcblx0XHRcdCd1c2VySWQnXHJcblx0XHRdLFxyXG5cdFx0Y3VzdG9tZXJSZWdpc3RyYXRpb25GaWVsZHM6IFtcclxuXHRcdFx0J3VzZXJJZDpyZXF1aXJlZCcsXHJcblx0XHRcdCdlbWFpbDpyZXF1aXJlZCcsXHJcblx0XHRcdCdwYXNzd29yZDpyZXF1aXJlZCcsXHJcblx0XHRcdC8vICdhbGlhcycsXHJcblx0XHRcdC8vICduYW1lLmZpcnN0JyxcclxuXHRcdFx0Ly8gJ25hbWUubGFzdCcsXHJcblx0XHRcdCduYW1lLmZ1bGw6cmVxdWlyZWQnLFxyXG5cdFx0XHQnbW9iaWxlOnJlcXVpcmVkJyxcclxuXHRcdFx0J3Bob25lJyxcclxuXHRcdFx0Ly8gJ2dlbmRlcicsXHJcblx0XHRcdC8vICdiaXJ0aGRhdGUnLFxyXG5cdFx0XSxcclxuXHRcdGN1c3RvbWVyVXBkYXRlRmllbGRzOiBbXHJcblx0XHRcdCd1c2VySWQnLFxyXG5cdFx0XHQnZW1haWwnLFxyXG5cdFx0XHQvLyAnYWxpYXMnLFxyXG5cdFx0XHQvLyAnbmFtZS5maXJzdCcsXHJcblx0XHRcdC8vICduYW1lLmxhc3QnLFxyXG5cdFx0XHQnbmFtZS5mdWxsOnJlcXVpcmVkJyxcclxuXHRcdFx0J21vYmlsZTpyZXF1aXJlZCcsXHJcblx0XHRcdCdwaG9uZScsXHJcblx0XHRcdC8vICdnZW5kZXInLFxyXG5cdFx0XHQvLyAnYmlydGhkYXRlJyxcclxuXHRcdF0sXHJcblx0XHRjdXN0b21lck9yZGVyRmllbGRzOiBbXHJcblx0XHRcdC8vICduYW1lLmZpcnN0JyxcclxuXHRcdFx0Ly8gJ25hbWUubGFzdCcsXHJcblx0XHRcdCduYW1lLmZ1bGw6cmVxdWlyZWQnLFxyXG5cdFx0XHQnZW1haWw6cmVxdWlyZWQnLFxyXG5cdFx0XHQnbW9iaWxlOnJlcXVpcmVkJyxcclxuXHRcdFx0J3Bob25lJyxcclxuXHRcdF0sXHJcblx0XHRyZWNpcGllbnRGaWVsZHM6ICAgW1xyXG5cdFx0XHQvLyAnbmFtZS5maXJzdCcsXHJcblx0XHRcdC8vICduYW1lLmxhc3QnLFxyXG5cdFx0XHQnbmFtZS5mdWxsOnJlcXVpcmVkJyxcclxuXHRcdFx0J21vYmlsZTpyZXF1aXJlZCcsXHJcblx0XHRcdCdwaG9uZScsXHJcblx0XHRdLFxyXG5cdFx0YWRkcmVzc0Rpc2FibGVkOiBbXHJcblx0XHRcdCdjb3VudHJ5JyxcclxuXHRcdFx0J3N0YXRlJyxcclxuXHRcdFx0J2NpdHknLFxyXG5cdFx0XHQnYWRkcmVzczEnLFxyXG5cdFx0XHQncG9zdGNvZGUnXHJcblx0XHRdLFxyXG5cdFx0b3JkZXJBdXRoRmllbGRzOiBbXHJcblx0XHRcdC8vICd1c2VySWQnLFxyXG5cdFx0XHQvLyAnYWxpYXMnLFxyXG5cdFx0XHQvLyAnZW1haWwnLFxyXG5cdFx0XHQvLyAnbW9iaWxlJyxcclxuXHRcdFx0Ly8gJ3Bob25lJyxcclxuXHRcdFx0Ly8gJ25hbWUuZmlyc3QnLFxyXG5cdFx0XHQvLyAnbmFtZS5sYXN0JyxcclxuXHRcdFx0Ly8gJ25hbWUuZnVsbCcsXHJcblx0XHRdLFxyXG5cdFx0c29jaWFsQXBwczogW1xyXG5cdFx0XHQvLyAnZmFjZWJvb2snLFxyXG5cdFx0XHQvLyAnZ29vZ2xlJyxcclxuXHRcdFx0Ly8gJ2luc3RhZ3JhbScsXHJcblx0XHRcdC8vICduYXZlcicsXHJcblx0XHRcdC8vICdrYWthbycsXHJcblx0XHRdLFxyXG5cdFx0aGVhZGVyOiBmYWxzZSxcclxuXHRcdHJlY2FwdGNoYToge1xyXG5cdFx0XHRzaXRla2V5OiBudWxsLFxyXG5cdFx0XHRvbmxvYWQ6ICAndGh1bmRlclJlY2FwdGNoYScsXHJcblx0XHRcdG1vZHVsZXM6IFtcclxuXHRcdFx0XHQnY3VzdG9tZXItcmVnaXN0ZXInLFxyXG5cdFx0XHRcdCdjdXN0b21lci1sb2dpbicsXHJcblx0XHRcdFx0J2N1c3RvbWVyLXJlc2V0LXBhc3N3b3JkJyxcclxuXHRcdFx0XHQnY3VzdG9tZXItdmVyaWZpY2F0aW9uJyxcclxuXHRcdFx0XHQnY3VzdG9tZXItdXBkYXRlJyxcclxuXHRcdFx0XHQnY3VzdG9tZXItdXBkYXRlLWNyZWRlbnRpYWwnLFxyXG5cdFx0XHRcdCdjdXN0b21lci11cGRhdGUtYWRkcmVzcycsXHJcblx0XHRcdFx0J3Byb2R1Y3QtcmV2aWV3LXdyaXRlcicsXHJcblx0XHRcdFx0J3Byb2R1Y3QtcmV2aWV3LWNvbW1lbnRzJyxcclxuXHRcdFx0XHQnY2hlY2tvdXQnLFxyXG5cdFx0XHRcdCdvcmRlci1yZXF1ZXN0LXJlZnVuZCcsXHJcblx0XHRcdFx0J3NlYXJjaC1wdXJjaGFzZScsXHJcblx0XHRcdF0sXHJcblx0XHRcdHF1ZXVlOiBbXVxyXG5cdFx0fSxcclxuXHRcdHBsdWdpbnM6ICB7fSxcclxuXHRcdG1lc3NhZ2VzOiB7fSxcclxuXHR9LCBvcHRpb25zLCAob3YsIHN2KSA9PiB7XHJcblxyXG5cdFx0aWYgKEFycmF5LmlzQXJyYXkob3YpICYmIEFycmF5LmlzQXJyYXkoc3YpKSB7XHJcblx0XHRcdHJldHVybiBzdjtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG5cdGlmIChvcHRpb25zLnBsdWdpbnMpIHtcclxuXHRcdCQuZXh0ZW5kKFRodW5kZXIucGx1Z2lucywgb3B0aW9ucy5wbHVnaW5zKTtcclxuXHR9XHJcblxyXG5cdGlmIChvcHRpb25zLmhlYWRlciA9PT0gdHJ1ZSkge1xyXG5cdFx0b3B0aW9ucy5oZWFkZXIgPSB7XHJcblx0XHRcdGl0ZW1zOiBbXHJcblx0XHRcdFx0J2N1c3RvbWVyJywgICAgICAgIC8vIFJlZ2lzdGVyLCBMb2dpbiB8IE15IFByb2ZpbGVcclxuXHRcdFx0XHQnc2VhcmNoLXB1cmNoYXNlJywgLy8gU2VhcmNoIE9yZGVyXHJcblx0XHRcdFx0J2NhcnQnLCAgICAgICAgICAgIC8vIENhcnRcclxuXHRcdFx0XSxcclxuXHRcdFx0YWN0aW9uczoge1xyXG5cdFx0XHRcdCdjdXN0b21lci1kYXNoYm9hcmQnOiBbJ29wZW4nXSxcclxuXHRcdFx0XHQnY3VzdG9tZXItcmVnaXN0ZXInOiAgWydvcGVuJ10sXHJcblx0XHRcdFx0J2N1c3RvbWVyLWxvZ2luJzogICAgIFsnb3BlbiddLFxyXG5cdFx0XHRcdCdvcmRlci1saXN0JzogICAgICAgICBbJ29wZW4nXSxcclxuXHRcdFx0XHQnc2VhcmNoLXB1cmNoYXNlJzogICAgWydvcGVuJ10sXHJcblx0XHRcdFx0Y2FydDogICAgICAgICAgICAgICAgIFsnb3BlbiddLFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0aWYgKG9wdGlvbnMubWVzc2FnZXMpIHtcclxuXHRcdFRodW5kZXIuc2V0TWVzc2FnZXMob3B0aW9ucy5tZXNzYWdlcyk7XHJcblx0fVxyXG5cclxuXHRpZiAob3B0aW9ucy5yZWNhcHRjaGEuc2l0ZWtleSkge1xyXG5cdFx0d2luZG93W29wdGlvbnMucmVjYXB0Y2hhLm9ubG9hZF0gPSBUaHVuZGVyLnV0aWwuYmluZFJlY2FwdGNoYTtcclxuXHR9XHJcblxyXG5cdFRodW5kZXIub3B0aW9ucyA9IHtcclxuXHRcdHJvb3Q6ICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnJvb3QsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSb290IHBhZ2UgVVJMXHJcblx0XHRiYXNlVVJMOiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5iYXNlVVJMIHx8ICdodHRwczovL2FwaS5jbGF5ZnVsLmlvJywgLy8gQVBJIGJhc2UgVVJMXHJcblx0XHRsYW5ndWFnZTogICAgICAgICAgICAgICAgICAgb3B0aW9ucy5sYW5ndWFnZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udGVudCBsYW5ndWFnZVxyXG5cdFx0Y3VycmVuY3k6ICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY3VycmVuY3ksICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRlbnQgY3VycmVuY3lcclxuXHRcdHRpbWV6b25lOiAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRpbWV6b25lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb250ZW50IHRpbWUgem9uZVxyXG5cdFx0YXV0aFN0b3JhZ2U6ICAgICAgICAgICAgICAgIG9wdGlvbnMuYXV0aFN0b3JhZ2UsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEF1dGggdG9rZW4gc3RvcmFnZVxyXG5cdFx0ZGF0ZUlucHV0Rm9ybWF0OiAgICAgICAgICAgIG9wdGlvbnMuZGF0ZUlucHV0Rm9ybWF0LCAgICAgICAgICAgICAgICAgICAgIC8vIERhdGUgaW5wdXQgZm9ybWF0XHJcblx0XHRwcm9kdWN0QWN0aW9uczogICAgICAgICAgICAgb3B0aW9ucy5wcm9kdWN0QWN0aW9ucywgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydGVkIHByb2R1Y3Qgb3B0aW9uc1xyXG5cdFx0cHJvZHVjdFJldmlldzogICAgICAgICAgICAgIG9wdGlvbnMucHJvZHVjdFJldmlldyxcclxuXHRcdHByb2R1Y3RSZXZpZXdSYXRpbmc6ICAgICAgICBvcHRpb25zLnByb2R1Y3RSZXZpZXdSYXRpbmcsXHJcblx0XHRwcm9kdWN0UmV2aWV3Q29tbWVudDogICAgICAgb3B0aW9ucy5wcm9kdWN0UmV2aWV3Q29tbWVudCxcclxuXHRcdHBheW1lbnRNZXRob2RzOiAgICAgICAgICAgICBvcHRpb25zLnBheW1lbnRNZXRob2RzLCAgICAgICAgICAgICAgICAgICAgICAvLyBTdXBwb3J0ZWQgcGF5bWVudCBtZXRob2RzXHJcblx0XHRyZWZ1bmRSZWFzb25DYXRlZ29yaWVzOiAgICAgb3B0aW9ucy5yZWZ1bmRSZWFzb25DYXRlZ29yaWVzLCAgICAgICAgICAgICAgLy8gUmVmdW5kIHJlYXNvbiBjYXRlZ29yaWVzXHJcblx0XHRzdWJzY3JpcHRpb25QbGFuczogICAgICAgICAgb3B0aW9ucy5zdWJzY3JpcHRpb25QbGFucywgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydGVkIHN1YnNjcmlwdGlvbiBwbGFuIGlkc1xyXG5cdFx0Y3VzdG9tZXJBdmF0YXI6ICAgICAgICAgICAgIG9wdGlvbnMuY3VzdG9tZXJBdmF0YXIsICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBjdXN0b21lciBhdmF0YXIgZm9yIGBjdXN0b21lci11cGRhdGVgLCBgcHJvZHVjdC1yZXZpZXdzYD9cclxuXHRcdGN1c3RvbWVySWRlbnRpdHk6ICAgICAgICAgICBvcHRpb25zLmN1c3RvbWVySWRlbnRpdHksICAgICAgICAgICAgICAgICAgICAvLyBDdXN0b21lciBpZGVudGl0eSBmaWVsZHNcclxuXHRcdGN1c3RvbWVyUmVnaXN0cmF0aW9uRmllbGRzOiBvcHRpb25zLmN1c3RvbWVyUmVnaXN0cmF0aW9uRmllbGRzLCAgICAgICAgICAvLyBDdXN0b21lciByZWdpc3RyYXRpb24gZmllbGRzXHJcblx0XHRjdXN0b21lclVwZGF0ZUZpZWxkczogICAgICAgb3B0aW9ucy5jdXN0b21lclVwZGF0ZUZpZWxkcywgICAgICAgICAgICAgICAgLy8gQ3VzdG9tZXIgdXBkYXRlIGZpZWxkc1xyXG5cdFx0Y3VzdG9tZXJPcmRlckZpZWxkczogICAgICAgIG9wdGlvbnMuY3VzdG9tZXJPcmRlckZpZWxkcywgICAgICAgICAgICAgICAgIC8vIEN1c3RvbWVyIGZpZWxkcyBmb3Igb3JkZXJzIGFuZCBzdWJzY3JpcHRpb25zXHJcblx0XHRyZWNpcGllbnRGaWVsZHM6ICAgICAgICAgICAgb3B0aW9ucy5yZWNpcGllbnRGaWVsZHMsICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3dlZCByZWNpcGllbnQgZmllbGRzIGZvciBhZGRyZXNzZXNcclxuXHRcdGFkZHJlc3NEaXNhYmxlZDogICAgICAgICAgICBvcHRpb25zLmFkZHJlc3NEaXNhYmxlZCwgICAgICAgICAgICAgICAgICAgICAvLyBEaXNhYmxlZCBhZGRyZXNzIGZpZWxkcyAod2hlbiBzZWFyY2ggcGx1Z2luIGV4aXN0cylcclxuXHRcdG9yZGVyQXV0aEZpZWxkczogICAgICAgICAgICBvcHRpb25zLm9yZGVyQXV0aEZpZWxkcywgICAgICAgICAgICAgICAgICAgICAvLyBGaWVsZHMgdG8gYXV0aGVudGljYXRlIGZvciBvcmRlcnMgJiBzdWJzY3JpcHRpb25zXHJcblx0XHRzb2NpYWxBcHBzOiAgICAgICAgICAgICAgICAgb3B0aW9ucy5zb2NpYWxBcHBzLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3VwcG9ydGVkIHNvY2lhbCBhcHBzIGZvciBjdXN0b21lciBhY2NvdW50c1xyXG5cdFx0aGVhZGVyOiAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVyLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlYWRlciBuYXZpZ2F0aW9uIG1lbnUgaXRlbXNcclxuXHRcdHJlY2FwdGNoYTogICAgICAgICAgICAgICAgICBvcHRpb25zLnJlY2FwdGNoYSwgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHb29nbGUgcmVDQVBUQ0hBIG9wdGlvbnNcclxuXHR9O1xyXG5cclxuXHQvLyBFeHBvc2UgVGh1bmRlci5DYXJ0IGFmdGVyIGNvbmZpZ3VyYXRpb25zXHJcblx0VGh1bmRlci5DYXJ0ID0gcmVxdWlyZSgnLi9saWIvY2FydCcpKFRodW5kZXIpO1xyXG5cclxuXHRUaHVuZGVyLmNyZWRlbnRpYWwob3B0aW9ucy5jbGllbnQpO1xyXG5cdFRodW5kZXIucHJlZmVyZW5jZShvcHRpb25zKTtcclxuXHRUaHVuZGVyLmluaXRpYWxpemUoKTtcclxuXHJcblx0cmV0dXJuIFRodW5kZXI7XHJcblxyXG59O1xyXG5cclxuLy8gVHJhbnNsYXRpb24gZGVwZW5kZW5jeVxyXG5UaHVuZGVyLnBvbHlnbG90ID0gbmV3IFBvbHlnbG90KCk7XHJcblxyXG4vLyBFdmVudCBsaXN0ZW5lcnNcclxuVGh1bmRlci5saXN0ZW5lcnMgPSB7XHJcblx0cmVuZGVyOiBbXSxcclxuXHRvcGVuOiAgIFtdLFxyXG5cdGNsb3NlOiAgW10sXHJcbn07XHJcblxyXG4vLyBDdXN0b20gbWV0aG9kc1xyXG5UaHVuZGVyLm1ldGhvZHMgPSB7fTtcclxuXHJcbi8vIFNwZWNzIGZvciBjb21wb25lbnRzXHJcblRodW5kZXIuY29tcG9uZW50cyA9IHtcclxuXHRjYXJ0OiAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2NhcnQnKShUaHVuZGVyKSksXHJcblx0Y2hlY2tvdXQ6ICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jaGVja291dCcpKFRodW5kZXIpKSxcclxuXHQnY2hlY2tvdXQtc3VjY2Vzcyc6ICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2NoZWNrb3V0LXN1Y2Nlc3MnKShUaHVuZGVyKSksXHJcblx0J3Byb2R1Y3QtbGlzdCc6ICAgICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9wcm9kdWN0LWxpc3QnKShUaHVuZGVyKSksXHJcblx0J3Byb2R1Y3QtZGV0YWlsJzogICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9wcm9kdWN0LWRldGFpbCcpKFRodW5kZXIpKSxcclxuXHQncHJvZHVjdC1yZXZpZXcnOiAgICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL3Byb2R1Y3QtcmV2aWV3JykoVGh1bmRlcikpLFxyXG5cdCdwcm9kdWN0LXJldmlld3MnOiAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvcHJvZHVjdC1yZXZpZXdzJykoVGh1bmRlcikpLFxyXG5cdCdwcm9kdWN0LXJldmlldy13cml0ZXInOiAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvcHJvZHVjdC1yZXZpZXctd3JpdGVyJykoVGh1bmRlcikpLFxyXG5cdCdwcm9kdWN0LXJldmlldy1jb21tZW50cyc6ICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvcHJvZHVjdC1yZXZpZXctY29tbWVudHMnKShUaHVuZGVyKSksXHJcblx0J2N1c3RvbWVyLXJlZ2lzdGVyJzogICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1yZWdpc3RlcicpKFRodW5kZXIpKSxcclxuXHQnY3VzdG9tZXItbG9naW4nOiAgICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2N1c3RvbWVyLWxvZ2luJykoVGh1bmRlcikpLFxyXG5cdCdjdXN0b21lci1yZXNldC1wYXNzd29yZCc6ICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY3VzdG9tZXItcmVzZXQtcGFzc3dvcmQnKShUaHVuZGVyKSksXHJcblx0J2N1c3RvbWVyLXZlcmlmaWNhdGlvbic6ICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci12ZXJpZmljYXRpb24nKShUaHVuZGVyKSksXHJcblx0J2N1c3RvbWVyLWRhc2hib2FyZCc6ICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1kYXNoYm9hcmQnKShUaHVuZGVyKSksXHJcblx0J2N1c3RvbWVyLXVwZGF0ZSc6ICAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci11cGRhdGUnKShUaHVuZGVyKSksXHJcblx0J2N1c3RvbWVyLXVwZGF0ZS1jcmVkZW50aWFsJzogY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci11cGRhdGUtY3JlZGVudGlhbCcpKFRodW5kZXIpKSxcclxuXHQnY3VzdG9tZXItdXBkYXRlLWFkZHJlc3MnOiAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2N1c3RvbWVyLXVwZGF0ZS1hZGRyZXNzJykoVGh1bmRlcikpLFxyXG5cdCdjdXN0b21lci1yZXZpZXdzJzogICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY3VzdG9tZXItcmV2aWV3cycpKFRodW5kZXIpKSxcclxuXHQnY3VzdG9tZXItcmV2aWV3JzogICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2N1c3RvbWVyLXJldmlldycpKFRodW5kZXIpKSxcclxuXHQnY3VzdG9tZXItcmV2aWV3LWNvbW1lbnRzJzogICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2N1c3RvbWVyLXJldmlldy1jb21tZW50cycpKFRodW5kZXIpKSxcclxuXHQnY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQnOiAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL2N1c3RvbWVyLXJldmlldy1jb21tZW50JykoVGh1bmRlcikpLFxyXG5cdCdjdXN0b21lci1kZWxldGUtYWNjb3VudCc6ICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvY3VzdG9tZXItZGVsZXRlLWFjY291bnQnKShUaHVuZGVyKSksXHJcblx0J2N1c3RvbWVyLWNvdXBvbnMnOiAgICAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9jdXN0b21lci1jb3Vwb25zJykoVGh1bmRlcikpLFxyXG5cdCdzZWFyY2gtcHVyY2hhc2UnOiAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvc2VhcmNoLXB1cmNoYXNlJykoVGh1bmRlcikpLFxyXG5cdCdvcmRlci1saXN0JzogICAgICAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvb3JkZXItbGlzdCcpKFRodW5kZXIpKSxcclxuXHQnb3JkZXItZGV0YWlsJzogICAgICAgICAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL29yZGVyLWRldGFpbCcpKFRodW5kZXIpKSxcclxuXHQnb3JkZXItcmVxdWVzdC1yZWZ1bmQnOiAgICAgICBjb21wb25lbnQocmVxdWlyZSgnLi9tb2R1bGVzL29yZGVyLXJlcXVlc3QtcmVmdW5kJykoVGh1bmRlcikpLFxyXG5cdCdzdWJzY3JpcHRpb24tbGlzdCc6ICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvc3Vic2NyaXB0aW9uLWxpc3QnKShUaHVuZGVyKSksXHJcblx0J3N1YnNjcmlwdGlvbi1kZXRhaWwnOiAgICAgICAgY29tcG9uZW50KHJlcXVpcmUoJy4vbW9kdWxlcy9zdWJzY3JpcHRpb24tZGV0YWlsJykoVGh1bmRlcikpLFxyXG5cdCdwYXltZW50LWZvcm0nOiAgICAgICAgICAgICAgIGNvbXBvbmVudChyZXF1aXJlKCcuL21vZHVsZXMvcGF5bWVudC1mb3JtJykoVGh1bmRlcikpLFxyXG59O1xyXG5cclxuVGh1bmRlci51aXMgPSB7XHJcblx0J2NvbXBvbmVudC1zcGlubmVyJzogIHJlcXVpcmUoJy4vdWkvY29tcG9uZW50LXNwaW5uZXInKS5iaW5kKFRodW5kZXIpLFxyXG5cdCdzZWN0aW9uLXNwaW5uZXInOiAgICByZXF1aXJlKCcuL3VpL3NlY3Rpb24tc3Bpbm5lcicpLmJpbmQoVGh1bmRlciksXHJcblx0J2J1dHRvbi1zcGlubmVyJzogICAgIHJlcXVpcmUoJy4vdWkvYnV0dG9uLXNwaW5uZXInKS5iaW5kKFRodW5kZXIpLFxyXG5cdCdvdmVybGF5LW5hdmlnYXRpb24nOiByZXF1aXJlKCcuL3VpL292ZXJsYXktbmF2aWdhdGlvbicpLmJpbmQoVGh1bmRlciksXHJcblx0J2hlYWRlci1uYXZpZ2F0aW9uJzogIHJlcXVpcmUoJy4vdWkvaGVhZGVyLW5hdmlnYXRpb24nKS5iaW5kKFRodW5kZXIpLFxyXG5cdCdzb2NpYWwtbG9naW4nOiAgICAgICByZXF1aXJlKCcuL3VpL3NvY2lhbC1sb2dpbicpLmJpbmQoVGh1bmRlciksXHJcblx0J2F2YXRhci1wbGFjZWhvbGRlcic6IHJlcXVpcmUoJy4vdWkvYXZhdGFyLXBsYWNlaG9sZGVyJykuYmluZChUaHVuZGVyKSxcclxuXHQnZmlsbGVkLXN0YXInOiAgICAgICAgcmVxdWlyZSgnLi91aS9maWxsZWQtc3RhcicpLmJpbmQoVGh1bmRlciksXHJcblx0J2hhbGYtZmlsbGVkLXN0YXInOiAgIHJlcXVpcmUoJy4vdWkvaGFsZi1maWxsZWQtc3RhcicpLmJpbmQoVGh1bmRlciksXHJcblx0J2VtcHR5LXN0YXInOiAgICAgICAgIHJlcXVpcmUoJy4vdWkvZW1wdHktc3RhcicpLmJpbmQoVGh1bmRlciksXHJcblx0J2hhbGxvdy1zdGFyJzogICAgICAgIHJlcXVpcmUoJy4vdWkvaGFsbG93LXN0YXInKS5iaW5kKFRodW5kZXIpLFxyXG5cdCdyZXZpZXctc3RhcnMnOiAgICAgICByZXF1aXJlKCcuL3VpL3Jldmlldy1zdGFycycpLmJpbmQoVGh1bmRlciksXHJcblx0J3Jldmlldy1zdGFyLXJhdGluZyc6IHJlcXVpcmUoJy4vdWkvcmV2aWV3LXN0YXItcmF0aW5nJykuYmluZChUaHVuZGVyKSxcclxufTtcclxuXHJcbi8vIFBsdWdpbnMgKGFkZHJlc3Mgc2VhcmNoLCBwYXltZW50LCAuLi4pXHJcblRodW5kZXIucGx1Z2lucyA9IHtcclxuXHRzZWFyY2hBZGRyZXNzOiAgICAgbnVsbCxcclxuXHRtYWtlUGF5bWVudDogICAgICAgbnVsbCxcclxuXHRub3RpZmljYXRpb246ICAgICAgcmVxdWlyZSgnLi9wbHVnaW5zL25vdGlmaWNhdGlvbicpLFxyXG5cdGNvbmZpcm1hdGlvbjogICAgICByZXF1aXJlKCcuL3BsdWdpbnMvY29uZmlybWF0aW9uJyksXHJcblx0cGFnaW5hdGlvbjogICAgICAgIHJlcXVpcmUoJy4vcGx1Z2lucy9wYWdpbmF0aW9uJyksXHJcblx0Y2FydFN0b3JhZ2U6ICAgICAgIHJlcXVpcmUoJy4vcGx1Z2lucy9jYXJ0U3RvcmFnZScpLFxyXG5cdGNyZWRlbnRpYWxTdG9yYWdlOiByZXF1aXJlKCcuL3BsdWdpbnMvY3JlZGVudGlhbFN0b3JhZ2UnKSxcclxufTtcclxuXHJcbi8vIFV0aWxpdHkgbWV0aG9kc1xyXG5UaHVuZGVyLnV0aWwgPSB7XHJcblx0bG9nOiAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi91dGlsL2xvZycpLmJpbmQoVGh1bmRlciksXHJcblx0dWk6ICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi91dGlsL3VpJykuYmluZChUaHVuZGVyKSxcclxuXHRzdHJpcEhUTUw6ICAgICAgICAgICByZXF1aXJlKCcuL3V0aWwvc3RyaXBIVE1MJykuYmluZChUaHVuZGVyKSxcclxuXHRleGNlcnB0OiAgICAgICAgICAgICByZXF1aXJlKCcuL3V0aWwvZXhjZXJwdCcpLmJpbmQoVGh1bmRlciksXHJcblx0aW1hZ2VVUkw6ICAgICAgICAgICAgcmVxdWlyZSgnLi91dGlsL2ltYWdlVVJMJykuYmluZChUaHVuZGVyKSxcclxuXHR0b1ByZWNpc2lvbjogICAgICAgICByZXF1aXJlKCcuL3V0aWwvdG9QcmVjaXNpb24nKS5iaW5kKFRodW5kZXIpLFxyXG5cdGZvcm1hdE51bWJlcjogICAgICAgIHJlcXVpcmUoJy4vdXRpbC9mb3JtYXROdW1iZXInKS5iaW5kKFRodW5kZXIpLFxyXG5cdGZvcm1hdFByaWNlOiAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC9mb3JtYXRQcmljZScpLmJpbmQoVGh1bmRlciksXHJcblx0aXNFeHBpcmVkOiAgICAgICAgICAgcmVxdWlyZSgnLi91dGlsL2lzRXhwaXJlZCcpLmJpbmQoVGh1bmRlciksXHJcblx0Y291bnRyeU5hbWU6ICAgICAgICAgcmVxdWlyZSgnLi91dGlsL2NvdW50cnlOYW1lJykuYmluZChUaHVuZGVyKSxcclxuXHRjdXN0b21lcklkZW50aXR5OiAgICByZXF1aXJlKCcuL3V0aWwvY3VzdG9tZXJJZGVudGl0eScpLmJpbmQoVGh1bmRlciksXHJcblx0cHJvZHVjdE5hbWU6ICAgICAgICAgcmVxdWlyZSgnLi91dGlsL3Byb2R1Y3ROYW1lJykuYmluZChUaHVuZGVyKSxcclxuXHR2YXJpYW50TmFtZTogICAgICAgICByZXF1aXJlKCcuL3V0aWwvdmFyaWFudE5hbWUnKS5iaW5kKFRodW5kZXIpLFxyXG5cdG9yZGVyU2hpcHBpbmdTdGF0dXM6IHJlcXVpcmUoJy4vdXRpbC9vcmRlclNoaXBwaW5nU3RhdHVzJykuYmluZChUaHVuZGVyKSxcclxuXHRmb3JtVG9KU09OOiAgICAgICAgICByZXF1aXJlKCcuL3V0aWwvZm9ybVRvSlNPTicpLmJpbmQoVGh1bmRlciksXHJcblx0cGFyc2VBcnJheVN0cmluZzogICAgcmVxdWlyZSgnLi91dGlsL3BhcnNlQXJyYXlTdHJpbmcnKS5iaW5kKFRodW5kZXIpLFxyXG5cdHVybFF1ZXJ5OiAgICAgICAgICAgIHJlcXVpcmUoJy4vdXRpbC91cmxRdWVyeScpLmJpbmQoVGh1bmRlciksXHJcblx0cmVxdWVzdEVycm9ySGFuZGxlcjogcmVxdWlyZSgnLi91dGlsL3JlcXVlc3RFcnJvckhhbmRsZXInKS5iaW5kKFRodW5kZXIpLFxyXG5cdHVzZXJJZE9yRW1haWw6ICAgICAgIHJlcXVpcmUoJy4vdXRpbC91c2VySWRPckVtYWlsJykuYmluZChUaHVuZGVyKSxcclxuXHRtYWtlQXN5bmNCdXR0b246ICAgICByZXF1aXJlKCcuL3V0aWwvbWFrZUFzeW5jQnV0dG9uJykuYmluZChUaHVuZGVyKSxcclxuXHRtYWtlUmVjYXB0Y2hhOiAgICAgICByZXF1aXJlKCcuL3V0aWwvbWFrZVJlY2FwdGNoYScpLmJpbmQoVGh1bmRlciksXHJcblx0dW5zZXRSZWNhcHRjaGE6ICAgICAgcmVxdWlyZSgnLi91dGlsL3Vuc2V0UmVjYXB0Y2hhJykuYmluZChUaHVuZGVyKSxcclxuXHRiaW5kU29jaWFsQXBwczogICAgICByZXF1aXJlKCcuL3V0aWwvYmluZFNvY2lhbEFwcHMnKS5iaW5kKFRodW5kZXIpLFxyXG5cdGhhbmRsZVNvY2lhbExvZ2luOiAgIHJlcXVpcmUoJy4vdXRpbC9oYW5kbGVTb2NpYWxMb2dpbicpLmJpbmQoVGh1bmRlciksXHJcblx0YmluZFJlY2FwdGNoYTogICAgICAgcmVxdWlyZSgnLi91dGlsL2JpbmRSZWNhcHRjaGEnKS5iaW5kKFRodW5kZXIpLFxyXG5cdHVzZVJlY2FwdGNoYTogICAgICAgIHJlcXVpcmUoJy4vdXRpbC91c2VSZWNhcHRjaGEnKS5iaW5kKFRodW5kZXIpLFxyXG5cdGltYWdlVXBsb2FkZXI6ICAgICAgIHJlcXVpcmUoJy4vdXRpbC9pbWFnZVVwbG9hZGVyJykuYmluZChUaHVuZGVyKSxcclxuXHRiaW5kQmFja0J1dHRvbjogICAgICByZXF1aXJlKCcuL3V0aWwvYmluZEJhY2tCdXR0b24nKS5iaW5kKFRodW5kZXIpLFxyXG5cdGZvbGxvd2luZ05hdmlnYXRpb246IHJlcXVpcmUoJy4vdXRpbC9mb2xsb3dpbmdOYXZpZ2F0aW9uJykuYmluZChUaHVuZGVyKSxcclxuXHRxdWFudGl0eUlucHV0OiAgICAgICByZXF1aXJlKCcuL3V0aWwvcXVhbnRpdHlJbnB1dCcpLmJpbmQoVGh1bmRlciksXHJcbn07XHJcblxyXG4vLyBHbG9iYWwgdGVtcGxhdGUgbWV0aG9kc1xyXG5UaHVuZGVyLnRlbXBsYXRlTWV0aG9kcyA9IHtcclxuXHRnZXQ6ICAgICAgICAgICAgICByZXF1aXJlKCdsb2Rhc2guZ2V0JyksXHJcblx0a2ViYWJDYXNlOiAgICAgICAgcmVxdWlyZSgnbG9kYXNoLmtlYmFiY2FzZScpLFxyXG5cdGNhbWVsQ2FzZTogICAgICAgIHJlcXVpcmUoJ2xvZGFzaC5jYW1lbGNhc2UnKSxcclxuXHRzdHJpcEhUTUw6ICAgICAgICBUaHVuZGVyLnV0aWwuc3RyaXBIVE1MLFxyXG5cdGV4Y2VycHQ6ICAgICAgICAgIFRodW5kZXIudXRpbC5leGNlcnB0LFxyXG5cdGltYWdlVVJMOiAgICAgICAgIFRodW5kZXIudXRpbC5pbWFnZVVSTCxcclxuXHRpc0V4cGlyZWQ6ICAgICAgICBUaHVuZGVyLnV0aWwuaXNFeHBpcmVkLFxyXG5cdGNvdW50cnlOYW1lOiAgICAgIFRodW5kZXIudXRpbC5jb3VudHJ5TmFtZSxcclxuXHRjdXN0b21lcklkZW50aXR5OiBUaHVuZGVyLnV0aWwuY3VzdG9tZXJJZGVudGl0eSxcclxuXHRwcm9kdWN0TmFtZTogICAgICBUaHVuZGVyLnV0aWwucHJvZHVjdE5hbWUsXHJcblx0dmFyaWFudE5hbWU6ICAgICAgVGh1bmRlci51dGlsLnZhcmlhbnROYW1lLFxyXG59O1xyXG5cclxuVGh1bmRlci5vdmVybGF5ID0ge1xyXG5cdGJhY2tncm91bmQ6ICc8ZGl2IGlkPVwidGh1bmRlci0tb3ZlcmxheS1iYWNrZ3JvdW5kXCIgZGF0YS10aHVuZGVyLWNsb3NlPjwvZGl2PicsXHJcblx0Y29udGFpbmVyOiAgJzxkaXYgaWQ9XCJ0aHVuZGVyLS1vdmVybGF5XCI+PGRpdiBpZD1cInRodW5kZXItLW92ZXJsYXktaGVhZGVyXCI+PC9kaXY+PGRpdiBpZD1cInRodW5kZXItLW92ZXJsYXktYm9keVwiPjwvZGl2PjwvZGl2PicsXHJcblx0Ym9keTogICAgICAgbnVsbCxcclxufTtcclxuXHJcbiQuZXh0ZW5kKFRodW5kZXIsIHtcclxuXHRpbml0aWFsaXplOiAgICByZXF1aXJlKCcuL2xpYi9pbml0aWFsaXplJykuYmluZChUaHVuZGVyKSwgLy8gSW5pdGlhbGl6ZSBhbiBhcHBcclxuXHRjcmVkZW50aWFsOiAgICByZXF1aXJlKCcuL2xpYi9jcmVkZW50aWFsJykuYmluZChUaHVuZGVyKSwgLy8gQ2xpZW50IHNldHRlclxyXG5cdHByZWZlcmVuY2U6ICAgIHJlcXVpcmUoJy4vbGliL3ByZWZlcmVuY2UnKS5iaW5kKFRodW5kZXIpLCAvLyBQcmVmZXJlbmNlIHNldHRlclxyXG5cdHNldE1lc3NhZ2VzOiAgIHJlcXVpcmUoJy4vbGliL3NldE1lc3NhZ2VzJykuYmluZChUaHVuZGVyKSwgLy8gU2V0cyB0cmFuc2xhdGlvbiBtZXNzYWdlc1xyXG5cdG9uOiAgICAgICAgICAgIHJlcXVpcmUoJy4vbGliL29uJykuYmluZChUaHVuZGVyKSwgICAgICAgICAvLyBSZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzXHJcblx0b2ZmOiAgICAgICAgICAgcmVxdWlyZSgnLi9saWIvb2ZmJykuYmluZChUaHVuZGVyKSwgICAgICAgIC8vIFVucmVnaXN0ZXJzIGV2ZW50IGxpc3RlbmVyc1xyXG5cdG1ldGhvZDogICAgICAgIGdldHRlclNldHRlcignbWV0aG9kcycpLCAgICAgICAgICAgICAgICAgICAvLyBNZXRob2QgZ2V0dGVyL3NldHRlclxyXG5cdGNvbXBvbmVudDogICAgIGdldHRlclNldHRlcignY29tcG9uZW50cycpLCAgICAgICAgICAgICAgICAvLyBDb21wb25lbnQgZ2V0dGVyL3NldHRlclxyXG5cdHRlbXBsYXRlOiAgICAgIGdldHRlclNldHRlcignY29tcG9uZW50cycsICd0ZW1wbGF0ZScpLCAgICAvLyBDdXN0b20gdGVtcGxhdGUgZ2V0dGVyL3NldHRlclxyXG5cdHBsdWdpbjogICAgICAgIGdldHRlclNldHRlcigncGx1Z2lucycpLCAgICAgICAgICAgICAgICAgICAvLyBQbHVnaW4gZ2V0dGVyL3NldHRlclxyXG5cdHVpOiAgICAgICAgICAgIGdldHRlclNldHRlcigndWlzJyksICAgICAgICAgICAgICAgICAgICAgICAvLyBDdXN0b20gVUkgZ2V0dGVyL3NldHRlclxyXG5cdHJlbmRlcjogICAgICAgIHJlcXVpcmUoJy4vbGliL3JlbmRlcicpLmJpbmQoVGh1bmRlciksICAgICAvLyBSZW5kZXJzIGEgY29tcG9uZW50XHJcblx0b3BlbjogICAgICAgICAgcmVxdWlyZSgnLi9saWIvb3BlbicpLmJpbmQoVGh1bmRlciksICAgICAgIC8vIE9wZW5zIGFuIG92ZXJsYXkgYW5kIHJlbmRlcnMgYSBjb21wb25lbnRcclxuXHRjbG9zZTogICAgICAgICByZXF1aXJlKCcuL2xpYi9jbG9zZScpLmJpbmQoVGh1bmRlciksICAgICAgLy8gQ2xvc2VzIGFuIG92ZXJsYXlcclxuXHRyZXF1ZXN0OiAgICAgICByZXF1aXJlKCcuL2xpYi9yZXF1ZXN0JykoVGh1bmRlciksICAgICAgICAgLy8gTWFrZSBhbiBBUEkgcmVxdWVzdFxyXG5cdGV4ZWN1dGU6ICAgICAgIHJlcXVpcmUoJy4vbGliL2V4ZWN1dGUnKS5iaW5kKFRodW5kZXIpLCAgICAvLyBFeGVjdXRlIGEgY3VzdG9tIG1ldGhvZFxyXG5cdG5vdGlmeTogICAgICAgIHJlcXVpcmUoJy4vbGliL25vdGlmeScpLmJpbmQoVGh1bmRlciksICAgICAvLyBTaG9ydGN1dCBmb3IgVGh1bmRlci5wbHVnaW5zLm5vdGlmaWNhdGlvblxyXG5cdGxvZ291dDogICAgICAgIHJlcXVpcmUoJy4vbGliL2xvZ291dCcpLmJpbmQoVGh1bmRlciksXHJcblx0aGVhZGVyOiAgICAgICAgcmVxdWlyZSgnLi9saWIvaGVhZGVyJykuYmluZChUaHVuZGVyKSxcclxuXHRhdXRoZW50aWNhdGVkOiByZXF1aXJlKCcuL2xpYi9hdXRoZW50aWNhdGVkJykuYmluZChUaHVuZGVyKSxcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjb21wb25lbnQoZGVmaW5pdGlvbikge1xyXG5cclxuXHRyZXR1cm4gJC5leHRlbmQoe1xyXG5cdFx0b3B0aW9uczogIGZ1bmN0aW9uKCkgeyByZXR1cm4ge30gfSxcclxuXHRcdGRlZmF1bHQ6ICB7fSxcclxuXHRcdHByZTogICAgICBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykgeyByZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCkgfSxcclxuXHRcdGluaXQ6ICAgICBmdW5jdGlvbigpIHt9LFxyXG5cdFx0dGVtcGxhdGU6IGZ1bmN0aW9uKGNvbnRleHQpIHsgcmV0dXJuICcnIH1cclxuXHR9LCBkZWZpbml0aW9uKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldHRlclNldHRlcihmaWVsZCwgY2hpbGQpIHtcclxuXHJcblx0cmV0dXJuIGNoaWxkID9cclxuXHRcdGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XHJcblxyXG5cdFx0XHRpZiAoIXZhbHVlKSByZXR1cm4gVGh1bmRlcltmaWVsZF1bbmFtZV1bY2hpbGRdO1xyXG5cclxuXHRcdFx0VGh1bmRlcltmaWVsZF1bbmFtZV1bY2hpbGRdID0gdmFsdWU7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlcjtcclxuXHJcblx0XHR9IDpcclxuXHRcdGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XHJcblxyXG5cdFx0XHRpZiAoIXZhbHVlKSByZXR1cm4gVGh1bmRlcltmaWVsZF1bbmFtZV07XHJcblxyXG5cdFx0XHRUaHVuZGVyW2ZpZWxkXVtuYW1lXSA9IHZhbHVlO1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXI7XHJcblxyXG5cdFx0fTtcclxuXHJcbn1cclxuXHJcbndpbmRvdy5UaHVuZGVyID0gVGh1bmRlcjsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNjb3BlID0gJ2N1c3RvbWVyJykge1xyXG5cclxuXHRjb25zdCBzdG9yYWdlID0gdGhpcy5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xyXG5cclxuXHQvLyBDdXN0b21lciBjYXNlXHJcblx0aWYgKHNjb3BlID09PSAnY3VzdG9tZXInKSB7XHJcblxyXG5cdFx0Y29uc3Qgc3RvcmFnZUtleSA9IHRoaXMub3B0aW9ucy5hdXRoU3RvcmFnZS5jdXN0b21lcjtcclxuXHRcdGNvbnN0IHRva2VuID0gc3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpO1xyXG5cclxuXHRcdGlmICghdG9rZW4pIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpc1Rva2VuRXhwaXJlZCh0b2tlbikpIHtcclxuXHRcdFx0Ly8gSWYgdGhlIHRva2VuIGV4cGlyZWQsIGxvZyBvdXQgdGhlIGN1c3RvbWVyLlxyXG5cdFx0XHR0aGlzLmxvZ291dCgpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHBhcnNlVG9rZW4odG9rZW4pO1xyXG5cdH1cclxuXHJcblx0Ly8gT3JkZXIgb3IgU3Vic2NyaXB0aW9uIGNhc2VcclxuXHRpZiAoc2NvcGUgPT09ICdvcmRlcicpIHtcclxuXHJcblx0XHRjb25zdCBzdG9yYWdlS2V5ID0gdGhpcy5vcHRpb25zLmF1dGhTdG9yYWdlLm9yZGVyO1xyXG5cdFx0Y29uc3QgdG9rZW4gPSBzdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSk7XHJcblxyXG5cdFx0aWYgKCF0b2tlbikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlzVG9rZW5FeHBpcmVkKHRva2VuKSkge1xyXG5cdFx0XHQvLyBJZiB0aGUgdG9rZW4gZXhwaXJlZCwgdW5zZXQgdGhlIHRva2VuIGZyb20gdGhlIHN0b3JhZ2UuXHJcblx0XHRcdHN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLm9wdGlvbnMuYXV0aFN0b3JhZ2Uub3JkZXIpO1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHBhcnNlVG9rZW4odG9rZW4pO1xyXG5cclxuXHR9XHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gcGFyc2VUb2tlbih0b2tlbikge1xyXG5cclxuXHRjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XHJcblx0Y29uc3QgZGF0YSA9IEpTT04ucGFyc2UoYXRvYihwYXJ0c1sxXSkpO1xyXG5cclxuXHRyZXR1cm4gZGF0YTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzVG9rZW5FeHBpcmVkKHRva2VuKSB7XHJcblxyXG5cdGNvbnN0IGV4cGlyZXNBdCA9IHBhcnNlVG9rZW4odG9rZW4pLmV4cCAqIDEwMDA7XHJcblxyXG5cdHJldHVybiBleHBpcmVzQXQgLSBEYXRlLm5vdygpIDw9IDA7XHJcblxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgQ2FydCA9IHtcclxuXHRcdHN0b3JhZ2U6ICdfX2l0ZW1zX18nLFxyXG5cdFx0aXRlbXM6ICAgW11cclxuXHR9O1xyXG5cclxuXHRDYXJ0LmxvYWQgPSAoKSA9PiB7XHJcblxyXG5cdFx0Y29uc3Qgc3RvcmFnZSA9IFRodW5kZXIucGx1Z2lucy5jYXJ0U3RvcmFnZTtcclxuXHJcblx0XHRDYXJ0Lml0ZW1zID0gSlNPTi5wYXJzZShzdG9yYWdlLmdldEl0ZW0oQ2FydC5zdG9yYWdlKSB8fCAnW10nKTtcclxuXHR9O1xyXG5cclxuXHRDYXJ0LnBlcnNpc3QgPSAoKSA9PiB7XHJcblxyXG5cdFx0Y29uc3Qgc3RvcmFnZSA9IFRodW5kZXIucGx1Z2lucy5jYXJ0U3RvcmFnZTtcclxuXHJcblx0XHRzdG9yYWdlLnNldEl0ZW0oQ2FydC5zdG9yYWdlLCBKU09OLnN0cmluZ2lmeShDYXJ0Lml0ZW1zKSk7XHJcblx0fTtcclxuXHJcblx0Q2FydC50b3RhbEl0ZW1zID0gaXRlbXMgPT4ge1xyXG5cclxuXHRcdHJldHVybiAoQ2FydC5pdGVtcyB8fCBpdGVtcykucmVkdWNlKChzdW0sIGl0ZW0pID0+IHtcclxuXHRcdFx0cmV0dXJuIHN1bSArIDEgKyAoaXRlbS5idW5kbGVJdGVtcyA/IGl0ZW0uYnVuZGxlSXRlbXMubGVuZ3RoIDogMCk7XHJcblx0XHR9LCAwKTtcclxuXHJcblx0fTtcclxuXHJcblx0Q2FydC5hZGRJdGVtID0gKGl0ZW0sIGNhbGxiYWNrKSA9PiB7XHJcblxyXG5cdFx0Y29uc3QgaXRlbXMgPSAkLmV4dGVuZCh0cnVlLCBbXSwgQ2FydC5pdGVtcyk7XHJcblxyXG5cdFx0aXRlbS5faWQgPSAoTWF0aC5yYW5kb20oKSArICcnKS5zbGljZSgyLCAxNyk7XHJcblxyXG5cdFx0aWYgKGl0ZW0uYnVuZGxlSXRlbXMpIHtcclxuXHRcdFx0aXRlbS5idW5kbGVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGl0ZW0uX2lkID0gKE1hdGgucmFuZG9tKCkgKyAnJykuc2xpY2UoMiwgMTcpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpdGVtcy5wdXNoKGl0ZW0pO1xyXG5cclxuXHRcdGlmIChDYXJ0LnRvdGFsSXRlbXMoaXRlbXMpID49IDUwKSB7XHJcblx0XHRcdHJldHVybiBjYWxsYmFjayhDYXJ0RXJyb3IoJ2l0ZW1zLWV4Y2VlZGVkJykpO1xyXG5cdFx0fVxyXG5cclxuXHRcdENhcnQuaXRlbXMgPSBpdGVtcztcclxuXHJcblx0XHRDYXJ0LnBlcnNpc3QoKTtcclxuXHJcblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgaXRlbSk7XHJcblxyXG5cdH07XHJcblxyXG5cdENhcnQudXBkYXRlSXRlbSA9IChpdGVtSWQsIHVwZGF0ZSwgY2FsbGJhY2spID0+IHtcclxuXHJcblx0XHRpdGVtSWQgPSBpdGVtSWQgKyAnJztcclxuXHJcblx0XHRjb25zdCBpdGVtcyA9ICQuZXh0ZW5kKHRydWUsIFtdLCBDYXJ0Lml0ZW1zKTtcclxuXHRcdGNvbnN0IGZvdW5kID0gaXRlbXMuZmluZChpdGVtID0+IGl0ZW0uX2lkID09PSBpdGVtSWQpO1xyXG5cclxuXHRcdGlmICghZm91bmQpIHtcclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKENhcnRFcnJvcignbm8taXRlbScpKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBidW5kbGVJdGVtcyA9IHVwZGF0ZS5idW5kbGVJdGVtcztcclxuXHJcblx0XHRkZWxldGUgdXBkYXRlLmJ1bmRsZUl0ZW1zO1xyXG5cclxuXHRcdCQuZXh0ZW5kKGZvdW5kLCB1cGRhdGUpO1xyXG5cclxuXHRcdGlmIChidW5kbGVJdGVtcykge1xyXG5cclxuXHRcdFx0Zm91bmQuYnVuZGxlSXRlbXMgPSBmb3VuZC5idW5kbGVJdGVtcyB8fCBbXTtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgYnVuZGxlSWQgaW4gYnVuZGxlSXRlbXMpIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgaXRlbSA9IGZvdW5kLmJ1bmRsZUl0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PT0gYnVuZGxlSWQpO1xyXG5cdFx0XHRcdGNvbnN0IHVwZGF0ZSA9IGJ1bmRsZUl0ZW1zW2J1bmRsZUlkXTtcclxuXHJcblx0XHRcdFx0aWYgKCFpdGVtICYmIHVwZGF0ZSkge1xyXG5cdFx0XHRcdFx0Zm91bmQuYnVuZGxlSXRlbXMucHVzaCh1cGRhdGUpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHVwZGF0ZSkge1xyXG5cdFx0XHRcdFx0JC5leHRlbmQoaXRlbSwgdXBkYXRlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh1cGRhdGUgPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdGNvbnN0IGluZGV4ID0gZm91bmQuYnVuZGxlSXRlbXMuaW5kZXhPZihpdGVtKTtcclxuXHJcblx0XHRcdFx0XHRmb3VuZC5idW5kbGVJdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKENhcnQudG90YWxJdGVtcyhpdGVtcykgPj0gNTApIHtcclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKENhcnRFcnJvcignaXRlbXMtZXhjZWVkZWQnKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Q2FydC5pdGVtcyA9IGl0ZW1zO1xyXG5cclxuXHRcdENhcnQucGVyc2lzdCgpO1xyXG5cclxuXHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBmb3VuZCk7XHJcblxyXG5cdH07XHJcblxyXG5cdENhcnQuZGVsZXRlSXRlbSA9IChpdGVtSWQsIGNhbGxiYWNrKSA9PiB7XHJcblxyXG5cdFx0aXRlbUlkID0gaXRlbUlkICsgJyc7XHJcblxyXG5cdFx0Y29uc3QgaXRlbXMgPSAkLmV4dGVuZCh0cnVlLCBbXSwgQ2FydC5pdGVtcyk7XHJcblx0XHRsZXQgaW5kZXggPSBudWxsO1xyXG5cclxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW0gPSBpdGVtc1tpXTtcclxuXHJcblx0XHRcdGlmIChpdGVtLl9pZCA9PT0gaXRlbUlkKSB7XHJcblx0XHRcdFx0aW5kZXggPSBpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbmRleCA9PT0gbnVsbCkge1xyXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2soQ2FydEVycm9yKCduby1pdGVtJykpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGl0ZW1zLnNwbGljZShpbmRleCwgMSk7XHJcblxyXG5cdFx0Q2FydC5pdGVtcyA9IGl0ZW1zO1xyXG5cclxuXHRcdENhcnQucGVyc2lzdCgpO1xyXG5cclxuXHRcdHJldHVybiBjYWxsYmFjaygpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRDYXJ0LmVtcHR5ID0gY2FsbGJhY2sgPT4ge1xyXG5cclxuXHRcdENhcnQuaXRlbXMgPSBbXTtcclxuXHJcblx0XHRDYXJ0LnBlcnNpc3QoKTtcclxuXHJcblx0XHRyZXR1cm4gY2FsbGJhY2soKTtcclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIENhcnQ7XHJcblxyXG5cdGZ1bmN0aW9uIENhcnRFcnJvcihjb2RlLCBtZXNzYWdlID0gY29kZSkge1xyXG5cclxuXHRcdGNvbnN0IGVyciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuXHJcblx0XHRlcnIuY29kZSA9IGNvZGU7XHJcblxyXG5cdFx0cmV0dXJuIGVycjtcclxuXHJcblx0fVxyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHQvLyBFbXB0eSB0aGUgY29udGVudHMgYW5kIGFkZCBhICdoaWRkZW4nIGNsYXNzXHJcblx0dGhpcy5vdmVybGF5LmNvbnRhaW5lci5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0dGhpcy5vdmVybGF5LmJhY2tncm91bmQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cclxuXHR0aGlzLm92ZXJsYXkuYm9keS5odG1sKCcnKTtcclxuXHJcblx0cmV0dXJuIHRoaXM7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY2xpZW50KSB7XHJcblxyXG5cdHRoaXMucmVxdWVzdC5zZXREZWZhdWx0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke2NsaWVudH1gKTtcclxuXHJcblx0cmV0dXJuIHRoaXM7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIC4uLmFyZ3MpIHtcclxuXHJcblx0Zm4gPSB0eXBlb2YgZm4gPT09ICdzdHJpbmcnID9cclxuXHRcdFx0dGhpcy5tZXRob2RzW2ZuXSA6XHJcblx0XHRcdGZuO1xyXG5cclxuXHRpZiAoIWZuKSByZXR1cm47XHJcblxyXG5cdHJldHVybiBmbiguLi5hcmdzKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0aWYgKCF0aGlzLm9wdGlvbnMuaGVhZGVyKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGNvbnN0ICRoZWFkZXJOYXYgPSAkKCcjdGh1bmRlci0taGVhZGVyLW5hdmlnYXRpb24nKTtcclxuXHJcblx0aWYgKCEkaGVhZGVyTmF2Lmxlbmd0aCkge1xyXG5cdFx0JCgnYm9keScpLnByZXBlbmQodGhpcy51aXNbJ2hlYWRlci1uYXZpZ2F0aW9uJ10oKSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdCRoZWFkZXJOYXYucmVwbGFjZVdpdGgodGhpcy51aXNbJ2hlYWRlci1uYXZpZ2F0aW9uJ10oKSk7XHJcblx0fVxyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRjb25zdCBUaHVuZGVyID0gdGhpcztcclxuXHJcblx0Y29uc3QgYm9keSA9ICQoJ2JvZHknKTtcclxuXHJcblx0dGhpcy5DYXJ0LmxvYWQoKTtcclxuXHJcblx0Ly8gQ2FjaGUgb3ZlcmxheSBET01zXHJcblx0dGhpcy5vdmVybGF5LmJhY2tncm91bmQgPSAkKHRoaXMub3ZlcmxheS5iYWNrZ3JvdW5kKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0dGhpcy5vdmVybGF5LmNvbnRhaW5lciA9ICQodGhpcy5vdmVybGF5LmNvbnRhaW5lcikuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdHRoaXMub3ZlcmxheS5ib2R5ID0gdGhpcy5vdmVybGF5LmNvbnRhaW5lci5maW5kKCcjdGh1bmRlci0tb3ZlcmxheS1ib2R5Jyk7XHJcblxyXG5cdC8vIEFwcGVuZCBjbG9zZSBidXR0b24gdG8gdGhlIG92ZXJsYXkncyBoZWFkZXJcclxuXHR0aGlzLm92ZXJsYXkuY29udGFpbmVyXHJcblx0XHQuZmluZCgnI3RodW5kZXItLW92ZXJsYXktaGVhZGVyJylcclxuXHRcdC5hcHBlbmQodGhpcy51aXNbJ292ZXJsYXktbmF2aWdhdGlvbiddKCkpO1xyXG5cclxuXHRib2R5LmFwcGVuZCh0aGlzLm92ZXJsYXkuYmFja2dyb3VuZCk7XHJcblx0Ym9keS5hcHBlbmQodGhpcy5vdmVybGF5LmNvbnRhaW5lcik7XHJcblxyXG5cdC8vIEJpbmQgY2xpY2sgZXZlbnRzIGZvciBET01zIHdpdGggZGF0YS10aHVuZGVyLSogYXR0cmlidXRlcy5cclxuXHRib2R5Lm9uKCdjbGljaycsICdbZGF0YS10aHVuZGVyLW9wZW5dJywgb3Blbk92ZXJsYXkpO1xyXG5cdGJvZHkub24oJ2NsaWNrJywgJ1tkYXRhLXRodW5kZXItY2xvc2VdJywgKCkgPT4gdGhpcy5jbG9zZSgpKTtcclxuXHRib2R5Lm9uKCdjbGljaycsICdbZGF0YS10aHVuZGVyLWxvZ291dF0nLCAoKSA9PiB0aGlzLmxvZ291dCgpKTtcclxuXHRib2R5Lm9uKCdjbGljaycsICdbZGF0YS10aHVuZGVyLXJlbmRlcl1bZGF0YS10aHVuZGVyLXJlbmRlci10YXJnZXRdJywgcmVuZGVyQ29tcG9uZW50SW5UYXJnZXQpO1xyXG5cclxuXHQvLyBSZW5kZXIgY29tcG9uZW50cyBmb3IgRE9NcyB3aXRoICdkYXRhLXRodW5kZXItcmVuZGVyJyxcclxuXHQvLyBhbmQgd2l0aG91dCAnZGF0YS10aHVuZGVyLXJlbmRlci10YXJnZXQnLlxyXG5cdGJvZHkuZmluZCgnW2RhdGEtdGh1bmRlci1yZW5kZXJdOm5vdChbZGF0YS10aHVuZGVyLXJlbmRlci10YXJnZXRdKScpLmVhY2gocmVuZGVyQ29tcG9uZW50KTtcclxuXHJcblx0dGhpcy5oZWFkZXIoKTtcclxuXHJcblx0Ly8gQ2hlY2sgd2hldGhlciBhdXRoZW50aWNhdGlvbiB0b2tlbnMgYXJlIGV4cGlyZWQuXHJcblx0Ly8gSWYgaXQgaXMgZXhwaXJlZCAtPiBMb2cgb3V0IGFuZCB1bnNldCBmcm9tIHRoZSBzdG9yYWdlLi4uXHJcblx0dGhpcy5hdXRoZW50aWNhdGVkKCdjdXN0b21lcicpO1xyXG5cdHRoaXMuYXV0aGVudGljYXRlZCgnb3JkZXInKTtcclxuXHJcblx0ZnVuY3Rpb24gb3Blbk92ZXJsYXkoJGV2ZW50KSB7XHJcblxyXG5cdFx0JGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0Y29uc3QgZGF0YSA9ICQodGhpcykuZGF0YSgpO1xyXG5cdFx0Y29uc3QgY29tcG9uZW50TmFtZSA9IGRhdGEudGh1bmRlck9wZW47XHJcblxyXG5cdFx0Ly8gUGFzcyB0aGUgZGF0YSBmcm9tIHRoZSBjYWxsZXIgRE9NXHJcblx0XHRUaHVuZGVyLm9wZW4oY29tcG9uZW50TmFtZSwgZGF0YSk7XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KCkge1xyXG5cclxuXHRcdFRodW5kZXIucmVuZGVyKCQodGhpcyksICQodGhpcykuZGF0YSgndGh1bmRlclJlbmRlcicpLCB7fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiByZW5kZXJDb21wb25lbnRJblRhcmdldCgkZXZlbnQpIHtcclxuXHJcblx0XHQkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRjb25zdCBkYXRhID0gJCh0aGlzKS5kYXRhKCk7XHJcblx0XHRjb25zdCB7IHRodW5kZXJSZW5kZXIsIHRodW5kZXJSZW5kZXJUYXJnZXQgfSA9IGRhdGE7XHJcblxyXG5cdFx0VGh1bmRlci5yZW5kZXIoJCh0aHVuZGVyUmVuZGVyVGFyZ2V0KSwgdGh1bmRlclJlbmRlciwgZGF0YSk7XHJcblx0fVxyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRjb25zdCBzdG9yYWdlID0gdGhpcy5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xyXG5cclxuXHRzdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5vcHRpb25zLmF1dGhTdG9yYWdlLmN1c3RvbWVyKTtcclxuXHJcblx0dGhpcy5oZWFkZXIoKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiguLi5hcmdzKSB7XHJcblx0cmV0dXJuIHRoaXMucGx1Z2lucy5ub3RpZmljYXRpb24oLi4uYXJncyk7XHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzY29wZSwgbGlzdGVuZXIpIHtcclxuXHJcblx0Y29uc3QgaW5kZXggPSB0aGlzLmxpc3RlbmVyc1tzY29wZV0uaW5kZXhPZihsaXN0ZW5lcik7XHJcblxyXG5cdGlmIChpbmRleCA9PT0gLTEpIHtcclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcblxyXG5cdHRoaXMubGlzdGVuZXJzW3Njb3BlXS5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuXHRyZXR1cm4gdGhpcztcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzY29wZSwgbGlzdGVuZXIpIHtcclxuXHJcblx0dGhpcy5saXN0ZW5lcnNbc2NvcGVdLnB1c2gobGlzdGVuZXIpO1xyXG5cclxuXHRyZXR1cm4gdGhpcztcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihjb21wb25lbnROYW1lLCBvcHRpb25zLCBjYWxsYmFjayA9ICgpID0+IHt9KSB7XHJcblxyXG5cdGNvbnN0IFRodW5kZXIgPSB0aGlzO1xyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcblx0Y2FsbGJhY2sgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMgOiBjYWxsYmFjaztcclxuXHJcblx0aWYgKHRoaXMub3ZlcmxheS5iYWNrZ3JvdW5kLmhhc0NsYXNzKCdoaWRkZW4nKSkge1xyXG5cdFx0Ly8gUmVtb3ZlcyBhICdoaWRkZW4nIGNsYXNzIGZpcnN0XHJcblx0XHR0aGlzLm92ZXJsYXkuYmFja2dyb3VuZC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHR0aGlzLm92ZXJsYXkuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHR9XHJcblxyXG5cdC8vIE1hcmsgY3VycmVudCB2aWV3XHJcblx0JC5leHRlbmQodHJ1ZSwgb3B0aW9ucywge1xyXG5cdFx0dmlldzoge1xyXG5cdFx0XHRjb21wb25lbnQ6IGNvbXBvbmVudE5hbWUsXHJcblx0XHRcdGN1cnNvcjogICAgdGhpcy5jdXJzb3IsXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdHRoaXMucmVuZGVyKHRoaXMub3ZlcmxheS5ib2R5LCBjb21wb25lbnROYW1lLCBvcHRpb25zLCBmdW5jdGlvbihlcnIsIGNvbnRleHQpIHtcclxuXHJcblx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCQodGhpcyksIGVycik7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoJCh0aGlzKSwgZXJyLCBjb250ZXh0KTtcclxuXHJcblx0fSk7XHJcblxyXG5cdHJldHVybiB0aGlzO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuXHJcblx0Y29uc3QgbGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlO1xyXG5cdGNvbnN0IGN1cnJlbmN5ID0gb3B0aW9ucy5jdXJyZW5jeTtcclxuXHRjb25zdCB0aW1lem9uZSA9IG9wdGlvbnMudGltZXpvbmU7XHJcblx0Y29uc3QgZGVidWdMYW5ndWFnZSA9IG9wdGlvbnMuZGVidWdMYW5ndWFnZTtcclxuXHJcblx0dGhpcy5vcHRpb25zLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XHJcblx0dGhpcy5vcHRpb25zLmN1cnJlbmN5ID0gY3VycmVuY3k7XHJcblx0dGhpcy5vcHRpb25zLnRpbWV6b25lID0gdGltZXpvbmU7XHJcblxyXG5cdHRoaXMucG9seWdsb3QubG9jYWxlKHRoaXMub3B0aW9ucy5sYW5ndWFnZSk7XHJcblxyXG5cdGlmIChsYW5ndWFnZSkgdGhpcy5yZXF1ZXN0LnNldERlZmF1bHRIZWFkZXIoJ0FjY2VwdC1MYW5ndWFnZScsIGxhbmd1YWdlKTtcclxuXHRpZiAoY3VycmVuY3kpIHRoaXMucmVxdWVzdC5zZXREZWZhdWx0SGVhZGVyKCdBY2NlcHQtQ3VycmVuY3knLCBjdXJyZW5jeSk7XHJcblx0aWYgKHRpbWV6b25lKSB0aGlzLnJlcXVlc3Quc2V0RGVmYXVsdEhlYWRlcignQWNjZXB0LVRpbWUtWm9uZScsIHRpbWV6b25lKTtcclxuXHRpZiAoZGVidWdMYW5ndWFnZSkgdGhpcy5yZXF1ZXN0LnNldERlZmF1bHRIZWFkZXIoJ0FjY2VwdC1EZWJ1Zy1MYW5ndWFnZScsIGRlYnVnTGFuZ3VhZ2UpO1xyXG5cclxuXHRyZXR1cm4gdGhpcztcclxuXHJcbn07IiwiY29uc3QgbWVyZ2VXaXRoID0gcmVxdWlyZSgnbG9kYXNoLm1lcmdlV2l0aCcpO1xyXG5jb25zdCBvbWl0ID0gcmVxdWlyZSgnbG9kYXNoLm9taXQnKTtcclxuY29uc3QgUGlrYWRheSA9IHJlcXVpcmUoJ3Bpa2FkYXknKTtcclxuXHJcbi8vIFRyYWNrIGNvbXBvbmVudCBJRHNcclxuY29uc3QgY29tcG9uZW50SWRzID0ge307XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb21wb25lbnROYW1lLCBvcHRpb25zLCBjYWxsYmFjaykge1xyXG5cclxuXHRjb25zdCBUaHVuZGVyID0gdGhpcztcclxuXHJcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0Y2FsbGJhY2sgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMgOiBjYWxsYmFjaztcclxuXHJcblx0Ly8gSW5jcmVtZW50IGNvbXBvbmVudCBjb3VudGVyXHJcblx0Y29tcG9uZW50SWRzW2NvbXBvbmVudE5hbWVdID0gY29tcG9uZW50SWRzW2NvbXBvbmVudE5hbWVdIHx8IDA7XHJcblxyXG5cdGNvbnN0IGlkID0gY29tcG9uZW50SWRzW2NvbXBvbmVudE5hbWVdKys7XHJcblxyXG5cdGNvbnN0IGNvbnRhaW5lciA9IChzZWxlY3RvciBpbnN0YW5jZW9mICQpID8gc2VsZWN0b3IgOiAkKHNlbGVjdG9yKTtcclxuXHRjb25zdCBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV07XHJcblxyXG5cdC8vIFRlbXBsYXRlIGNvbnRleHRcclxuXHRjb25zdCBjb250ZXh0ID0ge1xyXG5cdFx0aWQ6IGAke2NvbXBvbmVudE5hbWV9LSR7aWR9YFxyXG5cdH07XHJcblxyXG5cdC8vIEFkZCAndGh1bmRlci0tY29udGVudHMnIGNsYXNzIGZvciBnbG9iYWwgY3NzIHN0eWxlc1xyXG5cdGNvbnRhaW5lci5hZGRDbGFzcygndGh1bmRlci0tY29udGVudHMnKTtcclxuXHJcblx0Ly8gVW5iaW5kIGFsbCBldmVudCBoYW5kbGVyc1xyXG5cdGNvbnRhaW5lci5vZmYoKTtcclxuXHRjb250YWluZXIuZmluZCgnKicpLm9mZigpO1xyXG5cdGNvbnRhaW5lci5maW5kKCdbZGF0YS1taF0nKS5tYXRjaEhlaWdodCh7IHJlbW92ZTogdHJ1ZSB9KTtcclxuXHRjb250YWluZXIuZmluZCgnW2RhdGEtcGlja2FkYXldJykuZWFjaChmdW5jdGlvbigpIHtcclxuXHJcblx0XHRjb25zdCBwaWNrZXIgPSAkKHRoaXMpLmRhdGEoJ3BpY2thZGF5Jyk7XHJcblxyXG5cdFx0cmV0dXJuIHBpY2tlciA/IHBpY2tlci5kZXN0cm95KCkgOiBudWxsO1xyXG5cclxuXHR9KTtcclxuXHJcblx0Ly8gU3RhcnQgbG9hZGluZyBzcGlubmVyXHJcblx0Y29udGFpbmVyLmh0bWwodGhpcy51aXNbJ2NvbXBvbmVudC1zcGlubmVyJ10oKSk7XHJcblxyXG5cdC8vIENvcHkgYW5kIGV4dGVuZCBkZWZhdWx0IG9wdGlvbnMgd2l0aCBydW50aW1lIG9wdGlvbnNcclxuXHRtZXJnZVdpdGgoXHJcblx0XHRjb250ZXh0LFxyXG5cdFx0eyAgIC8vIEdsb2JhbCBjb250ZXh0XHJcblx0XHRcdGlzQXV0aGVudGljYXRlZDogISFUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSwgLy8gQ3VzdG9tZXIgaXMgYXV0aGVudGljYXRlZD9cclxuXHRcdH0sXHJcblx0XHR0aGlzLnRlbXBsYXRlTWV0aG9kcywgLy8gVGVtcGxhdGUgbWV0aG9kc1xyXG5cdFx0eyAgIC8vIFRyYW5zbGF0aW9uIG1ldGhvZFxyXG5cdFx0XHRtOiAoa2V5LCBjb250ZXh0KSA9PiBUaHVuZGVyLnBvbHlnbG90LnQoYCR7IGNvbXBvbmVudE5hbWUgfS4keyBrZXkgfWAsIGNvbnRleHQpLFxyXG5cdFx0XHR1aTogVGh1bmRlci51aXMsXHJcblx0XHR9LFxyXG5cdFx0eyBvcHRpb25zOiBjb21wb25lbnQub3B0aW9ucygpIH0sXHJcblx0XHR7IG9wdGlvbnM6IGNvbXBvbmVudC5kZWZhdWx0IH0sXHJcblx0XHR7IG9wdGlvbnM6IG9taXQoY29udGFpbmVyLmRhdGEoKSwgWydjb21wb25lbnQnLCAnY29udGV4dCddKSB9LCAvLyBEZWNsYXJhdGl2ZSBvcHRpb25zXHJcblx0XHR7IG9wdGlvbnM6IG9wdGlvbnMgfSwgLy8gRXhwbGljaXQgb3B0aW9uc1xyXG5cdFx0KG92LCBzdikgPT4ge1xyXG5cdFx0XHRpZiAoQXJyYXkuaXNBcnJheShvdikgJiYgQXJyYXkuaXNBcnJheShzdikpIHtcclxuXHRcdFx0XHRyZXR1cm4gc3Y7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHQpO1xyXG5cclxuXHRpZiAoY29tcG9uZW50LnZhbGlkYXRlKSB7XHJcblxyXG5cdFx0Y29uc3QgZXJyID0gY29tcG9uZW50LnZhbGlkYXRlKGNvbnRleHQub3B0aW9ucyk7XHJcblxyXG5cdFx0aWYgKGVycikge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy51dGlsLmxvZyhbJ2Vycm9yJ10sIGNvbXBvbmVudC5uYW1lICsgJyAtICcgKyBlcnIpO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdGNvbXBvbmVudC5wcmUuY2FsbChjb250YWluZXIsIGNvbnRleHQsIChmdW5jdGlvbihlcnIsIGNvbnRleHQpIHtcclxuXHJcblx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDYWNoZSBjb21wb25lbnRcclxuXHRcdGNvbnRhaW5lci5kYXRhKCdjb21wb25lbnQnLCBUaHVuZGVyLmNvbXBvbmVudHNbY29tcG9uZW50TmFtZV0pO1xyXG5cclxuXHRcdC8vIENhY2hlIGNvbnRleHQgZGF0YVxyXG5cdFx0Y29udGFpbmVyLmRhdGEoJ2NvbnRleHQnLCBjb250ZXh0KTtcclxuXHJcblx0XHRjb250YWluZXIuaHRtbChjb21wb25lbnQudGVtcGxhdGUoY29udGV4dCkpO1xyXG5cclxuXHRcdFRodW5kZXIudXRpbC5xdWFudGl0eUlucHV0KGNvbnRhaW5lcik7XHJcblxyXG5cdFx0Ly8gQmluZCBiZWZvcmUgYXV0b21hdGljIGJpbmRpbmdcclxuXHRcdGlmIChjb21wb25lbnQuYmluZCkge1xyXG5cdFx0XHRjb21wb25lbnQuYmluZC5jYWxsKGNvbnRhaW5lciwgY29udGV4dCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29udGFpbmVyLmltYWdlc0xvYWRlZCgoKSA9PiBjb250YWluZXIuZmluZCgnW2RhdGEtbWhdJykubWF0Y2hIZWlnaHQoKSk7XHJcblxyXG5cdFx0Y29uc3QgdCA9IGtleSA9PiBUaHVuZGVyLnBvbHlnbG90LnQoYGdlbmVyYWwuJHtrZXl9YCk7XHJcblxyXG5cdFx0Y29udGFpbmVyLmZpbmQoJ1tkYXRhLXBpY2thZGF5XScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHQkKHRoaXMpLmRhdGEoJ3BpY2thZGF5JywgbmV3IFBpa2FkYXkoJC5leHRlbmQoJCh0aGlzKS5kYXRhKCksIHtcclxuXHRcdFx0XHRmaWVsZDogICQodGhpcylbMF0sXHJcblx0XHRcdFx0Zm9ybWF0OiBUaHVuZGVyLm9wdGlvbnMuZGF0ZUlucHV0Rm9ybWF0LFxyXG5cdFx0XHRcdGkxOG46IHtcclxuXHRcdFx0XHRcdHByZXZpb3VzTW9udGg6IHQoJ3ByZXZpb3VzTW9udGgnKSxcclxuXHRcdFx0XHRcdG5leHRNb250aDogICAgIHQoJ25leHRNb250aCcpLFxyXG5cdFx0XHRcdFx0bW9udGhzOiAgICAgICAgW1xyXG5cdFx0XHRcdFx0XHR0KCdqYW51YXJ5JyksXHJcblx0XHRcdFx0XHRcdHQoJ2ZlYnJ1YXJ5JyksXHJcblx0XHRcdFx0XHRcdHQoJ21hcmNoJyksXHJcblx0XHRcdFx0XHRcdHQoJ2FwcmlsJyksXHJcblx0XHRcdFx0XHRcdHQoJ21heScpLFxyXG5cdFx0XHRcdFx0XHR0KCdqdW5lJyksXHJcblx0XHRcdFx0XHRcdHQoJ2p1bHknKSxcclxuXHRcdFx0XHRcdFx0dCgnYXVndXN0JyksXHJcblx0XHRcdFx0XHRcdHQoJ3NlcHRlbWJlcicpLFxyXG5cdFx0XHRcdFx0XHR0KCdvY3RvYmVyJyksXHJcblx0XHRcdFx0XHRcdHQoJ25vdmVtYmVyJyksXHJcblx0XHRcdFx0XHRcdHQoJ2RlY2VtYmVyJyksXHJcblx0XHRcdFx0XHRdLFxyXG5cdFx0XHRcdFx0d2Vla2RheXM6ICAgICAgW1xyXG5cdFx0XHRcdFx0XHR0KCdzdW5kYXknKSxcclxuXHRcdFx0XHRcdFx0dCgnbW9uZGF5JyksXHJcblx0XHRcdFx0XHRcdHQoJ3R1ZXNkYXknKSxcclxuXHRcdFx0XHRcdFx0dCgnd2VkbmVzZGF5JyksXHJcblx0XHRcdFx0XHRcdHQoJ3RodXJzZGF5JyksXHJcblx0XHRcdFx0XHRcdHQoJ2ZyaWRheScpLFxyXG5cdFx0XHRcdFx0XHR0KCdzYXR1cmRheScpLFxyXG5cdFx0XHRcdFx0XSxcclxuXHRcdFx0XHRcdHdlZWtkYXlzU2hvcnQ6IFtcclxuXHRcdFx0XHRcdFx0dCgnc3VuZGF5U2hvcnQnKSxcclxuXHRcdFx0XHRcdFx0dCgnbW9uZGF5U2hvcnQnKSxcclxuXHRcdFx0XHRcdFx0dCgndHVlc2RheVNob3J0JyksXHJcblx0XHRcdFx0XHRcdHQoJ3dlZG5lc2RheVNob3J0JyksXHJcblx0XHRcdFx0XHRcdHQoJ3RodXJzZGF5U2hvcnQnKSxcclxuXHRcdFx0XHRcdFx0dCgnZnJpZGF5U2hvcnQnKSxcclxuXHRcdFx0XHRcdFx0dCgnc2F0dXJkYXlTaG9ydCcpLFxyXG5cdFx0XHRcdFx0XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkpKTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwuYmluZFNvY2lhbEFwcHMoY29udGFpbmVyKTtcclxuXHJcblx0XHRjb25zdCBpbnRlcmZhY2VzID0gY29tcG9uZW50LmluaXQuY2FsbChjb250YWluZXIsIGNvbnRleHQpIHx8IHt9O1xyXG5cclxuXHRcdHJldHVybiBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKCQodGhpcyksIGVyciwgeyBpbnRlcmZhY2VzLCBjb250ZXh0IH0pO1xyXG5cclxuXHR9KS5iaW5kKGNvbnRhaW5lcikpO1xyXG5cclxuXHRyZXR1cm4gdGhpcztcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihUaHVuZGVyKSB7XHJcblxyXG5cdGNvbnN0IHJlcXVlc3QgPSBmdW5jdGlvbihyZXF1ZXN0T3B0aW9ucykge1xyXG5cclxuXHRcdGxldCBxdWVyeSA9ICQucGFyYW0ocmVxdWVzdE9wdGlvbnMucXVlcnkgfHwge30pO1xyXG5cclxuXHRcdHF1ZXJ5ID0gcXVlcnkgPyAoJz8nICsgcXVlcnkpIDogcXVlcnk7XHJcblxyXG5cdFx0cmVxdWVzdE9wdGlvbnMudXJsID0gVGh1bmRlci5vcHRpb25zLmJhc2VVUkwgKyByZXF1ZXN0T3B0aW9ucy51cmwgKyBxdWVyeTtcclxuXHJcblx0XHRjb25zdCByZWNhcHRjaGEgPSByZXF1ZXN0T3B0aW9ucy5yZWNhcHRjaGE7XHJcblxyXG5cdFx0ZGVsZXRlIHJlcXVlc3RPcHRpb25zLnF1ZXJ5O1xyXG5cdFx0ZGVsZXRlIHJlcXVlc3RPcHRpb25zLnJlY2FwdGNoYTtcclxuXHJcblx0XHRjb25zdCByZXEgPSAkLmV4dGVuZCh0cnVlLCB7XHJcblx0XHRcdGNyb3NzRG9tYWluOiB0cnVlLFxyXG5cdFx0XHRoZWFkZXJzOiAgICAgJC5leHRlbmQoXHJcblx0XHRcdFx0cmVxdWVzdC5nZXRSZXF1ZXN0SGVhZGVycyhUaHVuZGVyKSxcclxuXHRcdFx0XHRyZWNhcHRjaGEgPyB7ICdSZWNhcHRjaGEtUmVzcG9uc2UnOiByZWNhcHRjaGEgfSA6IHt9XHJcblx0XHRcdCksXHJcblx0XHRcdHhockZpZWxkczoge1xyXG5cdFx0XHRcdHdpdGhDcmVkZW50aWFsczogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRjb252ZXJ0ZXJzOiB7XHJcblx0XHRcdFx0J3RleHQganNvbic6IGRhdGEgPT4gJC5wYXJzZUpTT04oZGF0YSB8fCAnbnVsbCcpXHJcblx0XHRcdH1cclxuXHRcdH0sIHJlcXVlc3RPcHRpb25zKTtcclxuXHJcblx0XHRpZiAocmVxLmRhdGEpIHtcclxuXHJcblx0XHRcdGNvbnN0IHJlY2FwdGNoYSA9IFRodW5kZXIudXRpbC51bnNldFJlY2FwdGNoYShyZXEuZGF0YSk7XHJcblxyXG5cdFx0XHRpZiAocmVjYXB0Y2hhKSB7XHJcblx0XHRcdFx0cmVxLmhlYWRlcnNbJ3JlQ0FQVENIQS1SZXNwb25zZSddID0gcmVjYXB0Y2hhO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXEuZGF0YSA9IEpTT04uc3RyaW5naWZ5KHJlcS5kYXRhKTtcclxuXHRcdFx0cmVxLmRhdGFUeXBlID0gJ2pzb24nO1xyXG5cdFx0XHRyZXEuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCc7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuICQuYWpheChyZXEpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRyZXF1ZXN0LmRlZmF1bHRIZWFkZXJzID0ge1xyXG5cdFx0J0NsYXlmdWwtU0RLJzogJ2NsYXlmdWwtdGh1bmRlcidcclxuXHR9O1xyXG5cclxuXHRyZXF1ZXN0LnNldERlZmF1bHRIZWFkZXIgPSAoa2V5LCB2YWx1ZSkgPT4ge1xyXG5cdFx0cmVxdWVzdC5kZWZhdWx0SGVhZGVyc1trZXldID0gdmFsdWU7XHJcblx0fTtcclxuXHJcblx0cmVxdWVzdC5nZXRSZXF1ZXN0SGVhZGVycyA9ICgpID0+IHtcclxuXHJcblx0XHRjb25zdCBzdG9yYWdlID0gVGh1bmRlci5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xyXG5cclxuXHRcdC8vIDEuIElmIGEgY3VzdG9tZXIgaXMgbG9nZ2VkLWluLCBzZW5kIGEgY3VzdG9tZXIgdG9rZW4uXHJcblx0XHQvLyAyLiBJZiBhbiBvcmRlciB0b2tlbiBvciBhIHN1YnNjcmlwdGlvbiB0b2tlbiBleGlzdHMsIHNlbmQgdGhlIHRva2VuLlxyXG5cdFx0Ly8gMy4gT3IgZWxzZSwgc2ltcGx5IGRvIG5vdCBzZXQgYEF1dGhvcml6YXRpb24tQ3VzdG9tZXJgIGhlYWRlclxyXG5cdFx0Y29uc3QgY3VzdG9tZXJUb2tlbiA9XHJcblx0XHRcdFx0c3RvcmFnZS5nZXRJdGVtKFRodW5kZXIub3B0aW9ucy5hdXRoU3RvcmFnZS5jdXN0b21lcikgfHxcclxuXHRcdFx0XHRzdG9yYWdlLmdldEl0ZW0oVGh1bmRlci5vcHRpb25zLmF1dGhTdG9yYWdlLm9yZGVyKTtcclxuXHJcblx0XHRyZXR1cm4gJC5leHRlbmQoXHJcblx0XHRcdHt9LFxyXG5cdFx0XHRyZXF1ZXN0LmRlZmF1bHRIZWFkZXJzLFxyXG5cdFx0XHRjdXN0b21lclRva2VuID8ge1xyXG5cdFx0XHRcdCdBdXRob3JpemF0aW9uLUN1c3RvbWVyJzogY3VzdG9tZXJUb2tlblxyXG5cdFx0XHR9IDoge31cclxuXHRcdCk7XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiByZXF1ZXN0O1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1lc3NhZ2VzID0ge30pIHtcclxuXHJcblx0dGhpcy5wb2x5Z2xvdC5leHRlbmQobWVzc2FnZXMpO1xyXG5cclxuXHRyZXR1cm4gdGhpcztcclxuXHJcbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnY2FydCdcclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcclxuXHRcdG9yZGVyQWN0aW9uczogT2JqZWN0LmtleXMoVGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzKSwgLy8gJ29yZGVyJywgJ3N1YnNjcmlwdGlvbidcclxuXHRcdGl0ZW1zOiAgICAgICAgbnVsbCwgLy8gSXRlbSBmaWx0ZXIgLSBlLmcuLCBbJ2l0ZW0xJywgJ2l0ZW0yJywgLi4uXVxyXG5cclxuXHRcdG9uQ2hlY2tvdXQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHR5cGUpIHtcclxuXHJcblx0XHRcdFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjaGVja291dCcsIHtcclxuXHRcdFx0XHR0eXBlOiAgdHlwZSxcclxuXHRcdFx0XHRpdGVtczogY29udGV4dC5vcHRpb25zLml0ZW1zLFxyXG5cdFx0XHRcdGJhY2s6ICB7XHJcblx0XHRcdFx0XHQkY29udGFpbmVyOiAkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0Y29tcG9uZW50OiAgaW1wbGVtZW50YXRpb24ubmFtZSxcclxuXHRcdFx0XHRcdG9wdGlvbnM6ICAgIGNvbnRleHQub3B0aW9uc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29udGV4dC5vcHRpb25zLm9yZGVyQWN0aW9ucyA9IFRodW5kZXIudXRpbC5wYXJzZUFycmF5U3RyaW5nKGNvbnRleHQub3B0aW9ucy5vcmRlckFjdGlvbnMpO1xyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjYXJ0UmVhZEZhaWxlZCcpXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBnZXRDYXJ0KGNvbnRleHQub3B0aW9ucy5pdGVtcykudGhlbihjYXJ0ID0+IHtcclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIHNldChjb250ZXh0LCAnY2FydCcsIGNhcnQuY2FydCkpO1xyXG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRlcnJvcnMsXHJcblx0XHRcdGNhbGxiYWNrXHJcblx0XHQpKTtcclxuXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHJcblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdGNvbnN0ICRjYXJ0SXRlbXMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW1zJyk7XHJcblxyXG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWRlbGV0ZS1jYXJ0LWl0ZW0nLCBkZWxldGVJdGVtKTtcclxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1hcHBseS1jaGFuZ2VzJywgYXBwbHlDaGFuZ2VzKTtcclxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1jaGVja291dCBidXR0b24nLCBjaGVja291dCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVjYWxjdWxhdGUoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjYXJ0UmVhZEZhaWxlZCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gZ2V0Q2FydChjb250ZXh0Lm9wdGlvbnMuaXRlbXMpLnRoZW4oY2FydCA9PiB7XHJcblxyXG5cdFx0XHRcdGNvbnRleHQuY2FydCA9IGNhcnQuY2FydDtcclxuXHJcblx0XHRcdFx0Y29uc3QgdGVtcGxhdGUgPSBUaHVuZGVyLmNvbXBvbmVudChpbXBsZW1lbnRhdGlvbi5uYW1lKS50ZW1wbGF0ZShjb250ZXh0KTtcclxuXHRcdFx0XHRjb25zdCBjYXJ0SXRlbXNUZW1wbGF0ZSA9ICQodGVtcGxhdGUpLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW1zJykuaHRtbCgpO1xyXG5cclxuXHRcdFx0XHQkY2FydEl0ZW1zLmZpbmQoJyonKS5vZmYoKTtcclxuXHRcdFx0XHQkY2FydEl0ZW1zLmh0bWwoY2FydEl0ZW1zVGVtcGxhdGUpO1xyXG5cdFx0XHRcdFRodW5kZXIudXRpbC5xdWFudGl0eUlucHV0KCRjYXJ0SXRlbXMpO1xyXG5cclxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVJdGVtKCkge1xyXG5cclxuXHRcdFx0Y29uc3Qgc3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJCh0aGlzKSwgeyBiaW5kOiBmYWxzZSB9KTtcclxuXHJcblx0XHRcdHNwaW5uZXIucnVuKCk7XHJcblxyXG5cdFx0XHRjb25zdCBpdGVtSWQgPSAkKHRoaXMpLmRhdGEoJ2l0ZW0nKTtcclxuXHRcdFx0Y29uc3QgYnVuZGxlSXRlbUlkID0gJCh0aGlzKS5kYXRhKCdidW5kbGVJdGVtJyk7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdkZWxldGVJdGVtRmFpbGVkJylcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmIChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xyXG5cclxuXHRcdFx0XHRpZiAoYnVuZGxlSXRlbUlkKSB7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0XHRcdG1ldGhvZDogJ1BVVCcsXHJcblx0XHRcdFx0XHRcdHVybDogICAgYC92MS9tZS9jYXJ0L2l0ZW1zLyR7aXRlbUlkfWAsXHJcblx0XHRcdFx0XHRcdGRhdGE6ICAgIHsgYnVuZGxlSXRlbXM6IHsgW2J1bmRsZUl0ZW1JZF06IG51bGwgfSB9XHJcblx0XHRcdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0XHRcdHJlY2FsY3VsYXRlKCk7XHJcblx0XHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0XHRcdGVycm9ycyxcclxuXHRcdFx0XHRcdFx0ZXJyID0+IHNwaW5uZXIuZG9uZSgpXHJcblx0XHRcdFx0XHQpKTtcclxuXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcclxuXHRcdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL2NhcnQvaXRlbXMvJHtpdGVtSWR9YFxyXG5cdFx0XHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0XHRcdHNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdFx0XHRyZWNhbGN1bGF0ZSgpO1xyXG5cdFx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0XHRcdGVyciA9PiBzcGlubmVyLmRvbmUoKVxyXG5cdFx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdGlmIChidW5kbGVJdGVtSWQpIHtcclxuXHJcblx0XHRcdFx0XHRjb25zdCB1cGRhdGUgPSB7XHJcblx0XHRcdFx0XHRcdGJ1bmRsZUl0ZW1zOiB7IFtidW5kbGVJdGVtSWRdOiBudWxsIH1cclxuXHRcdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFx0VGh1bmRlci5DYXJ0LnVwZGF0ZUl0ZW0oaXRlbUlkLCB1cGRhdGUsIGVyciA9PiB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGVycm9yc1tlcnIuY29kZSB8fCAnZGVmYXVsdCddIHx8IGVycm9ycy5kZWZhdWx0KTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0XHRcdHJlY2FsY3VsYXRlKCk7XHJcblxyXG5cdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIuQ2FydC5kZWxldGVJdGVtKGl0ZW1JZCwgZXJyID0+IHtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHRzcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgZXJyb3JzW2Vyci5jb2RlIHx8ICdkZWZhdWx0J10gfHwgZXJyb3JzLmRlZmF1bHQpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRzcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRcdFx0cmVjYWxjdWxhdGUoKTtcclxuXHJcblx0XHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhcHBseUNoYW5nZXMoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBzcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkKHRoaXMpLCB7IGJpbmQ6IGZhbHNlIH0pO1xyXG5cclxuXHRcdFx0c3Bpbm5lci5ydW4oKTtcclxuXHJcblx0XHRcdGNvbnN0IHF1YW50aXR5Q2hhbmdlZCA9IFtdO1xyXG5cdFx0XHRjb25zdCAkcXVhbnRpdHlJbnB1dHMgPSAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW0tcXVhbnRpdHkgaW5wdXQnKTtcclxuXHJcblx0XHRcdCRxdWFudGl0eUlucHV0cy5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBpdGVtSWQgPSAkKHRoaXMpLmRhdGEoJ2l0ZW0nKTtcclxuXHRcdFx0XHRjb25zdCBidW5kbGVJZCA9ICQodGhpcykuZGF0YSgnYnVuZGxlSXRlbScpO1xyXG5cdFx0XHRcdGNvbnN0IG9yaWdpbmFsUXVhbnRpdHkgPSAkKHRoaXMpLmRhdGEoJ29yaWdpbmFsUXVhbnRpdHknKTtcclxuXHRcdFx0XHRjb25zdCBuZXdRdWFudGl0eSA9IHBhcnNlSW50KCQodGhpcykudmFsKCkpO1xyXG5cclxuXHRcdFx0XHRpZiAobmV3UXVhbnRpdHkgPT09IG9yaWdpbmFsUXVhbnRpdHkpIHJldHVybjtcclxuXHJcblx0XHRcdFx0cXVhbnRpdHlDaGFuZ2VkLnB1c2goe1xyXG5cdFx0XHRcdFx0aXRlbTogICAgIGl0ZW1JZCxcclxuXHRcdFx0XHRcdGJ1bmRsZTogICBidW5kbGVJZCB8fCBudWxsLFxyXG5cdFx0XHRcdFx0cXVhbnRpdHk6IG5ld1F1YW50aXR5XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IHVwZGF0ZXMgPSBxdWFudGl0eUNoYW5nZWQucmVkdWNlKChvLCBjaGFuZ2UpID0+IHtcclxuXHJcblx0XHRcdFx0Y29uc3QgeyBpdGVtLCBidW5kbGUsIHF1YW50aXR5IH0gPSBjaGFuZ2U7XHJcblxyXG5cdFx0XHRcdG9baXRlbV0gPSBvW2l0ZW1dIHx8IHt9O1xyXG5cclxuXHRcdFx0XHRjb25zdCB0b1VwZGF0ZSA9IG9baXRlbV07XHJcblxyXG5cdFx0XHRcdGlmIChidW5kbGUpIHtcclxuXHRcdFx0XHRcdHRvVXBkYXRlLmJ1bmRsZUl0ZW1zID0gdG9VcGRhdGUuYnVuZGxlSXRlbXMgfHwge307XHJcblx0XHRcdFx0XHR0b1VwZGF0ZS5idW5kbGVJdGVtc1tidW5kbGVdID0geyBxdWFudGl0eSB9O1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0b1VwZGF0ZS5xdWFudGl0eSA9IHF1YW50aXR5O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIG87XHJcblxyXG5cdFx0XHR9LCB7fSk7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdpdGVtVXBkYXRlRmFpbGVkJylcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmIChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBpdGVtSWRzVG9VcGRhdGUgPSBPYmplY3Qua2V5cyh1cGRhdGVzKTtcclxuXHJcblx0XHRcdFx0aWYgKGl0ZW1JZHNUb1VwZGF0ZS5sZW5ndGggPT09IDApIHtcclxuXHRcdFx0XHRcdC8vIFRoZXJlIGFyZSBubyBpdGVtcyB0byB1cGRhdGVcclxuXHRcdFx0XHRcdHJldHVybiBzcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiAkLndoZW4oLi4uaXRlbUlkc1RvVXBkYXRlLm1hcChpdGVtSWQgPT4ge1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxyXG5cdFx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvY2FydC9pdGVtcy8ke2l0ZW1JZH1gLFxyXG5cdFx0XHRcdFx0XHRkYXRhOiAgIHVwZGF0ZXNbaXRlbUlkXVxyXG5cdFx0XHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0XHRzcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlY2FsY3VsYXRlKCk7XHJcblxyXG5cdFx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0XHRcdGVyciA9PiBzcGlubmVyLmRvbmUoKVxyXG5cdFx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHRcdE9iamVjdC5rZXlzKHVwZGF0ZXMpLmZvckVhY2goaXRlbUlkID0+IHtcclxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLkNhcnQudXBkYXRlSXRlbShpdGVtSWQsIHVwZGF0ZXNbaXRlbUlkXSwgJC5ub29wKTtcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0c3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlY2FsY3VsYXRlKCk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNoZWNrb3V0KCkge1xyXG5cclxuXHRcdFx0Y29uc3QgY2FydCA9IGNvbnRleHQuY2FydDtcclxuXHRcdFx0Y29uc3QgaGFzRXJyb3IgPSBjb2RlID0+IGNhcnQuZXJyb3JzLnNvbWUoZXJyID0+IGVyci5jb2RlID09PSBjb2RlKTtcclxuXHJcblx0XHRcdGlmIChoYXNFcnJvcignZW1wdHktY2FydCcpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnaXNFbXB0eUNhcnQnKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChoYXNFcnJvcignaXRlbS1lcnJvcicpKSB7XHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnaGFzRXJyZWRJdGVtJykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkNoZWNrb3V0LFxyXG5cdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0Y29udGV4dCxcclxuXHRcdFx0XHQkKHRoaXMpLmRhdGEoJ2NoZWNrb3V0VHlwZScpXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRmdW5jdGlvbiBnZXRDYXJ0KGl0ZW1zKSB7XHJcblxyXG5cdFx0Y29uc3QgcXVlcnkgPSBpdGVtcyA/IHsgaXRlbXM6IGl0ZW1zLnRvU3RyaW5nKCkgfSA6IHt9O1xyXG5cclxuXHRcdGNvbnN0IHJlcXVlc3QgPSBUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSA/IHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdHVybDogICAgJy92MS9tZS9jYXJ0JyxcclxuXHRcdFx0cXVlcnk6ICBxdWVyeVxyXG5cdFx0fSA6IHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdHVybDogICAgJy92MS9tZS9ub24tcmVnaXN0ZXJlZC9jYXJ0JyxcclxuXHRcdFx0cXVlcnk6ICBxdWVyeSxcclxuXHRcdFx0ZGF0YTogICB7IGl0ZW1zOiBUaHVuZGVyLkNhcnQuaXRlbXMgfSxcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdChyZXF1ZXN0KTtcclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG59OyIsImNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnY2hlY2tvdXQtc3VjY2VzcydcclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcclxuXHRcdHR5cGU6ICAgICdvcmRlcicsIC8vICdvcmRlcicgfHwgJ3N1YnNjcmlwdGlvbidcclxuXHRcdHN1YmplY3Q6IG51bGwsICAgIC8vIE9yZGVyL1N1YnNjcmlwdGlvbiBJRFxyXG5cdFx0b25WaWV3RGV0YWlsczogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge1xyXG5cclxuXHRcdFx0Y29uc3QgeyB0eXBlLCBzdWJqZWN0IH0gPSBjb250ZXh0Lm9wdGlvbnM7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgYCR7dHlwZX0tZGV0YWlsYCwge1xyXG5cdFx0XHRcdFt0eXBlXTogc3ViamVjdFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3QgdHlwZSA9IGNvbnRleHQub3B0aW9ucy50eXBlO1xyXG5cdFx0Y29uc3Qgc3ViamVjdCA9IGNvbnRleHQub3B0aW9ucy5zdWJqZWN0O1xyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKGNhbWVsQ2FzZShbdHlwZSwgJ3JlYWRGYWlsZWQnXSkpLFxyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBHZXQgYW4gb3JkZXIgb3IgYSBzdWJzY3JpcHRpb25cclxuXHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHR1cmw6ICAgIGAvdjEvbWUvJHt0eXBlfXMvJHtzdWJqZWN0fWBcclxuXHRcdH0pLnRoZW4oc3ViamVjdCA9PiB7XHJcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBzZXQoY29udGV4dCwgJ3N1YmplY3QnLCBzdWJqZWN0KSk7XHJcblx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdGVycm9ycyxcclxuXHRcdFx0Y2FsbGJhY2tcclxuXHRcdCkpO1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkdmlld01vcmVEZXRhaWxzID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tdmlldy1tb3JlLWRldGFpbHMnKTtcclxuXHJcblx0XHQkdmlld01vcmVEZXRhaWxzLm9uKCdjbGljaycsICgpID0+IFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVmlld0RldGFpbHMsXHJcblx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdGNvbnRleHRcclxuXHRcdCkpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG59OyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcclxuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XHJcbmNvbnN0IENvdXBvbkhhbmRsZXIgPSByZXF1aXJlKCcuL2xpYi9jb3Vwb25IYW5kbGVyLmpzJyk7XHJcbmNvbnN0IEN1c3RvbWVySGFuZGxlciA9IHJlcXVpcmUoJy4vbGliL2N1c3RvbWVySGFuZGxlci5qcycpO1xyXG5jb25zdCBBZGRyZXNzSGFuZGxlciA9IHJlcXVpcmUoJy4vbGliL2FkZHJlc3NIYW5kbGVyLmpzJyk7XHJcbmNvbnN0IFN1YnNjcmlwdGlvbkhhbmRsZXIgPSByZXF1aXJlKCcuL2xpYi9zdWJzY3JpcHRpb25IYW5kbGVyLmpzJyk7XHJcbmNvbnN0IFJlY2FwdGNoYUhhbmRsZXIgPSByZXF1aXJlKCcuL2xpYi9yZWNhcHRjaGFIYW5kbGVyLmpzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCB0cmFuc2xhdGlvbktleXMgPSB7XHJcblx0XHQnbmFtZS5maXJzdCc6ICdmaXJzdE5hbWUnLFxyXG5cdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxyXG5cdFx0J25hbWUuZnVsbCc6ICAnZnVsbE5hbWUnLFxyXG5cdH07XHJcblxyXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xyXG5cdFx0bmFtZTogJ2NoZWNrb3V0J1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xyXG5cdFx0dHlwZTogICAgICAgICAgICAgICdvcmRlcicsIC8vICdvcmRlcicgb3IgJ3N1YnNjcmlwdGlvbidcclxuXHRcdGl0ZW1zOiAgICAgICAgICAgICBudWxsLCAgICAvLyBJdGVtIGZpbHRlciAtIGUuZy4sIFsnaXRlbTEnLCAnaXRlbTInLCAuLi5dXHJcblx0XHRjdXN0b21lckZpZWxkczogICAgVGh1bmRlci5vcHRpb25zLmN1c3RvbWVyT3JkZXJGaWVsZHMsXHJcblx0XHRyZWNpcGllbnRGaWVsZHM6ICAgVGh1bmRlci5vcHRpb25zLnJlY2lwaWVudEZpZWxkcyxcclxuXHRcdGFkZHJlc3NEaXNhYmxlZDogICBUaHVuZGVyLm9wdGlvbnMuYWRkcmVzc0Rpc2FibGVkLFxyXG5cdFx0c3Vic2NyaXB0aW9uUGxhbnM6IFRodW5kZXIub3B0aW9ucy5zdWJzY3JpcHRpb25QbGFucyxcclxuXHRcdG9uQ2hlY2tvdXRTdWNjZXNzOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBjaGVja291dERldGFpbCkge1xyXG5cclxuXHRcdFx0Y29uc3QgeyBvcmRlciwgc3Vic2NyaXB0aW9uIH0gPSBjaGVja291dERldGFpbDtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnY2hlY2tvdXQtc3VjY2VzcycsIHtcclxuXHRcdFx0XHR0eXBlOiAgICBzdWJzY3JpcHRpb24gPyAnc3Vic2NyaXB0aW9uJyA6ICdvcmRlcicsXHJcblx0XHRcdFx0c3ViamVjdDogKHN1YnNjcmlwdGlvbiB8fCBvcmRlcikuX2lkLFxyXG5cdFx0XHR9KTtcclxuXHRcdH0sXHJcblx0XHRvblBheW1lbnRGYWlsdXJlOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBjaGVja291dERldGFpbCkge1xyXG5cclxuXHRcdFx0Y29uc3QgeyBvcmRlciwgc3Vic2NyaXB0aW9uIH0gPSBjaGVja291dERldGFpbDtcclxuXHRcdFx0Y29uc3QgdHlwZSA9IHN1YnNjcmlwdGlvbiA/ICdzdWJzY3JpcHRpb24nIDogJ29yZGVyJztcclxuXHJcblx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgncGF5bWVudEZhaWxlZCcpKTtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCBgJHt0eXBlfS1kZXRhaWxgLCB7XHJcblx0XHRcdFx0W3R5cGVdOiAoc3Vic2NyaXB0aW9uIHx8IG9yZGVyKS5faWRcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0dHlwZSxcclxuXHRcdFx0aXRlbXMsXHJcblx0XHRcdGN1c3RvbWVyRmllbGRzLFxyXG5cdFx0XHRyZWNpcGllbnRGaWVsZHMsXHJcblx0XHRcdHN1YnNjcmlwdGlvblBsYW5zXHJcblx0XHR9ID0gY29udGV4dC5vcHRpb25zO1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cclxuXHRcdGNvbnN0IGRlZmF1bHRDYXJ0UXVlcnkgPSBpdGVtcyA/IHsgaXRlbXM6IGl0ZW1zLnRvU3RyaW5nKCkgfSA6IHt9O1xyXG5cdFx0Y29uc3QgZGVmYXVsdENhcnREYXRhID0ge307XHJcblxyXG5cdFx0Y29uc3QgZGlzYWJsZWRBZGRyZXNzRmllbGRzID1cclxuXHRcdFx0VGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLmFkZHJlc3NEaXNhYmxlZClcclxuXHRcdFx0XHQucmVkdWNlKChvLCBmaWVsZCkgPT4gc2V0KG8sIGZpZWxkLCB0cnVlKSwge30pO1xyXG5cclxuXHRcdGNvbnRleHQuaXNTdWJzY3JpcHRpb24gPSBjb250ZXh0Lm9wdGlvbnMudHlwZSA9PT0gJ3N1YnNjcmlwdGlvbic7XHJcblxyXG5cdFx0Y29udGV4dC51c2VTZWFyY2hBZGRyZXNzID0gISFUaHVuZGVyLnBsdWdpbnMuc2VhcmNoQWRkcmVzcztcclxuXHJcblx0XHRjb250ZXh0LmRpc2FibGVkID0gZmllbGQgPT4ge1xyXG5cdFx0XHRyZXR1cm4gZGlzYWJsZWRBZGRyZXNzRmllbGRzW2ZpZWxkXSAmJlxyXG5cdFx0XHRcdFx0Y29udGV4dC51c2VTZWFyY2hBZGRyZXNzID8gJ3JlYWRvbmx5JyA6ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCB0b0ZpZWxkRGV0YWlsID0gKHByZWZpeCA9ICcnKSA9PiBmaWVsZCA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBba2V5LCByZXF1aXJlZF0gPSBmaWVsZC5zcGxpdCgnOicpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRyZXF1aXJlZDogICAgICAgcmVxdWlyZWQgPT09ICdyZXF1aXJlZCcsXHJcblx0XHRcdFx0a2V5OiAgICAgICAgICAgIGtleSxcclxuXHRcdFx0XHR0cmFuc2xhdGlvbktleTogY2FtZWxDYXNlKFtwcmVmaXgsIHRyYW5zbGF0aW9uS2V5c1trZXldIHx8IGtleV0pXHJcblx0XHRcdH07XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHRjb250ZXh0LmN1c3RvbWVyRmllbGRzID1cclxuXHRcdFx0VGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY3VzdG9tZXJGaWVsZHMpXHJcblx0XHRcdFx0Lm1hcCh0b0ZpZWxkRGV0YWlsKCdjdXN0b21lcicpKTtcclxuXHJcblx0XHRjb250ZXh0LnJlY2lwaWVudEZpZWxkcyA9XHJcblx0XHRcdFRodW5kZXIudXRpbC5wYXJzZUFycmF5U3RyaW5nKHJlY2lwaWVudEZpZWxkcylcclxuXHRcdFx0XHQubWFwKHRvRmllbGREZXRhaWwoJ2FkZHJlc3MnKSk7XHJcblxyXG5cdFx0Y29uc3QgcmVxdWVzdEZhaWxlZCA9IGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY2hlY2tvdXRQcmVwYXJhdGlvbkZhaWxlZCcpXHJcblx0XHRcdH0sXHJcblx0XHRcdGNhbGxiYWNrXHJcblx0XHQpO1xyXG5cclxuXHRcdHJldHVybiAkLndoZW4oVGh1bmRlci5hdXRoZW50aWNhdGVkKCkgPyBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHR1cmw6ICAgICcvdjEvbWUnLFxyXG5cdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRyYXc6ICAgIHRydWUsXHJcblx0XHRcdFx0ZmllbGRzOiBbXHJcblx0XHRcdFx0XHQnbmFtZScsXHJcblx0XHRcdFx0XHQnZW1haWwnLFxyXG5cdFx0XHRcdFx0J21vYmlsZScsXHJcblx0XHRcdFx0XHQncGhvbmUnLFxyXG5cdFx0XHRcdFx0J2dlbmRlcicsXHJcblx0XHRcdFx0XHQnYmlydGhkYXRlJyxcclxuXHRcdFx0XHRcdCdjb3VudHJ5JyxcclxuXHRcdFx0XHRcdCdsYW5ndWFnZScsXHJcblx0XHRcdFx0XHQnY3VycmVuY3knLFxyXG5cdFx0XHRcdFx0J3RpbWV6b25lJyxcclxuXHRcdFx0XHRcdCdhZGRyZXNzLnByaW1hcnknLFxyXG5cdFx0XHRcdF0uam9pbignLCcpXHJcblx0XHRcdH1cclxuXHRcdH0pIDogbnVsbCkudGhlbihjdXN0b21lciA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBwcmltYXJ5QWRkcmVzcyA9IGdldChjdXN0b21lciwgJ2FkZHJlc3MucHJpbWFyeScsIG51bGwpO1xyXG5cclxuXHRcdFx0aWYgKHByaW1hcnlBZGRyZXNzKSB7XHJcblxyXG5cdFx0XHRcdGRlZmF1bHRDYXJ0RGF0YS5hZGRyZXNzID0ge1xyXG5cdFx0XHRcdFx0c2hpcHBpbmc6IHByaW1hcnlBZGRyZXNzLFxyXG5cdFx0XHRcdFx0YmlsbGluZzogIHByaW1hcnlBZGRyZXNzXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29udGV4dC5jdXN0b21lciA9IGN1c3RvbWVyIHx8IG51bGw7XHJcblx0XHRcdGNvbnRleHQuYWRkcmVzcyA9IHByaW1hcnlBZGRyZXNzIHx8IEFkZHJlc3NIYW5kbGVyLmRlZmF1bHRBZGRyZXNzKCk7XHJcblxyXG5cdFx0XHRyZXR1cm4gJC53aGVuKFxyXG5cdFx0XHRcdFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICAnL3YxL2NvdW50cmllcycsXHJcblx0XHRcdFx0XHRxdWVyeTogIHsgZmllbGRzOiAnY29kZScgfVxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRcdGdldENhcnQoe1xyXG5cdFx0XHRcdFx0cXVlcnk6IGRlZmF1bHRDYXJ0UXVlcnksXHJcblx0XHRcdFx0XHRkYXRhOiAgZGVmYXVsdENhcnREYXRhLFxyXG5cdFx0XHRcdH0pLFxyXG5cdFx0XHRcdFRodW5kZXIuYXV0aGVudGljYXRlZCgpID8gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0XHR1cmw6ICAgICcvdjEvbWUvY291cG9ucycsXHJcblx0XHRcdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRcdFx0bGltaXQ6IDEyMCxcclxuXHRcdFx0XHRcdFx0ZmllbGRzOiBbXHJcblx0XHRcdFx0XHRcdFx0J25hbWUnLFxyXG5cdFx0XHRcdFx0XHRcdCdhY3RpdmUnLFxyXG5cdFx0XHRcdFx0XHRcdCdvbmx5JyxcclxuXHRcdFx0XHRcdFx0XHQndHlwZScsXHJcblx0XHRcdFx0XHRcdFx0J2Rpc2NvdW50JyxcclxuXHRcdFx0XHRcdFx0XHQnY2F0ZWdvcnknLFxyXG5cdFx0XHRcdFx0XHRcdCdwcmljZScsXHJcblx0XHRcdFx0XHRcdFx0J3N1YnNjcmlwdGlvbicsXHJcblx0XHRcdFx0XHRcdFx0J2V4cGlyZXNBdCdcclxuXHRcdFx0XHRcdFx0XS5qb2luKCcsJylcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0fSkgOiBudWxsLFxyXG5cdFx0XHRcdGNvbnRleHQuaXNTdWJzY3JpcHRpb24gPyBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHRcdHVybDogICAgJy92MS9zdWJzY3JpcHRpb25zL3BsYW5zJyxcclxuXHRcdFx0XHRcdHF1ZXJ5OiB7XHJcblx0XHRcdFx0XHRcdGlkczogICAgc3Vic2NyaXB0aW9uUGxhbnMubWFwKCh7IGlkIH0pID0+IGlkKS5qb2luKCcsJyksXHJcblx0XHRcdFx0XHRcdGZpZWxkczogWyduYW1lJywgJ2ltbWVkaWF0ZScsICdpbnRlcnZhbCddLmpvaW4oJywnKSxcclxuXHRcdFx0XHRcdFx0c29ydDogICAnaWRzJyxcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KSA6IG51bGxcclxuXHRcdFx0KTtcclxuXHJcblx0XHR9LCByZXF1ZXN0RmFpbGVkKS50aGVuKChjb3VudHJpZXMsIGNhcnQsIGNvdXBvbnMsIHBsYW5zKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBoYXNDYXJ0RXJyb3IgPSBjYXJ0WzBdLmNhcnQuZXJyb3JzXHJcblx0XHRcdFx0XHRcdFx0XHRcdC5zb21lKGVyciA9PiBlcnIuY29kZSAhPT0gJ3NoaXBwaW5nLWFkZHJlc3MtcmVxdWlyZWQnKTtcclxuXHJcblx0XHRcdGlmIChoYXNDYXJ0RXJyb3IpIHtcclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2NhcnQnLCB7XHJcblx0XHRcdFx0XHRvcmRlckFjdGlvbnM6IE9iamVjdC5rZXlzKFRodW5kZXIub3B0aW9ucy5wYXltZW50TWV0aG9kcyksXHJcblx0XHRcdFx0XHRpdGVtczogICAgICAgIGNvbnRleHQub3B0aW9ucy5pdGVtc1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb250ZXh0LmNvdW50cmllcyA9IGNvdW50cmllc1swXTtcclxuXHRcdFx0Y29udGV4dC5jYXJ0ID0gY2FydFswXS5jYXJ0O1xyXG5cdFx0XHRjb250ZXh0LnN1YnNjcmlwdGlvbiA9IGNhcnRbMF0uc3Vic2NyaXB0aW9uIHx8IG51bGw7XHJcblx0XHRcdGNvbnRleHQuc3Vic2NyaXB0aW9uUGxhbnMgPSAocGxhbnMgPyBwbGFuc1swXSA6IFtdKS5tYXAocGxhbiA9PiB7XHJcblx0XHRcdFx0cmV0dXJuICQuZXh0ZW5kKHBsYW4sIHN1YnNjcmlwdGlvblBsYW5zLmZpbmQocyA9PiBzLmlkID09PSBwbGFuLl9pZCkpO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Y29udGV4dC5jb3Vwb25zID0gY291cG9ucyA/IGNvdXBvbnNbMF0gOiBbXTtcclxuXHJcblx0XHRcdENvdXBvbkhhbmRsZXIuc2V0QXBwbGljYWJsZUNvdXBvbnMoXHJcblx0XHRcdFx0Y29udGV4dC5vcHRpb25zLnR5cGUsXHJcblx0XHRcdFx0Y29udGV4dC5jYXJ0LFxyXG5cdFx0XHRcdGNvbnRleHQuY291cG9uc1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHRcdH0sIHJlcXVlc3RGYWlsZWQpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0ICRwYXltZW50Rm9ybUNvbnRhaW5lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXBheW1lbnQtZm9ybS1jb250YWluZXInKTtcclxuXHJcblx0XHRUaHVuZGVyLnJlbmRlcigkcGF5bWVudEZvcm1Db250YWluZXIsICdwYXltZW50LWZvcm0nLCB7XHJcblx0XHRcdHR5cGU6IGNvbnRleHQub3B0aW9ucy50eXBlXHJcblx0XHR9LCAoZXJyLCB7IGludGVyZmFjZXM6IHBheW1lbnRIYW5kbGVyIH0pID0+IHtcclxuXHJcblx0XHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0XHRjb25zdCAkYmFja1RvQ2FydCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWJhY2stdG8tY2FydCcpO1xyXG5cdFx0XHRjb25zdCAkY2FydEl0ZW1zID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY2FydC1pdGVtcyB0YWJsZScpO1xyXG5cdFx0XHRjb25zdCAkZ29Ub1VwZGF0ZUN1c3RvbWVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tZ28tdG8tdXBkYXRlLWN1c3RvbWVyJyk7XHJcblx0XHRcdGNvbnN0ICRzYW1lRm9yUmVjaXBpZW50ID0gJCh0aGlzKS5maW5kKCdbbmFtZT1cInNhbWVGb3JSZWNpcGllbnRcIl0nKTtcclxuXHRcdFx0Y29uc3QgJHNlYXJjaEFkZHJlc3MgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1zZWFyY2gtYWRkcmVzcycpO1xyXG5cdFx0XHRjb25zdCAkYXBwbHlBZGRyZXNzID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYXBwbHktYWRkcmVzcycpO1xyXG5cdFx0XHRjb25zdCAkb3JkZXJSZXF1ZXN0ID0gJCh0aGlzKS5maW5kKCdbbmFtZT1cInJlcXVlc3RcIl0nKTtcclxuXHRcdFx0Y29uc3QgJHRvdGFsRGV0YWlscyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXRvdGFsLWRldGFpbHMnKTtcclxuXHRcdFx0Y29uc3QgJHByb2NlZWRDaGVja291dCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXByb2NlZWQtY2hlY2tvdXQnKTtcclxuXHRcdFx0Y29uc3QgcHJvY2Vzc0NoZWNrb3V0U3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJHByb2NlZWRDaGVja291dCwgeyBiaW5kOiBmYWxzZSB9KTtcclxuXHJcblx0XHRcdGNvbnN0IGNvdXBvbkhhbmRsZXIgPSBDb3Vwb25IYW5kbGVyKHtcclxuXHRcdFx0XHRmb3JtOiAgICAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW1zJyksXHJcblx0XHRcdFx0bGFiZWxzOiAge1xyXG5cdFx0XHRcdFx0YXBwbHlDb3Vwb25zOiAgICAgICAgICBjb250ZXh0Lm0oJ2FwcGx5Q291cG9ucycpLFxyXG5cdFx0XHRcdFx0ZmluaXNoQXBwbHlpbmdDb3Vwb25zOiBjb250ZXh0Lm0oJ2ZpbmlzaEFwcGx5aW5nQ291cG9ucycpLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Y291cG9uczogICAgICAgICAgICAgY29udGV4dC5jb3Vwb25zLFxyXG5cdFx0XHRcdGNhcnQ6ICAgICAgICAgICAgICAgICgpID0+IGNvbnRleHQuY2FydCxcclxuXHRcdFx0XHRvbkNvdXBvbkFwcGx5OiAgICAgICB0eXBlID0+IGFwcGx5Q291cG9ucyh0eXBlKSxcclxuXHRcdFx0XHRvbkNvdXBvblNlbGVjdEVycm9yOiBjb2RlID0+IFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubShjb2RlKSlcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCBjdXN0b21lckhhbmRsZXIgPSBDdXN0b21lckhhbmRsZXIoe1xyXG5cdFx0XHRcdGN1c3RvbWVyRmllbGRzOiBjb250ZXh0LmN1c3RvbWVyRmllbGRzLm1hcCgoeyBrZXksIHJlcXVpcmVkIH0pID0+ICh7XHJcblx0XHRcdFx0XHRmaWVsZDogICAga2V5LFxyXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHJlcXVpcmVkXHJcblx0XHRcdFx0fSkpXHJcblx0XHRcdFx0Lm1hcChkZXRhaWwgPT4gJC5leHRlbmQoZGV0YWlsLCB7XHJcblx0XHRcdFx0XHQkaW5wdXQ6ICQodGhpcykuZmluZChgLnRodW5kZXItLWN1c3RvbWVyIFtuYW1lPVwiY3VzdG9tZXIuJHtkZXRhaWwuZmllbGR9XCJdYClcclxuXHRcdFx0XHR9KSksXHJcblx0XHRcdFx0dHJhbnNsYXRpb25LZXlzOiB0cmFuc2xhdGlvbktleXMsXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29uc3QgYWRkcmVzc0hhbmRsZXIgPSBBZGRyZXNzSGFuZGxlcih7XHJcblx0XHRcdFx0YWRkcmVzc0ZpZWxkczogW1xyXG5cdFx0XHRcdFx0Li4uY29udGV4dC5yZWNpcGllbnRGaWVsZHMubWFwKCh7IGtleSwgcmVxdWlyZWQgfSkgPT4gKHtcclxuXHRcdFx0XHRcdFx0ZmllbGQ6ICAgICBrZXksXHJcblx0XHRcdFx0XHRcdHJlY2lwaWVudDogdHJ1ZSxcclxuXHRcdFx0XHRcdFx0cmVxdWlyZWQ6ICByZXF1aXJlZFxyXG5cdFx0XHRcdFx0fSkpLFxyXG5cdFx0XHRcdFx0eyBmaWVsZDogJ2NvdW50cnknLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0eyBmaWVsZDogJ3N0YXRlJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcblx0XHRcdFx0XHR7IGZpZWxkOiAnY2l0eScsIHJlcXVpcmVkOiB0cnVlIH0sXHJcblx0XHRcdFx0XHR7IGZpZWxkOiAnYWRkcmVzczEnLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG5cdFx0XHRcdFx0eyBmaWVsZDogJ2FkZHJlc3MyJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcblx0XHRcdFx0XHR7IGZpZWxkOiAncG9zdGNvZGUnLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG5cdFx0XHRcdF0ubWFwKGRldGFpbCA9PiAkLmV4dGVuZChkZXRhaWwsIHtcclxuXHRcdFx0XHRcdCRpbnB1dDogJCh0aGlzKS5maW5kKGAudGh1bmRlci0tYWRkcmVzcyBbbmFtZT1cImFkZHJlc3MuJHtkZXRhaWwuZmllbGR9XCJdYClcclxuXHRcdFx0XHR9KSksXHJcblx0XHRcdFx0dHJhbnNsYXRpb25LZXlzOiAgICAgdHJhbnNsYXRpb25LZXlzLFxyXG5cdFx0XHRcdHNlYXJjaEFkZHJlc3NQbHVnaW46IFRodW5kZXIucGx1Z2lucy5zZWFyY2hBZGRyZXNzXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29uc3Qgc3Vic2NyaXB0aW9uSGFuZGxlciA9IFN1YnNjcmlwdGlvbkhhbmRsZXIoe1xyXG5cdFx0XHRcdGZvcm06ICAgICAgICAgICAgICAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1zdWJzY3JpcHRpb24tZGV0YWlscycpLFxyXG5cdFx0XHRcdGxhYmVsczogICAgICAgICAgICB7XHJcblx0XHRcdFx0XHRmaXJzdE9yZGVyU3RhcnRzQXQ6ICBjb250ZXh0Lm0oJ2ZpcnN0T3JkZXJTdGFydHNBdCcpLFxyXG5cdFx0XHRcdFx0c2Vjb25kT3JkZXJTdGFydHNBdDogY29udGV4dC5tKCdzZWNvbmRPcmRlclN0YXJ0c0F0JyksXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRzdWJzY3JpcHRpb25QbGFuczogY29udGV4dC5zdWJzY3JpcHRpb25QbGFucyxcclxuXHRcdFx0XHR0aW1lem9uZTogICAgICAgICAgKCkgPT4gVGh1bmRlci5vcHRpb25zLnRpbWV6b25lLFxyXG5cdFx0XHRcdG9uUGxhbkNoYW5nZTogICAgICAoKSA9PiBhcHBseVN1YnNjcmlwdGlvbkRldGFpbCgpLFxyXG5cdFx0XHRcdG9uU3RhcnRzQXRDaGFuZ2U6ICAoKSA9PiBhcHBseVN1YnNjcmlwdGlvbkRldGFpbCgpXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0VGh1bmRlci51dGlsLmJpbmRCYWNrQnV0dG9uKCRiYWNrVG9DYXJ0LCBjb250ZXh0KTtcclxuXHJcblx0XHRcdGN1c3RvbWVySGFuZGxlci5zZXRDdXN0b21lcihjb250ZXh0LmN1c3RvbWVyKTtcclxuXHRcdFx0YWRkcmVzc0hhbmRsZXIuc2V0QWRkcmVzcyhjb250ZXh0LmFkZHJlc3MpO1xyXG5cclxuXHRcdFx0JHNhbWVGb3JSZWNpcGllbnQub24oJ2NoYW5nZScsIGNvcHlUb1JlY2lwaWVudCk7XHJcblx0XHRcdCRhcHBseUFkZHJlc3Mub24oJ2NsaWNrJywgYXBwbHlDaGFuZ2VzKTtcclxuXHRcdFx0JHNlYXJjaEFkZHJlc3Mub24oJ2NsaWNrJywgc2VhcmNoQWRkcmVzcyk7XHJcblxyXG5cdFx0XHQkZ29Ub1VwZGF0ZUN1c3RvbWVyLm9uKCdjbGljaycsICgpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXVwZGF0ZScsIHtcclxuXHRcdFx0XHRcdGJhY2s6ICB7XHJcblx0XHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXHJcblx0XHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHRcdG9wdGlvbnM6ICAgIGNvbnRleHQub3B0aW9uc1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdC8vIEl0J3MgYSBiaXQgaGFja3kgd2F5IHRvIGhhbmRsZSByZUNBUFRDSEEsXHJcblx0XHRcdC8vIGJ1dCBpZiBhIHN0b3JlIHVzZXMgcmVDQVRQQ0hBIGZvciBjaGVja291dCBhbmQgb3JkZXIvc3Vic2NyaXB0aW9uIGF1dGgsXHJcblx0XHRcdC8vIGJpbmQgcmVDQVRQQ0hBIHR3aWNlIGZvciB0aGUgc2FtZSBidXR0b24gdG8gZ2V0IHR3byByZUNBUFRDSEEgcmVzcG9uc2VzLlxyXG5cdFx0XHRjb25zdCByZWNhcHRjaGFDb21wb25lbnRzID0gW1xyXG5cdFx0XHRcdGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0J3NlYXJjaC1wdXJjaGFzZSdcclxuXHRcdFx0XTtcclxuXHJcblx0XHRcdGNvbnN0IHJlY2FwdGNoYUhhbmRsZXIgPSBSZWNhcHRjaGFIYW5kbGVyKFxyXG5cdFx0XHRcdHJlY2FwdGNoYUNvbXBvbmVudHNcclxuXHRcdFx0XHRcdC5maWx0ZXIoVGh1bmRlci51dGlsLnVzZVJlY2FwdGNoYSlcclxuXHRcdFx0XHRcdC5yZWR1Y2UoKG8sIGMpID0+IHNldChvLCBjLCB0cnVlKSwge30pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRyZWNhcHRjaGFDb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50TmFtZSA9PiBUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYSh7XHJcblx0XHRcdFx0Y29tcG9uZW50TmFtZTogY29tcG9uZW50TmFtZSxcclxuXHRcdFx0XHRidXR0b246ICAgICAgICAkcHJvY2VlZENoZWNrb3V0LFxyXG5cdFx0XHRcdHZhbGlkYXRlOiAgICAgIHZhbGlkYXRlQ2hlY2tvdXREYXRhLFxyXG5cdFx0XHRcdGNhbGxiYWNrOiAgICAgIHByb2NlZWRDaGVja291dFxyXG5cdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjb3B5VG9SZWNpcGllbnQoKSB7XHJcblxyXG5cdFx0XHRcdHJldHVybiAkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpID9cclxuXHRcdFx0XHRcdFx0YWRkcmVzc0hhbmRsZXIuc2V0QWRkcmVzcyhjdXN0b21lckhhbmRsZXIuZ2V0Q3VzdG9tZXIoKSkgOlxyXG5cdFx0XHRcdFx0XHRhZGRyZXNzSGFuZGxlci5yZXNldCgncmVjaXBpZW50Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGFwcGx5Q2hhbmdlcygpIHtcclxuXHJcblx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IGJ1aWxkQ2FydE9wdGlvbnMoKTtcclxuXHRcdFx0XHRjb25zdCBhZGRyZXNzID0gb3B0aW9ucy5kYXRhLmFkZHJlc3Muc2hpcHBpbmc7XHJcblx0XHRcdFx0Y29uc3QgZGlzY291bnQgPSBvcHRpb25zLmRhdGEuZGlzY291bnQ7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGFkZHJlc3NFcnJvciA9IGFkZHJlc3NIYW5kbGVyLnZhbGlkYXRlQWRkcmVzcyhhZGRyZXNzLCBmYWxzZSk7XHJcblxyXG5cdFx0XHRcdC8vIFZhbGlkYXRlIHNoaXBwaW5nIGFkZHJlc3NcclxuXHRcdFx0XHRpZiAoYWRkcmVzc0Vycm9yKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGFkZHJlc3NFcnJvcikpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3Qgb2xkQ2FydEl0ZW1zID0gJGNhcnRJdGVtcy5odG1sKCk7XHJcblx0XHRcdFx0Y29uc3Qgb2xkVG90YWxEZXRhaWxzID0gJHRvdGFsRGV0YWlscy5odG1sKCk7XHJcblx0XHRcdFx0Y29uc3Qgc2VjdGlvblNwaW5uZXIgPSBUaHVuZGVyLnVpKCdzZWN0aW9uLXNwaW5uZXInKSgpO1xyXG5cclxuXHRcdFx0XHQkY2FydEl0ZW1zLmh0bWwoYDx0cj48dGQ+JHtzZWN0aW9uU3Bpbm5lcn08L3RkPjwvdHI+YCk7XHJcblx0XHRcdFx0JHRvdGFsRGV0YWlscy5odG1sKHNlY3Rpb25TcGlubmVyKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdFx0J2ludmFsaWQtcG9zdGNvZGUnOiAgICAgY29udGV4dC5tKCdpbnZhbGlkUG9zdGNvZGUnKSxcclxuXHRcdFx0XHRcdCdzdGFydHMtdG9vLWVhcmx5JzogICAgIGNvbnRleHQubSgnc3RhcnRzVG9vRWFybHknKSxcclxuXHRcdFx0XHRcdCdjYXJ0LWNvdXBvbi1jYXRlZ29yeSc6IGNvbnRleHQubSgnY2FydENvdXBvbkNhdGVnb3J5JyksXHJcblx0XHRcdFx0XHQnY2FydC1jb3Vwb24tcHJpY2UnOiAgICBjb250ZXh0Lm0oJ2NhcnRDb3Vwb25QcmljZScpLFxyXG5cdFx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgICAgY29udGV4dC5tKCdjYXJ0VXBkYXRlRmFpbGVkJyksXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIGdldENhcnQob3B0aW9ucykudGhlbigoeyBjYXJ0LCBzdWJzY3JpcHRpb24gfSkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGNhcnRIYXNJdGVtRXJyb3IgPSBjYXJ0LmVycm9ycy5zb21lKGVycm9yID0+IGVycm9yLmNvZGUgPT09ICdpdGVtLWVycm9yJyk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGNhcnRIYXNJdGVtRXJyb3IpIHtcclxuXHRcdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdpbnZhbGlkQ2FydEl0ZW1JbmNsdWRlZCcpKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjYXJ0Jywge1xyXG5cdFx0XHRcdFx0XHRcdG9yZGVyQWN0aW9uczogT2JqZWN0LmtleXMoVGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzKSxcclxuXHRcdFx0XHRcdFx0XHRpdGVtczogICAgICAgIGNvbnRleHQub3B0aW9ucy5pdGVtc1xyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb250ZXh0LmNhcnQgPSBjYXJ0O1xyXG5cdFx0XHRcdFx0Y29udGV4dC5zdWJzY3JpcHRpb24gPSBzdWJzY3JpcHRpb24gfHwgbnVsbDtcclxuXHJcblx0XHRcdFx0XHRDb3Vwb25IYW5kbGVyLnNldEFwcGxpY2FibGVDb3Vwb25zKFxyXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMudHlwZSxcclxuXHRcdFx0XHRcdFx0Y29udGV4dC5jYXJ0LFxyXG5cdFx0XHRcdFx0XHRjb250ZXh0LmNvdXBvbnNcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKGRpc2NvdW50KSB7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoZGlzY291bnQuaXRlbXMpIHtcclxuXHRcdFx0XHRcdFx0XHRkaXNjb3VudC5pdGVtcy5mb3JFYWNoKCh7IGl0ZW0sIGNvdXBvbiB9KSA9PiBzZXQoXHJcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0LmNhcnQuaXRlbXMuZmluZCgoeyBfaWQgfSkgPT4gX2lkID09PSBpdGVtKSxcclxuXHRcdFx0XHRcdFx0XHRcdCdhcHBsaWVkQ291cG9uJyxcclxuXHRcdFx0XHRcdFx0XHRcdGNvdXBvbkhhbmRsZXIuZ2V0Q291cG9uKGNvdXBvbilcclxuXHRcdFx0XHRcdFx0XHQpKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGRpc2NvdW50LmNhcnQpIHtcclxuXHRcdFx0XHRcdFx0XHRjb250ZXh0LmNhcnQuYXBwbGllZENvdXBvbiA9IGNvdXBvbkhhbmRsZXIuZ2V0Q291cG9uKGRpc2NvdW50LmNhcnQuY291cG9uKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb25zdCAkdGVtcGxhdGUgPSAkKFRodW5kZXIuY29tcG9uZW50KGltcGxlbWVudGF0aW9uLm5hbWUpLnRlbXBsYXRlKGNvbnRleHQpKTtcclxuXHJcblx0XHRcdFx0XHQkY2FydEl0ZW1zLmh0bWwoJHRlbXBsYXRlLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW1zIHRhYmxlJykuaHRtbCgpKTtcclxuXHRcdFx0XHRcdCR0b3RhbERldGFpbHMuaHRtbCgkdGVtcGxhdGUuZmluZCgnLnRodW5kZXItLXRvdGFsLWRldGFpbHMnKS5odG1sKCkpO1xyXG5cclxuXHRcdFx0XHRcdGNvdXBvbkhhbmRsZXIuYmluZENvdXBvblZhbGlkYXRvcigpO1xyXG5cclxuXHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdFx0ZXJyID0+IHtcclxuXHRcdFx0XHRcdFx0JGNhcnRJdGVtcy5odG1sKG9sZENhcnRJdGVtcyk7XHJcblx0XHRcdFx0XHRcdCR0b3RhbERldGFpbHMuaHRtbChvbGRUb3RhbERldGFpbHMpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gdmFsaWRhdGVDaGVja291dERhdGEoKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSBidWlsZENhcnRPcHRpb25zKCdjaGVja291dCcpO1xyXG5cclxuXHRcdFx0XHRjb25zdCB7XHJcblx0XHRcdFx0XHRhZGRyZXNzLFxyXG5cdFx0XHRcdFx0c3Vic2NyaXB0aW9uLFxyXG5cdFx0XHRcdH0gPSBvcHRpb25zLmRhdGE7XHJcblxyXG5cdFx0XHRcdC8vIFZhbGlkYXRlIGN1c3RvbWVyXHJcblx0XHRcdFx0Y29uc3QgY3VzdG9tZXIgPSBjdXN0b21lckhhbmRsZXIuZ2V0Q3VzdG9tZXIoKTtcclxuXHRcdFx0XHRjb25zdCBjdXN0b21lckVycm9yID0gY3VzdG9tZXJIYW5kbGVyLnZhbGlkYXRlQ3VzdG9tZXIoY3VzdG9tZXIpO1xyXG5cclxuXHRcdFx0XHRpZiAoY3VzdG9tZXJFcnJvcikge1xyXG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGN1c3RvbWVyRXJyb3IpKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFZhbGlkYXRlIGFkZHJlc3Nlc1xyXG5cdFx0XHRcdGNvbnN0IGFkZHJlc3NFcnJvcnMgPSBbXHJcblx0XHRcdFx0XHRhZGRyZXNzLnNoaXBwaW5nLFxyXG5cdFx0XHRcdFx0YWRkcmVzcy5iaWxsaW5nXHJcblx0XHRcdFx0XVxyXG5cdFx0XHRcdC5tYXAoYWRkcmVzc0hhbmRsZXIudmFsaWRhdGVBZGRyZXNzKVxyXG5cdFx0XHRcdC5maWx0ZXIodiA9PiB2KTtcclxuXHJcblx0XHRcdFx0aWYgKGFkZHJlc3NFcnJvcnNbMF0pIHtcclxuXHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubShhZGRyZXNzRXJyb3JzWzBdKSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBwYXltZW50RXJyb3IgPSBwYXltZW50SGFuZGxlci52YWxpZGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRpZiAocGF5bWVudEVycm9yKSB7XHJcblx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBwYXltZW50RXJyb3IubWVzc2FnZSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoY29udGV4dC5pc1N1YnNjcmlwdGlvbikge1xyXG5cdFx0XHRcdFx0Ly8gVmFsaWRhdGUgb25seSBpZiBjaGVja291dCBwcm9jZXNzIGlzIGZvciBhIHN1YnNjcmlwdGlvblxyXG5cdFx0XHRcdFx0Y29uc3Qgc3Vic2NyaXB0aW9uRXJyb3IgPSBzdWJzY3JpcHRpb25IYW5kbGVyLnZhbGlkYXRlU3Vic2NyaXB0aW9uRGV0YWlsKHN1YnNjcmlwdGlvbik7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHN1YnNjcmlwdGlvbkVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubShzdWJzY3JpcHRpb25FcnJvcikpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHByb2NlZWRDaGVja291dCh0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcclxuXHJcblx0XHRcdFx0Y29uc3Qgc2hvdWxkRXhlY3V0ZSA9IHJlY2FwdGNoYUhhbmRsZXIuZXhlY3V0ZSh0b2tlbik7XHJcblxyXG5cdFx0XHRcdGlmICghc2hvdWxkRXhlY3V0ZSkgcmV0dXJuO1xyXG5cclxuXHRcdFx0XHRjb25zdCB7XHJcblx0XHRcdFx0XHRjaGVja291dDogICAgICAgICAgY2hlY2tvdXRSZXMsXHJcblx0XHRcdFx0XHQnc2VhcmNoLXB1cmNoYXNlJzogc2VhcmNoUHVyY2hhc2VSZXNcclxuXHRcdFx0XHR9ID0gc2hvdWxkRXhlY3V0ZTtcclxuXHJcblx0XHRcdFx0cHJvY2Vzc0NoZWNrb3V0U3Bpbm5lci5ydW4oKTtcclxuXHJcblx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IGJ1aWxkQ2FydE9wdGlvbnMoJ2NoZWNrb3V0Jyk7XHJcblx0XHRcdFx0Y29uc3QgY3VzdG9tZXIgPSBjdXN0b21lckhhbmRsZXIuZ2V0Q3VzdG9tZXIoKTtcclxuXHRcdFx0XHRjb25zdCBjYXJkID0gcGF5bWVudEhhbmRsZXIuZ2V0Q2FyZCgpO1xyXG5cdFx0XHRcdGNvbnN0IFtwYXltZW50TWV0aG9kSWRdID0gb3B0aW9ucy5kYXRhLnBheW1lbnRNZXRob2Quc3BsaXQoJy4nKTtcclxuXHJcblx0XHRcdFx0aWYgKGNoZWNrb3V0UmVzKSB7XHJcblx0XHRcdFx0XHQvLyBTZXQgcmVDQVBUQ0hBIHJlc3BvbnNlXHJcblx0XHRcdFx0XHRvcHRpb25zLnJlY2FwdGNoYSA9IGNoZWNrb3V0UmVzO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0b3B0aW9ucy5kYXRhLnBheW1lbnRNZXRob2QgPSBwYXltZW50TWV0aG9kSWQ7XHJcblxyXG5cdFx0XHRcdGlmICghVGh1bmRlci5hdXRoZW50aWNhdGVkKCkpIHtcclxuXHRcdFx0XHRcdC8vIFNldCBjdXN0b21lciBkZXRhaWxzIG9ubHkgZm9yIG5vbi1yZWdpc3RlcmVkIGN1c3RvbWVyc1xyXG5cdFx0XHRcdFx0b3B0aW9ucy5kYXRhLmN1c3RvbWVyID0gY3VzdG9tZXI7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBjaGVja291dEZpbmlzaGVkID0gKHN1Y2Nlc3NEZXRhaWwpID0+IHtcclxuXHJcblx0XHRcdFx0XHRwcm9jZXNzQ2hlY2tvdXRTcGlubmVyLmRvbmUoKTtcclxuXHJcblx0XHRcdFx0XHRpZiAocmVzZXRSZWNhcHRjaGEpIHtcclxuXHRcdFx0XHRcdFx0cmVzZXRSZWNhcHRjaGEoKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoIXN1Y2Nlc3NEZXRhaWwpIHJldHVybjtcclxuXHJcblx0XHRcdFx0XHRpZiAoIVRodW5kZXIuYXV0aGVudGljYXRlZCgpKSB7XHJcblx0XHRcdFx0XHRcdC8vIERlbGV0ZSBvcmRlcmVkIGl0ZW1zIGZyb20gdGhlIGxvY2FsIGNhcnRcclxuXHRcdFx0XHRcdFx0Y29udGV4dC5jYXJ0Lml0ZW1zLmZvckVhY2goaXRlbSA9PiBUaHVuZGVyLkNhcnQuZGVsZXRlSXRlbShpdGVtLl9pZCwgJC5ub29wKSk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uQ2hlY2tvdXRTdWNjZXNzLFxyXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRcdFx0XHRzdWNjZXNzRGV0YWlsXHJcblx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGxldCBvcmRlcjtcclxuXHRcdFx0XHRsZXQgc3Vic2NyaXB0aW9uO1xyXG5cclxuXHRcdFx0XHRjb25zdCBhdXRoQnlPcmRlck9yU3Vic2NyaXB0aW9uID0ge1xyXG5cdFx0XHRcdFx0cnVuOiAoeyBvcmRlcjogbywgc3Vic2NyaXB0aW9uOiBzIH0pID0+IHtcclxuXHJcblx0XHRcdFx0XHRcdG9yZGVyID0gbztcclxuXHRcdFx0XHRcdFx0c3Vic2NyaXB0aW9uID0gcyB8fCBudWxsO1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3QgdHlwZSA9IGNvbnRleHQub3B0aW9ucy50eXBlO1xyXG5cdFx0XHRcdFx0XHRjb25zdCBzdWJqZWN0ID0gY29udGV4dC5pc1N1YnNjcmlwdGlvbiA/IHMgOiBvO1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0XHRkYXRhOiBUaHVuZGVyLm9wdGlvbnMub3JkZXJBdXRoRmllbGRzLnJlZHVjZSgobywgZmllbGQpID0+IHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzZXQobywgZmllbGQsIGdldChzdWJqZWN0LmN1c3RvbWVyLCBmaWVsZCwgbnVsbCkpO1xyXG5cdFx0XHRcdFx0XHRcdH0sIHt9KVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKHNlYXJjaFB1cmNoYXNlUmVzKSB7XHJcblx0XHRcdFx0XHRcdFx0b3B0aW9ucy5yZWNhcHRjaGEgPSBzZWFyY2hQdXJjaGFzZVJlcztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gQXV0aGVudGljYXRlIGJ5IGFuIG9yZGVyIG9yIGEgc3Vic2NyaXB0aW9uXHJcblx0XHRcdFx0XHRcdHJldHVybiBhdXRoKHR5cGUsIHN1YmplY3QuX2lkLCBvcHRpb25zKTtcclxuXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZmFpbDogZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjaGVja291dFByb2Nlc3NGYWlsZWQnKVxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRlcnIgPT4gY2hlY2tvdXRGaW5pc2hlZCgpXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgcGVyc2lzdFRva2VuQW5kTWFrZVBheW1lbnQgPSB7XHJcblx0XHRcdFx0XHRydW46IGF1dGhSZXN1bHQgPT4ge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKGF1dGhSZXN1bHQpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Y29uc3QgdG9rZW4gPSBhdXRoUmVzdWx0LnRva2VuO1xyXG5cdFx0XHRcdFx0XHRcdGNvbnN0IHN0b3JhZ2UgPSBUaHVuZGVyLnBsdWdpbnMuY3JlZGVudGlhbFN0b3JhZ2U7XHJcblxyXG5cdFx0XHRcdFx0XHRcdC8vIFNldCBhdXRoIHRva2VuIGluIHRoZSBzdG9yYWdlLFxyXG5cdFx0XHRcdFx0XHRcdC8vIHByZWZlcmFibHkgaW4gc2Vzc2lvblN0b3JhZ2UgdG8gdGFrZSBjYXJlIG9mIHJlZGlyZWN0aW9ucyBmcm9tIHBheW1lbnQgc2VydmljZXMuXHJcblx0XHRcdFx0XHRcdFx0c3RvcmFnZS5zZXRJdGVtKFRodW5kZXIub3B0aW9ucy5hdXRoU3RvcmFnZS5vcmRlciwgdG9rZW4pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcGF5bWVudEhhbmRsZXIubWFrZVBheW1lbnQoe1xyXG5cdFx0XHRcdFx0XHRcdGNhcnQ6ICAgICAgICAgIGNvbnRleHQuY2FydCxcclxuXHRcdFx0XHRcdFx0XHRvcmRlcjogICAgICAgICBvcmRlcixcclxuXHRcdFx0XHRcdFx0XHRzdWJzY3JpcHRpb246ICBzdWJzY3JpcHRpb24sXHJcblx0XHRcdFx0XHRcdFx0Y3VzdG9tZXI6ICAgICAgY3VzdG9tZXIsXHJcblx0XHRcdFx0XHRcdH0sIGVyciA9PiB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChlcnIpIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRjaGVja291dEZpbmlzaGVkKCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uUGF5bWVudEZhaWx1cmUsXHJcblx0XHRcdFx0XHRcdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRleHQsXHJcblx0XHRcdFx0XHRcdFx0XHRcdHsgb3JkZXIsIHN1YnNjcmlwdGlvbiB9XHJcblx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKCFzdWJzY3JpcHRpb24pIHtcclxuXHRcdFx0XHRcdFx0XHRcdC8vIFJlZ3VsYXIgb3JkZXIgY2FzZVxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGNoZWNrb3V0RmluaXNoZWQoeyBvcmRlciwgc3Vic2NyaXB0aW9uIH0pO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0Y29uc3Qgb3B0aW9ucyA9IHtcclxuXHRcdFx0XHRcdFx0XHRcdGRhdGE6IGNhcmQgPyB7IGNhcmQgfSA6IHt9XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gU3Vic2NyaXB0aW9uIGNhc2UsIHBvc3Qgc2NoZWR1bGVzIGFuZCBmaW5pc2guXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNjaGVkdWxlU3Vic2NyaXB0aW9uKHN1YnNjcmlwdGlvbi5faWQsIG9wdGlvbnMpLnRoZW4oKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBjaGVja291dEZpbmlzaGVkKHsgb3JkZXIsIHN1YnNjcmlwdGlvbiB9KTtcclxuXHJcblx0XHRcdFx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdzY2hlZHVsZUZhaWxlZCcpXHJcblx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRcdFx0ZXJyID0+IGNoZWNrb3V0RmluaXNoZWQoKVxyXG5cdFx0XHRcdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGNvbnN0IGNoZWNrb3V0RXJyb3JIYW5kbGVyID0gZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjaGVja291dEZhaWxlZCcpXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZXJyID0+IGNoZWNrb3V0RmluaXNoZWQoKVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdC8vIENoZWNrb3V0XHJcblx0XHRcdFx0Y2hlY2tvdXQob3B0aW9ucykudGhlbihcclxuXHRcdFx0XHRcdGF1dGhCeU9yZGVyT3JTdWJzY3JpcHRpb24ucnVuLFxyXG5cdFx0XHRcdFx0Y2hlY2tvdXRFcnJvckhhbmRsZXJcclxuXHRcdFx0XHQpLnRoZW4oXHJcblx0XHRcdFx0XHRwZXJzaXN0VG9rZW5BbmRNYWtlUGF5bWVudC5ydW4sXHJcblx0XHRcdFx0XHRhdXRoQnlPcmRlck9yU3Vic2NyaXB0aW9uLmZhaWxcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gYnVpbGRDYXJ0T3B0aW9ucyh0eXBlID0gJ2NhbGN1bGF0ZScpIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgYWRkcmVzcyA9IGFkZHJlc3NIYW5kbGVyLmdldEFkZHJlc3MoKTtcclxuXHRcdFx0XHRjb25zdCBkaXNjb3VudCA9IGNvdXBvbkhhbmRsZXIuZ2V0RGlzY291bnREZXRhaWxzKCk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IG9wdGlvbnMgPSB7XHJcblx0XHRcdFx0XHRxdWVyeToge30sXHJcblx0XHRcdFx0XHRkYXRhOiAge30sXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly8gRmlsdGVyIGl0ZW1zXHJcblx0XHRcdFx0aWYgKGNvbnRleHQub3B0aW9ucy5pdGVtcykge1xyXG5cdFx0XHRcdFx0b3B0aW9ucy5xdWVyeSA9IHsgaXRlbXM6IGNvbnRleHQub3B0aW9ucy5pdGVtcy50b1N0cmluZygpIH07XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBTZXQgYWRkcmVzc1xyXG5cdFx0XHRcdGlmIChhZGRyZXNzKSB7XHJcblx0XHRcdFx0XHRvcHRpb25zLmRhdGEuYWRkcmVzcyA9IHsgc2hpcHBpbmc6IGFkZHJlc3MsIGJpbGxpbmc6IGFkZHJlc3MgfTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFNldCBzdWJzY3JpcHRpb24gZGV0YWlsc1xyXG5cdFx0XHRcdGlmIChjb250ZXh0LmlzU3Vic2NyaXB0aW9uKSB7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3Qgc3Vic2NyaXB0aW9uID0gc3Vic2NyaXB0aW9uSGFuZGxlci5nZXRTdWJzY3JpcHRpb25EZXRhaWwoKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoc3Vic2NyaXB0aW9uICYmIHN1YnNjcmlwdGlvbi5wbGFuKSB7XHJcblx0XHRcdFx0XHRcdG9wdGlvbnMuZGF0YS5zdWJzY3JpcHRpb24gPSBzdWJzY3JpcHRpb247XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQXBwbHkgZGlzY291bnQgKGNvdXBvbnMpXHJcblx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKGRpc2NvdW50KS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdG9wdGlvbnMuZGF0YS5kaXNjb3VudCA9IGRpc2NvdW50O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gUmVxdWVzdCBvcHRpb25zIGZvciBjaGVja291dFxyXG5cdFx0XHRcdGlmICh0eXBlID09PSAnY2hlY2tvdXQnKSB7XHJcblx0XHRcdFx0XHRvcHRpb25zLmRhdGEuY3VycmVuY3kgPSBjb250ZXh0LmNhcnQuY3VycmVuY3kucGF5bWVudC5jb2RlO1xyXG5cdFx0XHRcdFx0b3B0aW9ucy5kYXRhLnBheW1lbnRNZXRob2QgPSBwYXltZW50SGFuZGxlci5nZXRQYXltZW50TWV0aG9kSWQoKTtcclxuXHRcdFx0XHRcdG9wdGlvbnMuZGF0YS5yZXF1ZXN0ID0gJG9yZGVyUmVxdWVzdC52YWwoKSB8fCBudWxsO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIG9wdGlvbnM7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBzZWFyY2hBZGRyZXNzKCkge1xyXG5cclxuXHRcdFx0XHRpZiAoY291cG9uSGFuZGxlci5pc0FwcGx5aW5nKCkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2FwcGx5Q291cG9uc0ZpcnN0JykpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YWRkcmVzc0hhbmRsZXIuc2VhcmNoQWRkcmVzcyhlcnIgPT4ge1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBlcnIgP1xyXG5cdFx0XHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGVyci5tZXNzYWdlKSA6XHJcblx0XHRcdFx0XHRcdFx0YXBwbHlDaGFuZ2VzKCk7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBhcHBseUNvdXBvbnModHlwZSkge1xyXG5cclxuXHRcdFx0XHRpZiAoY29udGV4dC5pc1N1YnNjcmlwdGlvbikge1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IGRldGFpbCA9IHN1YnNjcmlwdGlvbkhhbmRsZXIuZ2V0U3Vic2NyaXB0aW9uRGV0YWlsKCk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCFkZXRhaWwgfHwgIWRldGFpbC5wbGFuKSB7XHJcblx0XHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnc2VsZWN0U3Vic2NyaXB0aW9uUGxhbkZpcnN0JykpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIEJsb2NrIGZ1cnRoZXIgZXhlY3V0aW9uc1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlID09PSAnZW5kJykge1xyXG5cdFx0XHRcdFx0YXBwbHlDaGFuZ2VzKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGFwcGx5U3Vic2NyaXB0aW9uRGV0YWlsKCkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBkZXRhaWwgPSBzdWJzY3JpcHRpb25IYW5kbGVyLmdldFN1YnNjcmlwdGlvbkRldGFpbCgpO1xyXG5cdFx0XHRcdGNvbnN0IGVycm9yID0gc3Vic2NyaXB0aW9uSGFuZGxlci52YWxpZGF0ZVN1YnNjcmlwdGlvbkRldGFpbChkZXRhaWwpO1xyXG5cclxuXHRcdFx0XHRpZiAoZXJyb3IgPT09ICdzdWJzY3JpcHRpb25QbGFuUmVxdWlyZWQnKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGVycm9yKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoZXJyb3IgPT09ICdzdWJzY3JpcHRpb25TdGFydHNBdFJlcXVpcmVkJykge1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGFwcGx5Q2hhbmdlcygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdH07XHJcblxyXG5cdGZ1bmN0aW9uIGdldENhcnQob3B0aW9ucyA9IHt9KSB7XHJcblxyXG5cdFx0aWYgKCFUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xyXG5cdFx0XHRzZXQob3B0aW9ucywgJ2RhdGEuaXRlbXMnLCBUaHVuZGVyLkNhcnQuaXRlbXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3QoJC5leHRlbmQoe1xyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0dXJsOiAgICBUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSA/XHJcblx0XHRcdFx0XHQnL3YxL21lL2NhcnQnIDpcclxuXHRcdFx0XHRcdCcvdjEvbWUvbm9uLXJlZ2lzdGVyZWQvY2FydCdcclxuXHRcdH0sIG9wdGlvbnMpKTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBjaGVja291dChvcHRpb25zID0ge30pIHtcclxuXHJcblx0XHRjb25zdCB0eXBlID0gb3B0aW9ucy5kYXRhLnN1YnNjcmlwdGlvbiA/ICdzdWJzY3JpcHRpb24nIDogJ29yZGVyJztcclxuXHJcblx0XHRpZiAoIVRodW5kZXIuYXV0aGVudGljYXRlZCgpKSB7XHJcblx0XHRcdHNldChvcHRpb25zLCAnZGF0YS5pdGVtcycsIFRodW5kZXIuQ2FydC5pdGVtcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCgkLmV4dGVuZCh7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHR1cmw6ICAgIFRodW5kZXIuYXV0aGVudGljYXRlZCgpID9cclxuXHRcdFx0XHRcdGAvdjEvbWUvY2FydC9jaGVja291dC8ke3R5cGV9YCA6XHJcblx0XHRcdFx0XHRgL3YxL21lL25vbi1yZWdpc3RlcmVkL2NhcnQvY2hlY2tvdXQvJHt0eXBlfWBcclxuXHRcdH0sIG9wdGlvbnMpKTtcclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhdXRoKHR5cGUsIGlkLCBvcHRpb25zID0ge30pIHtcclxuXHJcblx0XHRpZiAoVGh1bmRlci5hdXRoZW50aWNhdGVkKCkpIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCgkLmV4dGVuZCh7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHR1cmw6ICAgIHR5cGUgPT09ICdvcmRlcicgP1xyXG5cdFx0XHRcdFx0YC92MS9vcmRlcnMvJHtpZH0vYXV0aGAgOlxyXG5cdFx0XHRcdFx0YC92MS9zdWJzY3JpcHRpb25zLyR7aWR9L2F1dGhgXHJcblx0XHR9LCBvcHRpb25zKSk7XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2NoZWR1bGVTdWJzY3JpcHRpb24oc3Vic2NyaXB0aW9uSWQsIG9wdGlvbnMpIHtcclxuXHJcblx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KCQuZXh0ZW5kKHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdHVybDogICAgYC92MS9tZS9zdWJzY3JpcHRpb25zLyR7c3Vic2NyaXB0aW9uSWR9L3NjaGVkdWxlZGAsXHJcblx0XHR9LCBvcHRpb25zKSk7XHJcblxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XHJcbmNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xyXG5cclxuY29uc3QgQWRkcmVzc0hhbmRsZXIgPSAoe1xyXG5cdGFkZHJlc3NGaWVsZHMsXHJcblx0dHJhbnNsYXRpb25LZXlzLFxyXG5cdHNlYXJjaEFkZHJlc3NQbHVnaW5cclxufSkgPT4ge1xyXG5cclxuXHRmdW5jdGlvbiByZXNldCh0eXBlID0gJ2FsbCcpIHtcclxuXHJcblx0XHRjb25zdCBmaWVsZHNUb0NsZWFyID0gdHlwZSA9PT0gJ3JlY2lwaWVudCcgP1xyXG5cdFx0XHRcdFx0XHRcdFx0YWRkcmVzc0ZpZWxkcy5maWx0ZXIoKHsgcmVjaXBpZW50IH0pID0+IHJlY2lwaWVudCkgOlxyXG5cdFx0XHRcdFx0XHRcdFx0YWRkcmVzc0ZpZWxkcztcclxuXHJcblx0XHRmaWVsZHNUb0NsZWFyLmZvckVhY2goKHsgJGlucHV0IH0pID0+ICRpbnB1dC52YWwobnVsbCkpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0QWRkcmVzcygpIHtcclxuXHJcblx0XHRyZXR1cm4gYWRkcmVzc0ZpZWxkcy5yZWR1Y2UoKG8sIHsgZmllbGQsICRpbnB1dCB9KSA9PiB7XHJcblxyXG5cdFx0XHRyZXR1cm4gc2V0KG8sIGZpZWxkLCAkaW5wdXQudmFsKCkgfHwgbnVsbCk7XHJcblxyXG5cdFx0fSwge30pO1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNldEFkZHJlc3MoYWRkcmVzcykge1xyXG5cclxuXHRcdGFkZHJlc3NGaWVsZHMuZm9yRWFjaCgoeyBmaWVsZCwgJGlucHV0IH0pID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IHZhbHVlID0gZ2V0KGFkZHJlc3MsIGZpZWxkKTtcclxuXHJcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6ICRpbnB1dC52YWwodmFsdWUpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB2YWxpZGF0ZUFkZHJlc3MoYWRkcmVzcywgdmFsaWRhdGVSZWNpcGllbnQgPSBmYWxzZSkge1xyXG5cclxuXHRcdGNvbnN0IHJlcXVpcmVkcyA9IGFkZHJlc3NGaWVsZHNcclxuXHRcdFx0XHRcdFx0XHQuZmlsdGVyKCh7IHJlcXVpcmVkIH0pID0+IHJlcXVpcmVkKVxyXG5cdFx0XHRcdFx0XHRcdC5maWx0ZXIoKHsgcmVjaXBpZW50IH0pID0+IHZhbGlkYXRlUmVjaXBpZW50ID8gdHJ1ZSA6ICFyZWNpcGllbnQpO1xyXG5cclxuXHRcdGZvciAoY29uc3QgeyBmaWVsZCB9IG9mIHJlcXVpcmVkcykge1xyXG5cclxuXHRcdFx0aWYgKGdldChhZGRyZXNzLCBmaWVsZCkpIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Y29uc3QgY29kZSA9IGNhbWVsQ2FzZShbJ2FkZHJlc3MnLCB0cmFuc2xhdGlvbktleXNbZmllbGRdIHx8IGZpZWxkLCAncmVxdWlyZWQnXSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gY29kZTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHNlYXJjaEFkZHJlc3MoY2FsbGJhY2spIHtcclxuXHJcblx0XHRzZWFyY2hBZGRyZXNzUGx1Z2luKChlcnIsIGFkZHJlc3MpID0+IHtcclxuXHJcblx0XHRcdGlmIChlcnIpIHtcclxuXHRcdFx0XHRyZXR1cm4gY2FsbGJhY2soZXJyKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c2V0QWRkcmVzcyhhZGRyZXNzKTtcclxuXHJcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBhZGRyZXNzKTtcclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHRyZXNldCxcclxuXHRcdGdldEFkZHJlc3MsXHJcblx0XHRzZXRBZGRyZXNzLFxyXG5cdFx0dmFsaWRhdGVBZGRyZXNzLFxyXG5cdFx0c2VhcmNoQWRkcmVzcyxcclxuXHR9O1xyXG5cclxufTtcclxuXHJcbkFkZHJlc3NIYW5kbGVyLmRlZmF1bHRBZGRyZXNzID0gKCkgPT4gKHtcclxuXHRuYW1lOiAgICAge1xyXG5cdFx0Zmlyc3Q6IG51bGwsXHJcblx0XHRsYXN0OiAgbnVsbCxcclxuXHRcdGZ1bGw6ICBudWxsLFxyXG5cdH0sXHJcblx0Y29tcGFueTogIG51bGwsXHJcblx0cG9zdGNvZGU6IG51bGwsXHJcblx0Y291bnRyeTogIG51bGwsXHJcblx0c3RhdGU6ICAgIG51bGwsXHJcblx0Y2l0eTogICAgIG51bGwsXHJcblx0YWRkcmVzczE6IG51bGwsXHJcblx0YWRkcmVzczI6IG51bGwsXHJcblx0bW9iaWxlOiAgIG51bGwsXHJcblx0cGhvbmU6ICAgIG51bGwsXHJcbn0pO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBBZGRyZXNzSGFuZGxlcjsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XHJcbmNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuXHJcbmNvbnN0IENvdXBvbkhhbmRsZXIgPSAoe1xyXG5cdGZvcm0sXHJcblx0bGFiZWxzID0ge1xyXG5cdFx0YXBwbHlDb3Vwb25zOiAnJyxcclxuXHRcdGZpbmlzaEFwcGx5aW5nQ291cG9uczogJycsXHJcblx0fSxcclxuXHRjb3Vwb25zLFxyXG5cdGNhcnQgPSAoKSA9PiB7fSxcclxuXHRvbkNvdXBvbkFwcGx5ID0gdHlwZSA9PiB0cnVlLFxyXG5cdG9uQ291cG9uU2VsZWN0RXJyb3IgPSBjb2RlID0+IHt9XHJcblxyXG59KSA9PiB7XHJcblxyXG5cdGxldCBhcHBseWluZyA9IGZhbHNlO1xyXG5cclxuXHRjb25zdCBjb3Vwb25NYXAgPSBjb3Vwb25zLnJlZHVjZSgobywgYykgPT4gc2V0KG8sIGMuX2lkLCBjKSwge30pO1xyXG5cclxuXHRjb25zdCAkYXBwbHlDb3Vwb25zID0gZm9ybS5maW5kKCcudGh1bmRlci0tYXBwbHktY291cG9ucycpO1xyXG5cclxuXHQkYXBwbHlDb3Vwb25zLm9uKCdjbGljaycsIGFwcGx5Q291cG9ucyk7XHJcblxyXG5cdGJpbmRDb3Vwb25WYWxpZGF0b3IoKTtcclxuXHJcblx0ZnVuY3Rpb24gaXNBcHBseWluZygpIHtcclxuXHRcdHJldHVybiBhcHBseWluZztcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldENvdXBvbihjb3Vwb25JZCkge1xyXG5cdFx0cmV0dXJuIGNvdXBvbk1hcFtjb3Vwb25JZF07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRDb3Vwb25TZWxlY3RvcnMoKSB7XHJcblxyXG5cdFx0cmV0dXJuIGZvcm0uZmluZChbXHJcblx0XHRcdCcudGh1bmRlci0tY2FydC1pdGVtLWNvdXBvbicsXHJcblx0XHRcdCcudGh1bmRlci0tY2FydC1jb3Vwb24nXHJcblx0XHRdLmpvaW4oJywnKSk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBiaW5kQ291cG9uVmFsaWRhdG9yKCkge1xyXG5cclxuXHRcdGdldENvdXBvblNlbGVjdG9ycygpLm9uKCdjaGFuZ2UnLCB2YWxpZGF0ZUNvdXBvbnMpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gYXBwbHlDb3Vwb25zKCkge1xyXG5cclxuXHRcdGlmIChhcHBseWluZykge1xyXG5cdFx0XHQvLyBTdG9wIGNvdXBvbiBzZWxlY3Rpb25zXHJcblx0XHRcdGlmICghb25Db3Vwb25BcHBseSgnZW5kJykpIHJldHVybjtcclxuXHRcdFx0YXBwbHlpbmcgPSBmYWxzZTtcclxuXHRcdFx0JGFwcGx5Q291cG9ucy50ZXh0KGxhYmVscy5hcHBseUNvdXBvbnMpO1xyXG5cdFx0XHRnZXRDb3Vwb25TZWxlY3RvcnMoKS5oaWRlKCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gSW5pdGlhbGl6ZSBjb3Vwb24gc2VsZWN0aW9uc1xyXG5cdFx0XHRpZiAoIW9uQ291cG9uQXBwbHkoJ3N0YXJ0JykpIHJldHVybjtcclxuXHRcdFx0YXBwbHlpbmcgPSB0cnVlO1xyXG5cdFx0XHQkYXBwbHlDb3Vwb25zLnRleHQobGFiZWxzLmZpbmlzaEFwcGx5aW5nQ291cG9ucyk7XHJcblx0XHRcdGdldENvdXBvblNlbGVjdG9ycygpLnNob3coKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXREaXNjb3VudERldGFpbHMoKSB7XHJcblxyXG5cdFx0cmV0dXJuIGdldENvdXBvblNlbGVjdG9ycygpLm1hcChmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW0gPSAkKHRoaXMpLmRhdGEoJ2l0ZW0nKSB8fCBudWxsO1xyXG5cdFx0XHRjb25zdCBjb3Vwb24gPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHsgaXRlbSwgY291cG9uIH07XHJcblxyXG5cdFx0fSkuZ2V0KCkucmVkdWNlKChvLCB7IGl0ZW0sIGNvdXBvbiB9KSA9PiB7XHJcblxyXG5cdFx0XHRpZiAoIWNvdXBvbikgcmV0dXJuIG87XHJcblxyXG5cdFx0XHRyZXR1cm4gaXRlbSA/XHJcblx0XHRcdFx0XHRzZXQobywgJ2l0ZW1zJywgZ2V0KG8sICdpdGVtcycsIFtdKS5jb25jYXQoeyBpdGVtLCBjb3Vwb24gfSkpIDpcclxuXHRcdFx0XHRcdHNldChvLCAnY2FydC5jb3Vwb24nLCBjb3Vwb24pO1xyXG5cdFx0fSwge30pO1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHZhbGlkYXRlQ291cG9ucygpIHtcclxuXHJcblx0XHRjb25zdCAkc2VsZWN0b3IgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgaXRlbUlkID0gJCh0aGlzKS5kYXRhKCdpdGVtJyk7XHJcblx0XHRjb25zdCBjb3Vwb24gPSBjb3Vwb25NYXBbJCh0aGlzKS52YWwoKV07XHJcblx0XHRjb25zdCBpdGVtID0gY2FydCgpLml0ZW1zLmZpbmQoaXRlbSA9PiBpdGVtLl9pZCA9PT0gaXRlbUlkKTtcclxuXHJcblx0XHRpZiAoIWNvdXBvbiB8fCAhaXRlbSkgcmV0dXJuIG51bGw7XHJcblxyXG5cdFx0bGV0IGNvZGUgPSBudWxsO1xyXG5cclxuXHRcdC8vIER1cGxpY2F0ZWQgZGlzY291bnQgYXBwbGljYXRpb25zXHJcblx0XHRpZiAoY291cG9uLm9ubHkgJiZcclxuXHRcdFx0aXRlbS5kaXNjb3VudHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRjb2RlID0gJ2FscmVhZHlEaXNjb3VudGVkJztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJdGVtJ3MgcXVhbnRpdHkgbXVzdCBiZSAxIHRvIGFwcGx5IGEgY291cG9uXHJcblx0XHRpZiAoaXRlbS5xdWFudGl0eS5yYXcgIT09IDEpIHtcclxuXHRcdFx0Y29kZSA9ICdtdXN0QmVPbmVRdWFudGl0eSc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRHVwbGljYXRlZCBjb3Vwb24gdXNhZ2VcclxuXHRcdGNvbnN0IHNlbGVjdGVkID0gZ2V0Q291cG9uU2VsZWN0b3JzKCkubWFwKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJCh0aGlzKS5pcygkc2VsZWN0b3IpID8gbnVsbCA6ICQodGhpcykudmFsKCk7XHJcblx0XHR9KS5nZXQoKS5maWx0ZXIodiA9PiB2KTtcclxuXHJcblx0XHRpZiAoc2VsZWN0ZWQuaW5kZXhPZihjb3Vwb24uX2lkKSA+PSAwKSB7XHJcblx0XHRcdGNvZGUgPSAnZHVwbGljYXRlZENvdXBvbic7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvZGUpIHtcclxuXHRcdFx0JHNlbGVjdG9yLnZhbCgnJyk7XHJcblx0XHRcdHJldHVybiBvbkNvdXBvblNlbGVjdEVycm9yKGNvZGUpO1xyXG5cdFx0fVxyXG5cclxuXHR9XHJcblxyXG5cdHJldHVybiB7XHJcblx0XHRpc0FwcGx5aW5nLFxyXG5cdFx0Z2V0Q291cG9uLFxyXG5cdFx0YmluZENvdXBvblZhbGlkYXRvcixcclxuXHRcdGdldERpc2NvdW50RGV0YWlscyxcclxuXHR9O1xyXG5cclxufTtcclxuXHJcbkNvdXBvbkhhbmRsZXIuc2V0QXBwbGljYWJsZUNvdXBvbnMgPSAob3JkZXJUeXBlLCBjYXJ0LCBjb3Vwb25zKSA9PiB7XHJcblxyXG5cdC8vIEZpbHRlciBvbmx5IGFwcGxpY2FibGUgY291cG9uc1xyXG5cdGNvbnN0IGFwcGxpY2FibGVDb3Vwb25zID0gY291cG9ucy5maWx0ZXIoYyA9PiB7XHJcblxyXG5cdFx0Y29uc3QgeyBhY3RpdmUsIGV4cGlyZXNBdCwgc3Vic2NyaXB0aW9uIH0gPSBjO1xyXG5cclxuXHRcdC8vIEZpbHRlciBjb3Vwb25zIHdoZXJlOlxyXG5cdFx0Ly8gLSBBIGNvdXBvbiBpcyBhY3RpdmVcclxuXHRcdC8vIC0gQSBjb3Vwb24gaXMgZm9yIGEgc3Vic2NyaXB0aW9uIGFuZCB0aGUgdmlldyBpcyBmb3Igc3Vic2NyaXB0aW9uc1xyXG5cdFx0Ly8gLSBBIGNvdXBvbiBpcyBmb3IgYW4gb3JkZXIgYW5kIHRoZSB2aWV3IGlzIGZvciBvcmRlcnNcclxuXHRcdC8vIC0gQSBjb3Vwb24gaGFzIG5vIGV4cGlyYXRpb24gZGF0ZXNcclxuXHRcdC8vIC0gQSBjb3Vwb24gaGFzIGFuIGV4cGlyYXRpb24gZGF0ZSBhbmQgaXQgaXMgbm90IHBhc3NlZCB5ZXRcclxuXHRcdHJldHVybiBhY3RpdmUgJiYgKFxyXG5cdFx0XHRcdFx0KG9yZGVyVHlwZSA9PT0gJ3N1YnNjcmlwdGlvbicgJiYgc3Vic2NyaXB0aW9uLnR5cGUpIHx8XHJcblx0XHRcdFx0XHQob3JkZXJUeXBlID09PSAnb3JkZXInICYmICFzdWJzY3JpcHRpb24udHlwZSlcclxuXHRcdFx0XHQpICYmIChcclxuXHRcdFx0XHRcdCFleHBpcmVzQXQgfHxcclxuXHRcdFx0XHRcdG5ldyBEYXRlKGV4cGlyZXNBdC5yYXcpLnZhbHVlT2YoKSA+IG5ldyBEYXRlKCkudmFsdWVPZigpXHJcblx0XHRcdFx0KTtcclxuXHR9KTtcclxuXHJcblx0Y29uc3QgcHJvZHVjdENvdXBvbnMgPSBhcHBsaWNhYmxlQ291cG9ucy5maWx0ZXIoYyA9PiBjLnR5cGUgPT09ICdwcm9kdWN0Jyk7XHJcblx0Y29uc3QgY2FydENvdXBvbnMgPSBhcHBsaWNhYmxlQ291cG9ucy5maWx0ZXIoYyA9PiBjLnR5cGUgPT09ICdjYXJ0Jyk7XHJcblxyXG5cdGNhcnQuaXRlbXMgPSBjYXJ0Lml0ZW1zLm1hcChpdGVtID0+IHtcclxuXHJcblx0XHRpdGVtLmFwcGxpY2FibGVDb3Vwb25zID0gcHJvZHVjdENvdXBvbnMuZmlsdGVyKGNvdXBvbiA9PiB7XHJcblxyXG5cdFx0XHRyZXR1cm4gYXBwbGljYWJsZUJ5Q2F0ZWdvcnkoaXRlbSwgY291cG9uLmNhdGVnb3J5KSAmJlxyXG5cdFx0XHRcdFx0YXBwbGljYWJsZUJ5UHJpY2UoaXRlbSwgY291cG9uLnByaWNlKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBpdGVtO1xyXG5cdH0pO1xyXG5cclxuXHRjYXJ0LmFwcGxpY2FibGVDb3Vwb25zID0gY2FydENvdXBvbnM7XHJcblxyXG5cdGZ1bmN0aW9uIGFwcGxpY2FibGVCeUNhdGVnb3J5KGl0ZW0sIGNhdGVnb3J5KSB7XHJcblxyXG5cdFx0Y29uc3QgeyBicmFuZCwgY29sbGVjdGlvbnMsIHByb2R1Y3QgfSA9IGl0ZW07XHJcblxyXG5cdFx0aWYgKGNhdGVnb3J5LnR5cGUgPT09ICdhbnknKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHN1YmplY3RzVG9UZXN0ID0ge1xyXG5cdFx0XHRicmFuZHM6ICAgICAgW10uY29uY2F0KGJyYW5kID8gYnJhbmQuX2lkIDogW10pLFxyXG5cdFx0XHRjb2xsZWN0aW9uczogW10uY29uY2F0KC4uLmNvbGxlY3Rpb25zLm1hcCgoeyBwYXRoIH0pID0+IHBhdGgpKVxyXG5cdFx0XHRcdFx0XHRcdC5tYXAoKHsgX2lkIH0pID0+IF9pZCksXHJcblx0XHRcdHByb2R1Y3RzOiAgICBbXS5jb25jYXQocHJvZHVjdCA/IHByb2R1Y3QuX2lkIDogW10pLFxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBjYXRlZ29yeVRvVGVzdCA9IFtcclxuXHRcdFx0J2JyYW5kcycsXHJcblx0XHRcdCdjb2xsZWN0aW9ucycsXHJcblx0XHRcdCdwcm9kdWN0cydcclxuXHRcdF0uZmluZChjID0+IGNhdGVnb3J5W2NdKTtcclxuXHJcblx0XHRjb25zdCB0b1Rlc3QgPSBzdWJqZWN0c1RvVGVzdFtjYXRlZ29yeVRvVGVzdF07XHJcblx0XHRjb25zdCBwb29sID0gY2F0ZWdvcnlbY2F0ZWdvcnlUb1Rlc3RdLm1hcCgoeyBfaWQgfSkgPT4gX2lkKTtcclxuXHJcblx0XHRpZiAoY2F0ZWdvcnkudHlwZSA9PT0gJ2luY2x1ZGUnKSB7XHJcblx0XHRcdHJldHVybiBwb29sLnNvbWUodiA9PiB0b1Rlc3QuaW5kZXhPZih2KSA+PSAwKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY2F0ZWdvcnkudHlwZSA9PT0gJ2V4Y2x1ZGUnKSB7XHJcblx0XHRcdHJldHVybiBwb29sLmV2ZXJ5KHYgPT4gdG9UZXN0LmluZGV4T2YodikgPT09IC0xKTtcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhcHBsaWNhYmxlQnlQcmljZShpdGVtLCB7IG1pbiwgbWF4IH0pIHtcclxuXHJcblx0XHRjb25zdCBwcmljZSA9IGl0ZW0udmFyaWFudC5wcmljZS5zYWxlLnJhdztcclxuXHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQobWluID09PSBudWxsIHx8IG1pbi5yYXcgPCBwcmljZSkgJiZcclxuXHRcdFx0KG1heCA9PT0gbnVsbCB8fCBtYXgucmF3ID4gcHJpY2UpXHJcblx0XHQpO1xyXG5cclxuXHR9XHJcblxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBDb3Vwb25IYW5kbGVyOyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcclxuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9ICh7XHJcblx0Y3VzdG9tZXJGaWVsZHMsXHJcblx0dHJhbnNsYXRpb25LZXlzLFxyXG59KSA9PiB7XHJcblxyXG5cdGZ1bmN0aW9uIHNldEN1c3RvbWVyKGN1c3RvbWVyKSB7XHJcblxyXG5cdFx0aWYgKCFjdXN0b21lcikgcmV0dXJuO1xyXG5cclxuXHRcdGN1c3RvbWVyRmllbGRzLmZvckVhY2goKHsgZmllbGQsICRpbnB1dCB9KSA9PiB7XHJcblxyXG5cdFx0XHQkaW5wdXQudmFsKGdldChjdXN0b21lciwgZmllbGQpIHx8IG51bGwpO1xyXG5cdFx0fSk7XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0Q3VzdG9tZXIoKSB7XHJcblxyXG5cdFx0cmV0dXJuIGN1c3RvbWVyRmllbGRzLnJlZHVjZSgobywgeyBmaWVsZCwgJGlucHV0IH0pID0+IHtcclxuXHRcdFx0cmV0dXJuIHNldChvLCBmaWVsZCwgJGlucHV0LnZhbCgpIHx8IG51bGwpO1xyXG5cdFx0fSwge30pO1xyXG5cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHZhbGlkYXRlQ3VzdG9tZXIoY3VzdG9tZXIpIHtcclxuXHJcblx0XHRmb3IgKGNvbnN0IHsgZmllbGQsIHJlcXVpcmVkIH0gb2YgY3VzdG9tZXJGaWVsZHMpIHtcclxuXHJcblx0XHRcdGlmICghcmVxdWlyZWQpIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0Y29uc3QgdmFsdWUgPSBnZXQoY3VzdG9tZXIsIGZpZWxkKTtcclxuXHJcblx0XHRcdGlmICghdmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gY2FtZWxDYXNlKFsnY3VzdG9tZXInLCB0cmFuc2xhdGlvbktleXNbZmllbGRdIHx8IGZpZWxkLCAncmVxdWlyZWQnXSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdHNldEN1c3RvbWVyLFxyXG5cdFx0Z2V0Q3VzdG9tZXIsXHJcblx0XHR2YWxpZGF0ZUN1c3RvbWVyXHJcblx0fTtcclxuXHJcbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlZFJlc3BvbnNlID0+IHtcclxuXHJcblx0Y29uc3QgaGFuZGxlciA9IHtcclxuXHRcdGNvdW50ZXI6IDAsXHJcblx0XHR0b2tlbjogW10sXHJcblx0XHRyZXF1aXJlZFJlc3BvbnNlXHJcblx0fTtcclxuXHJcblx0aGFuZGxlci5leGVjdXRlID0gdG9rZW4gPT4ge1xyXG5cclxuXHRcdGNvbnN0IHJlcXVpcmVkQ29tcG9uZW50cyA9IE9iamVjdC5rZXlzKGhhbmRsZXIucmVxdWlyZWRSZXNwb25zZSk7XHJcblx0XHRjb25zdCByZXF1aXJlZExlbmd0aCA9IHJlcXVpcmVkQ29tcG9uZW50cy5sZW5ndGg7XHJcblxyXG5cdFx0aWYgKHJlcXVpcmVkTGVuZ3RoID09PSAwKSB7XHJcblx0XHRcdC8vIElmIGEgbnVtYmVyIG9mIHJlcXVpcmVkIHJlc3BvbnNlcyBpcyAwLFxyXG5cdFx0XHQvLyBzaW1wbHkgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC5cclxuXHRcdFx0cmV0dXJuIHt9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGhhbmRsZXIudG9rZW4gPSBoYW5kbGVyLnRva2VuLmNvbmNhdCh0b2tlbikuZmlsdGVyKHRva2VuID0+IHRva2VuKTtcclxuXHJcblx0XHRpZiAoKytoYW5kbGVyLmNvdW50ZXIgPT09IDIgJiZcclxuXHRcdFx0cmVxdWlyZWRMZW5ndGggPT09IGhhbmRsZXIudG9rZW4ubGVuZ3RoKSB7XHJcblxyXG5cdFx0XHRjb25zdCByZXN1bHQgPSByZXF1aXJlZENvbXBvbmVudHMucmVkdWNlKChvLCBjLCBpKSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIHNldChvLCBjLCBoYW5kbGVyLnRva2VuW2ldKTtcclxuXHRcdFx0fSwge30pO1xyXG5cclxuXHRcdFx0aGFuZGxlci5yZXNldCgpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdGhhbmRsZXIucmVzZXQgPSAoKSA9PiB7XHJcblx0XHRoYW5kbGVyLmNvdW50ZXIgPSAwO1xyXG5cdFx0aGFuZGxlci50b2tlbiA9IFtdO1xyXG5cdH07XHJcblxyXG5cdHJldHVybiBoYW5kbGVyO1xyXG5cclxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9ICh7XHJcblx0Zm9ybSxcclxuXHRsYWJlbHMsXHJcblx0c3Vic2NyaXB0aW9uUGxhbnMsXHJcblx0dGltZXpvbmUgPSAoKSA9PiAnVVRDJyxcclxuXHRvblBsYW5DaGFuZ2UgPSAoKSA9PiB7fSxcclxuXHRvblN0YXJ0c0F0Q2hhbmdlID0gKCkgPT4ge31cclxufSkgPT4ge1xyXG5cclxuXHRjb25zdCAkcGxhbiA9IGZvcm0uZmluZCgnW25hbWU9XCJzdWJzY3JpcHRpb25QbGFuXCJdJyk7XHJcblx0Y29uc3QgJHN0YXJ0c0F0U2VjdGlvbiA9IGZvcm0uZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1zdGFydHMtYXQnKTtcclxuXHRjb25zdCAkc3RhcnRzQXRMYWJlbCA9ICRzdGFydHNBdFNlY3Rpb24uZmluZCgnbGFiZWwnKTtcclxuXHRjb25zdCAkc3RhcnRzQXQgPSAkc3RhcnRzQXRTZWN0aW9uLmZpbmQoJ1tuYW1lPVwic3Vic2NyaXB0aW9uU3RhcnRzQXRcIl0nKTtcclxuXHRjb25zdCAkaW1tZWRpYXRlVGlwID0gJCgnLmZpcnN0LW9yZGVyLWlzLWltbWVkaWF0ZScpO1xyXG5cclxuXHRjb25zdCBkYXRlcGlja2VyID0gJHN0YXJ0c0F0LmRhdGEoJ3BpY2thZGF5Jyk7XHJcblxyXG5cdGNvbnN0IHN1YnNjcmlwdGlvblBsYW5NYXAgPSBzdWJzY3JpcHRpb25QbGFucy5yZWR1Y2UoKG8sIHBsYW4pID0+IHtcclxuXHRcdHJldHVybiBzZXQobywgcGxhbi5faWQsIHBsYW4pO1xyXG5cdH0sIHt9KTtcclxuXHJcblx0c3Vic2NyaXB0aW9uUGxhbkNoYW5nZWQoKTtcclxuXHJcblx0aWYgKGRhdGVwaWNrZXIpIHtcclxuXHRcdC8vIFNldCBkYXRlcGlja2VyJ3MgbWluIGRhdGUgYXMgdG9tb3Jyb3cgKDI0IGhvdXJzIGxhdGVyKVxyXG5cdFx0ZGF0ZXBpY2tlci5zZXRNaW5EYXRlKFxyXG5cdFx0XHRuZXcgRGF0ZShuZXcgRGF0ZSgpLnZhbHVlT2YoKSArICgxMDAwICogMzYwMCAqIDI0KSlcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHQkcGxhbi5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcblx0XHRzdWJzY3JpcHRpb25QbGFuQ2hhbmdlZCgpO1xyXG5cdFx0cmV0dXJuIG9uUGxhbkNoYW5nZSgpO1xyXG5cdH0pO1xyXG5cclxuXHQkc3RhcnRzQXQub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIG9uU3RhcnRzQXRDaGFuZ2UoKTtcclxuXHR9KTtcclxuXHJcblx0ZnVuY3Rpb24gZ2V0U3Vic2NyaXB0aW9uUGxhbihzdWJzY3JpcHRpb25QbGFuSWQpIHtcclxuXHRcdHJldHVybiBzdWJzY3JpcHRpb25QbGFuTWFwW3N1YnNjcmlwdGlvblBsYW5JZF07XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiB2YWxpZGF0ZVN1YnNjcmlwdGlvbkRldGFpbChzdWJzY3JpcHRpb24pIHtcclxuXHJcblx0XHRpZiAoIXN1YnNjcmlwdGlvbiB8fCAhc3Vic2NyaXB0aW9uLnBsYW4pIHtcclxuXHRcdFx0cmV0dXJuICdzdWJzY3JpcHRpb25QbGFuUmVxdWlyZWQnO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHBsYW4gPSBzdWJzY3JpcHRpb25QbGFuTWFwW3N1YnNjcmlwdGlvbi5wbGFuXTtcclxuXHJcblx0XHRpZiAocGxhbi5zdGFydHNBdCAmJiAhc3Vic2NyaXB0aW9uLnN0YXJ0c0F0KSB7XHJcblx0XHRcdHJldHVybiAnc3Vic2NyaXB0aW9uU3RhcnRzQXRSZXF1aXJlZCc7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0U3Vic2NyaXB0aW9uRGV0YWlsKCkge1xyXG5cclxuXHRcdGNvbnN0IHBsYW4gPSBzdWJzY3JpcHRpb25QbGFuTWFwWyRwbGFuLnZhbCgpXTtcclxuXHJcblx0XHRpZiAoIXBsYW4pIHJldHVybiBudWxsO1xyXG5cclxuXHRcdGNvbnN0IGRldGFpbCA9IHtcclxuXHRcdFx0cGxhbjogICAgIHBsYW4uX2lkLFxyXG5cdFx0XHR0aW1lem9uZTogdGltZXpvbmUoKSxcclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3Qgc3RhcnRzQXQgPSAoXHJcblx0XHRcdC8vIElmIGBwbGFuLnN0YXJ0c0F0YCBpcyBhIGZ1bmN0aW9uLCBzaW1wbHkgaW52b2tlIGFuZCBnZXQgdGhlIHRpbWUgdmFsdWUuXHJcblx0XHRcdCh0eXBlb2YgcGxhbi5zdGFydHNBdCA9PT0gJ2Z1bmN0aW9uJyAmJiBwbGFuLnN0YXJ0c0F0KHBsYW4pKSB8fFxyXG5cdFx0XHQvLyBJZiBgcGxhbi5zdGFydHNBdGAgaXMgYSAnZGF0ZXBpY2tlcicsIGdldCB0aGUgdGltZSB2YWx1ZSBmcm9tIGRhdGVwaWNrZXIuXHJcblx0XHRcdChwbGFuLnN0YXJ0c0F0ID09PSAnZGF0ZXBpY2tlcicgJiYgJHN0YXJ0c0F0LmRhdGEoJ3BpY2thZGF5JykuZ2V0RGF0ZSgpKVxyXG5cdFx0KSB8fCBudWxsO1xyXG5cclxuXHRcdGlmIChzdGFydHNBdCkge1xyXG5cclxuXHRcdFx0Ly8gU2V0IG9yZGVyIHNjaGVkdWxlcycgdGltZXMgKGRlZmF1bHQgPSAwOTowMClcclxuXHRcdFx0c3RhcnRzQXQuc2V0SG91cnMoXHJcblx0XHRcdFx0Li4uKHBsYW4udGltZSB8fCAnMDk6MDAnKVxyXG5cdFx0XHRcdFx0LnNwbGl0KCc6JylcclxuXHRcdFx0XHRcdC5tYXAodiA9PiBwYXJzZUludCh2KSlcclxuXHRcdFx0XHRcdC5jb25jYXQoMCwgMCwgMCkgLy8gRGVmYXVsdCBtaW51dGVzLCBzZWNvbmRzLCBtaWxsaXNlY29uZHNcclxuXHRcdFx0KTtcclxuXHJcblx0XHRcdGRldGFpbC5zdGFydHNBdCA9IHN0YXJ0c0F0O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBkZXRhaWw7XHJcblxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc3Vic2NyaXB0aW9uUGxhbkNoYW5nZWQoKSB7XHJcblxyXG5cdFx0Y29uc3QgcGxhbiA9IHN1YnNjcmlwdGlvblBsYW5NYXBbJHBsYW4udmFsKCldO1xyXG5cclxuXHRcdGlmICghcGxhbikgcmV0dXJuO1xyXG5cclxuXHRcdGlmIChwbGFuLnN0YXJ0c0F0ID09PSAnZGF0ZXBpY2tlcicpIHtcclxuXHRcdFx0JHN0YXJ0c0F0U2VjdGlvbi5zaG93KCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkc3RhcnRzQXRTZWN0aW9uLmhpZGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocGxhbi5pbW1lZGlhdGUpIHtcclxuXHRcdFx0JGltbWVkaWF0ZVRpcC5zaG93KCk7XHJcblx0XHRcdCRzdGFydHNBdExhYmVsLnRleHQobGFiZWxzLnNlY29uZE9yZGVyU3RhcnRzQXQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0JGltbWVkaWF0ZVRpcC5oaWRlKCk7XHJcblx0XHRcdCRzdGFydHNBdExhYmVsLnRleHQobGFiZWxzLmZpcnN0T3JkZXJTdGFydHNBdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0JHN0YXJ0c0F0LnZhbCgnJyk7XHJcblx0XHRkYXRlcGlja2VyLnNldERhdGUobnVsbCk7XHJcblxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdGdldFN1YnNjcmlwdGlvblBsYW4sXHJcblx0XHR2YWxpZGF0ZVN1YnNjcmlwdGlvbkRldGFpbCxcclxuXHRcdGdldFN1YnNjcmlwdGlvbkRldGFpbCxcclxuXHRcdHN1YnNjcmlwdGlvblBsYW5DaGFuZ2VkLFxyXG5cdH07XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XHJcblxyXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xyXG5cdFx0bmFtZTogJ2N1c3RvbWVyLWNvdXBvbnMnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRwYWdlOiAgICAgICAgICAxLFxyXG5cdFx0bGltaXQ6ICAgICAgICAgMjQsXHJcblx0XHR1c2VQYWdpbmF0aW9uOiB0cnVlLFxyXG5cclxuXHRcdG9uRGVsZXRlOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2RlbGV0ZVN1Y2Nlc3MnKSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29udGV4dC5jb3Vwb25MaXN0SWQgPSAoTWF0aC5yYW5kb20oKSArICcnKS5zbGljZSgyKTtcclxuXHJcblx0XHRjb250ZXh0LmNhdGVnb3JpZXMgPSBjb3Vwb24gPT4gKFxyXG5cdFx0XHRjb3Vwb24uY2F0ZWdvcnkucHJvZHVjdHMgfHxcclxuXHRcdFx0Y291cG9uLmNhdGVnb3J5LmJyYW5kcyB8fFxyXG5cdFx0XHRjb3Vwb24uY2F0ZWdvcnkuY29sbGVjdGlvbnNcclxuXHRcdCkubWFwKG0gPT4gbS5uYW1lKS5qb2luKCcsICcpO1xyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjb3Vwb25MaXN0RmFpbGVkJylcclxuXHRcdH07XHJcblxyXG5cdFx0JC53aGVuKFxyXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAgICAnL3YxL21lL2NvdXBvbnMnLFxyXG5cdFx0XHRcdHF1ZXJ5OiAge1xyXG5cdFx0XHRcdFx0cGFnZTogIGNvbnRleHQub3B0aW9ucy5wYWdlLFxyXG5cdFx0XHRcdFx0bGltaXQ6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLFxyXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbiA/IFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICAgICcvdjEvbWUvY291cG9ucy9jb3VudCcsXHJcblx0XHRcdFx0cXVlcnk6ICB7IHJhdzogdHJ1ZSB9XHJcblx0XHRcdH0pIDogbnVsbFxyXG5cdFx0KS50aGVuKChjb3Vwb25zLCBjb3VudCkgPT4ge1xyXG5cclxuXHRcdFx0Y29udGV4dC5jb3Vwb25zID0gY291cG9uc1swXTtcclxuXHRcdFx0Y29udGV4dC5jb3VudCA9IGNvdW50ID8gY291bnRbMF0uY291bnQgOiBudWxsO1xyXG5cclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRjYWxsYmFja1xyXG5cdFx0KSk7XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkcGFnaW5hdGlvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWN1c3RvbWVyLWNvdXBvbi1saXN0LXBhZ2luYXRpb24nKTtcclxuXHRcdGNvbnN0ICRkZWxldGVDb3Vwb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1kZWxldGUtY291cG9uJyk7XHJcblxyXG5cdFx0JGRlbGV0ZUNvdXBvbi5vbignY2xpY2snLCBkZWxldGVDb3Vwb24pO1xyXG5cclxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbikge1xyXG5cclxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnBhZ2luYXRpb24oe1xyXG5cdFx0XHRcdGNvbnRhaW5lcjogJHBhZ2luYXRpb24sXHJcblx0XHRcdFx0Y3VycmVudFBhZ2U6IGNvbnRleHQub3B0aW9ucy5wYWdlLFxyXG5cdFx0XHRcdHRvdGFsUmVzdWx0OiBjb250ZXh0LmNvdW50LFxyXG5cdFx0XHRcdHJlc3VsdFBlclBhZ2U6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICh7IHBhZ2UgfSkgPT4gVGh1bmRlci5yZW5kZXIoXHJcblx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0J2N1c3RvbWVyLWNvdXBvbnMnLFxyXG5cdFx0XHRcdFx0JC5leHRlbmQoY29udGV4dC5vcHRpb25zLCB7IHBhZ2UgfSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGRlbGV0ZUNvdXBvbigpIHtcclxuXHJcblx0XHRcdGNvbnN0IHNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCQodGhpcyksIHsgYmluZDogZmFsc2UgfSk7XHJcblxyXG5cdFx0XHRzcGlubmVyLnJ1bigpO1xyXG5cclxuXHRcdFx0Y29uc3QgY291cG9uSWQgPSAkKHRoaXMpLmRhdGEoJ2NvdXBvbicpO1xyXG5cdFx0XHRjb25zdCAkY291cG9uID0gJGNvbnRhaW5lci5maW5kKGBbZGF0YS1jb3Vwb249XCIke2NvdXBvbklkfVwiXWApO1xyXG5cclxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY291cG9uRGVsZXRlRmFpbGVkJylcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvY291cG9ucy8ke2NvdXBvbklkfWBcclxuXHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblxyXG5cdFx0XHRcdHNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdCRjb3Vwb24ucmVtb3ZlKCk7XHJcblx0XHRcdFx0JGNvbnRhaW5lci5maW5kKCdbZGF0YS1taF0nKS5tYXRjaEhlaWdodCgpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uRGVsZXRlLFxyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGNvbnRleHRcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdGVyciA9PiBzcGlubmVyLmRvbmUoKVxyXG5cdFx0XHQpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBzdXBwb3J0ZWRDb21wb25lbnRzID0gKCkgPT4gW1xyXG5cdFx0J2N1c3RvbWVyLXVwZGF0ZScsXHJcblx0XHQnY3VzdG9tZXItdXBkYXRlLWFkZHJlc3MnLFxyXG5cdFx0Li4uT2JqZWN0LmtleXMoVGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzKVxyXG5cdFx0XHQubWFwKHR5cGUgPT4gYCR7dHlwZX0tbGlzdGApLFxyXG5cdFx0J2N1c3RvbWVyLWNvdXBvbnMnLFxyXG5cdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXcgP1xyXG5cdFx0XHQnY3VzdG9tZXItcmV2aWV3cycgOlxyXG5cdFx0XHRudWxsLFxyXG5cdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXcgJiZcclxuXHRcdFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3Q29tbWVudCA/XHJcblx0XHRcdCdjdXN0b21lci1yZXZpZXctY29tbWVudHMnIDpcclxuXHRcdFx0bnVsbCxcclxuXHRcdCdjdXN0b21lci1kZWxldGUtYWNjb3VudCcsXHJcblx0XS5maWx0ZXIodiA9PiB2KTtcclxuXHJcblx0Ly8gSW1wbGVtZW50YXRpb25cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdjdXN0b21lci1kYXNoYm9hcmQnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICQuZXh0ZW5kKHtcclxuXHJcblx0XHRuYXY6ICAgc3VwcG9ydGVkQ29tcG9uZW50cygpLCAgICAvLyBOYXZpZ2F0aW9uIGNvbXBvbmVudHNcclxuXHRcdGZvY3VzOiBzdXBwb3J0ZWRDb21wb25lbnRzKClbMF0sIC8vIEluaXRpYWwgY29tcG9uZW50IHRvIGJlIGZvY3VzZWRcclxuXHJcblx0fSwgc3VwcG9ydGVkQ29tcG9uZW50cygpLnJlZHVjZSgobywgY29tcG9uZW50KSA9PiB7XHJcblxyXG5cdFx0cmV0dXJuIHNldChvLCBjYW1lbENhc2UoWydvblZpZXcnLCBjb21wb25lbnRdKSwgZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgJHZpZXdDb250YWluZXIpIHtcclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCR2aWV3Q29udGFpbmVyLCBjb21wb25lbnQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdH0sIHt9KSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3QgdHJhbnNsYXRpb25LZXlzID0ge1xyXG5cdFx0XHQnY3VzdG9tZXItdXBkYXRlJzogICAgICAgICAgJ2N1c3RvbWVySW5mbycsXHJcblx0XHRcdCdjdXN0b21lci11cGRhdGUtYWRkcmVzcyc6ICAnY3VzdG9tZXJBZGRyZXNzJyxcclxuXHRcdFx0J29yZGVyLWxpc3QnOiAgICAgICAgICAgICAgICdvcmRlckxpc3QnLFxyXG5cdFx0XHQnc3Vic2NyaXB0aW9uLWxpc3QnOiAgICAgICAgJ3N1YnNjcmlwdGlvbkxpc3QnLFxyXG5cdFx0XHQnY3VzdG9tZXItY291cG9ucyc6ICAgICAgICAgJ2N1c3RvbWVyQ291cG9ucycsXHJcblx0XHRcdCdjdXN0b21lci1yZXZpZXdzJzogICAgICAgICAnY3VzdG9tZXJSZXZpZXdzJyxcclxuXHRcdFx0J2N1c3RvbWVyLXJldmlldy1jb21tZW50cyc6ICdjdXN0b21lclJldmlld0NvbW1lbnRzJyxcclxuXHRcdFx0J2N1c3RvbWVyLWRlbGV0ZS1hY2NvdW50JzogICdjdXN0b21lckRlbGV0ZUFjY291bnQnXHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnRleHQubmF2ID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLm5hdikubWFwKGNvbXBvbmVudCA9PiAoe1xyXG5cdFx0XHRrZXk6IGNvbXBvbmVudCxcclxuXHRcdFx0dHJhbnNsYXRpb25LZXk6IHRyYW5zbGF0aW9uS2V5c1tjb21wb25lbnRdXHJcblx0XHR9KSk7XHJcblxyXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJG1lbnUgPSAkKHRoaXMpLmZpbmQoYFtkYXRhLWNvbXBvbmVudF1gKTtcclxuXHRcdGNvbnN0ICR2aWV3Q29udGFpbmVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY3VzdG9tZXItZGFzaGJvYXJkLXZpZXcnKTtcclxuXHJcblx0XHR2aWV3Q29tcG9uZW50KGNvbnRleHQub3B0aW9ucy5mb2N1cyk7XHJcblxyXG5cdFx0JG1lbnUub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiB2aWV3Q29tcG9uZW50KCQodGhpcykuZGF0YSgnY29tcG9uZW50JykpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gdmlld0NvbXBvbmVudChjb21wb25lbnQpIHtcclxuXHJcblx0XHRcdCRtZW51LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0JGNvbnRhaW5lci5maW5kKGBbZGF0YS1jb21wb25lbnQ9XCIke2NvbXBvbmVudH1cIl1gKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdGNvbnRleHQub3B0aW9uc1tjYW1lbENhc2UoWydvblZpZXcnLCBjb21wb25lbnRdKV0sXHJcblx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRcdCR2aWV3Q29udGFpbmVyXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnY3VzdG9tZXItZGVsZXRlLWFjY291bnQnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblxyXG5cdFx0Y29uZmlybU9uRGVsZXRlOiB0cnVlLCAvLyBXaGV0aGVyIHRvIGNvbmZpcm0gYmVmb3JlIGRlbGV0aW5nXHJcblxyXG5cdFx0b25EZWxldGU6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcclxuXHJcblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdkZWxldGVTdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0bG9jYXRpb24ucmVwbGFjZShUaHVuZGVyLm9wdGlvbnMucm9vdCk7XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1kZWxldGUtYWNjb3VudC1mb3JtJyk7XHJcblx0XHRjb25zdCAkYnV0dG9uID0gJGZvcm0uZmluZCgnLnRodW5kZXItLWRlbGV0ZS1hY2NvdW50Jyk7XHJcblx0XHRjb25zdCBidXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYnV0dG9uKTtcclxuXHJcblx0XHQkYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0aWYgKCFjb250ZXh0Lm9wdGlvbnMuY29uZmlybU9uRGVsZXRlKSB7XHJcblx0XHRcdFx0cmV0dXJuIGRlbGV0ZUN1c3RvbWVyKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnBsdWdpbnMuY29uZmlybWF0aW9uKFxyXG5cdFx0XHRcdGNvbnRleHQubSgnZGVsZXRlQ29uZmlybScpLFxyXG5cdFx0XHRcdCgpID0+IGRlbGV0ZUN1c3RvbWVyKCksXHJcblx0XHRcdFx0KCkgPT4gYnV0dG9uU3Bpbm5lci5kb25lKClcclxuXHRcdFx0KTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVDdXN0b21lcigpIHtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oYGRlbGV0ZUZhaWxlZGApXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXHJcblx0XHRcdFx0dXJsOiAgICAnL3YxL21lJyxcclxuXHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblxyXG5cdFx0XHRcdGJ1dHRvblNwaW5uZXIuZG9uZSgpO1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLmxvZ291dCgpO1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25EZWxldGUsXHJcblx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0Y29udGV4dFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0ZXJyID0+IGJ1dHRvblNwaW5uZXIuZG9uZSgpXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdjdXN0b21lci1sb2dpbidcclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcclxuXHJcblx0XHRzb2NpYWxBcHBzOiBUaHVuZGVyLm9wdGlvbnMuc29jaWFsQXBwcyxcclxuXHJcblx0XHRvbkxvZ2luOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XHJcblxyXG5cdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnbG9naW5TdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0bG9jYXRpb24ucmVwbGFjZShUaHVuZGVyLm9wdGlvbnMucm9vdCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdG9uU29jaWFsTG9naW46IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIGRhdGEpIHtcclxuXHJcblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdsb2dpblN1Y2Nlc3MnKSk7XHJcblxyXG5cdFx0XHRsb2NhdGlvbi5yZXBsYWNlKFRodW5kZXIub3B0aW9ucy5yb290KTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29udGV4dC5zb2NpYWwgPSAoKSA9PiBUaHVuZGVyLnVpc1snc29jaWFsLWxvZ2luJ10oe1xyXG5cdFx0XHR0eXBlOiAgICAnbG9naW4nLFxyXG5cdFx0XHR2ZW5kb3JzOiBjb250ZXh0Lm9wdGlvbnMuc29jaWFsQXBwc1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0IHNvY2lhbERhdGEgPSBUaHVuZGVyLnV0aWwuaGFuZGxlU29jaWFsTG9naW4oKTtcclxuXHJcblx0XHRpZiAoc29jaWFsRGF0YSkge1xyXG5cclxuXHRcdFx0VGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblNvY2lhbExvZ2luLFxyXG5cdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0Y29udGV4dCxcclxuXHRcdFx0XHRzb2NpYWxEYXRhXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkZm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWxvZ2luLWZvcm0nKTtcclxuXHRcdGNvbnN0ICRidXR0b24gPSAkZm9ybS5maW5kKCcudGh1bmRlci0tbG9naW4tY3VzdG9tZXInKTtcclxuXHRcdGNvbnN0ICRnb1RvUmVzZXRQYXNzd29yZCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWdvLXRvLXJlc2V0LXBhc3N3b3JkJyk7XHJcblx0XHRjb25zdCBidXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYnV0dG9uKTtcclxuXHJcblx0XHQkZ29Ub1Jlc2V0UGFzc3dvcmQub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXJlc2V0LXBhc3N3b3JkJywge1xyXG5cdFx0XHRcdGJhY2s6IHtcclxuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXHJcblx0XHRcdFx0XHRjb21wb25lbnQ6ICBpbXBsZW1lbnRhdGlvbi5uYW1lLFxyXG5cdFx0XHRcdFx0b3B0aW9uczogICAgY29udGV4dC5vcHRpb25zXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKGltcGxlbWVudGF0aW9uLm5hbWUsICRidXR0b24sIGZ1bmN0aW9uKHRva2VuLCByZXNldFJlY2FwdGNoYSkge1xyXG5cclxuXHRcdFx0Y29uc3QgZGF0YSA9IFRodW5kZXIudXRpbC51c2VySWRPckVtYWlsKFxyXG5cdFx0XHRcdFRodW5kZXIudXRpbC5mb3JtVG9KU09OKCRmb3JtLnNlcmlhbGl6ZUFycmF5KCkpXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xyXG5cdFx0XHRcdGJ1dHRvblNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdCdub3QtZXhpc3RpbmctY3VzdG9tZXInOiBjb250ZXh0Lm0oJ25vdEV4aXN0aW5nQ3VzdG9tZXInKSxcclxuXHRcdFx0XHQnaW52YWxpZC1wYXNzd29yZCc6ICAgICAgY29udGV4dC5tKCdpbnZhbGlkUGFzc3dvcmQnKSxcclxuXHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgICAgICAgY29udGV4dC5tKCdsb2dpbkZhaWxlZCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdHVybDogICAgJy92MS9jdXN0b21lcnMvYXV0aCcsXHJcblx0XHRcdFx0ZGF0YTogICBkYXRhLFxyXG5cdFx0XHR9KS50aGVuKGRhdGEgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCBzdG9yYWdlID0gVGh1bmRlci5wbHVnaW5zLmNyZWRlbnRpYWxTdG9yYWdlO1xyXG5cclxuXHRcdFx0XHRzdG9yYWdlLnNldEl0ZW0oVGh1bmRlci5vcHRpb25zLmF1dGhTdG9yYWdlLmN1c3RvbWVyLCBkYXRhLnRva2VuKTtcclxuXHJcblx0XHRcdFx0VGh1bmRlci5oZWFkZXIoKTtcclxuXHJcblx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uTG9naW4sXHJcblx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0Y29udGV4dFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XHJcblxyXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0KCkgPT4gcmVzZXRTdGF0ZSgpXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG59OyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcclxuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgdHJhbnNsYXRpb25LZXkgPSB7XHJcblx0XHQnbmFtZS5maXJzdCc6ICdmaXJzdE5hbWUnLFxyXG5cdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxyXG5cdFx0J25hbWUuZnVsbCc6ICAnZnVsbE5hbWUnLFxyXG5cdH07XHJcblxyXG5cdC8vIEltcGxlbWVudGF0aW9uXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnY3VzdG9tZXItcmVnaXN0ZXInXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblxyXG5cdFx0ZmllbGRzOiAgICAgICAgICBUaHVuZGVyLm9wdGlvbnMuY3VzdG9tZXJSZWdpc3RyYXRpb25GaWVsZHMsXHJcblx0XHRiaXJ0aGRhdGVGb3JtYXQ6IFRodW5kZXIub3B0aW9ucy5kYXRlSW5wdXRGb3JtYXQsXHJcblx0XHRzb2NpYWxBcHBzOiAgICAgIFRodW5kZXIub3B0aW9ucy5zb2NpYWxBcHBzLFxyXG5cclxuXHRcdG9uUmVnaXN0ZXI6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIGN1c3RvbWVyKSB7XHJcblxyXG5cdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgncmVnaXN0ZXJTdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLWxvZ2luJyk7XHJcblx0XHR9LFxyXG5cdFx0b25Tb2NpYWxSZWdpc3RlcjogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgZGF0YSkge1xyXG5cclxuXHRcdFx0aWYgKGRhdGEuZXJyb3IpIHtcclxuXHRcdFx0XHRpZiAoZGF0YS5lcnJvciA9PT0gJ2R1cGxpY2F0ZWQtZW1haWwnKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdkdXBsaWNhdGVkRW1haWwnKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgncmVnaXN0ZXJTdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0bG9jYXRpb24ucmVwbGFjZShUaHVuZGVyLm9wdGlvbnMucm9vdCk7XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGNvbnN0IGJpcnRoT3B0aW9ucyA9IHtcclxuXHRcdFx0WVlZWTogeyBrZXk6ICdiaXJ0aFllYXInLCB0cmFuc2xhdGlvbktleTogJ3llYXInLCB0ZXN0ZXI6IC9eXFxkezR9JC8gfSxcclxuXHRcdFx0TU06ICAgeyBrZXk6ICdiaXJ0aE1vbnRoJywgdHJhbnNsYXRpb25LZXk6ICdtb250aCcsIHRlc3RlcjogL15cXGR7MSwyfSQvIH0sXHJcblx0XHRcdEREOiAgIHsga2V5OiAnYmlydGhEYXRlJywgdHJhbnNsYXRpb25LZXk6ICdkYXRlJywgdGVzdGVyOiAvXlxcZHsxLDJ9JC8gfVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBiaXJ0aGRhdGVGb3JtYXRzID0gY29udGV4dC5vcHRpb25zLmJpcnRoZGF0ZUZvcm1hdC5zcGxpdCgnLScpO1xyXG5cclxuXHRcdGNvbnRleHQuZmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLmZpZWxkcykubWFwKGZpZWxkID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IFtrZXksIHJlcXVpcmVkXSA9IGZpZWxkLnNwbGl0KCc6Jyk7XHJcblxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHJlcXVpcmVkOiAgICAgICByZXF1aXJlZCA9PT0gJ3JlcXVpcmVkJyxcclxuXHRcdFx0XHRrZXk6ICAgICAgICAgICAga2V5LFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9uS2V5OiB0cmFuc2xhdGlvbktleVtrZXldIHx8IGtleVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnRleHQuYmlydGhkYXRlRmllbGRzID0gYmlydGhkYXRlRm9ybWF0cy5tYXAoKGZvcm1hdCwgaSkgPT4ge1xyXG5cclxuXHRcdFx0cmV0dXJuICQuZXh0ZW5kKHtcclxuXHRcdFx0XHRsYXN0OiBpID09PSBiaXJ0aGRhdGVGb3JtYXRzLmxlbmd0aCAtIDFcclxuXHRcdFx0fSwgYmlydGhPcHRpb25zW2Zvcm1hdF0pO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnRleHQuc29jaWFsID0gKCkgPT4gVGh1bmRlci51aXNbJ3NvY2lhbC1sb2dpbiddKHtcclxuXHRcdFx0dHlwZTogICAgJ3JlZ2lzdGVyJyxcclxuXHRcdFx0dmVuZG9yczogY29udGV4dC5vcHRpb25zLnNvY2lhbEFwcHNcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBjb250ZXh0KTtcclxuXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHJcblx0XHRjb25zdCBzb2NpYWxEYXRhID0gVGh1bmRlci51dGlsLmhhbmRsZVNvY2lhbExvZ2luKCk7XHJcblxyXG5cdFx0aWYgKHNvY2lhbERhdGEpIHtcclxuXHJcblx0XHRcdFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25Tb2NpYWxSZWdpc3RlcixcclxuXHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdGNvbnRleHQsXHJcblx0XHRcdFx0c29jaWFsRGF0YVxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZWdpc3Rlci1mb3JtJyk7XHJcblx0XHRjb25zdCAkYnV0dG9uID0gJGZvcm0uZmluZCgnLnRodW5kZXItLXJlZ2lzdGVyLWN1c3RvbWVyJyk7XHJcblx0XHRjb25zdCBidXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYnV0dG9uLCB7IGJpbmQ6IGZhbHNlIH0pO1xyXG5cclxuXHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKHtcclxuXHRcdFx0Y29tcG9uZW50TmFtZTogaW1wbGVtZW50YXRpb24ubmFtZSxcclxuXHRcdFx0YnV0dG9uOiAgICAgICAgJGJ1dHRvbixcclxuXHRcdFx0dmFsaWRhdGU6ICAgICAgdmFsaWRhdGVEYXRhLFxyXG5cdFx0XHRjYWxsYmFjazogICAgICBmdW5jdGlvbih0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcclxuXHJcblx0XHRcdFx0YnV0dG9uU3Bpbm5lci5ydW4oKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGJ1dHRvblNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0UmVjYXB0Y2hhICYmIHJlc2V0UmVjYXB0Y2hhKCk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3Qgc3VjY2VzcyA9IGN1c3RvbWVyID0+IHtcclxuXHJcblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblJlZ2lzdGVyLFxyXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRcdFx0XHRjdXN0b21lclxyXG5cdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRTdGF0ZSgpO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGNvbnN0IGZhaWwgPSBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoZXJyLnJlc3BvbnNlSlNPTiwge1xyXG5cdFx0XHRcdFx0J2R1cGxpY2F0ZWQtZW1haWwnOiAgIGNvbnRleHQubSgnZHVwbGljYXRlZEVtYWlsJyksXHJcblx0XHRcdFx0XHQnZHVwbGljYXRlZC11c2VyLWlkJzogY29udGV4dC5tKCdkdXBsaWNhdGVkVXNlcklkJyksXHJcblx0XHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgICAgY29udGV4dC5tKCdyZWdpc3RlckZhaWxlZCcpLFxyXG5cdFx0XHRcdFx0dmFsaWRhdGlvbjogZXJyID0+IHtcclxuXHJcblx0XHRcdFx0XHRcdGNvbnN0IFssIC4uLnBhdGhdID0gZXJyLnZhbGlkYXRpb24uc291cmNlLnNwbGl0KCcuJyk7XHJcblx0XHRcdFx0XHRcdGNvbnN0IGZpZWxkID0gcGF0aC5qb2luKCcuJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5tKGNhbWVsQ2FzZShbJ2ludmFsaWQnLCB0cmFuc2xhdGlvbktleVtmaWVsZF0gfHwgZmllbGRdKSk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdH0sIGVyciA9PiB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRTdGF0ZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICAnL3YxL21lJyxcclxuXHRcdFx0XHRcdGRhdGE6ICAgZ2V0Q3VzdG9tZXIoKSxcclxuXHRcdFx0XHR9KS50aGVuKHN1Y2Nlc3MsIGZhaWwpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdldEN1c3RvbWVyKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgYmlydGhGaWVsZHMgPSBbXHJcblx0XHRcdFx0J2JpcnRoWWVhcicsXHJcblx0XHRcdFx0J2JpcnRoTW9udGgnLFxyXG5cdFx0XHRcdCdiaXJ0aERhdGUnLFxyXG5cdFx0XHRdO1xyXG5cclxuXHRcdFx0Y29uc3QgZGF0YSA9IFRodW5kZXIudXRpbC5mb3JtVG9KU09OKCRmb3JtLnNlcmlhbGl6ZUFycmF5KCkpO1xyXG5cclxuXHRcdFx0aWYgKGJpcnRoRmllbGRzLmV2ZXJ5KGZpZWxkID0+IGRhdGFbZmllbGRdKSkge1xyXG5cclxuXHRcdFx0XHRkYXRhLmJpcnRoZGF0ZSA9IG5ldyBEYXRlKFxyXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aFllYXIsXHJcblx0XHRcdFx0XHRkYXRhLmJpcnRoTW9udGggLSAxLFxyXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aERhdGVcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRiaXJ0aEZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IGRlbGV0ZSBkYXRhW2ZpZWxkXSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gZGF0YTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdmFsaWRhdGVEYXRhKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgY3VzdG9tZXIgPSBnZXRDdXN0b21lcigpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVxdWlyZWRGaWVsZHMgPSBjb250ZXh0LmZpZWxkcy5maWx0ZXIoKHsgcmVxdWlyZWQgfSkgPT4gcmVxdWlyZWQpO1xyXG5cclxuXHRcdFx0Zm9yIChjb25zdCB7IGtleSwgdHJhbnNsYXRpb25LZXkgfSBvZiByZXF1aXJlZEZpZWxkcykge1xyXG5cclxuXHRcdFx0XHRpZiAoIWdldChjdXN0b21lciwga2V5LCBudWxsKSkge1xyXG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKGAke3RyYW5zbGF0aW9uS2V5fVJlcXVpcmVkYCkpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdjdXN0b21lci1yZXNldC1wYXNzd29yZCdcclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcclxuXHRcdGN1c3RvbWVyOiAgJ2N1c3RvbWVyJyxcclxuXHRcdHNlY3JldDogICAgJ3NlY3JldCcsXHJcblx0XHRpbnB1dDogICAgICdxdWVyeScsICAgICAgLy8gJ3F1ZXJ5JyBvciAnYXR0cmlidXRlJ1xyXG5cdFx0ZXhwaXJlc0luOiA2MCAqIDYwICogMjQsIC8vIDI0IGhvdXJzXHJcblx0XHRvbkVtYWlsUmVxdWVzdDogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge1xyXG5cclxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3JlcXVlc3RFbWFpbFN1Y2Nlc3MnKSk7XHJcblx0XHR9LFxyXG5cdFx0b25QYXNzd29yZFJlc2V0OiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XHJcblxyXG5cdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnc2V0UGFzc3dvcmRTdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLWxvZ2luJyk7XHJcblx0XHR9LFxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMuaW5wdXQgPT09ICdxdWVyeScpIHtcclxuXHJcblx0XHRcdGNvbnN0IHF1ZXJ5ID0gVGh1bmRlci51dGlsLnVybFF1ZXJ5KCk7XHJcblx0XHRcdGNvbnN0IGN1c3RvbWVyRmllbGQgPSBjb250ZXh0Lm9wdGlvbnMuY3VzdG9tZXI7XHJcblx0XHRcdGNvbnN0IHNlY3JldEZpZWxkID0gY29udGV4dC5vcHRpb25zLnNlY3JldDtcclxuXHJcblx0XHRcdGlmIChxdWVyeVtjdXN0b21lckZpZWxkXSAmJlxyXG5cdFx0XHRcdHF1ZXJ5W3NlY3JldEZpZWxkXSkge1xyXG5cclxuXHRcdFx0XHRjb250ZXh0LmN1c3RvbWVyID0gcXVlcnlbY3VzdG9tZXJGaWVsZF07XHJcblx0XHRcdFx0Y29udGV4dC5zZWNyZXQgPSBxdWVyeVtzZWNyZXRGaWVsZF07XHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy5pbnB1dCA9PT0gJ2F0dHJpYnV0ZScpIHtcclxuXHJcblx0XHRcdGNvbnRleHQuY3VzdG9tZXIgPSBjb250ZXh0Lm9wdGlvbnMuY3VzdG9tZXI7XHJcblx0XHRcdGNvbnRleHQuc2VjcmV0ID0gY29udGV4dC5vcHRpb25zLnNlY3JldDtcclxuXHRcdH1cclxuXHJcblx0XHRjb250ZXh0LnR5cGUgPSBjb250ZXh0LmN1c3RvbWVyICYmXHJcblx0XHRcdFx0XHRcdGNvbnRleHQuc2VjcmV0ID9cclxuXHRcdFx0XHRcdFx0XHQncmVzZXQtcGFzc3dvcmQnIDpcclxuXHRcdFx0XHRcdFx0XHQncmVxdWVzdC1lbWFpbCc7XHJcblxyXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXNldC1wYXNzd29yZC1mb3JtJyk7XHJcblxyXG5cdFx0aWYgKGNvbnRleHQudHlwZSA9PT0gJ3JlcXVlc3QtZW1haWwnKSB7XHJcblxyXG5cdFx0XHRjb25zdCAkcmVxdWVzdEVtYWlsID0gJGZvcm0uZmluZCgnLnRodW5kZXItLXJlcXVlc3QtZW1haWwnKTtcclxuXHRcdFx0Y29uc3QgJGdvVG9DdXN0b21lckxvZ2luID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tZ28tdG8tY3VzdG9tZXItbG9naW4nKTtcclxuXHRcdFx0Y29uc3QgcmVxdWVzdEVtYWlsU3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJHJlcXVlc3RFbWFpbCk7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnV0aWwuYmluZEJhY2tCdXR0b24oJGdvVG9DdXN0b21lckxvZ2luLCBjb250ZXh0KTtcclxuXHJcblx0XHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKGltcGxlbWVudGF0aW9uLm5hbWUsICRyZXF1ZXN0RW1haWwsIGZ1bmN0aW9uKHRva2VuLCByZXNldFJlY2FwdGNoYSkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBkYXRhID0gJC5leHRlbmQoVGh1bmRlci51dGlsLnVzZXJJZE9yRW1haWwoXHJcblx0XHRcdFx0XHRUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKVxyXG5cdFx0XHRcdCksIHtcclxuXHRcdFx0XHRcdGV4cGlyZXNJbjogY29udGV4dC5vcHRpb25zLmV4cGlyZXNJbixcclxuXHRcdFx0XHRcdHNjb3BlOiAgICAgJ3Jlc2V0LXBhc3N3b3JkJ1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0cmVxdWVzdEVtYWlsU3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0XHQnbm90LWV4aXN0aW5nLWN1c3RvbWVyJzogY29udGV4dC5tKCdub3RFeGlzdGluZ0N1c3RvbWVyJyksXHJcblx0XHRcdFx0XHQnZW1haWwtcmVxdWlyZWQnOiAgICAgICAgY29udGV4dC5tKCdjdXN0b21lcldpdGhvdXRFbWFpbCcpLFxyXG5cdFx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgICAgIGNvbnRleHQubSgncmVxdWVzdEVtYWlsRmFpbGVkJylcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAgJ1BPU1QnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICAgJy92MS9jdXN0b21lcnMvdmVyaWZpY2F0aW9ucy9lbWFpbHMnLFxyXG5cdFx0XHRcdFx0ZGF0YTogICAgZGF0YSxcclxuXHRcdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHJcblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkVtYWlsUmVxdWVzdCxcclxuXHRcdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdFx0Y29udGV4dFxyXG5cdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRTdGF0ZSgpO1xyXG5cclxuXHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdFx0ZXJyID0+IHJlc2V0U3RhdGUoKVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZXh0LnR5cGUgPT09ICdyZXNldC1wYXNzd29yZCcpIHtcclxuXHJcblx0XHRcdGNvbnN0ICRyZXNldFBhc3N3b3JkID0gJGZvcm0uZmluZCgnLnRodW5kZXItLXJlc2V0LXBhc3N3b3JkJyk7XHJcblx0XHRcdGNvbnN0IHJlc2V0UGFzc3dvcmRTcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkcmVzZXRQYXNzd29yZCk7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYShpbXBsZW1lbnRhdGlvbi5uYW1lLCAkcmVzZXRQYXNzd29yZCwgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRhdGEgPSAkLmV4dGVuZChUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKSwge1xyXG5cdFx0XHRcdFx0c2VjcmV0OiBjb250ZXh0LnNlY3JldFxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0cmVzZXRQYXNzd29yZFNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0UmVjYXB0Y2hhICYmIHJlc2V0UmVjYXB0Y2hhKCk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdzZXRQYXNzd29yZEZhaWxlZCcpXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0VGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogICAgJ1BVVCcsXHJcblx0XHRcdFx0XHR1cmw6ICAgICAgIGAvdjEvY3VzdG9tZXJzLyR7Y29udGV4dC5jdXN0b21lcn0vcGFzc3dvcmRgLFxyXG5cdFx0XHRcdFx0ZGF0YTogICAgICBkYXRhLFxyXG5cdFx0XHRcdFx0cmVjYXB0Y2hhOiB0b2tlbixcclxuXHRcdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHJcblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblBhc3N3b3JkUmVzZXQsXHJcblx0XHRcdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0XHRcdGNvbnRleHRcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcclxuXHJcblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRcdGVycm9ycyxcclxuXHRcdFx0XHRcdGVyciA9PiByZXNldFN0YXRlKClcclxuXHRcdFx0XHQpKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJjb25zdCBwcm9kdWN0UmV2aWV3ID0gcmVxdWlyZSgnLi4vcHJvZHVjdC1yZXZpZXcnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XHJcblxyXG5cdGNvbnN0IHByb2R1Y3RSZXZpZXdJbnN0YW5jZSA9IHByb2R1Y3RSZXZpZXcoVGh1bmRlcik7XHJcblxyXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xyXG5cdFx0bmFtZTogJ2N1c3RvbWVyLXJldmlldy1jb21tZW50J1xyXG5cdH07XHJcblxyXG5cdC8vIE90aGVyIG9wdGlvbnMgd2lsbCBiZSBleGFjdGx5IHNhbWUgYXMgYHByb2R1Y3QtcmV2aWV3YCBjb21wb25lbnRcclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gJC5leHRlbmQoXHJcblx0XHRwcm9kdWN0UmV2aWV3SW5zdGFuY2Uub3B0aW9ucygpLFxyXG5cdFx0e1xyXG5cdFx0XHRjb21tZW50OiBudWxsLCAvLyBDb21tZW50IElEXHJcblx0XHR9XHJcblx0KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHJcblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdGNvbnN0ICRiYWNrVG9Db21tZW50cyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWJhY2stdG8tY29tbWVudHMnKTtcclxuXHRcdGNvbnN0ICRyZXZpZXdDb250YWluZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1yZXZpZXctY29tbWVudC1jb250YWluZXInKTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwuYmluZEJhY2tCdXR0b24oJGJhY2tUb0NvbW1lbnRzLCBjb250ZXh0KTtcclxuXHJcblx0XHRUaHVuZGVyLnJlbmRlcigkcmV2aWV3Q29udGFpbmVyLCAncHJvZHVjdC1yZXZpZXcnLCAkLmV4dGVuZChcclxuXHRcdFx0e30sXHJcblx0XHRcdGNvbnRleHQub3B0aW9ucyxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHNob3dQcm9kdWN0OiAgdHJ1ZSxcclxuXHRcdFx0XHRzaG93Q29tbWVudHM6IHtcclxuXHRcdFx0XHRcdGZpbHRlcjogICAgICAgICB7IGlkczogY29udGV4dC5vcHRpb25zLmNvbW1lbnQgfSxcclxuXHRcdFx0XHRcdHVzZUJvZHlFeGNlcnB0OiBmYWxzZSxcclxuXHRcdFx0XHRcdHVzZUZsYWc6ICAgICAgICBmYWxzZSxcclxuXHRcdFx0XHRcdHVzZVBhZ2luYXRpb246ICBmYWxzZSxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHR9XHJcblx0XHQpKTtcclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJjb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdjdXN0b21lci1yZXZpZXctY29tbWVudHMnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRwYWdlOiAgICAgICAgICAgIDEsICAgICAgICAgICAgLy8gV2hpY2ggcGFnZSBvZiBjb21tZW50cz9cclxuXHRcdGxpbWl0OiAgICAgICAgICAgMTAsICAgICAgICAgICAvLyBIb3cgbWFueSBjb21tZW50cyBhdCBvbmNlP1xyXG5cdFx0c29ydDogICAgICAgICAgICAnLWNyZWF0ZWRBdCcsIC8vIERlZmF1bHQgc29ydCB2YWx1ZVxyXG5cdFx0dXNlUGFnaW5hdGlvbjogICB0cnVlLCAgICAgICAgIC8vIFVzZSBQYWdpbmF0aW9uP1xyXG5cclxuXHRcdG9uVmlld0NvbW1lbnQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHJldmlld0lkLCBjb21tZW50SWQpIHtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQnLCB7XHJcblx0XHRcdFx0cmV2aWV3OiAgcmV2aWV3SWQsXHJcblx0XHRcdFx0Y29tbWVudDogY29tbWVudElkLFxyXG5cdFx0XHRcdGJhY2s6ICAgIHtcclxuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXHJcblx0XHRcdFx0XHRjb21wb25lbnQ6ICBpbXBsZW1lbnRhdGlvbi5uYW1lLFxyXG5cdFx0XHRcdFx0b3B0aW9uczogICAgY29udGV4dC5vcHRpb25zXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3QgY3VzdG9tZXIgPSBUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoJ2N1c3RvbWVyJykuc3ViO1xyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjb21tZW50TGlzdEZhaWxlZCcpXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiAkLndoZW4oXHJcblx0XHRcdGZldGNoQ29tbWVudHMoKSxcclxuXHRcdFx0Y291bnRDb21tZW50cygpXHJcblx0XHQpLnRoZW4oKGNvbW1lbnRzLCBjb3VudCkgPT4gY2FsbGJhY2sobnVsbCwgJC5leHRlbmQoY29udGV4dCwge1xyXG5cdFx0XHRjb21tZW50czogY29tbWVudHNbMF0gfHwgW10sXHJcblx0XHRcdGNvdW50OiAgICBjb3VudCA/IGNvdW50WzBdLmNvdW50IDogbnVsbCxcclxuXHRcdH0pKSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRlcnJvcnMsXHJcblx0XHRcdGNhbGxiYWNrXHJcblx0XHQpKTtcclxuXHJcblx0XHRmdW5jdGlvbiBmZXRjaENvbW1lbnRzKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cycsXHJcblx0XHRcdFx0cXVlcnk6IHtcclxuXHRcdFx0XHRcdGN1c3RvbWVyOiBjdXN0b21lcixcclxuXHRcdFx0XHRcdHBhZ2U6ICAgICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcclxuXHRcdFx0XHRcdGxpbWl0OiAgICBjb250ZXh0Lm9wdGlvbnMubGltaXQsXHJcblx0XHRcdFx0XHRzb3J0OiAgICAgY29udGV4dC5vcHRpb25zLnNvcnQsXHJcblx0XHRcdFx0XHRmaWVsZHM6ICAgW1xyXG5cdFx0XHRcdFx0XHQncmV2aWV3JyxcclxuXHRcdFx0XHRcdFx0J2N1c3RvbWVyJyxcclxuXHRcdFx0XHRcdFx0J2JvZHknLFxyXG5cdFx0XHRcdFx0XHQnY3JlYXRlZEF0JyxcclxuXHRcdFx0XHRcdF0uam9pbignLCcpLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvdW50Q29tbWVudHMoKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogJy92MS9wcm9kdWN0cy9yZXZpZXdzL2NvbW1lbnRzL2NvdW50JyxcclxuXHRcdFx0XHRxdWVyeToge1xyXG5cdFx0XHRcdFx0Y3VzdG9tZXI6IGN1c3RvbWVyLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0IGNvbW1lbnRNYXAgPSBjb250ZXh0LmNvbW1lbnRzLnJlZHVjZSgobywgY29tbWVudCkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gc2V0KG8sIGNvbW1lbnQuX2lkLCBjb21tZW50KTtcclxuXHRcdH0sIHt9KTtcclxuXHJcblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdGNvbnN0ICR2aWV3Q29tbWVudCA9ICQodGhpcykuZmluZChbXHJcblx0XHRcdCcudGh1bmRlci0tY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQtYm9keScsXHJcblx0XHRcdCcudGh1bmRlci0tdmlldy1jb21tZW50JyxcclxuXHRcdF0uam9pbignLCcpKTtcclxuXHRcdGNvbnN0ICRwYWdpbmF0aW9uID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY3VzdG9tZXItcmV2aWV3LWNvbW1lbnQtbGlzdC1wYWdpbmF0aW9uJyk7XHJcblxyXG5cdFx0JHZpZXdDb21tZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgY29tbWVudElkID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1jb21tZW50XScpLmRhdGEoJ2NvbW1lbnQnKTtcclxuXHRcdFx0Y29uc3QgY29tbWVudCA9IGNvbW1lbnRNYXBbY29tbWVudElkXTtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVmlld0NvbW1lbnQsXHJcblx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRcdGNvbW1lbnQucmV2aWV3Ll9pZCxcclxuXHRcdFx0XHRjb21tZW50Ll9pZFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbikge1xyXG5cclxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnBhZ2luYXRpb24oe1xyXG5cdFx0XHRcdGNvbnRhaW5lcjogICAgICRwYWdpbmF0aW9uLFxyXG5cdFx0XHRcdGN1cnJlbnRQYWdlOiAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxyXG5cdFx0XHRcdHRvdGFsUmVzdWx0OiAgIGNvbnRleHQuY291bnQucmF3LFxyXG5cdFx0XHRcdHJlc3VsdFBlclBhZ2U6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwiY29uc3QgcHJvZHVjdFJldmlldyA9IHJlcXVpcmUoJy4uL3Byb2R1Y3QtcmV2aWV3Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdjdXN0b21lci1yZXZpZXcnXHJcblx0fTtcclxuXHJcblx0Ly8gQWxsIG9wdGlvbnMgYXJlIGV4YWN0bHkgc2FtZSBhcyBgcHJvZHVjdC1yZXZpZXdgIGNvbXBvbmVudFxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSBwcm9kdWN0UmV2aWV3KFRodW5kZXIpLm9wdGlvbnM7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkYmFja1RvUmV2aWV3cyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWJhY2stdG8tcmV2aWV3cycpO1xyXG5cdFx0Y29uc3QgJHJldmlld0NvbnRhaW5lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWN1c3RvbWVyLXJldmlldy1jb250YWluZXInKTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwuYmluZEJhY2tCdXR0b24oJGJhY2tUb1Jldmlld3MsIGNvbnRleHQpO1xyXG5cclxuXHRcdFRodW5kZXIucmVuZGVyKCRyZXZpZXdDb250YWluZXIsICdwcm9kdWN0LXJldmlldycsICQuZXh0ZW5kKFxyXG5cdFx0XHR7fSxcclxuXHRcdFx0Y29udGV4dC5vcHRpb25zLFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0dXNlQm9keUV4Y2VycHQ6IGZhbHNlLFxyXG5cdFx0XHRcdHVzZUZsYWc6ICAgICAgICBmYWxzZSxcclxuXHRcdFx0XHRzaG93UHJvZHVjdDogICAgdHJ1ZSxcclxuXHRcdFx0XHRzaG93Q29tbWVudHM6ICAgdHJ1ZSxcclxuXHRcdFx0fVxyXG5cdFx0KSk7XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnY3VzdG9tZXItcmV2aWV3cydcclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcclxuXHRcdHBhZ2U6ICAgICAgICAgICAgMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGljaCBwYWdlIG9mIHJldmlld3M/XHJcblx0XHRsaW1pdDogICAgICAgICAgIDEyLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IG1hbnkgcmV2aWV3cyBhdCBvbmNlP1xyXG5cdFx0c29ydDogICAgICAgICAgICAnLWNyZWF0ZWRBdCcsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgc29ydCB2YWx1ZVxyXG5cdFx0dXNlUmF0aW5nOiAgICAgICBUaHVuZGVyLm9wdGlvbnMucHJvZHVjdFJldmlld1JhdGluZywgIC8vIFVzZSByYXRpbmc/XHJcblx0XHR1c2VDb21tZW50czogICAgIFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3Q29tbWVudCwgLy8gVXNlIHJldmlldyBjb21tZW50cz9cclxuXHRcdHVzZUhlbHBWb3RlOiAgICAgdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgaGVscGZ1bCB2b3Rlcz9cclxuXHRcdHVzZVBhZ2luYXRpb246ICAgdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgUGFnaW5hdGlvbj9cclxuXHJcblx0XHRvblZpZXdSZXZpZXc6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHJldmlld0lkKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXJldmlldycsIHtcclxuXHRcdFx0XHRyZXZpZXc6ICAgICAgICByZXZpZXdJZCxcclxuXHRcdFx0XHR1c2VSYXRpbmc6ICAgICBjb250ZXh0Lm9wdGlvbnMudXNlUmF0aW5nLFxyXG5cdFx0XHRcdHVzZUhlbHBWb3RlOiAgIGNvbnRleHQub3B0aW9ucy51c2VIZWxwVm90ZSxcclxuXHRcdFx0XHR1c2VDb21tZW50czogICBjb250ZXh0Lm9wdGlvbnMudXNlQ29tbWVudHMsXHJcblx0XHRcdFx0YmFjazogICAgICAgICAge1xyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcjogJGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRjb25zdCBjdXN0b21lciA9IFRodW5kZXIuYXV0aGVudGljYXRlZCgnY3VzdG9tZXInKS5zdWI7XHJcblxyXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3Jldmlld0xpc3RGYWlsZWQnKVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gJC53aGVuKFxyXG5cdFx0XHRmZXRjaFJldmlld3MoKSxcclxuXHRcdFx0Y291bnRSZXZpZXdzKClcclxuXHRcdCkudGhlbigocmV2aWV3cywgY291bnQpID0+IGNhbGxiYWNrKG51bGwsICQuZXh0ZW5kKGNvbnRleHQsIHtcclxuXHRcdFx0cmV2aWV3czogcmV2aWV3c1swXSB8fCBbXSxcclxuXHRcdFx0Y291bnQ6ICAgY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGwsXHJcblx0XHR9KSksIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRjYWxsYmFja1xyXG5cdFx0KSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZmV0Y2hSZXZpZXdzKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9wdWJsaXNoZWQnLFxyXG5cdFx0XHRcdHF1ZXJ5OiB7XHJcblx0XHRcdFx0XHRjdXN0b21lcjogY3VzdG9tZXIsXHJcblx0XHRcdFx0XHRwYWdlOiAgICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXHJcblx0XHRcdFx0XHRsaW1pdDogICAgY29udGV4dC5vcHRpb25zLmxpbWl0LFxyXG5cdFx0XHRcdFx0c29ydDogICAgIGNvbnRleHQub3B0aW9ucy5zb3J0LFxyXG5cdFx0XHRcdFx0ZmllbGRzOiAgIFtcclxuXHRcdFx0XHRcdFx0J3Byb2R1Y3QnLFxyXG5cdFx0XHRcdFx0XHQndGl0bGUnLFxyXG5cdFx0XHRcdFx0XHQnaW1hZ2VzJyxcclxuXHRcdFx0XHRcdFx0J3JhdGluZycsXHJcblx0XHRcdFx0XHRcdCdoZWxwZWQnLFxyXG5cdFx0XHRcdFx0XHQndG90YWxDb21tZW50JyxcclxuXHRcdFx0XHRcdFx0J2NyZWF0ZWRBdCcsXHJcblx0XHRcdFx0XHRdLmpvaW4oJywnKSxcclxuXHRcdFx0XHRcdGVtYmVkOiAnK3Byb2R1Y3QudGh1bWJuYWlsJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvdW50UmV2aWV3cygpIHtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAnL3YxL3Byb2R1Y3RzL3Jldmlld3MvcHVibGlzaGVkL2NvdW50JyxcclxuXHRcdFx0XHRxdWVyeToge1xyXG5cdFx0XHRcdFx0Y3VzdG9tZXI6IGN1c3RvbWVyLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJHZpZXdSZXZpZXcgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS12aWV3LXJldmlldycpO1xyXG5cdFx0Y29uc3QgJHBhZ2luYXRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1yZXZpZXctbGlzdC1wYWdpbmF0aW9uJyk7XHJcblxyXG5cdFx0JHZpZXdSZXZpZXcub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcclxuXHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRjb25zdCByZXZpZXdJZCA9ICQodGhpcykucGFyZW50cygnW2RhdGEtcmV2aWV3XScpLmRhdGEoJ3JldmlldycpO1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25WaWV3UmV2aWV3LFxyXG5cdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0Y29udGV4dCxcclxuXHRcdFx0XHRyZXZpZXdJZFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbikge1xyXG5cclxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnBhZ2luYXRpb24oe1xyXG5cdFx0XHRcdGNvbnRhaW5lcjogICAgICRwYWdpbmF0aW9uLFxyXG5cdFx0XHRcdGN1cnJlbnRQYWdlOiAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxyXG5cdFx0XHRcdHRvdGFsUmVzdWx0OiAgIGNvbnRleHQuY291bnQucmF3LFxyXG5cdFx0XHRcdHJlc3VsdFBlclBhZ2U6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xyXG5jb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XHJcbmNvbnN0IGNhbWVsQ2FzZSA9IHJlcXVpcmUoJ2xvZGFzaC5jYW1lbGNhc2UnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XHJcblxyXG5cdGNvbnN0IHRyYW5zbGF0aW9uS2V5ID0ge1xyXG5cdFx0J25hbWUuZmlyc3QnOiAnZmlyc3ROYW1lJyxcclxuXHRcdCduYW1lLmxhc3QnOiAgJ2xhc3ROYW1lJyxcclxuXHRcdCduYW1lLmZ1bGwnOiAgJ2Z1bGxOYW1lJyxcclxuXHR9O1xyXG5cclxuXHQvLyBJbXBsZW1lbnRhdGlvblxyXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xyXG5cdFx0bmFtZTogJ2N1c3RvbWVyLXVwZGF0ZS1hZGRyZXNzJ1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xyXG5cclxuXHRcdHJlY2lwaWVudEZpZWxkczogVGh1bmRlci5vcHRpb25zLnJlY2lwaWVudEZpZWxkcyxcclxuXHRcdGFkZHJlc3NEaXNhYmxlZDogVGh1bmRlci5vcHRpb25zLmFkZHJlc3NEaXNhYmxlZCxcclxuXHJcblx0XHRvblVwZGF0ZTogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge1xyXG5cclxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3VwZGF0ZVN1Y2Nlc3MnKSk7XHJcblx0XHR9LFxyXG5cclxuXHR9KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRjb25zdCBkaXNhYmxlZEFkZHJlc3NGaWVsZHMgPVxyXG5cdFx0XHRUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhjb250ZXh0Lm9wdGlvbnMuYWRkcmVzc0Rpc2FibGVkKVxyXG5cdFx0XHRcdFx0LnJlZHVjZSgobywgZmllbGQpID0+IHNldChvLCBmaWVsZCwgdHJ1ZSksIHt9KTtcclxuXHJcblx0XHRjb250ZXh0LnVzZVNlYXJjaEFkZHJlc3MgPSAhIVRodW5kZXIucGx1Z2lucy5zZWFyY2hBZGRyZXNzO1xyXG5cclxuXHRcdGNvbnRleHQuZGlzYWJsZWQgPSBmaWVsZCA9PlxyXG5cdFx0XHRkaXNhYmxlZEFkZHJlc3NGaWVsZHNbZmllbGRdICYmXHJcblx0XHRcdGNvbnRleHQudXNlU2VhcmNoQWRkcmVzcyA/ICdyZWFkb25seScgOiAnJztcclxuXHJcblx0XHRjb250ZXh0LnJlY2lwaWVudEZpZWxkcyA9IFRodW5kZXIudXRpbC5wYXJzZUFycmF5U3RyaW5nKGNvbnRleHQub3B0aW9ucy5yZWNpcGllbnRGaWVsZHMpLm1hcChmaWVsZCA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBba2V5LCByZXF1aXJlZF0gPSBmaWVsZC5zcGxpdCgnOicpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRyZXF1aXJlZDogICAgICAgcmVxdWlyZWQgPT09ICdyZXF1aXJlZCcsXHJcblx0XHRcdFx0a2V5OiAgICAgICAgICAgIGtleSxcclxuXHRcdFx0XHR0cmFuc2xhdGlvbktleTogdHJhbnNsYXRpb25LZXlba2V5XSB8fCBrZXlcclxuXHRcdFx0fTtcclxuXHJcblx0XHR9KTtcclxuXHJcblx0XHRjb250ZXh0LmFkZHJlc3NGaWVsZHMgPSBbXHJcblx0XHRcdHsgcmVxdWlyZWQ6IHRydWUsIGtleTogJ2NvdW50cnknLCB0cmFuc2xhdGlvbktleTogJ2NvdW50cnknLCB9LFxyXG5cdFx0XHR7IHJlcXVpcmVkOiBmYWxzZSwga2V5OiAnc3RhdGUnLCB0cmFuc2xhdGlvbktleTogJ3N0YXRlJywgfSxcclxuXHRcdFx0eyByZXF1aXJlZDogdHJ1ZSwga2V5OiAnY2l0eScsIHRyYW5zbGF0aW9uS2V5OiAnY2l0eScsIH0sXHJcblx0XHRcdHsgcmVxdWlyZWQ6IHRydWUsIGtleTogJ2FkZHJlc3MxJywgdHJhbnNsYXRpb25LZXk6ICdhZGRyZXNzMScsIH0sXHJcblx0XHRcdHsgcmVxdWlyZWQ6IGZhbHNlLCBrZXk6ICdhZGRyZXNzMicsIHRyYW5zbGF0aW9uS2V5OiAnYWRkcmVzczInLCB9LFxyXG5cdFx0XHR7IHJlcXVpcmVkOiB0cnVlLCBrZXk6ICdwb3N0Y29kZScsIHRyYW5zbGF0aW9uS2V5OiAncG9zdGNvZGUnLCB9LFxyXG5cdFx0XTtcclxuXHJcblx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY3VzdG9tZXJSZWFkRmFpbGVkJylcclxuXHRcdH07XHJcblxyXG5cdFx0JC53aGVuKFxyXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAgICAnL3YxL2NvdW50cmllcycsXHJcblx0XHRcdFx0cXVlcnk6ICB7IGZpZWxkczogJ2NvZGUnIH1cclxuXHRcdFx0fSksXHJcblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICAgICcvdjEvbWUnLFxyXG5cdFx0XHRcdHF1ZXJ5OiAgeyBmaWVsZHM6ICdhZGRyZXNzJyB9XHJcblx0XHRcdH0pXHJcblx0XHQpLnRoZW4oKGNvdW50cmllcywgY3VzdG9tZXIpID0+IHtcclxuXHJcblx0XHRcdGNvbnRleHQuY291bnRyaWVzID0gY291bnRyaWVzWzBdO1xyXG5cdFx0XHRjb250ZXh0LmFkZHJlc3MgPSBjdXN0b21lclswXS5hZGRyZXNzLnByaW1hcnkgfHwgeyBuYW1lOiB7fSB9O1xyXG5cclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRjYWxsYmFja1xyXG5cdFx0KSk7XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkZm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWN1c3RvbWVyLWFkZHJlc3MtdXBkYXRlLWZvcm0nKTtcclxuXHRcdGNvbnN0ICRidXR0b24gPSAkZm9ybS5maW5kKCcudGh1bmRlci0tdXBkYXRlLWFkZHJlc3MnKTtcclxuXHRcdGNvbnN0ICRzZWFyY2hBZGRyZXNzID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tc2VhcmNoLWFkZHJlc3MnKTtcclxuXHJcblx0XHRjb25zdCBidXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYnV0dG9uLCB7IGJpbmQ6IGZhbHNlIH0pO1xyXG5cclxuXHRcdGNvbnN0IHJlY2lwaWVudEZpZWxkcyA9IGNvbnRleHQucmVjaXBpZW50RmllbGRzLm1hcChmID0+IGYua2V5KTtcclxuXHRcdGNvbnN0IGFkZHJlc3NGaWVsZHMgPSBjb250ZXh0LmFkZHJlc3NGaWVsZHMubWFwKGYgPT4gZi5rZXkpO1xyXG5cdFx0Y29uc3QgYWxsRmllbGRzTWFwID0gW1xyXG5cdFx0XHQuLi5yZWNpcGllbnRGaWVsZHMsXHJcblx0XHRcdC4uLmFkZHJlc3NGaWVsZHNcclxuXHRcdF0ucmVkdWNlKChvLCBmaWVsZCkgPT4gc2V0KG8sIFtmaWVsZF0sIHRydWUpLCB7fSk7XHJcblxyXG5cdFx0Y29uc3QgJGZpZWxkcyA9IFtdLmNvbmNhdChyZWNpcGllbnRGaWVsZHMsIGFkZHJlc3NGaWVsZHMpXHJcblx0XHRcdFx0XHRcdC5yZWR1Y2UoKG8sIGtleSkgPT4gc2V0KG8sIFtrZXldLCAkZm9ybS5maW5kKGBbbmFtZT1cIiR7a2V5fVwiXWApKSwge30pO1xyXG5cclxuXHRcdGFkZHJlc3NUb0Zvcm0oY29udGV4dC5hZGRyZXNzKTtcclxuXHJcblx0XHQkc2VhcmNoQWRkcmVzcy5vbignY2xpY2snLCBzZWFyY2hBZGRyZXNzKTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYSh7XHJcblx0XHRcdGNvbXBvbmVudE5hbWU6IGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdGJ1dHRvbjogICAgICAgICRidXR0b24sXHJcblx0XHRcdHZhbGlkYXRlOiAgICAgIHZhbGlkYXRlQWRkcmVzcyxcclxuXHRcdFx0Y2FsbGJhY2s6ICAgICAgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XHJcblxyXG5cdFx0XHRcdGJ1dHRvblNwaW5uZXIucnVuKCk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHByaW1hcnlBZGRyZXNzID0gVGh1bmRlci51dGlsLmZvcm1Ub0pTT04oJGZvcm0uc2VyaWFsaXplQXJyYXkoKSk7XHJcblx0XHRcdFx0Y29uc3QgcmVjYXB0Y2hhID0gVGh1bmRlci51dGlsLnVuc2V0UmVjYXB0Y2hhKHByaW1hcnlBZGRyZXNzKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZGF0YSA9IHsgYWRkcmVzczogeyBwcmltYXJ5OiBwcmltYXJ5QWRkcmVzcyB9IH07XHJcblxyXG5cdFx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiB7XHJcblx0XHRcdFx0XHRidXR0b25TcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRcdHJldHVybiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRcdCdpbnZhbGlkLXBvc3Rjb2RlJzogIGNvbnRleHQubSgnaW52YWxpZFBvc3Rjb2RlJyksXHJcblx0XHRcdFx0XHQncG9zdGNvZGUtcmVxdWlyZWQnOiBjb250ZXh0Lm0oJ3Bvc3Rjb2RlUmVxdWlyZWQnKSxcclxuXHRcdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgIGNvbnRleHQubSgndXBkYXRlRmFpbGVkJyksXHJcblx0XHRcdFx0XHR2YWxpZGF0aW9uOiBlcnIgPT4ge1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3QgWywgZmllbGRdID0gZXJyLnZhbGlkYXRpb24uc291cmNlLnNwbGl0KCdhZGRyZXNzLnByaW1hcnkuJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIWZpZWxkIHx8ICFhbGxGaWVsZHNNYXBbZmllbGRdKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5tKGNhbWVsQ2FzZShbJ2ludmFsaWQnLCB0cmFuc2xhdGlvbktleVtmaWVsZF0gfHwgZmllbGRdKSk7XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAgICAnUFVUJyxcclxuXHRcdFx0XHRcdHVybDogICAgICAgJy92MS9tZScsXHJcblx0XHRcdFx0XHRkYXRhOiAgICAgIGRhdGEsXHJcblx0XHRcdFx0XHRyZWNhcHRjaGE6IHJlY2FwdGNoYVxyXG5cdFx0XHRcdH0pLnRoZW4oZGF0YSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgYWRkcmVzcyA9IGdldChkYXRhLCAnYWRkcmVzcy5wcmltYXJ5Jyk7XHJcblxyXG5cdFx0XHRcdFx0YWRkcmVzc1RvRm9ybShhZGRyZXNzKTtcclxuXHJcblx0XHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblVwZGF0ZSxcclxuXHRcdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdFx0Y29udGV4dCxcclxuXHRcdFx0XHRcdFx0YWRkcmVzc1xyXG5cdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzZXRTdGF0ZSgpO1xyXG5cclxuXHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdFx0ZXJyID0+IHJlc2V0U3RhdGUoKVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gdmFsaWRhdGVBZGRyZXNzKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgYWRkcmVzcyA9IFRodW5kZXIudXRpbC5mb3JtVG9KU09OKCRmb3JtLnNlcmlhbGl6ZUFycmF5KCkpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbXS5jb25jYXQoXHJcblx0XHRcdFx0Y29udGV4dC5yZWNpcGllbnRGaWVsZHMsXHJcblx0XHRcdFx0Y29udGV4dC5hZGRyZXNzRmllbGRzXHJcblx0XHRcdCkuZmlsdGVyKGYgPT4gZi5yZXF1aXJlZCkubWFwKGYgPT4gZi5rZXkpO1xyXG5cclxuXHRcdFx0Zm9yIChjb25zdCBmaWVsZCBvZiByZXF1aXJlZEZpZWxkcykge1xyXG5cclxuXHRcdFx0XHRpZiAoIWdldChhZGRyZXNzLCBmaWVsZCwgbnVsbCkpIHtcclxuXHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubShgJHt0cmFuc2xhdGlvbktleVtmaWVsZF0gfHwgZmllbGR9UmVxdWlyZWRgKSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGFkZHJlc3NUb0Zvcm0oYWRkcmVzcywgb25seUFkZHJlc3NGaWVsZHMgPSBmYWxzZSkge1xyXG5cclxuXHRcdFx0aWYgKCFhZGRyZXNzKSByZXR1cm47XHJcblxyXG5cdFx0XHRjb25zdCBmaWVsZHMgPSBvbmx5QWRkcmVzc0ZpZWxkcyA/XHJcblx0XHRcdFx0XHRcdFx0YWRkcmVzc0ZpZWxkcyA6XHJcblx0XHRcdFx0XHRcdFx0W10uY29uY2F0KHJlY2lwaWVudEZpZWxkcywgYWRkcmVzc0ZpZWxkcyk7XHJcblxyXG5cdFx0XHRmaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gZmllbGQgPT09ICdjb3VudHJ5JyA/XHJcblx0XHRcdFx0XHRcdFx0XHRnZXQoYWRkcmVzcywgYCR7ZmllbGR9LmNvZGVgLCBnZXQoYWRkcmVzcywgZmllbGQsIG51bGwpKSA6XHJcblx0XHRcdFx0XHRcdFx0XHRnZXQoYWRkcmVzcywgZmllbGQsIG51bGwpO1xyXG5cclxuXHRcdFx0XHQkZmllbGRzW2ZpZWxkXS52YWwodmFsdWUpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzZWFyY2hBZGRyZXNzKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0VGh1bmRlci5wbHVnaW5zLnNlYXJjaEFkZHJlc3MoKGVyciwgYWRkcmVzcykgPT4ge1xyXG5cclxuXHRcdFx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgZXJyLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0YWRkcmVzc1RvRm9ybShhZGRyZXNzLCB0cnVlKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG59OyIsImNvbnN0IGNhbWVsQ2FzZSA9IHJlcXVpcmUoJ2xvZGFzaC5jYW1lbGNhc2UnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XHJcblxyXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xyXG5cdFx0bmFtZTogJ2N1c3RvbWVyLXVwZGF0ZS1jcmVkZW50aWFsJ1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xyXG5cclxuXHRcdGZpZWxkOiBudWxsLCAvLyAndXNlcklkJywgJ2VtYWlsJywgJ3Bhc3N3b3JkJ1xyXG5cclxuXHRcdG9uVXBkYXRlOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XHJcblxyXG5cdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgndXBkYXRlU3VjY2VzcycpKTtcclxuXHRcdH0sXHJcblx0XHRvblVwZGF0ZUN1c3RvbWVyOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBmaWVsZCkge1xyXG5cclxuXHRcdFx0VGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2N1c3RvbWVyLXVwZGF0ZScpO1xyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHJcblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdGNvbnN0ICR1cGRhdGVDdXN0b21lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXVwZGF0ZS1jdXN0b21lcicpO1xyXG5cdFx0Y29uc3QgJGZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jcmVkZW50aWFsLWZvcm0nKTtcclxuXHRcdGNvbnN0ICRidXR0b24gPSAkZm9ybS5maW5kKCcudGh1bmRlci0tdXBkYXRlLWNyZWRlbnRpYWwnKTtcclxuXHRcdGNvbnN0IGJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRidXR0b24pO1xyXG5cclxuXHRcdCR1cGRhdGVDdXN0b21lci5vbignY2xpY2snLCAoKSA9PiBUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdGNvbnRleHQub3B0aW9ucy5vblVwZGF0ZUN1c3RvbWVyLFxyXG5cdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRjb250ZXh0XHJcblx0XHQpKTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYShpbXBsZW1lbnRhdGlvbi5uYW1lLCAkYnV0dG9uLCBmdW5jdGlvbih0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcclxuXHJcblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKTtcclxuXHJcblx0XHRcdC8vIEZvciBjdXN0b21lcnMgd2l0aCBzb2NpYWwgcmVnaXN0cmF0aW9uc1xyXG5cdFx0XHRkYXRhLnBhc3N3b3JkID0gZGF0YS5wYXNzd29yZCB8fCAnJztcclxuXHJcblx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiB7XHJcblx0XHRcdFx0YnV0dG9uU3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0cmV0dXJuIHJlc2V0UmVjYXB0Y2hhICYmIHJlc2V0UmVjYXB0Y2hhKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0J2ludmFsaWQtcGFzc3dvcmQnOiAgIGNvbnRleHQubSgnaW52YWxpZFBhc3N3b3JkJyksXHJcblx0XHRcdFx0J2R1cGxpY2F0ZWQtdXNlci1pZCc6IGNvbnRleHQubSgnZHVwbGljYXRlZFVzZXJJZCcpLFxyXG5cdFx0XHRcdCdkdXBsaWNhdGVkLWVtYWlsJzogICBjb250ZXh0Lm0oJ2R1cGxpY2F0ZWRFbWFpbCcpLFxyXG5cdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICBjb250ZXh0Lm0oJ3VwZGF0ZUZhaWxlZCcpLFxyXG5cdFx0XHRcdHZhbGlkYXRpb246IGVyciA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBwYXRoID0gZXJyLnZhbGlkYXRpb24uc291cmNlLnNwbGl0KCcuJyk7XHJcblx0XHRcdFx0XHRjb25zdCBmaWVsZCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gY29udGV4dC5tKGNhbWVsQ2FzZShbJ2ludmFsaWROZXcnLCBmaWVsZF0pKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcclxuXHRcdFx0XHR1cmw6ICAgICcvdjEvbWUvY3JlZGVudGlhbHMnLFxyXG5cdFx0XHRcdGRhdGE6ICAgZGF0YSxcclxuXHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblxyXG5cdFx0XHRcdFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblVwZGF0ZSxcclxuXHRcdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0XHRjb250ZXh0XHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcclxuXHJcblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdGVycm9ycyxcclxuXHRcdFx0XHRlcnIgPT4gcmVzZXRTdGF0ZSgpXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG59OyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcclxuY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCB0cmFuc2xhdGlvbktleSA9IHtcclxuXHRcdCduYW1lLmZpcnN0JzogJ2ZpcnN0TmFtZScsXHJcblx0XHQnbmFtZS5sYXN0JzogICdsYXN0TmFtZScsXHJcblx0XHQnbmFtZS5mdWxsJzogICdmdWxsTmFtZScsXHJcblx0fTtcclxuXHJcblx0Ly8gSW1wbGVtZW50YXRpb25cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdjdXN0b21lci11cGRhdGUnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblxyXG5cdFx0ZmllbGRzOiAgICAgICAgICBUaHVuZGVyLm9wdGlvbnMuY3VzdG9tZXJVcGRhdGVGaWVsZHMsXHJcblx0XHRiaXJ0aGRhdGVGb3JtYXQ6IFRodW5kZXIub3B0aW9ucy5kYXRlSW5wdXRGb3JtYXQsXHJcblxyXG5cdFx0b25VcGRhdGU6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIGN1c3RvbWVyKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3VwZGF0ZVN1Y2Nlc3MnKSk7XHJcblx0XHR9LFxyXG5cdFx0b25DaGFuZ2VDcmVkZW50aWFsOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBmaWVsZCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdjdXN0b21lci11cGRhdGUtY3JlZGVudGlhbCcsIHsgZmllbGQgfSk7XHJcblx0XHR9XHJcblxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGNvbnN0IGJpcnRoT3B0aW9ucyA9IHtcclxuXHRcdFx0WVlZWTogeyBrZXk6ICdiaXJ0aFllYXInLCB0cmFuc2xhdGlvbktleTogJ3llYXInLCB0ZXN0ZXI6IC9eXFxkezR9JC8gfSxcclxuXHRcdFx0TU06ICAgeyBrZXk6ICdiaXJ0aE1vbnRoJywgdHJhbnNsYXRpb25LZXk6ICdtb250aCcsIHRlc3RlcjogL15cXGR7MSwyfSQvIH0sXHJcblx0XHRcdEREOiAgIHsga2V5OiAnYmlydGhEYXRlJywgdHJhbnNsYXRpb25LZXk6ICdkYXRlJywgdGVzdGVyOiAvXlxcZHsxLDJ9JC8gfVxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBoYXNCaXJ0aERhdGUgPSBjb250ZXh0Lm9wdGlvbnMuZmllbGRzLmluZGV4T2YoJ2JpcnRoZGF0ZScpID49IDA7XHJcblx0XHRjb25zdCBiaXJ0aGRhdGVGb3JtYXRzID0gY29udGV4dC5vcHRpb25zLmJpcnRoZGF0ZUZvcm1hdC5zcGxpdCgnLScpO1xyXG5cclxuXHRcdGNvbnRleHQuZmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoY29udGV4dC5vcHRpb25zLmZpZWxkcykubWFwKGZpZWxkID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IFtrZXksIHJlcXVpcmVkXSA9IGZpZWxkLnNwbGl0KCc6Jyk7XHJcblxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdHJlcXVpcmVkOiAgICAgICByZXF1aXJlZCA9PT0gJ3JlcXVpcmVkJyxcclxuXHRcdFx0XHRrZXk6ICAgICAgICAgICAga2V5LFxyXG5cdFx0XHRcdHRyYW5zbGF0aW9uS2V5OiB0cmFuc2xhdGlvbktleVtrZXldIHx8IGtleVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnRleHQuYmlydGhkYXRlRmllbGRzID0gaGFzQmlydGhEYXRlID8gYmlydGhkYXRlRm9ybWF0cy5tYXAoKGZvcm1hdCwgaSkgPT4gJC5leHRlbmQoe1xyXG5cdFx0XHRsYXN0OiBpID09PSBiaXJ0aGRhdGVGb3JtYXRzLmxlbmd0aCAtIDFcclxuXHRcdH0sIGJpcnRoT3B0aW9uc1tmb3JtYXRdKSkgOiBbXTtcclxuXHJcblx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY3VzdG9tZXJSZWFkRmFpbGVkJylcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdHVybDogICAgJy92MS9tZScsXHJcblx0XHRcdHF1ZXJ5OiAge1xyXG5cdFx0XHRcdGZpZWxkczogW1xyXG5cdFx0XHRcdFx0J2F2YXRhcicsXHJcblx0XHRcdFx0XHQndXNlcklkJyxcclxuXHRcdFx0XHRcdCdlbWFpbCcsXHJcblx0XHRcdFx0XHQnYWxpYXMnLFxyXG5cdFx0XHRcdFx0J25hbWUuZmlyc3QnLFxyXG5cdFx0XHRcdFx0J25hbWUubGFzdCcsXHJcblx0XHRcdFx0XHQnbmFtZS5mdWxsJyxcclxuXHRcdFx0XHRcdCdtb2JpbGUnLFxyXG5cdFx0XHRcdFx0J3Bob25lJyxcclxuXHRcdFx0XHRcdCdnZW5kZXInLFxyXG5cdFx0XHRcdFx0J2JpcnRoZGF0ZScsXHJcblx0XHRcdFx0XHQnY291bnRyeScsXHJcblx0XHRcdFx0XS5qb2luKCcsJylcclxuXHRcdFx0fVxyXG5cdFx0fSkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIHNldChjb250ZXh0LCAnY3VzdG9tZXInLCBkYXRhKSk7XHJcblx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdGVycm9ycyxcclxuXHRcdFx0Y2FsbGJhY2tcclxuXHRcdCkpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJGJhY2tUb0NoZWNrb3V0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYmFjay10by1jaGVja291dCcpO1xyXG5cdFx0Y29uc3QgJGNoYW5nZUNyZWRlbnRpYWwgPSAkKHRoaXMpLmZpbmQoJ1tkYXRhLWNoYW5nZS1jcmVkZW50aWFsXScpO1xyXG5cdFx0Y29uc3QgJGF2YXRhckZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1hdmF0YXItZm9ybScpO1xyXG5cdFx0Y29uc3QgJGF2YXRhciA9ICRhdmF0YXJGb3JtLmZpbmQoJy50aHVuZGVyLS1jdXN0b21lci1hdmF0YXInKTtcclxuXHRcdGNvbnN0ICR1cGRhdGVGb3JtID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY3VzdG9tZXItdXBkYXRlLWZvcm0nKTtcclxuXHRcdGNvbnN0ICRidXR0b24gPSAkdXBkYXRlRm9ybS5maW5kKCcudGh1bmRlci0tdXBkYXRlLWN1c3RvbWVyJyk7XHJcblx0XHRjb25zdCBidXR0b25TcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkYnV0dG9uLCB7IGJpbmQ6IGZhbHNlIH0pO1xyXG5cclxuXHRcdGNvbnN0IGZpZWxkcyA9IFtcclxuXHRcdFx0Li4uY29udGV4dC5maWVsZHMsXHJcblx0XHRcdC4uLmNvbnRleHQuYmlydGhkYXRlRmllbGRzXHJcblx0XHRdXHJcblx0XHQuZmlsdGVyKCh7IGtleSB9KSA9PiBrZXkgIT09ICdiaXJ0aGRhdGUnKVxyXG5cdFx0Lm1hcCgoeyBrZXkgfSkgPT4gKHtcclxuXHRcdFx0a2V5OiAgIGtleSxcclxuXHRcdFx0JGlucHV0OiAkdXBkYXRlRm9ybS5maW5kKGBbbmFtZT1cIiR7a2V5fVwiXWApLFxyXG5cdFx0fSkpO1xyXG5cclxuXHRcdGN1c3RvbWVyVG9Gb3JtKGNvbnRleHQuY3VzdG9tZXIpO1xyXG5cclxuXHRcdFRodW5kZXIudXRpbC5pbWFnZVVwbG9hZGVyKFxyXG5cdFx0XHQkYXZhdGFyRm9ybSxcclxuXHRcdFx0aW1hZ2UgPT4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxyXG5cdFx0XHRcdHVybDogICAgJy92MS9tZScsXHJcblx0XHRcdFx0ZGF0YTogICB7IGF2YXRhcjogaW1hZ2UuX2lkIH1cclxuXHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0JGF2YXRhci5hdHRyKCdzcmMnLCBUaHVuZGVyLnV0aWwuaW1hZ2VVUkwoaW1hZ2UsIDEyMCwgMTIwKSk7XHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdhdmF0YXJVcGxvYWRTdWNjZXNzJykpO1xyXG5cdFx0XHR9LCBlcnIgPT4ge1xyXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2F2YXRhclVwbG9hZEZhaWxlZCcpKTtcclxuXHRcdFx0fSksXHJcblx0XHRcdCgpID0+IFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnYXZhdGFyVXBsb2FkRmFpbGVkJykpXHJcblx0XHQpO1xyXG5cclxuXHRcdFRodW5kZXIudXRpbC5iaW5kQmFja0J1dHRvbigkYmFja1RvQ2hlY2tvdXQsIGNvbnRleHQpO1xyXG5cclxuXHRcdCRjaGFuZ2VDcmVkZW50aWFsLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0VGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vbkNoYW5nZUNyZWRlbnRpYWwsXHJcblx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRcdCQodGhpcykuZGF0YSgnY2hhbmdlQ3JlZGVudGlhbCcpXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoe1xyXG5cdFx0XHRjb21wb25lbnROYW1lOiBpbXBsZW1lbnRhdGlvbi5uYW1lLFxyXG5cdFx0XHRidXR0b246ICAgICAgICAkYnV0dG9uLFxyXG5cdFx0XHR2YWxpZGF0ZTogICAgICB2YWxpZGF0ZUN1c3RvbWVyLFxyXG5cdFx0XHRjYWxsYmFjazogICAgICBmdW5jdGlvbih0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcclxuXHJcblx0XHRcdFx0YnV0dG9uU3Bpbm5lci5ydW4oKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGJ1dHRvblNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0UmVjYXB0Y2hhICYmIHJlc2V0UmVjYXB0Y2hhKCk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCd1cGRhdGVGYWlsZWQnKSxcclxuXHJcblx0XHRcdFx0XHR2YWxpZGF0aW9uOiBlcnIgPT4ge1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3QgWywgLi4ucGF0aF0gPSBlcnIudmFsaWRhdGlvbi5zb3VyY2Uuc3BsaXQoJy4nKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgZmllbGQgPSBwYXRoLmpvaW4oJy4nKTtcclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiBjb250ZXh0Lm0oY2FtZWxDYXNlKFsnaW52YWxpZCcsIHRyYW5zbGF0aW9uS2V5W2ZpZWxkXSB8fCBmaWVsZF0pKTtcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICAnL3YxL21lJyxcclxuXHRcdFx0XHRcdGRhdGE6ICAgZm9ybVRvQ3VzdG9tZXIoKSxcclxuXHRcdFx0XHR9KS50aGVuKGN1c3RvbWVyID0+IHtcclxuXHJcblx0XHRcdFx0XHRjdXN0b21lclRvRm9ybShjdXN0b21lcik7XHJcblxyXG5cdFx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25VcGRhdGUsXHJcblx0XHRcdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0XHRcdGNvbnRleHQsXHJcblx0XHRcdFx0XHRcdGN1c3RvbWVyXHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XHJcblxyXG5cdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0XHRlcnIgPT4gcmVzZXRTdGF0ZSgpXHJcblx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRmdW5jdGlvbiBub3JtYWxpemVCaXJ0aGRhdGUoZGF0YSkge1xyXG5cclxuXHRcdFx0Y29uc3QgYmlydGhGaWVsZHMgPSBbXHJcblx0XHRcdFx0J2JpcnRoWWVhcicsXHJcblx0XHRcdFx0J2JpcnRoTW9udGgnLFxyXG5cdFx0XHRcdCdiaXJ0aERhdGUnLFxyXG5cdFx0XHRdO1xyXG5cclxuXHRcdFx0aWYgKGJpcnRoRmllbGRzLmV2ZXJ5KGZpZWxkID0+IGRhdGFbZmllbGRdKSkge1xyXG5cclxuXHRcdFx0XHRkYXRhLmJpcnRoZGF0ZSA9IG5ldyBEYXRlKFxyXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aFllYXIsXHJcblx0XHRcdFx0XHRkYXRhLmJpcnRoTW9udGggLSAxLFxyXG5cdFx0XHRcdFx0ZGF0YS5iaXJ0aERhdGVcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkYXRhLmJpcnRoZGF0ZSA9IG51bGw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGJpcnRoRmllbGRzLmZvckVhY2goZmllbGQgPT4gZGVsZXRlIGRhdGFbZmllbGRdKTtcclxuXHJcblx0XHRcdHJldHVybiBkYXRhO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBmb3JtVG9DdXN0b21lcigpIHtcclxuXHJcblx0XHRcdHJldHVybiBub3JtYWxpemVCaXJ0aGRhdGUoVGh1bmRlci51dGlsLmZvcm1Ub0pTT04oJHVwZGF0ZUZvcm0uc2VyaWFsaXplQXJyYXkoKSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGN1c3RvbWVyVG9Gb3JtKGN1c3RvbWVyKSB7XHJcblxyXG5cdFx0XHRjb25zdCBiaXJ0aGRhdGUgPSBjdXN0b21lci5iaXJ0aGRhdGUgP1xyXG5cdFx0XHRcdFx0XHRcdFx0bmV3IERhdGUoY3VzdG9tZXIuYmlydGhkYXRlLnJhdyB8fCBjdXN0b21lci5iaXJ0aGRhdGUpIDpcclxuXHRcdFx0XHRcdFx0XHRcdG51bGw7XHJcblxyXG5cdFx0XHRkZWxldGUgY3VzdG9tZXIuYmlydGhkYXRlO1xyXG5cclxuXHRcdFx0aWYgKGJpcnRoZGF0ZSkge1xyXG5cdFx0XHRcdCQuZXh0ZW5kKGN1c3RvbWVyLCB7XHJcblx0XHRcdFx0XHRiaXJ0aFllYXI6ICBiaXJ0aGRhdGUuZ2V0RnVsbFllYXIoKSxcclxuXHRcdFx0XHRcdGJpcnRoTW9udGg6IGJpcnRoZGF0ZS5nZXRNb250aCgpICsgMSxcclxuXHRcdFx0XHRcdGJpcnRoRGF0ZTogIGJpcnRoZGF0ZS5nZXREYXRlKCksXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZpZWxkcy5mb3JFYWNoKCh7IGtleSwgJGlucHV0IH0pID0+IHtcclxuXHJcblx0XHRcdFx0JGlucHV0LnZhbChnZXQoY3VzdG9tZXIsIGtleSkgfHwgbnVsbCk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdmFsaWRhdGVDdXN0b21lcigpIHtcclxuXHJcblx0XHRcdGNvbnN0IGN1c3RvbWVyID0gZm9ybVRvQ3VzdG9tZXIoKTtcclxuXHJcblx0XHRcdGNvbnN0IHJlcXVpcmVkRmllbGRzID0gY29udGV4dC5maWVsZHMuZmlsdGVyKGZpZWxkID0+IGZpZWxkLnJlcXVpcmVkKTtcclxuXHJcblx0XHRcdGZvciAoY29uc3QgeyBrZXksIHRyYW5zbGF0aW9uS2V5IH0gb2YgcmVxdWlyZWRGaWVsZHMpIHtcclxuXHJcblx0XHRcdFx0aWYgKCFnZXQoY3VzdG9tZXIsIGtleSwgbnVsbCkpIHtcclxuXHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubShgJHt0cmFuc2xhdGlvbktleX1SZXF1aXJlZGApKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnY3VzdG9tZXItdmVyaWZpY2F0aW9uJ1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xyXG5cdFx0Y3VzdG9tZXI6ICAnY3VzdG9tZXInLFxyXG5cdFx0c2VjcmV0OiAgICAnc2VjcmV0JyxcclxuXHRcdGlucHV0OiAgICAgJ3F1ZXJ5JywgICAgICAvLyAncXVlcnknIG9yICdhdHRyaWJ1dGUnXHJcblx0XHRleHBpcmVzSW46IDYwICogNjAgKiAyNCwgLy8gMjQgaG91cnNcclxuXHJcblx0XHRvbkVtYWlsUmVxdWVzdDogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge1xyXG5cclxuXHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3JlcXVlc3RFbWFpbFN1Y2Nlc3MnKSk7XHJcblx0XHR9LFxyXG5cdFx0b25WZXJpZmljYXRpb246IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcclxuXHJcblx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCd2ZXJpZmljYXRpb25TdWNjZXNzJykpO1xyXG5cdFx0fSxcclxuXHR9KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRpZiAoY29udGV4dC5vcHRpb25zLmlucHV0ID09PSAncXVlcnknKSB7XHJcblxyXG5cdFx0XHRjb25zdCBxdWVyeSA9IFRodW5kZXIudXRpbC51cmxRdWVyeSgpO1xyXG5cdFx0XHRjb25zdCBjdXN0b21lckZpZWxkID0gY29udGV4dC5vcHRpb25zLmN1c3RvbWVyO1xyXG5cdFx0XHRjb25zdCBzZWNyZXRGaWVsZCA9IGNvbnRleHQub3B0aW9ucy5zZWNyZXQ7XHJcblxyXG5cdFx0XHRpZiAocXVlcnlbY3VzdG9tZXJGaWVsZF0gJiZcclxuXHRcdFx0XHRxdWVyeVtzZWNyZXRGaWVsZF0pIHtcclxuXHJcblx0XHRcdFx0Y29udGV4dC5jdXN0b21lciA9IHF1ZXJ5W2N1c3RvbWVyRmllbGRdO1xyXG5cdFx0XHRcdGNvbnRleHQuc2VjcmV0ID0gcXVlcnlbc2VjcmV0RmllbGRdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMuaW5wdXQgPT09ICdhdHRyaWJ1dGUnKSB7XHJcblxyXG5cdFx0XHRjb250ZXh0LmN1c3RvbWVyID0gY29udGV4dC5vcHRpb25zLmN1c3RvbWVyO1xyXG5cdFx0XHRjb250ZXh0LnNlY3JldCA9IGNvbnRleHQub3B0aW9ucy5zZWNyZXQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29udGV4dC50eXBlID0gY29udGV4dC5jdXN0b21lciAmJlxyXG5cdFx0XHRcdFx0XHRjb250ZXh0LnNlY3JldCA/XHJcblx0XHRcdFx0XHRcdFx0J3ZlcmlmaWNhdGlvbicgOlxyXG5cdFx0XHRcdFx0XHRcdCdyZXF1ZXN0LWVtYWlsJztcclxuXHJcblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkZm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlc2V0LXBhc3N3b3JkLWZvcm0nKTtcclxuXHJcblx0XHRpZiAoY29udGV4dC50eXBlID09PSAncmVxdWVzdC1lbWFpbCcpIHtcclxuXHJcblx0XHRcdGNvbnN0ICRyZXF1ZXN0RW1haWwgPSAkZm9ybS5maW5kKCcudGh1bmRlci0tcmVxdWVzdC1lbWFpbCcpO1xyXG5cdFx0XHRjb25zdCByZXF1ZXN0RW1haWxTcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkcmVxdWVzdEVtYWlsKTtcclxuXHJcblx0XHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKGltcGxlbWVudGF0aW9uLm5hbWUsICRyZXF1ZXN0RW1haWwsIGZ1bmN0aW9uKHRva2VuLCByZXNldFJlY2FwdGNoYSkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBkYXRhID0gJC5leHRlbmQoVGh1bmRlci51dGlsLnVzZXJJZE9yRW1haWwoXHJcblx0XHRcdFx0XHRUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkZm9ybS5zZXJpYWxpemVBcnJheSgpKVxyXG5cdFx0XHRcdCksIHtcclxuXHRcdFx0XHRcdGV4cGlyZXNJbjogY29udGV4dC5vcHRpb25zLmV4cGlyZXNJbixcclxuXHRcdFx0XHRcdHNjb3BlOiAgICAgJ3ZlcmlmaWNhdGlvbidcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcclxuXHRcdFx0XHRcdHJlcXVlc3RFbWFpbFNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0UmVjYXB0Y2hhICYmIHJlc2V0UmVjYXB0Y2hhKCk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdFx0J25vdC1leGlzdGluZy1jdXN0b21lcic6IGNvbnRleHQubSgnbm90RXhpc3RpbmdDdXN0b21lcicpLFxyXG5cdFx0XHRcdFx0J2VtYWlsLXJlcXVpcmVkJzogICAgICAgIGNvbnRleHQubSgnY3VzdG9tZXJXaXRob3V0RW1haWwnKSxcclxuXHRcdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICAgICBjb250ZXh0Lm0oJ3JlcXVlc3RFbWFpbEZhaWxlZCcpXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0VGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogICdQT1NUJyxcclxuXHRcdFx0XHRcdHVybDogICAgICcvdjEvY3VzdG9tZXJzL3ZlcmlmaWNhdGlvbnMvZW1haWxzJyxcclxuXHRcdFx0XHRcdGRhdGE6ICAgIGRhdGEsXHJcblx0XHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblxyXG5cdFx0XHRcdFx0VGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25FbWFpbFJlcXVlc3QsXHJcblx0XHRcdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0XHRcdGNvbnRleHRcclxuXHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0U3RhdGUoKTtcclxuXHJcblx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRcdGVycm9ycyxcclxuXHRcdFx0XHRcdGVyciA9PiByZXNldFN0YXRlKClcclxuXHRcdFx0XHQpKTtcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY29udGV4dC50eXBlID09PSAndmVyaWZpY2F0aW9uJykge1xyXG5cclxuXHRcdFx0Y29uc3QgJGZpbmlzaFZlcmlmaWNhdGlvbiA9ICRmb3JtLmZpbmQoJy50aHVuZGVyLS1maW5pc2gtdmVyaWZpY2F0aW9uJyk7XHJcblx0XHRcdGNvbnN0IGZpbmlzaFZlcmlmaWNhdGlvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRmaW5pc2hWZXJpZmljYXRpb24pO1xyXG5cclxuXHRcdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoaW1wbGVtZW50YXRpb24ubmFtZSwgJGZpbmlzaFZlcmlmaWNhdGlvbiwgZnVuY3Rpb24odG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRhdGEgPSB7XHJcblx0XHRcdFx0XHRzZWNyZXQ6IGNvbnRleHQuc2VjcmV0XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcclxuXHRcdFx0XHRcdGZpbmlzaFZlcmlmaWNhdGlvblNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc2V0UmVjYXB0Y2hhICYmIHJlc2V0UmVjYXB0Y2hhKCk7XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCd2ZXJpZmljYXRpb25GYWlsZWQnKVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0XHRtZXRob2Q6ICAgICdQT1NUJyxcclxuXHRcdFx0XHRcdHVybDogICAgICAgYC92MS9jdXN0b21lcnMvJHtjb250ZXh0LmN1c3RvbWVyfS92ZXJpZmllZGAsXHJcblx0XHRcdFx0XHRkYXRhOiAgICAgIGRhdGEsXHJcblx0XHRcdFx0XHRyZWNhcHRjaGE6IHRva2VuLFxyXG5cdFx0XHRcdH0pLnRoZW4oKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVmVyaWZpY2F0aW9uLFxyXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0XHRjb250ZXh0XHJcblx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XHJcblxyXG5cdFx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0XHRlcnIgPT4gcmVzZXRTdGF0ZSgpXHJcblx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5jb25zdCBjYW1lbENhc2UgPSByZXF1aXJlKCdsb2Rhc2guY2FtZWxjYXNlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdvcmRlci1kZXRhaWwnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRvcmRlcjogICAgICAgICAgICAgICcnLCAgIC8vIE9yZGVyIElEIHRvIHJlbmRlclxyXG5cdFx0dXBkYXRlVHJhbnNhY3Rpb25zOiB0cnVlLCAvLyBVcGRhdGUgdHJhbnNhY3Rpb25zIGJlZm9yZSBnZXR0aW5nIGFuIG9yZGVyXHJcblx0XHRjdXN0b21lckZpZWxkczogICAgIFRodW5kZXIub3B0aW9ucy5jdXN0b21lck9yZGVyRmllbGRzLm1hcChmaWVsZCA9PiBmaWVsZC5zcGxpdCgnOicpWzBdKSxcclxuXHRcdHJlY2lwaWVudEZpZWxkczogICAgVGh1bmRlci5vcHRpb25zLnJlY2lwaWVudEZpZWxkcy5tYXAoZmllbGQgPT4gZmllbGQuc3BsaXQoJzonKVswXSksXHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3QgeyBvcmRlciB9ID0gY29udGV4dC5vcHRpb25zO1xyXG5cclxuXHRcdGNvbnRleHQuY291cG9uRGV0YWlsID0gY291cG9uID0+IHtcclxuXHRcdFx0cmV0dXJuIGNvdXBvbiA/XHJcblx0XHRcdFx0XHRjb250ZXh0Lm0oJ2Rpc2NvdW50ZWRCeScsIHsgdmFsdWU6IGNvdXBvbi5kaXNjb3VudC52YWx1ZS5jb252ZXJ0ZWQgfSkgOlxyXG5cdFx0XHRcdFx0Jyc7XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnRleHQuZnVsZmlsbG1lbnRUcmFja2VyID0gKHsgdHJhY2tpbmcgfSkgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgbWVzc2FnZSA9IFtcclxuXHRcdFx0XHR0cmFja2luZy5jb21wYW55LFxyXG5cdFx0XHRcdHRyYWNraW5nLnVpZCA/IGAoJHt0cmFja2luZy51aWR9KWAgOiBudWxsLFxyXG5cdFx0XHRdLmZpbHRlcih2ID0+IHYpLmpvaW4oJyAnKTtcclxuXHJcblx0XHRcdHJldHVybiB0cmFja2luZy51cmwgP1xyXG5cdFx0XHRcdFx0YDxhIGhyZWY9XCIke3RyYWNraW5nLnVybH1cIj4ke21lc3NhZ2UgfHwgY29udGV4dC5tKCd2aWV3VHJhY2tlcicpfTwvYT5gIDpcclxuXHRcdFx0XHRcdGA8c3Bhbj4ke21lc3NhZ2V9PC9zcGFuPmA7XHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnRleHQucmVmdW5kVG90YWxEZXRhaWwgPSB0b3RhbCA9PiBbXHJcblx0XHRcdHR5cGVvZiB0b3RhbC5pdGVtcy5wcmljZS53aXRoVGF4LnJhdyA9PT0gJ251bWJlcicgP1xyXG5cdFx0XHRcdGNvbnRleHQubSgncmVmdW5kSXRlbVRvdGFsJywgeyB0b3RhbDogdG90YWwuaXRlbXMucHJpY2Uud2l0aFRheC5jb252ZXJ0ZWQgfSkgOlxyXG5cdFx0XHRcdG51bGwsXHJcblx0XHRcdHR5cGVvZiB0b3RhbC5zaGlwcGluZy5mZWUud2l0aFRheC5yYXcgPT09ICdudW1iZXInID9cclxuXHRcdFx0XHRjb250ZXh0Lm0oJ3JlZnVuZFNoaXBwaW5nVG90YWwnLCB7IHRvdGFsOiB0b3RhbC5zaGlwcGluZy5mZWUud2l0aFRheC5jb252ZXJ0ZWQgfSkgOlxyXG5cdFx0XHRcdG51bGwsXHJcblx0XHRdLmZpbHRlcih2ID0+IHYpLmpvaW4oJyArICcpO1xyXG5cclxuXHRcdGNvbnN0IHRyYW5zbGF0aW9uS2V5cyA9IHtcclxuXHRcdFx0J25hbWUuZmlyc3QnOiAnZmlyc3ROYW1lJyxcclxuXHRcdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxyXG5cdFx0XHQnbmFtZS5mdWxsJzogICdmdWxsTmFtZScsXHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnRleHQuY3VzdG9tZXJGaWVsZHMgPSBUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhcclxuXHRcdFx0Y29udGV4dC5vcHRpb25zLmN1c3RvbWVyRmllbGRzXHJcblx0XHQpLm1hcChrZXkgPT4gKHtcclxuXHRcdFx0a2V5OiBrZXksXHJcblx0XHRcdHRyYW5zbGF0aW9uS2V5OiBjYW1lbENhc2UoWydjdXN0b21lcicsIHRyYW5zbGF0aW9uS2V5c1trZXldIHx8IGtleV0pLFxyXG5cdFx0fSkpO1xyXG5cclxuXHRcdGNvbnRleHQucmVjaXBpZW50RmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoXHJcblx0XHRcdGNvbnRleHQub3B0aW9ucy5yZWNpcGllbnRGaWVsZHNcclxuXHRcdCkubWFwKGtleSA9PiAoe1xyXG5cdFx0XHRrZXk6IGtleSxcclxuXHRcdFx0dHJhbnNsYXRpb25LZXk6IGNhbWVsQ2FzZShbJ2FkZHJlc3MnLCB0cmFuc2xhdGlvbktleXNba2V5XSB8fCBrZXldKSxcclxuXHRcdH0pKTtcclxuXHJcblx0XHRyZXR1cm4gY29udGV4dC5vcHRpb25zLnVwZGF0ZVRyYW5zYWN0aW9ucyA/XHJcblx0XHRcdFx0Ly8gU2luY2Ugd2UgYXJlIHRyeWluZyB0byBtYWtlIHRoZSBvcmRlciB1cC10by1kYXRlIHdpdGggdGhlIGJlc3QgZWZmb3J0LFxyXG5cdFx0XHRcdC8vIHByb2NlZWQgZm9sbG93aW5nIHByb2Nlc3NlcyBldmVuIGlmIGB1cGRhdGVUcmFuc2FjdGlvbnNgIGV4ZWN1dGlvbiBmYWlscy5cclxuXHRcdFx0XHR1cGRhdGVUcmFuc2FjdGlvbnMoKS50aGVuKFxyXG5cdFx0XHRcdFx0KCkgPT4gZmV0Y2hPcmRlcigpLnRoZW4ob3JkZXIgPT4gc3VjY2VzcyhvcmRlcikpLFxyXG5cdFx0XHRcdFx0KCkgPT4gZmV0Y2hPcmRlcigpLnRoZW4ob3JkZXIgPT4gc3VjY2VzcyhvcmRlcikpXHJcblx0XHRcdFx0KSA6XHJcblx0XHRcdFx0ZmV0Y2hPcmRlcigpLnRoZW4ob3JkZXIgPT4gc3VjY2VzcyhvcmRlcikpO1xyXG5cclxuXHRcdGZ1bmN0aW9uIHN1Y2Nlc3Mob3JkZXIpIHtcclxuXHJcblx0XHRcdC8vIE1ha2UgYHVwZGF0ZVRyYW5zYWN0aW9uc2Agb3B0aW9uIGFzIGB0cnVlYCxcclxuXHRcdFx0Ly8gZXZlbnQgaWYgaXQgd2FzIHBhc3NlZCBhcyBgZmFsc2VgLlxyXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMudXBkYXRlVHJhbnNhY3Rpb25zID0gdHJ1ZTtcclxuXHJcblx0XHRcdGNvbnN0IGZpbmREaXNjb3VudCA9IHR5cGUgPT4gZGlzY291bnQgPT4ge1xyXG5cdFx0XHRcdHJldHVybiBkaXNjb3VudC5jb3Vwb24gJiYgZGlzY291bnQuY291cG9uLnR5cGUgPT09IHR5cGU7XHJcblx0XHRcdH07XHJcblx0XHRcdGNvbnN0IGZpbmRDYXJ0RGlzY291bnQgPSBmaW5kRGlzY291bnQoJ2NhcnQnKTtcclxuXHRcdFx0Y29uc3QgZmluZFByb2R1Y3REaXNjb3VudCA9IGZpbmREaXNjb3VudCgncHJvZHVjdCcpO1xyXG5cclxuXHRcdFx0Y29uc3QgYWxsSXRlbXMgPSBvcmRlci5pdGVtcy5yZWR1Y2UoKGl0ZW1zLCBpdGVtKSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW1zLmNvbmNhdChpdGVtLCBpdGVtLmJ1bmRsZUl0ZW1zIHx8IFtdKTtcclxuXHRcdFx0fSwgW10pO1xyXG5cdFx0XHRjb25zdCBpdGVtc0FuZFNoaXBtZW50cyA9IFtdLmNvbmNhdChhbGxJdGVtcywgb3JkZXIuc2hpcG1lbnRzKTtcclxuXHJcblx0XHRcdGl0ZW1zQW5kU2hpcG1lbnRzLmZvckVhY2goaXRlbSA9PiB7XHJcblxyXG5cdFx0XHRcdGl0ZW0uYXBwbGllZENvdXBvbiA9IChcclxuXHRcdFx0XHRcdGl0ZW0uZGlzY291bnRzLmZpbmQoZmluZFByb2R1Y3REaXNjb3VudCkgfHwgeyBjb3Vwb246IG51bGwgfVxyXG5cdFx0XHRcdCkuY291cG9uO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRvcmRlci5zaGlwcGluZ1N0YXR1cyA9IFRodW5kZXIudXRpbC5vcmRlclNoaXBwaW5nU3RhdHVzKG9yZGVyKTtcclxuXHJcblx0XHRcdG9yZGVyLmFwcGxpZWRDb3Vwb24gPSAoXHJcblx0XHRcdFx0KFxyXG5cdFx0XHRcdFx0aXRlbXNBbmRTaGlwbWVudHMuZmluZChpdGVtID0+IHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGl0ZW0uZGlzY291bnRzLmZpbmQoZmluZENhcnREaXNjb3VudCk7XHJcblx0XHRcdFx0XHR9KSB8fCB7IGRpc2NvdW50czogW10gfVxyXG5cdFx0XHRcdCkuZGlzY291bnRzLmZpbmQoZmluZENhcnREaXNjb3VudCkgfHwgeyBjb3Vwb246IG51bGwgfVxyXG5cdFx0XHQpLmNvdXBvbjtcclxuXHJcblx0XHRcdG9yZGVyLmhhc1RhbmdpYmxlSXRlbSA9IGFsbEl0ZW1zLnNvbWUoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICd0YW5naWJsZScpO1xyXG5cclxuXHRcdFx0Y29udGV4dC5vcmRlciA9IG9yZGVyO1xyXG5cdFx0XHRjb250ZXh0LnZiYW5rcyA9IG9yZGVyLnRyYW5zYWN0aW9ucy5yZWR1Y2UoKHZiYW5rcywgdHJhbnNhY3Rpb24pID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gdmJhbmtzLmNvbmNhdCh0cmFuc2FjdGlvbi52YmFua3MgfHwgW10pO1xyXG5cdFx0XHR9LCBbXSkuZmlsdGVyKHZiYW5rID0+IHtcclxuXHRcdFx0XHQvLyBGaWx0ZXIgb3V0IGV4cGlyZWQgdmlydHVhbCBiYW5rIGRldGFpbHNcclxuXHRcdFx0XHRyZXR1cm4gIVRodW5kZXIudXRpbC5pc0V4cGlyZWQodmJhbmsuZXhwaXJlc0F0LnJhdyk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Ly8gU2V0IHBheW1lbnQgZGV0YWlscy5cclxuXHRcdFx0Y29uc3QgdGh1bmRlclBheW1lbnRNZXRob2RNYXAgPVxyXG5cdFx0XHRcdFRodW5kZXIub3B0aW9ucy5wYXltZW50TWV0aG9kcy5vcmRlclxyXG5cdFx0XHRcdFx0LnJlZHVjZSgobywgcCkgPT4gc2V0KG8sIHAuaWQsIHApLCB7fSk7XHJcblxyXG5cdFx0XHQvLyBGaWx0ZXIgdmlhYmxlIHBheW1lbnQgbWV0aG9kcyB3aGVyZS4uXHJcblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2RzID0gb3JkZXIudHJhbnNhY3Rpb25zLm1hcCgoeyBwYXltZW50TWV0aG9kLCB2YmFua3MgfSkgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCB0aHVuZGVyUGF5bWVudE1ldGhvZCA9XHJcblx0XHRcdFx0XHR0aHVuZGVyUGF5bWVudE1ldGhvZE1hcFtwYXltZW50TWV0aG9kLl9pZF0gfHxcclxuXHRcdFx0XHRcdHRodW5kZXJQYXltZW50TWV0aG9kTWFwW3BheW1lbnRNZXRob2Quc2x1Z107XHJcblxyXG5cdFx0XHRcdGNvbnN0IHNob3VsZERpc3BsYXkgPSAoXHJcblx0XHRcdFx0XHQvLyB0aGUgcGF5bWVudCBtZXRob2QgaXMgY29uZmlndXJlZCBmb3IgVGh1bmRlciBhbmQuLlxyXG5cdFx0XHRcdFx0dGh1bmRlclBheW1lbnRNZXRob2QgJiZcclxuXHRcdFx0XHRcdC8vIHRoZSBwYXltZW50IChieSB0aGUgbWV0aG9kKSBpcyBub3QgZm9yIGxhdGVyXHJcblx0XHRcdFx0XHQhdGh1bmRlclBheW1lbnRNZXRob2QucGF5TGF0ZXIgJiZcclxuXHRcdFx0XHRcdChcclxuXHRcdFx0XHRcdFx0IXZiYW5rcy5sZW5ndGggfHwgICAgICAvLyB0aGUgcGF5bWVudCBtZXRob2QgaXMgbm90IGZvciB2aXJ0dWFsIGJhbmtzXHJcblx0XHRcdFx0XHRcdHZiYW5rcy5zb21lKHZiYW5rID0+IHsgLy8gb3Igb25lIG9yIG1vcmUgdmlydHVhbCBiYW5rcyBhcmUgZXhwaXJlZFxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLnV0aWwuaXNFeHBpcmVkKHZiYW5rLmV4cGlyZXNBdC5yYXcpO1xyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdHJldHVybiBzaG91bGREaXNwbGF5ID8gdGh1bmRlclBheW1lbnRNZXRob2QgOiBudWxsO1xyXG5cclxuXHRcdFx0fSkuZmlsdGVyKHYgPT4gdik7XHJcblxyXG5cdFx0XHQvLyBTaG91bGQgZGlzcGxheSBhIHBheW1lbnQgZm9ybSB3aGVuLFxyXG5cdFx0XHQvLyAtIFRoZSBvcmRlcidzIHN0YXR1cyBpcyAncGxhY2VkJ1xyXG5cdFx0XHQvLyAtIE9uZSBvciBtb3JlIHZpYWJsZSBwYXltZW50IG1ldGhvZHMgZXhpc3RcclxuXHRcdFx0Y29uc3Qgc2hvdWxkUGF5ID1cclxuXHRcdFx0XHRvcmRlci5zdGF0dXMgPT09ICdwbGFjZWQnICYmXHJcblx0XHRcdFx0cGF5bWVudE1ldGhvZHMubGVuZ3RoO1xyXG5cclxuXHRcdFx0Y29udGV4dC5wYXltZW50TWV0aG9kcyA9IHBheW1lbnRNZXRob2RzO1xyXG5cdFx0XHRjb250ZXh0LnNob3VsZFBheSA9IHNob3VsZFBheTtcclxuXHJcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBjb250ZXh0KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVUcmFuc2FjdGlvbnMoKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxyXG5cdFx0XHRcdHVybDogICAgYC92MS9tZS9vcmRlcnMvJHtvcmRlcn0vdHJhbnNhY3Rpb25zYCxcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGZldGNoT3JkZXIoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdvcmRlclJlYWRGYWlsZWQnKVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvb3JkZXJzLyR7b3JkZXJ9YCxcclxuXHRcdFx0fSkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0Y2FsbGJhY2tcclxuXHRcdFx0KSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0b3JkZXIsXHJcblx0XHRcdHBheW1lbnRNZXRob2RzLFxyXG5cdFx0XHRzaG91bGRQYXksXHJcblx0XHR9ID0gY29udGV4dDtcclxuXHJcblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdGNvbnN0ICRiYWNrVG9PcmRlcnMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1iYWNrLXRvLW9yZGVycycpO1xyXG5cdFx0Y29uc3QgJHN1YnNjcmlwdGlvbmlkID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tc3Vic2NyaXB0aW9uLWlkIGEnKTtcclxuXHRcdGNvbnN0ICRtYXJrQXNSZWNlaXZlZCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLW1hcmstb3JkZXItYXMtcmVjZWl2ZWQnKTtcclxuXHRcdGNvbnN0ICRtYXJrQXNOb3RSZWNlaXZlZCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLW1hcmstb3JkZXItYXMtbm90LXJlY2VpdmVkJyk7XHJcblx0XHRjb25zdCAkY2FuY2VsT3JkZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jYW5jZWwtb3JkZXInKTtcclxuXHRcdGNvbnN0ICRjYW5jZWxsYXRpb25Gb3JtID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tb3JkZXItY2FuY2VsbGF0aW9uLWZvcm0nKTtcclxuXHRcdGNvbnN0ICRjYW5jZWxsYXRpb25SZWFzb24gPSAkY2FuY2VsbGF0aW9uRm9ybS5maW5kKCd0ZXh0YXJlYScpO1xyXG5cdFx0Y29uc3QgJGNhbmNlbEJ1dHRvbiA9ICRjYW5jZWxsYXRpb25Gb3JtLmZpbmQoJ2J1dHRvbicpO1xyXG5cdFx0Y29uc3QgJHJlcXVlc3RSZWZ1bmQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXF1ZXN0LXJlZnVuZCcpO1xyXG5cclxuXHRcdGNvbnN0IGNhbmNlbEJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRjYW5jZWxCdXR0b24pO1xyXG5cclxuXHRcdCRzdWJzY3JpcHRpb25pZC5vbignY2xpY2snLCB2aWV3U3Vic2NyaXB0aW9uKTtcclxuXHRcdCRtYXJrQXNSZWNlaXZlZC5vbignY2xpY2snLCBtYXJrQXNSZWNlaXZlZCk7XHJcblx0XHQkbWFya0FzTm90UmVjZWl2ZWQub24oJ2NsaWNrJywgbWFya0FzTm90UmVjZWl2ZWQpO1xyXG5cdFx0JGNhbmNlbE9yZGVyLm9uKCdjbGljaycsIHN0YXJ0Q2FuY2VsbGF0aW9uKTtcclxuXHRcdCRjYW5jZWxCdXR0b24ub24oJ2NsaWNrJywgY2FuY2VsT3JkZXIpO1xyXG5cdFx0JHJlcXVlc3RSZWZ1bmQub24oJ2NsaWNrJywgcmVxdWVzdFJlZnVuZCk7XHJcblx0XHQkKHRoaXMpLm9uKCdjbGljaycsICcudGh1bmRlci0tY2FuY2VsLXJlZnVuZCcsIHN0YXJ0UmVmdW5kQ2FuY2VsbGF0aW9uKTtcclxuXHRcdCQodGhpcykub24oJ2NsaWNrJywgJy50aHVuZGVyLS1yZWZ1bmQtY2FuY2VsbGF0aW9uLWZvcm0gYnV0dG9uJywgY2FuY2VsUmVmdW5kKTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwuYmluZEJhY2tCdXR0b24oJGJhY2tUb09yZGVycywgY29udGV4dCk7XHJcblxyXG5cdFx0Ly8gUmVuZGVyIGEgcGF5bWVudCBmb3JtIGlmIGl0J3MgbmVlZGVkLlxyXG5cdFx0aWYgKHNob3VsZFBheSkge1xyXG5cclxuXHRcdFx0Y29uc3QgJHBheW1lbnRGb3JtQ29udGFpbmVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcGF5bWVudC1mb3JtLWNvbnRhaW5lcicpO1xyXG5cdFx0XHRjb25zdCAkbWFrZVBheW1lbnQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1tYWtlLXBheW1lbnQnKTtcclxuXHRcdFx0Y29uc3QgbWFrZVBheW1lbnRTcGlubmVyID0gVGh1bmRlci51dGlsLm1ha2VBc3luY0J1dHRvbigkbWFrZVBheW1lbnQsIHsgYmluZDogZmFsc2UgfSk7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnJlbmRlcigkcGF5bWVudEZvcm1Db250YWluZXIsICdwYXltZW50LWZvcm0nLCB7XHJcblx0XHRcdFx0dHlwZTogJ29yZGVyJyxcclxuXHRcdFx0XHRwYXltZW50TWV0aG9kczogcGF5bWVudE1ldGhvZHMubWFwKHAgPT4gcC5pZClcclxuXHRcdFx0fSwgKGVyciwgeyBpbnRlcmZhY2VzOiBwYXltZW50SGFuZGxlciB9KSA9PiAkbWFrZVBheW1lbnQub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRjb25zdCB2YWxpZGF0aW9uRXJyb3IgPSBwYXltZW50SGFuZGxlci52YWxpZGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRpZiAodmFsaWRhdGlvbkVycm9yKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgdmFsaWRhdGlvbkVycm9yLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0bWFrZVBheW1lbnRTcGlubmVyLnJ1bigpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gcGF5bWVudEhhbmRsZXIubWFrZVBheW1lbnQoe1xyXG5cdFx0XHRcdFx0Y2FydDogICAgIG9yZGVyLFxyXG5cdFx0XHRcdFx0b3JkZXI6ICAgIG9yZGVyLFxyXG5cdFx0XHRcdFx0Y3VzdG9tZXI6IG9yZGVyLmN1c3RvbWVyXHJcblx0XHRcdFx0fSwgZXJyID0+IHtcclxuXHJcblx0XHRcdFx0XHRpZiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgncGF5bWVudEZhaWxlZCcpKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1ha2VQYXltZW50U3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3BheW1lbnRTdWNjZXNzJykpO1xyXG5cdFx0XHRcdFx0bWFrZVBheW1lbnRTcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCBpbXBsZW1lbnRhdGlvbi5uYW1lLCAkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHtcclxuXHRcdFx0XHRcdFx0dXBkYXRlVHJhbnNhY3Rpb25zOiB0cnVlXHJcblx0XHRcdFx0XHR9KSk7XHJcblxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0fSkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHZpZXdTdWJzY3JpcHRpb24oKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ3N1YnNjcmlwdGlvbi1kZXRhaWwnLCB7XHJcblx0XHRcdFx0c3Vic2NyaXB0aW9uOiBvcmRlci5zdWJzY3JpcHRpb24uX2lkLFxyXG5cdFx0XHRcdGJhY2s6IHtcclxuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXHJcblx0XHRcdFx0XHRjb21wb25lbnQ6ICBpbXBsZW1lbnRhdGlvbi5uYW1lLFxyXG5cdFx0XHRcdFx0b3B0aW9uczogICAgY29udGV4dC5vcHRpb25zXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gbWFya0FzUmVjZWl2ZWQoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0J2ludmFsaWQtb3JkZXItc3RhdHVzJzogY29udGV4dC5tKCdpbnZhbGlkT3JkZXJTdGF0dXMnKSxcclxuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ21hcmtBc1JlY2VpdmVkRmFpbGVkJyksXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvb3JkZXJzLyR7b3JkZXIuX2lkfS9yZWNlaXZlZGAsXHJcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnbWFya0FzUmVjZWl2ZWRTdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgaW1wbGVtZW50YXRpb24ubmFtZSwgJC5leHRlbmQoY29udGV4dC5vcHRpb25zLCB7XHJcblx0XHRcdFx0XHR1cGRhdGVUcmFuc2FjdGlvbnM6IGZhbHNlXHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBtYXJrQXNOb3RSZWNlaXZlZCgpIHtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHQnaW52YWxpZC1vcmRlci1zdGF0dXMnOiBjb250ZXh0Lm0oJ2ludmFsaWRPcmRlclN0YXR1cycpLFxyXG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnbWFya0FzTm90UmVjZWl2ZWRGYWlsZWQnKSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXHJcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL29yZGVycy8ke29yZGVyLl9pZH0vcmVjZWl2ZWRgLFxyXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHJcblx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ21hcmtBc05vdFJlY2VpdmVkU3VjY2VzcycpKTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGltcGxlbWVudGF0aW9uLm5hbWUsICQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywge1xyXG5cdFx0XHRcdFx0dXBkYXRlVHJhbnNhY3Rpb25zOiBmYWxzZVxyXG5cdFx0XHRcdH0pKTtcclxuXHJcblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdGVycm9yc1xyXG5cdFx0XHQpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3RhcnRDYW5jZWxsYXRpb24oKSB7XHJcblx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHQkY2FuY2VsbGF0aW9uRm9ybS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdCRjYW5jZWxsYXRpb25SZWFzb24uZm9jdXMoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBjYW5jZWxPcmRlcihldmVudCkge1xyXG5cclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkY2FuY2VsbGF0aW9uRm9ybS5zZXJpYWxpemVBcnJheSgpKTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHQnaW52YWxpZC1vcmRlci1zdGF0dXMnOiBjb250ZXh0Lm0oJ2ludmFsaWRPcmRlclN0YXR1cycpLFxyXG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnY2FuY2VsbGF0aW9uRmFpbGVkJyksXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xyXG5cdFx0XHRcdGNhbmNlbEJ1dHRvblNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL29yZGVycy8ke29yZGVyLl9pZH0vY2FuY2VsbGF0aW9uYCxcclxuXHRcdFx0XHRkYXRhOiAgIGRhdGEsXHJcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xyXG5cclxuXHRcdFx0XHRyZXNldFN0YXRlKCk7XHJcblxyXG5cdFx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdjYW5jZWxsYXRpb25TdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgaW1wbGVtZW50YXRpb24ubmFtZSwgJC5leHRlbmQoY29udGV4dC5vcHRpb25zLCB7XHJcblx0XHRcdFx0XHR1cGRhdGVUcmFuc2FjdGlvbnM6IGZhbHNlXHJcblx0XHRcdFx0fSkpO1xyXG5cclxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdHJlc2V0U3RhdGVcclxuXHRcdFx0KSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlcXVlc3RSZWZ1bmQoKSB7XHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnb3JkZXItcmVxdWVzdC1yZWZ1bmQnLCB7XHJcblx0XHRcdFx0b3JkZXI6IG9yZGVyLl9pZCxcclxuXHRcdFx0XHRiYWNrOiAge1xyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcjogJGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHN0YXJ0UmVmdW5kQ2FuY2VsbGF0aW9uKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgJHJlZnVuZCA9ICQodGhpcykucGFyZW50cygnW2RhdGEtcmVmdW5kXScpO1xyXG5cdFx0XHRjb25zdCAkY2FuY2VsbGF0aW9uRm9ybSA9ICRyZWZ1bmQuZmluZCgnLnRodW5kZXItLXJlZnVuZC1jYW5jZWxsYXRpb24tZm9ybScpO1xyXG5cclxuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdCRjYW5jZWxsYXRpb25Gb3JtLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FuY2VsUmVmdW5kKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgJHJlZnVuZCA9ICQodGhpcykucGFyZW50cygnW2RhdGEtcmVmdW5kXScpO1xyXG5cdFx0XHRjb25zdCAkY2FuY2VsbGF0aW9uRm9ybSA9ICRyZWZ1bmQuZmluZCgnLnRodW5kZXItLXJlZnVuZC1jYW5jZWxsYXRpb24tZm9ybScpO1xyXG5cdFx0XHRjb25zdCByZWZ1bmRJZCA9ICRyZWZ1bmQuZGF0YSgncmVmdW5kJyk7XHJcblxyXG5cdFx0XHRjb25zdCBkYXRhID0gVGh1bmRlci51dGlsLmZvcm1Ub0pTT04oJGNhbmNlbGxhdGlvbkZvcm0uc2VyaWFsaXplQXJyYXkoKSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gY2FuY2VsKCkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3JlZnVuZENhbmNlbGxhdGlvblN1Y2Nlc3MnKSk7XHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGltcGxlbWVudGF0aW9uLm5hbWUsICQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywge1xyXG5cdFx0XHRcdFx0dXBkYXRlVHJhbnNhY3Rpb25zOiBmYWxzZVxyXG5cdFx0XHRcdH0pKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBjYW5jZWwoKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRcdCdpbnZhbGlkLXJlZnVuZC1zdGF0dXMnOiBjb250ZXh0Lm0oJ2ludmFsaWRSZWZ1bmRTdGF0dXMnKSxcclxuXHRcdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICAgICBjb250ZXh0Lm0oJ3JlZnVuZENhbmNlbGxhdGlvbkZhaWxlZCcpXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRcdHVybDogICAgYC92MS9tZS9vcmRlcnMvJHtvcmRlci5faWR9L3JlZnVuZHMvJHtyZWZ1bmRJZH0vY2FuY2VsbGF0aW9uYCxcclxuXHRcdFx0XHRcdGRhdGE6ICAgZGF0YVxyXG5cdFx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRcdGVycm9yc1xyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdvcmRlci1saXN0J1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xyXG5cdFx0cGFnZTogICAgICAgICAgMSwgICAgLy8gV2hpY2ggcGFnZSBvZiBvcmRlcnM/XHJcblx0XHRsaW1pdDogICAgICAgICAxMCwgICAvLyBIb3cgbWFueSBvcmRlcnMgYXQgb25jZT9cclxuXHRcdHVzZVBhZ2luYXRpb246IHRydWUsIC8vIFVzZSBwYWdpbmF0aW9uP1xyXG5cdFx0b25WaWV3T3JkZXI6ICAgZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCwgb3JkZXJJZCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdvcmRlci1kZXRhaWwnLCB7XHJcblx0XHRcdFx0b3JkZXI6IG9yZGVySWQsXHJcblx0XHRcdFx0YmFjazogIHtcclxuXHRcdFx0XHRcdCRjb250YWluZXI6ICRjb250YWluZXIsXHJcblx0XHRcdFx0XHRjb21wb25lbnQ6ICBpbXBsZW1lbnRhdGlvbi5uYW1lLFxyXG5cdFx0XHRcdFx0b3B0aW9uczogICAgY29udGV4dC5vcHRpb25zXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ29yZGVyTGlzdEZhaWxlZCcpXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiAkLndoZW4oXHJcblx0XHRcdFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICAgICcvdjEvbWUvb3JkZXJzJyxcclxuXHRcdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRcdHBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXHJcblx0XHRcdFx0XHRsaW1pdDogIGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHRcdHNvcnQ6ICAgJy1jcmVhdGVkQXQnLFxyXG5cdFx0XHRcdFx0ZmllbGRzOiBbXHJcblx0XHRcdFx0XHRcdCdzdWJzY3JpcHRpb24nLFxyXG5cdFx0XHRcdFx0XHQnc3RhdHVzJyxcclxuXHRcdFx0XHRcdFx0J2l0ZW1zLnR5cGUnLFxyXG5cdFx0XHRcdFx0XHQnaXRlbXMucHJvZHVjdCcsXHJcblx0XHRcdFx0XHRcdCdpdGVtcy5idW5kbGVJdGVtcy50eXBlJyxcclxuXHRcdFx0XHRcdFx0J2Z1bGZpbGxtZW50cy5zdGF0dXMnLFxyXG5cdFx0XHRcdFx0XHQndG90YWwucHJpY2Uud2l0aFRheCcsXHJcblx0XHRcdFx0XHRcdCdjYW5jZWxsYXRpb24nLFxyXG5cdFx0XHRcdFx0XHQncmVjZWl2ZWRBdCcsXHJcblx0XHRcdFx0XHRcdCdjcmVhdGVkQXQnLFxyXG5cdFx0XHRcdFx0XS5qb2luKCcsJylcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLFxyXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMudXNlUGFnaW5hdGlvbiA/IFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICAgICcvdjEvbWUvb3JkZXJzL2NvdW50JyxcclxuXHRcdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRcdHJhdzogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkgOiBudWxsXHJcblx0XHQpLnRoZW4oKG9yZGVycywgY291bnQpID0+IHtcclxuXHJcblx0XHRcdGNvbnRleHQub3JkZXJzID0gKG9yZGVyc1swXSB8fCBbXSkubWFwKG9yZGVyID0+IHtcclxuXHRcdFx0XHRvcmRlci5zaGlwcGluZ1N0YXR1cyA9IFRodW5kZXIudXRpbC5vcmRlclNoaXBwaW5nU3RhdHVzKG9yZGVyKTtcclxuXHRcdFx0XHRyZXR1cm4gb3JkZXI7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29udGV4dC5jb3VudCA9IGNvdW50ID8gY291bnRbMF0uY291bnQgOiBudWxsO1xyXG5cclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRjYWxsYmFja1xyXG5cdFx0KSk7XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkb3JkZXIgPSAkKHRoaXMpLmZpbmQoJ1tkYXRhLW9yZGVyXScpO1xyXG5cdFx0Y29uc3QgJHBhZ2luYXRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1vcmRlci1saXN0LXBhZ2luYXRpb24nKTtcclxuXHJcblx0XHQkb3JkZXIub24oJ2NsaWNrJywgW1xyXG5cdFx0XHQnLnRodW5kZXItLW9yZGVyLWlkJyxcclxuXHRcdFx0Jy50aHVuZGVyLS1vcmRlci10aHVtYm5haWwnLFxyXG5cdFx0XHQnLnRodW5kZXItLW9yZGVyLWZpcnN0LWl0ZW0nLFxyXG5cdFx0XHQnLnRodW5kZXItLW9yZGVyLXJlc3QtaXRlbXMnLFxyXG5cdFx0XS5qb2luKCcsJyksIGV2ZW50ID0+IFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0Y29udGV4dC5vcHRpb25zLm9uVmlld09yZGVyLFxyXG5cdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRjb250ZXh0LFxyXG5cdFx0XHQkKGV2ZW50LmRlbGVnYXRlVGFyZ2V0KS5kYXRhKCdvcmRlcicpXHJcblx0XHQpKTtcclxuXHJcblx0XHRpZiAoY29udGV4dC5vcHRpb25zLnVzZVBhZ2luYXRpb24pIHtcclxuXHJcblx0XHRcdFRodW5kZXIucGx1Z2lucy5wYWdpbmF0aW9uKHtcclxuXHRcdFx0XHRjb250YWluZXI6ICAgICAkcGFnaW5hdGlvbixcclxuXHRcdFx0XHRjdXJyZW50UGFnZTogICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcclxuXHRcdFx0XHR0b3RhbFJlc3VsdDogICBjb250ZXh0LmNvdW50LFxyXG5cdFx0XHRcdHJlc3VsdFBlclBhZ2U6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwiY29uc3Qgc2V0ID0gcmVxdWlyZSgnbG9kYXNoLnNldCcpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnb3JkZXItcmVxdWVzdC1yZWZ1bmQnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRvcmRlcjogICAgICAgICAgICAnJywgLy8gT3JkZXIgSUQgdG8gcmVmdW5kXHJcblx0XHRyZWFzb25DYXRlZ29yaWVzOiBUaHVuZGVyLm9wdGlvbnMucmVmdW5kUmVhc29uQ2F0ZWdvcmllcyxcclxuXHR9KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRsZXQgb3JkZXIgPSBudWxsO1xyXG5cclxuXHRcdHJldHVybiBmZXRjaE9yZGVyKGNvbnRleHQub3B0aW9ucy5vcmRlcilcclxuXHRcdFx0XHQudGhlbihvID0+IHtcclxuXHRcdFx0XHRcdG9yZGVyID0gbztcclxuXHRcdFx0XHRcdHJldHVybiBmZXRjaEN1cnJlbmN5KG9yZGVyLmN1cnJlbmN5LnBheW1lbnQuY29kZSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHQudGhlbigoW2N1cnJlbmN5XSkgPT4gc3VjY2VzcyhvcmRlciwgY3VycmVuY3kpKTtcclxuXHJcblx0XHRmdW5jdGlvbiBzdWNjZXNzKG9yZGVyLCBjdXJyZW5jeSkge1xyXG5cclxuXHRcdFx0Y29udGV4dC5jdXJyZW5jeSA9ICQuZXh0ZW5kKGN1cnJlbmN5LCB7XHJcblx0XHRcdFx0Ly8gT3ZlcnJpZGUgcHJlY2lzaW9uIHdpdGggYSBzbmFwc2hvdCB2ZXJzaW9uXHJcblx0XHRcdFx0cHJlY2lzaW9uOiBvcmRlci5jdXJyZW5jeS5wYXltZW50LnByZWNpc2lvblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IHJlZnVuZHNJblByb2Nlc3MgPVxyXG5cdFx0XHRcdG9yZGVyLnJlZnVuZHNcclxuXHRcdFx0XHRcdC5maWx0ZXIoKHsgc3RhdHVzIH0pID0+IHN0YXR1cyAhPT0gJ2NhbmNlbGxlZCcpO1xyXG5cclxuXHRcdFx0Ly8geyBbaXRlbUlkXTogc2hpcG1lbnQsIC4uLiB9XHJcblx0XHRcdGNvbnN0IGl0ZW1Ub1NoaXBtZW50TWFwID0gb3JkZXIuc2hpcG1lbnRzLnJlZHVjZSgobywgc2hpcG1lbnQpID0+IHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHNoaXBtZW50Lml0ZW1zLnJlZHVjZSgobywgaXRlbSkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBzZXQobywgaXRlbS5faWQsIHNoaXBtZW50KTtcclxuXHJcblx0XHRcdFx0fSwgbyk7XHJcblxyXG5cdFx0XHR9LCB7fSk7XHJcblxyXG5cdFx0XHQvLyB7IFtpdGVtSWRdOiBxdWFudGl0eSwgLi4uIH1cclxuXHRcdFx0Y29uc3QgcmVmdW5kZWRJdGVtUXVhbnRpdHlNYXAgPSByZWZ1bmRzSW5Qcm9jZXNzLnJlZHVjZSgobywgcmVmdW5kKSA9PiB7XHJcblxyXG5cdFx0XHRcdHJldHVybiByZWZ1bmQuaXRlbXMucmVkdWNlKChvLCB7IGl0ZW0sIHF1YW50aXR5IH0pID0+IHtcclxuXHRcdFx0XHRcdG9baXRlbS5faWRdID0gb1tpdGVtLl9pZF0gfHwgMDtcclxuXHRcdFx0XHRcdG9baXRlbS5faWRdICs9IHF1YW50aXR5LnJhdztcclxuXHRcdFx0XHRcdHJldHVybiBvO1xyXG5cdFx0XHRcdH0sIG8pO1xyXG5cclxuXHRcdFx0fSwge30pO1xyXG5cclxuXHRcdFx0Ly8geyBbc2hpcG1lbnRJZF06IGFtb3VudCwgLi4uIH1cclxuXHRcdFx0Y29uc3QgcmVmdW5kZWRTaGlwbWVudEFtb3VudE1hcCA9IHJlZnVuZHNJblByb2Nlc3MucmVkdWNlKChvLCByZWZ1bmQpID0+IHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHJlZnVuZC5zaGlwbWVudHMucmVkdWNlKChvLCB7IHNoaXBtZW50LCBmZWUgfSkgPT4ge1xyXG5cdFx0XHRcdFx0b1tzaGlwbWVudC5faWRdID0gb1tzaGlwbWVudC5faWRdIHx8IDA7XHJcblx0XHRcdFx0XHRvW3NoaXBtZW50Ll9pZF0gPSBUaHVuZGVyLnV0aWwudG9QcmVjaXNpb24oXHJcblx0XHRcdFx0XHRcdG9bc2hpcG1lbnQuX2lkXSArIGZlZS53aXRoVGF4LnJhdyxcclxuXHRcdFx0XHRcdFx0Y29udGV4dC5jdXJyZW5jeS5wcmVjaXNpb25cclxuXHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gbztcclxuXHRcdFx0XHR9LCBvKTtcclxuXHJcblx0XHRcdH0sIHt9KTtcclxuXHJcblx0XHRcdG9yZGVyLml0ZW1zLmZvckVhY2goaXRlbSA9PiBbXS5jb25jYXQoaXRlbSwgaXRlbS5idW5kbGVJdGVtcyB8fCBbXSkuZm9yRWFjaChpdGVtID0+IHtcclxuXHJcblx0XHRcdFx0Y29uc3Qgc2hpcG1lbnQgPSBpdGVtVG9TaGlwbWVudE1hcFtpdGVtLl9pZF07XHJcblx0XHRcdFx0Y29uc3QgcmVmdW5kZWRJdGVtUXVhbnRpdHkgPSByZWZ1bmRlZEl0ZW1RdWFudGl0eU1hcFtpdGVtLl9pZF0gfHwgMDtcclxuXHJcblx0XHRcdFx0aXRlbS5zaGlwbWVudCA9IHNoaXBtZW50O1xyXG5cdFx0XHRcdGl0ZW0ucmVmdW5kYWJsZVF1YW50aXR5ID0gaXRlbS5xdWFudGl0eS5yYXcgLSByZWZ1bmRlZEl0ZW1RdWFudGl0eTtcclxuXHJcblx0XHRcdH0pKTtcclxuXHJcblx0XHRcdG9yZGVyLnNoaXBtZW50cy5mb3JFYWNoKHNoaXBtZW50ID0+IHtcclxuXHJcblx0XHRcdFx0Y29uc3QgcmVmdW5kZWRTaGlwbWVudEFtb3VudCA9IHJlZnVuZGVkU2hpcG1lbnRBbW91bnRNYXBbc2hpcG1lbnQuX2lkXSB8fCAwO1xyXG5cclxuXHRcdFx0XHRzaGlwbWVudC5yZWZ1bmRhYmxlRmVlID0gVGh1bmRlci51dGlsLnRvUHJlY2lzaW9uKFxyXG5cdFx0XHRcdFx0c2hpcG1lbnQuZmVlLndpdGhUYXgucmF3IC0gcmVmdW5kZWRTaGlwbWVudEFtb3VudCxcclxuXHRcdFx0XHRcdGNvbnRleHQuY3VycmVuY3kucHJlY2lzaW9uXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0b3JkZXIuaGFzUmVmdW5kYWJsZUl0ZW0gPSBvcmRlci5pdGVtcy5zb21lKGl0ZW0gPT4ge1xyXG5cdFx0XHRcdHJldHVybiBbXS5jb25jYXQoaXRlbSwgaXRlbS5idW5kbGVJdGVtcyB8fCBbXSkuc29tZShpdGVtID0+IHtcclxuXHRcdFx0XHRcdHJldHVybiBpdGVtLnJlZnVuZGFibGVRdWFudGl0eSA+IDA7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIHNldChjb250ZXh0LCAnb3JkZXInLCBvcmRlcikpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGZldGNoT3JkZXIob3JkZXIpIHtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ29yZGVyUmVhZEZhaWxlZCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogICAgYC92MS9tZS9vcmRlcnMvJHtvcmRlcn1gLFxyXG5cdFx0XHRcdGZpZWxkczogW1xyXG5cdFx0XHRcdFx0J2l0ZW1zJyxcclxuXHRcdFx0XHRcdCdzaGlwbWVudHMnLFxyXG5cdFx0XHRcdFx0J3JlZnVuZHMnLFxyXG5cdFx0XHRcdFx0J3RyYW5zYWN0aW9ucycsXHJcblx0XHRcdFx0XHQndG90YWwnLFxyXG5cdFx0XHRcdF0uam9pbignLCcpXHJcblx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdGNhbGxiYWNrXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBmZXRjaEN1cnJlbmN5KGNvZGUpIHtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2N1cnJlbmN5UmVhZEZhaWxlZCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogICAgYC92MS9jdXJyZW5jaWVzYCxcclxuXHRcdFx0XHRxdWVyeTogeyBjb2RlIH1cclxuXHRcdFx0fSkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0Y2FsbGJhY2tcclxuXHRcdFx0KSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0b3JkZXIsXHJcblx0XHRcdGN1cnJlbmN5XHJcblx0XHR9ID0gY29udGV4dDtcclxuXHJcblx0XHRjb25zdCBjYXRlZ29yeU1hcCA9IGNvbnRleHQub3B0aW9ucy5yZWFzb25DYXRlZ29yaWVzLnJlZHVjZSgobywgY2F0ZWdvcnkpID0+IHtcclxuXHRcdFx0cmV0dXJuIHNldChvLCBjYXRlZ29yeS5sYWJlbCwgY2F0ZWdvcnkpO1xyXG5cdFx0fSwge30pO1xyXG5cclxuXHRcdGNvbnN0IGl0ZW1NYXAgPSBvcmRlci5pdGVtcy5yZWR1Y2UoKG8sIGl0ZW0pID0+IHtcclxuXHRcdFx0cmV0dXJuIFtdLmNvbmNhdChpdGVtLCBpdGVtLmJ1bmRsZUl0ZW1zIHx8IFtdKS5yZWR1Y2UoKG8sIGl0ZW0pID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gc2V0KG8sIGl0ZW0uX2lkLCBpdGVtKTtcclxuXHRcdFx0fSwgbyk7XHJcblx0XHR9LCB7fSk7XHJcblxyXG5cdFx0Y29uc3Qgc2hpcG1lbnRNYXAgPSBvcmRlci5zaGlwbWVudHMucmVkdWNlKChvLCBzaGlwbWVudCkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gc2V0KG8sIHNoaXBtZW50Ll9pZCwgc2hpcG1lbnQpO1xyXG5cdFx0fSwge30pO1xyXG5cclxuXHRcdGNvbnN0IHNoaXBtZW50SXRlbVF1YW50aXR5TWFwID0gb3JkZXIuc2hpcG1lbnRzLnJlZHVjZSgobywgc2hpcG1lbnQpID0+IHtcclxuXHRcdFx0cmV0dXJuIHNoaXBtZW50Lml0ZW1zLnJlZHVjZSgobywgaXRlbSkgPT4ge1xyXG5cdFx0XHRcdHJldHVybiBzZXQobywgW3NoaXBtZW50Ll9pZCwgaXRlbS5faWRdLCBpdGVtLnF1YW50aXR5LnJhdyk7XHJcblx0XHRcdH0sIG8pO1xyXG5cdFx0fSwge30pO1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJGJhY2tUb09yZGVyID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYmFjay10by1vcmRlcicpO1xyXG5cdFx0Y29uc3QgJGNhcnRJdGVtcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhcnQtaXRlbScpO1xyXG5cdFx0Y29uc3QgJHRvZ2dsZUl0ZW1TZWxlY3Rpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS10b2dnbGUtaXRlbS1zZWxlY3Rpb24nKTtcclxuXHRcdGNvbnN0ICRyZWZ1bmRRdWFudGl0eSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNhcnQtaXRlbSBpbnB1dFtuYW1lPVwicmVmdW5kUXVhbnRpdHlcIl0nKTtcclxuXHRcdGNvbnN0ICRyZWZ1bmRDYXRlZ29yeSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlZnVuZC1jYXRlZ29yeScpO1xyXG5cdFx0Y29uc3QgJHJlZnVuZFJlYXNvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlZnVuZC1yZWFzb24nKTtcclxuXHRcdGNvbnN0ICRyZXF1aXJlc1JlYXNvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlcXVpcmVzLXJlZnVuZC1yZWFzb24nKTtcclxuXHRcdGNvbnN0ICR0b3RhbERldGFpbCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlZnVuZC10b3RhbC1kZXRhaWwnKTtcclxuXHRcdGNvbnN0ICRyZWZ1bmRJdGVtc1RvdGFsID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcmVmdW5kLWl0ZW1zLXRvdGFsIHRkJyk7XHJcblx0XHRjb25zdCAkcmVmdW5kU2hpcHBpbmdUb3RhbCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlZnVuZC1zaGlwcGluZy10b3RhbCB0ZCcpO1xyXG5cdFx0Y29uc3QgJHJlZnVuZFRvdGFsID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcmVmdW5kLXRvdGFsIHRkJyk7XHJcblx0XHRjb25zdCAkcmVxdWVzdFJlZnVuZCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJlcXVlc3QtcmVmdW5kJyk7XHJcblx0XHRjb25zdCByZXF1ZXN0QnV0dG9uU3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJHJlcXVlc3RSZWZ1bmQsIHsgYmluZDogZmFsc2UgfSk7XHJcblxyXG5cdFx0JHRvZ2dsZUl0ZW1TZWxlY3Rpb24ub24oJ2NsaWNrJywgdG9nZ2xlSXRlbVNlbGVjdGlvbik7XHJcblx0XHQkcmVmdW5kUXVhbnRpdHkub24oJ2NoYW5nZScsIHJlZnVuZFF1YW50aXR5Q2hhbmdlZCk7XHJcblx0XHQkcmVmdW5kQ2F0ZWdvcnkub24oJ2NoYW5nZScsIHVwZGF0ZVJlZnVuZFRvdGFsKTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwuYmluZEJhY2tCdXR0b24oJGJhY2tUb09yZGVyLCBjb250ZXh0KTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwubWFrZVJlY2FwdGNoYSh7XHJcblx0XHRcdGNvbXBvbmVudE5hbWU6IGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdGJ1dHRvbjogICAgICAgICRyZXF1ZXN0UmVmdW5kLFxyXG5cdFx0XHR2YWxpZGF0ZTogICAgICB2YWxpZGF0ZVJlcXVlc3QsXHJcblx0XHRcdGNhbGxiYWNrOiAgICAgIHJlcXVlc3RSZWZ1bmRcclxuXHRcdH0pO1xyXG5cclxuXHRcdHVwZGF0ZVJlZnVuZFRvdGFsKCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0T25lSXRlbVByaWNlKGl0ZW0pIHtcclxuXHRcdFx0cmV0dXJuIGl0ZW0ucHJpY2Uud2l0aFRheC5yYXcgLyBpdGVtLnF1YW50aXR5LnJhdztcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBtYXJrSXRlbUFjdGl2ZSgkY2FydEl0ZW0sIGFjdGl2ZSwgcXVhbnRpdHkpIHtcclxuXHJcblx0XHRcdGNvbnN0ICR0b2dnbGVCdXR0b24gPSAkY2FydEl0ZW0uZmluZCgnLnRodW5kZXItLXRvZ2dsZS1pdGVtLXNlbGVjdGlvbicpO1xyXG5cdFx0XHRjb25zdCAkcmVmdW5kUXVhbnRpdHkgPSAkY2FydEl0ZW0uZmluZCgnaW5wdXRbbmFtZT1cInJlZnVuZFF1YW50aXR5XCJdJyk7XHJcblx0XHRcdGNvbnN0IGl0ZW0gPSBpdGVtTWFwWyRjYXJ0SXRlbS5kYXRhKCdpdGVtJyldO1xyXG5cclxuXHRcdFx0aWYgKGFjdGl2ZSkge1xyXG5cdFx0XHRcdCRjYXJ0SXRlbS5kYXRhKCdhY3RpdmUnLCB0cnVlKS5yZW1vdmVDbGFzcygnaW5hY3RpdmUnKTtcclxuXHRcdFx0XHQkdG9nZ2xlQnV0dG9uLnRleHQoY29udGV4dC5tKCdyZW1vdmVGcm9tUmVmdW5kJykpO1xyXG5cdFx0XHRcdCRyZWZ1bmRRdWFudGl0eS52YWwoXHJcblx0XHRcdFx0XHRxdWFudGl0eSA9PT0gdW5kZWZpbmVkID9cclxuXHRcdFx0XHRcdFx0aXRlbS5yZWZ1bmRhYmxlUXVhbnRpdHkgOlxyXG5cdFx0XHRcdFx0XHRxdWFudGl0eVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JGNhcnRJdGVtLmRhdGEoJ2FjdGl2ZScsIGZhbHNlKS5hZGRDbGFzcygnaW5hY3RpdmUnKTtcclxuXHRcdFx0XHQkdG9nZ2xlQnV0dG9uLnRleHQoY29udGV4dC5tKCdhZGRUb1JlZnVuZCcpKTtcclxuXHRcdFx0XHQkcmVmdW5kUXVhbnRpdHkudmFsKDApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHRvZ2dsZUl0ZW1TZWxlY3Rpb24oZXZlbnQpIHtcclxuXHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRjb25zdCAkY2FydEl0ZW0gPSAkKHRoaXMpLnBhcmVudHMoJy50aHVuZGVyLS1jYXJ0LWl0ZW0nKTtcclxuXHJcblx0XHRcdG1hcmtJdGVtQWN0aXZlKCRjYXJ0SXRlbSwgISRjYXJ0SXRlbS5kYXRhKCdhY3RpdmUnKSk7XHJcblx0XHRcdHVwZGF0ZVJlZnVuZFRvdGFsKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVmdW5kUXVhbnRpdHlDaGFuZ2VkKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgJGNhcnRJdGVtID0gJCh0aGlzKS5wYXJlbnRzKCcudGh1bmRlci0tY2FydC1pdGVtJyk7XHJcblx0XHRcdGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoJCh0aGlzKS52YWwoKSk7XHJcblxyXG5cdFx0XHRtYXJrSXRlbUFjdGl2ZSgkY2FydEl0ZW0sICEhcXVhbnRpdHksIHF1YW50aXR5KTtcclxuXHRcdFx0dXBkYXRlUmVmdW5kVG90YWwoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVSZWZ1bmRUb3RhbCgpIHtcclxuXHJcblx0XHRcdCRjYXJ0SXRlbXMuZWFjaChmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgJGNhcnRJdGVtID0gJCh0aGlzKTtcclxuXHRcdFx0XHRjb25zdCAkcmVmdW5kQW1vdW50ID0gJGNhcnRJdGVtLmZpbmQoJy50aHVuZGVyLS1jYXJ0LWl0ZW0tcmVmdW5kLWFtb3VudCcpO1xyXG5cdFx0XHRcdGNvbnN0IGl0ZW0gPSBpdGVtTWFwWyRjYXJ0SXRlbS5kYXRhKCdpdGVtJyldO1xyXG5cdFx0XHRcdGNvbnN0IHF1YW50aXR5ID0gcGFyc2VJbnQoJGNhcnRJdGVtLmZpbmQoJ2lucHV0W25hbWU9XCJyZWZ1bmRRdWFudGl0eVwiXScpLnZhbCgpKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgcmVmdW5kQW1vdW50ID0gVGh1bmRlci51dGlsLmZvcm1hdFByaWNlKFxyXG5cdFx0XHRcdFx0Z2V0T25lSXRlbVByaWNlKGl0ZW0pICogcXVhbnRpdHksXHJcblx0XHRcdFx0XHRjdXJyZW5jeVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdCRyZWZ1bmRBbW91bnQudGV4dChyZWZ1bmRBbW91bnQpO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb25zdCBjYXRlZ29yeSA9IGNhdGVnb3J5TWFwWyRyZWZ1bmRDYXRlZ29yeS52YWwoKV07XHJcblxyXG5cdFx0XHRpZiAoIWNhdGVnb3J5KSB7XHJcblx0XHRcdFx0JHJlcXVpcmVzUmVhc29uLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0XHQkdG90YWxEZXRhaWwuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgcmVmdW5kSXRlbXMgPSBnZXRSZWZ1bmRJdGVtcygpO1xyXG5cdFx0XHRjb25zdCByZWZ1bmRTaGlwbWVudHMgPSBnZXRSZWZ1bmRTaGlwbWVudHMoY2F0ZWdvcnksIHJlZnVuZEl0ZW1zKTtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW1zVG90YWwgPSByZWZ1bmRJdGVtcy5yZWR1Y2UoKHN1bSwgeyBpdGVtLCBxdWFudGl0eSB9KSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIHN1bSArIChnZXRPbmVJdGVtUHJpY2UoaXRlbSkgKiBxdWFudGl0eSk7XHJcblx0XHRcdH0sIDApO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2hpcHBpbmdUb3RhbCA9IHJlZnVuZFNoaXBtZW50cy5yZWR1Y2UoKHN1bSwgc2hpcG1lbnQpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gc3VtICsgc2hpcG1lbnQucmVmdW5kYWJsZUZlZTtcclxuXHRcdFx0fSwgMCk7XHJcblxyXG5cdFx0XHRjb25zdCB0b3RhbCA9IGl0ZW1zVG90YWwgKyBzaGlwcGluZ1RvdGFsO1xyXG5cclxuXHRcdFx0JHJlZnVuZEl0ZW1zVG90YWwudGV4dChUaHVuZGVyLnV0aWwuZm9ybWF0UHJpY2UoaXRlbXNUb3RhbCwgY3VycmVuY3kpKTtcclxuXHRcdFx0JHJlZnVuZFNoaXBwaW5nVG90YWwudGV4dChUaHVuZGVyLnV0aWwuZm9ybWF0UHJpY2Uoc2hpcHBpbmdUb3RhbCwgY3VycmVuY3kpKTtcclxuXHRcdFx0JHJlZnVuZFRvdGFsLnRleHQoVGh1bmRlci51dGlsLmZvcm1hdFByaWNlKHRvdGFsLCBjdXJyZW5jeSkpO1xyXG5cclxuXHRcdFx0JHJlcXVpcmVzUmVhc29uLmFkZENsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0JHRvdGFsRGV0YWlsLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVmdW5kSXRlbXMoKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gJHJlZnVuZFF1YW50aXR5Lm1hcChmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRcdGl0ZW06ICAgICBpdGVtTWFwWyQodGhpcykucGFyZW50cygnW2RhdGEtaXRlbV0nKS5kYXRhKCdpdGVtJyldLFxyXG5cdFx0XHRcdFx0cXVhbnRpdHk6IHBhcnNlSW50KCQodGhpcykudmFsKCkpLFxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHR9KS5nZXQoKS5maWx0ZXIoKHsgcXVhbnRpdHkgfSkgPT4gcXVhbnRpdHkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBnZXRSZWZ1bmRTaGlwbWVudHMoY2F0ZWdvcnksIHJlZnVuZEl0ZW1zKSB7XHJcblxyXG5cdFx0XHRpZiAoIWNhdGVnb3J5KSB7XHJcblx0XHRcdFx0cmV0dXJuIFtdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBzaGlwbWVudFRvUmVmdW5kSXRlbXMgPSB7fTtcclxuXHJcblx0XHRcdHJlZnVuZEl0ZW1zLmZvckVhY2gocmVmdW5kSXRlbSA9PiB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHNoaXBtZW50ID0gcmVmdW5kSXRlbS5pdGVtLnNoaXBtZW50O1xyXG5cclxuXHRcdFx0XHRpZiAoIXNoaXBtZW50KSByZXR1cm47XHJcblxyXG5cdFx0XHRcdHNoaXBtZW50VG9SZWZ1bmRJdGVtc1tzaGlwbWVudC5faWRdID1cclxuXHRcdFx0XHRcdChzaGlwbWVudFRvUmVmdW5kSXRlbXNbc2hpcG1lbnQuX2lkXSB8fCBbXSkuY29uY2F0KHJlZnVuZEl0ZW0pO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IHNoaXBtZW50SWRzVG9SZWZ1bmQgPSBPYmplY3Qua2V5cyhzaGlwbWVudFRvUmVmdW5kSXRlbXMpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHNoaXBtZW50SWRzVG9SZWZ1bmQubWFwKHNoaXBtZW50SWQgPT4ge1xyXG5cclxuXHRcdFx0XHQvLyBDbG9uZSBmaXJzdCB0byBhdm9pZCBzaWRlIGVmZmVjdHNcclxuXHRcdFx0XHRjb25zdCBzaGlwbWVudEl0ZW1RdWFudGl0eSA9ICQuZXh0ZW5kKHt9LCBzaGlwbWVudEl0ZW1RdWFudGl0eU1hcFtzaGlwbWVudElkXSk7XHJcblx0XHRcdFx0Y29uc3QgcmVmdW5kSXRlbXMgPSBzaGlwbWVudFRvUmVmdW5kSXRlbXNbc2hpcG1lbnRJZF07XHJcblxyXG5cdFx0XHRcdHJlZnVuZEl0ZW1zLmZvckVhY2goKHsgaXRlbSwgcXVhbnRpdHkgfSkgPT4ge1xyXG5cdFx0XHRcdFx0c2hpcG1lbnRJdGVtUXVhbnRpdHlbaXRlbS5faWRdIC09IHF1YW50aXR5O1xyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRjb25zdCBhcmVBbGxJdGVtc1JlZnVuZGVkID1cclxuXHRcdFx0XHRcdE9iamVjdC5rZXlzKHNoaXBtZW50SXRlbVF1YW50aXR5KVxyXG5cdFx0XHRcdFx0XHQuZXZlcnkoaXRlbUlkID0+IHNoaXBtZW50SXRlbVF1YW50aXR5W2l0ZW1JZF0gPT09IDApO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0c2hpcG1lbnQ6IHNoaXBtZW50TWFwW3NoaXBtZW50SWRdLFxyXG5cdFx0XHRcdFx0c2hvdWxkUmVmdW5kOiBhcmVBbGxJdGVtc1JlZnVuZGVkID9cclxuXHRcdFx0XHRcdFx0XHRcdGNhdGVnb3J5LnNoaXBwaW5nRmVlLmFsbEl0ZW1zIDpcclxuXHRcdFx0XHRcdFx0XHRcdGNhdGVnb3J5LnNoaXBwaW5nRmVlLnNvbWVJdGVtc1xyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHR9KS5maWx0ZXIoKHsgc2hpcG1lbnQsIHNob3VsZFJlZnVuZCB9KSA9PiB7XHJcblxyXG5cdFx0XHRcdC8vIFdoZW4gdGhlIHNoaXBtZW50IHNob3VsZCBiZSByZWZ1bmRlZFxyXG5cdFx0XHRcdC8vIGFuZCBpdHMgcmVmdW5kYWJsZSBmZWUgaXMgZ3JlYXRlciB0aGFuIDBcclxuXHRcdFx0XHRyZXR1cm4gc2hvdWxkUmVmdW5kICYmXHJcblx0XHRcdFx0XHRcdHNoaXBtZW50LnJlZnVuZGFibGVGZWUgPiAwO1xyXG5cclxuXHRcdFx0fSkubWFwKCh7IHNoaXBtZW50IH0pID0+IHNoaXBtZW50KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0UmVxdWVzdERldGFpbCgpIHtcclxuXHJcblx0XHRcdGNvbnN0IGNhdGVnb3J5ID0gY2F0ZWdvcnlNYXBbJHJlZnVuZENhdGVnb3J5LnZhbCgpXTtcclxuXHRcdFx0Y29uc3QgaXRlbXMgPSBnZXRSZWZ1bmRJdGVtcygpO1xyXG5cdFx0XHRjb25zdCBzaGlwbWVudHMgPSBnZXRSZWZ1bmRTaGlwbWVudHMoY2F0ZWdvcnksIGl0ZW1zKS5tYXAocyA9PiBzLl9pZCk7XHJcblxyXG5cdFx0XHRpdGVtcy5mb3JFYWNoKGRldGFpbCA9PiBkZXRhaWwuaXRlbSA9IGRldGFpbC5pdGVtLl9pZCk7XHJcblxyXG5cdFx0XHRjb25zdCByZWFzb24gPSB7XHJcblx0XHRcdFx0Y2F0ZWdvcnk6IGNhdGVnb3J5ID9cclxuXHRcdFx0XHRcdFx0XHRjb250ZXh0Lm0oY2F0ZWdvcnkubGFiZWwpIDpcclxuXHRcdFx0XHRcdFx0XHRudWxsLFxyXG5cdFx0XHRcdGJvZHk6ICAgICAkcmVmdW5kUmVhc29uLnZhbCgpLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIHsgaXRlbXMsIHNoaXBtZW50cywgcmVhc29uIH07XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdmFsaWRhdGVSZXF1ZXN0KCkge1xyXG5cclxuXHRcdFx0Y29uc3Qge1xyXG5cdFx0XHRcdGl0ZW1zLFxyXG5cdFx0XHRcdHJlYXNvbjoge1xyXG5cdFx0XHRcdFx0Y2F0ZWdvcnlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gPSBnZXRSZXF1ZXN0RGV0YWlsKCk7XHJcblxyXG5cdFx0XHRpZiAoIWl0ZW1zLmxlbmd0aCkge1xyXG5cdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnYXRMZWFzdE9uZUl0ZW1SZXF1aXJlZCcpKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghY2F0ZWdvcnkpIHtcclxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3JlYXNvbkNhdGVnb3J5UmVxdWlyZWQnKSk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVxdWVzdFJlZnVuZCh0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcclxuXHJcblx0XHRcdHJlcXVlc3RCdXR0b25TcGlubmVyLnJ1bigpO1xyXG5cclxuXHRcdFx0Y29uc3QgZGV0YWlsID0gZ2V0UmVxdWVzdERldGFpbCgpO1xyXG5cclxuXHRcdFx0ZGV0YWlsLnJlYXNvbiA9IGBbJHtkZXRhaWwucmVhc29uLmNhdGVnb3J5fV0gJHtkZXRhaWwucmVhc29uLmJvZHkgfHwgJyd9YC50cmltKCk7XHJcblxyXG5cdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4ge1xyXG5cdFx0XHRcdHJlcXVlc3RCdXR0b25TcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHQnaW52YWxpZC1vcmRlci1zdGF0dXMnOiBjb250ZXh0Lm0oJ2ludmFsaWRPcmRlclN0YXR1cycpLFxyXG5cdFx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICAgIGNvbnRleHQubSgncmVxdWVzdFJlZnVuZEZhaWxlZCcpLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAgICAnUE9TVCcsXHJcblx0XHRcdFx0dXJsOiAgICAgICBgL3YxL21lL29yZGVycy8ke29yZGVyLl9pZH0vcmVmdW5kc2AsXHJcblx0XHRcdFx0ZGF0YTogICAgICBkZXRhaWwsXHJcblx0XHRcdFx0cmVjYXB0Y2hhOiB0b2tlbixcclxuXHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblxyXG5cdFx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdyZXF1ZXN0UmVmdW5kU3VjY2VzcycpKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgYmFjayA9IGNvbnRleHQub3B0aW9ucy5iYWNrO1xyXG5cclxuXHRcdFx0XHRpZiAoIWJhY2spIHtcclxuXHRcdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoYmFjay4kY29udGFpbmVyLCBiYWNrLmNvbXBvbmVudCwgYmFjay5vcHRpb25zKTtcclxuXHJcblx0XHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdGVycm9ycyxcclxuXHRcdFx0XHRyZXNldFN0YXRlXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XHJcbmNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuY29uc3QgY2FtZWxDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmNhbWVsY2FzZScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAncGF5bWVudC1mb3JtJ1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xyXG5cdFx0dHlwZTogJ29yZGVyJywgLy8gJ29yZGVyJyBvciAnc3Vic2NyaXB0aW9uJ1xyXG5cdFx0cGF5bWVudE1ldGhvZHM6IG51bGwsXHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3Qge1xyXG5cdFx0XHR0eXBlXHJcblx0XHR9ID0gY29udGV4dC5vcHRpb25zO1xyXG5cclxuXHRcdGNvbnN0IHBheW1lbnRNZXRob2RGaWx0ZXIgPSBjb250ZXh0Lm9wdGlvbnMucGF5bWVudE1ldGhvZHM7XHJcblx0XHRjb25zdCBkZWZhdWx0UGF5bWVudE1ldGhvZHMgPSBUaHVuZGVyLm9wdGlvbnMucGF5bWVudE1ldGhvZHNbdHlwZV07XHJcblxyXG5cdFx0Y29udGV4dC5wYXltZW50TWV0aG9kcyA9XHJcblx0XHRcdGNvbnRleHQub3B0aW9ucy5wYXltZW50TWV0aG9kcyA/XHJcblx0XHRcdGRlZmF1bHRQYXltZW50TWV0aG9kcy5maWx0ZXIocGF5bWVudE1ldGhvZCA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIHBheW1lbnRNZXRob2RGaWx0ZXIuc29tZShwID0+IHBheW1lbnRNZXRob2QuaWQgPT09IHApO1xyXG5cdFx0XHR9KSA6XHJcblx0XHRcdGRlZmF1bHRQYXltZW50TWV0aG9kcztcclxuXHJcblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3Qgb3duZXIgPSB7XHJcblx0XHRcdHBlcnNvbjogIHsgbGFiZWw6IGNvbnRleHQubSgnY2FyZE93bmVyQmlydGhkYXRlJyksIGZvcm1hdDogJ1lZTU1ERCcgfSxcclxuXHRcdFx0Y29tcGFueTogeyBsYWJlbDogY29udGV4dC5tKCdjYXJkT3duZXJDb21wYW55TnVtYmVyJyksIGZvcm1hdDogJ1hYWFhYWFhYWFgnIH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y29uc3QgcGF5bWVudE1ldGhvZE1hcCA9XHJcblx0XHRcdFx0Y29udGV4dC5wYXltZW50TWV0aG9kc1xyXG5cdFx0XHRcdFx0LnJlZHVjZSgobywgcCkgPT4gc2V0KG8sIFtgJHtwLmlkfS4ke3AubGFiZWx9YF0sIHApLCB7fSk7XHJcblxyXG5cdFx0Y29uc3QgJGNhcmRGb3JtID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcGF5bWVudC1jYXJkLWRldGFpbCcpO1xyXG5cdFx0Y29uc3QgJHBheW1lbnRNZXRob2QgPSAkKHRoaXMpLmZpbmQoJ1tuYW1lPVwicGF5bWVudE1ldGhvZFwiXScpO1xyXG5cdFx0Y29uc3QgJGNhcmROdW1iZXIgPSAkKHRoaXMpLmZpbmQoJ1tuYW1lPVwiY2FyZC5udW1iZXJcIl0nKTtcclxuXHRcdGNvbnN0ICRpc0NvbXBhbnlDYXJkID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0taXMtY29tcGFueS1jYXJkIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xyXG5cdFx0Y29uc3QgJGNhcmRPd25lckxhYmVsID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY2FyZC1vd25lciBsYWJlbCcpO1xyXG5cdFx0Y29uc3QgJGNhcmRPd25lcklucHV0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tY2FyZC1vd25lciBpbnB1dFt0eXBlPVwidGV4dFwiXScpO1xyXG5cclxuXHRcdCRwYXltZW50TWV0aG9kLm9uKCdjaGFuZ2UnLCBkaXNwbGF5Q2FyZEZvcm0pO1xyXG5cdFx0JGNhcmROdW1iZXIub24oJ2tleXVwJywgbm9ybWFsaXplQ2FyZE51bWJlcik7XHJcblx0XHQkaXNDb21wYW55Q2FyZC5vbignY2hhbmdlJywgZGVjaWRlQ2FyZE93bmVyKTtcclxuXHJcblx0XHRkZWNpZGVDYXJkT3duZXIoKTtcclxuXHJcblx0XHRmdW5jdGlvbiBnZXRQYXltZW50TWV0aG9kSWQoKSB7XHJcblx0XHRcdHJldHVybiAkcGF5bWVudE1ldGhvZC52YWwoKSB8fCBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFBheW1lbnRNZXRob2QoKSB7XHJcblx0XHRcdHJldHVybiBwYXltZW50TWV0aG9kTWFwW2dldFBheW1lbnRNZXRob2RJZCgpXSB8fCBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldENhcmQoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBwYXltZW50TWV0aG9kID0gZ2V0UGF5bWVudE1ldGhvZCgpO1xyXG5cclxuXHRcdFx0aWYgKCFwYXltZW50TWV0aG9kIHx8ICFwYXltZW50TWV0aG9kLmNhcmRGaWVsZHMpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgZGF0YSA9IHt9O1xyXG5cclxuXHRcdFx0JGNhcmRGb3JtLmZpbmQoJ1tuYW1lXScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0c2V0KGRhdGEsICQodGhpcykucHJvcCgnbmFtZScpLCAkKHRoaXMpLnZhbCgpIHx8IG51bGwpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IGNhcmQgPSBkYXRhLmNhcmQ7XHJcblxyXG5cdFx0XHRpZiAoY2FyZCkge1xyXG5cdFx0XHRcdGlmIChjYXJkLm51bWJlcikge1xyXG5cdFx0XHRcdFx0Y2FyZC5udW1iZXIgPSBjYXJkLm51bWJlci5yZXBsYWNlKC9cXHMvZywgJy0nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBjYXJkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgY2FyZCA9IGdldENhcmQoKTtcclxuXHRcdFx0Y29uc3QgcGF5bWVudE1ldGhvZCA9IGdldFBheW1lbnRNZXRob2QoKTtcclxuXHJcblx0XHRcdGlmICghcGF5bWVudE1ldGhvZCkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb2RlID0gJ3BheW1lbnRNZXRob2RSZXF1aXJlZCc7XHJcblx0XHRcdFx0Y29uc3QgZXJyID0gbmV3IEVycm9yKGNvbnRleHQubShjb2RlKSk7XHJcblxyXG5cdFx0XHRcdGVyci5jb2RlID0gY29kZTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIGVycjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCFwYXltZW50TWV0aG9kLmNhcmRGaWVsZHMpIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVmFsaWRhdGUgaWYgdGhlIHBheW1lbnQgbWV0aG9kIHJlcXVpcmVzIG1hbnVhbCBjYXJkIGlucHV0c1xyXG5cclxuXHRcdFx0Y29uc3QgZmllbGRzID0gJGNhcmRGb3JtLmZpbmQoJ1tuYW1lXScpLm1hcChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJCh0aGlzKS5wcm9wKCduYW1lJyk7XHJcblx0XHRcdH0pLmdldCgpO1xyXG5cclxuXHRcdFx0Zm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBnZXQoY2FyZCwgZmllbGQucmVwbGFjZSgnY2FyZC4nLCAnJykpO1xyXG5cclxuXHRcdFx0XHRpZiAodmFsdWUpIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb2RlID0gY2FtZWxDYXNlKFtmaWVsZCwgJ3JlcXVpcmVkJ10pO1xyXG5cdFx0XHRcdGNvbnN0IGVyciA9IG5ldyBFcnJvcihjb250ZXh0Lm0oY29kZSkpO1xyXG5cclxuXHRcdFx0XHRlcnIuY29kZSA9IGNvZGU7XHJcblxyXG5cdFx0XHRcdHJldHVybiBlcnI7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBub3JtYWxpemVDYXJkTnVtYmVyKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgdmFsdWUgPSAoJCh0aGlzKS52YWwoKSB8fCAnJylcclxuXHRcdFx0XHRcdFx0XHQucmVwbGFjZSgvW15cXGRdL2csICcnKTtcclxuXHJcblx0XHRcdGNvbnN0IG5vcm1hbGl6ZWQgPSBbMCwgMSwgMiwgM10ucmVkdWNlKChudW1iZXJzLCBpKSA9PiB7XHJcblxyXG5cdFx0XHRcdHJldHVybiBudW1iZXJzLmNvbmNhdCh2YWx1ZS5zbGljZShpICogNCwgKGkgKyAxKSAqIDQpKTtcclxuXHJcblx0XHRcdH0sIFtdKTtcclxuXHJcblx0XHRcdCQodGhpcykudmFsKG5vcm1hbGl6ZWQuZmlsdGVyKHYgPT4gdikuam9pbignICcpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVjaWRlQ2FyZE93bmVyKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgaXNDb21wYW55Q2FyZCA9ICRpc0NvbXBhbnlDYXJkLmlzKCc6Y2hlY2tlZCcpO1xyXG5cdFx0XHRjb25zdCB7XHJcblx0XHRcdFx0bGFiZWwsXHJcblx0XHRcdFx0Zm9ybWF0XHJcblx0XHRcdH0gPSBpc0NvbXBhbnlDYXJkID8gb3duZXIuY29tcGFueSA6IG93bmVyLnBlcnNvbjtcclxuXHJcblx0XHRcdCRjYXJkT3duZXJMYWJlbC50ZXh0KGxhYmVsKTtcclxuXHRcdFx0JGNhcmRPd25lcklucHV0LnByb3AoJ3BsYWNlaG9sZGVyJywgZm9ybWF0KTtcclxuXHJcblx0XHRcdC8vIFJlc2V0IGNhcmQgb3duZXIgaW5wdXQncyB2YWx1ZVxyXG5cdFx0XHQkY2FyZE93bmVySW5wdXQudmFsKCcnKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVzZXRDYXJkKCkge1xyXG5cclxuXHRcdFx0Ly8gUmVzZXQgYWxsIGlucHV0IHZhbHVlc1xyXG5cdFx0XHQkY2FyZEZvcm0uZmluZCgnaW5wdXQnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gJCh0aGlzKS5pcygnW3R5cGU9XCJjaGVja2JveFwiXScpID9cclxuXHRcdFx0XHRcdFx0JCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpIDpcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS52YWwoJycpO1xyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGRlY2lkZUNhcmRPd25lcigpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkaXNwbGF5Q2FyZEZvcm0oKSB7XHJcblxyXG5cdFx0XHQvLyBSZXNldCBhbGwgaW5wdXQgdmFsdWVzXHJcblx0XHRcdHJlc2V0Q2FyZCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgcGF5bWVudE1ldGhvZCA9IGdldFBheW1lbnRNZXRob2QoKTtcclxuXHJcblx0XHRcdHJldHVybiBwYXltZW50TWV0aG9kLmNhcmRGaWVsZHMgP1xyXG5cdFx0XHRcdFx0JGNhcmRGb3JtLnNob3coKSA6XHJcblx0XHRcdFx0XHQkY2FyZEZvcm0uaGlkZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIG1ha2VQYXltZW50KHsgY2FydCwgb3JkZXIsIHN1YnNjcmlwdGlvbiwgY3VzdG9tZXIgfSwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2QgPSBnZXRQYXltZW50TWV0aG9kKCk7XHJcblxyXG5cdFx0XHRpZiAoIXBheW1lbnRNZXRob2QpIHtcclxuXHRcdFx0XHRyZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKGNvbnRleHQubSgncGF5bWVudE1ldGhvZFJlcXVpcmVkJykpKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHBheW1lbnRNZXRob2QucGF5TGF0ZXIpIHtcclxuXHRcdFx0XHQvLyBJZiBhIHBheW1lbnQgaXMgdG8gYmUgbWFkZSBhZnRlciBhbGwgY2hlY2tvdXQgcHJvY2Vzc2VzLFxyXG5cdFx0XHRcdC8vIHNpbXBseSBmaW5pc2ggY2hlY2tvdXQgcHJvY2Vzc2VzLlxyXG5cdFx0XHRcdHJldHVybiBjYWxsYmFjaygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5wbHVnaW5zLm1ha2VQYXltZW50KHtcclxuXHRcdFx0XHRwYXltZW50TWV0aG9kLFxyXG5cdFx0XHRcdGNhcnQsXHJcblx0XHRcdFx0b3JkZXIsXHJcblx0XHRcdFx0c3Vic2NyaXB0aW9uLFxyXG5cdFx0XHRcdGN1c3RvbWVyLFxyXG5cdFx0XHR9LCBlcnIgPT4gY2FsbGJhY2soZXJyKSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJldHVybiBpbnRlcmZhY2VzXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRnZXRQYXltZW50TWV0aG9kSWQsXHJcblx0XHRcdGdldFBheW1lbnRNZXRob2QsXHJcblx0XHRcdGdldENhcmQsXHJcblx0XHRcdHJlc2V0Q2FyZCxcclxuXHRcdFx0dmFsaWRhdGUsXHJcblx0XHRcdG1ha2VQYXltZW50XHJcblx0XHR9O1xyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG59OyIsImNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuY29uc3QgcHJvZHVjdENhdGFsb2cgPSByZXF1aXJlKCcuL2xpYi9wcm9kdWN0Q2F0YWxvZy5qcycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAncHJvZHVjdC1kZXRhaWwnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRwcm9kdWN0OiAgICAgICAgICAnJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb2R1Y3QgSUQgdG8gcmVuZGVyXHJcblx0XHRwcm9kdWN0QWN0aW9uczogICBUaHVuZGVyLm9wdGlvbnMucHJvZHVjdEFjdGlvbnMsIC8vIFsnYWRkLXRvLWNhcnQnLCAnYnV5LW5vdyddXHJcblx0XHRkZXNjcmlwdGlvblN0eWxlOiAnZGV0YWlsZWQnLCAgICAgICAgICAgICAgICAgICAgIC8vICdzaW1wbGUnIHx8ICdkZXRhaWxlZCdcclxuXHRcdHVzZUZvbGxvd2luZ05hdjogIHRydWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGZvbGxvd2luZyBuYXZpZ2F0aW9uP1xyXG5cdFx0dXNlUmV2aWV3czogICAgICAgVGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXcsICAvLyBVc2UgcmV2aWV3cz9cclxuXHRcdHVzZVJhdGluZzogICAgICAgICggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHJldmlldyByYXRpbmc/XHJcblx0XHRcdFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3ICYmXHJcblx0XHRcdFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3UmF0aW5nXHJcblx0XHQpLFxyXG5cclxuXHRcdG9uQnV5Tm93OiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBpdGVtKSB7XHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCAnY2FydCcsIHsgaXRlbXM6IFtpdGVtLl9pZF0gfSk7XHJcblx0XHR9LFxyXG5cdFx0b25JdGVtQWRkOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0KSB7XHJcblx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnaXRlbUFkZFN1Y2Nlc3MnKSk7XHJcblx0XHR9LFxyXG5cdFx0b25Hb1RvQ2FydDogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge1xyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ2NhcnQnKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRjb250ZXh0Lm9wdGlvbnMucHJvZHVjdEFjdGlvbnMgPSBUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhjb250ZXh0Lm9wdGlvbnMucHJvZHVjdEFjdGlvbnMpO1xyXG5cclxuXHRcdGNvbnN0IHsgcHJvZHVjdCB9ID0gY29udGV4dC5vcHRpb25zO1xyXG5cclxuXHRcdGNvbnRleHQuaXNVbmF2YWlsYWJsZVByb2R1Y3QgPSBwcm9kdWN0ID0+IHtcclxuXHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0Ly8gQSBwcm9kdWN0IGlzIHVuYXZhaWxhYmxlXHJcblx0XHRcdFx0IXByb2R1Y3QuYXZhaWxhYmxlIHx8XHJcblx0XHRcdFx0KFxyXG5cdFx0XHRcdFx0cHJvZHVjdC52YXJpYW50cyAmJiAvLyBXaGlsZSBhIHByb2R1Y3QgaGFzIHZhcmlhbnRzIGFycmF5XHJcblx0XHRcdFx0XHQoXHJcblx0XHRcdFx0XHRcdC8vIEEgcHJvZHVjdCBkb2Vzbid0IGhhdmUgYW55IHZhcmlhbnRzXHJcblx0XHRcdFx0XHRcdCFwcm9kdWN0LnZhcmlhbnRzLmxlbmd0aCB8fFxyXG5cdFx0XHRcdFx0XHQvLyBBbGwgdmFyaWFudHMgYXJlIHVuYXZhaWxhYmxlXHJcblx0XHRcdFx0XHRcdHByb2R1Y3QudmFyaWFudHMuZXZlcnkodiA9PiAhdi5hdmFpbGFibGUpXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0KSB8fFxyXG5cdFx0XHRcdC8vIEEgdGFuZ2libGUgcHJvZHVjdCBkb2Vzbid0IHN1cHBvcnQgYW55IHNoaXBwaW5nIG1ldGhvZHNcclxuXHRcdFx0XHQoXHJcblx0XHRcdFx0XHRwcm9kdWN0LnR5cGUgPT09ICd0YW5naWJsZScgJiZcclxuXHRcdFx0XHRcdHByb2R1Y3Quc2hpcHBpbmcubWV0aG9kcy5sZW5ndGggPT09IDBcclxuXHRcdFx0XHQpXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHRjb250ZXh0LmlzVW5hdmFpbGFibGVWYXJpYW50ID0gKHByb2R1Y3QsIHZhcmlhbnQpID0+IHtcclxuXHJcblx0XHRcdGlmIChjb250ZXh0LmlzVW5hdmFpbGFibGVQcm9kdWN0KHByb2R1Y3QpIHx8XHJcblx0XHRcdFx0IXZhcmlhbnQuYXZhaWxhYmxlKSB7XHJcblx0XHRcdFx0cmV0dXJuICdub3RBdmFpbGFibGVWYXJpYW50JztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHZhcmlhbnQucXVhbnRpdHkgJiZcclxuXHRcdFx0XHR2YXJpYW50LnF1YW50aXR5LnJhdyA9PT0gMCkge1xyXG5cdFx0XHRcdHJldHVybiAnc29sZE91dFZhcmlhbnQnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fTtcclxuXHJcblx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdCdub3QtZXhpc3RpbmctcHJvZHVjdCc6IGNvbnRleHQubSgnbm90RXhpc3RpbmdQcm9kdWN0JyksXHJcblx0XHRcdGRlZmF1bHQ6ICAgICAgICAgICAgICAgIGNvbnRleHQubSgncHJvZHVjdFJlYWRGYWlsZWQnKVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0dXJsOiAgICBgL3YxL3Byb2R1Y3RzLyR7cHJvZHVjdH1gLFxyXG5cdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRlbWJlZDogJytidW5kbGVzLml0ZW1zLnByb2R1Y3Quc2hpcHBpbmcnXHJcblx0XHRcdH1cclxuXHRcdH0pLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBzZXQoY29udGV4dCwgJ3Byb2R1Y3QnLCBkYXRhKSk7XHJcblx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdGVycm9ycyxcclxuXHRcdFx0Y2FsbGJhY2tcclxuXHRcdCkpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5iaW5kID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJGZvbGxvd2luZ05hdiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWZvbGxvd2luZy1uYXYtY29udGFpbmVyJyk7XHJcblxyXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VSZXZpZXdzKSB7XHJcblxyXG5cdFx0XHRpZiAoY29udGV4dC5vcHRpb25zLnVzZUZvbGxvd2luZ05hdikge1xyXG5cdFx0XHRcdC8vIElmIHJldmlld3MgYXJlIG5vdCBpbiB1c2UsIHRoZXJlIHdpbGwgYmUgb25seSBvbmUgbWVudSBpdGVtIGZvciBub3cuXHJcblx0XHRcdFx0Ly8gU28gc2ltcGx5IGRvIG5vdCB1c2UgZm9sbG93aW5nIG5hdmlnYXRpb24gaW4gdGhpcyBjYXNlLlxyXG5cdFx0XHRcdFRodW5kZXIudXRpbC5mb2xsb3dpbmdOYXZpZ2F0aW9uKCRmb2xsb3dpbmdOYXYsIFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0bmFtZTogY29udGV4dC5tKCdwcm9kdWN0SW5mbycpLFxyXG5cdFx0XHRcdFx0XHQkZWw6ICAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LWRldGFpbCcpXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRuYW1lOiBbXHJcblx0XHRcdFx0XHRcdFx0Y29udGV4dC5tKCdwcm9kdWN0UmV2aWV3cycpLFxyXG5cdFx0XHRcdFx0XHRcdGA8c3BhbiBjbGFzcz1cInRodW5kZXItLXByb2R1Y3QtdG90YWwtY29tbWVudHNcIj4oJHtjb250ZXh0LnByb2R1Y3QudG90YWxSZXZpZXcuY29udmVydGVkfSk8L3NwYW4+YCxcclxuXHRcdFx0XHRcdFx0XS5qb2luKCcgJyksXHJcblx0XHRcdFx0XHRcdCRlbDogICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtcmV2aWV3cy13cmFwcGVyJylcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XSk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0IHByb2R1Y3QgPSBjb250ZXh0LnByb2R1Y3Q7XHJcblxyXG5cdFx0Y29uc3QgdmFyaWFudE1hcCA9IFtdLmNvbmNhdChcclxuXHRcdFx0Y29udGV4dC5wcm9kdWN0LnZhcmlhbnRzLFxyXG5cdFx0XHRjb250ZXh0LnByb2R1Y3QuYnVuZGxlcy5yZWR1Y2UoKHZhcmlhbnRzLCBidW5kbGUpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gYnVuZGxlLml0ZW1zLnJlZHVjZSgodmFyaWFudHMsIGl0ZW0pID0+IHtcclxuXHRcdFx0XHRcdHJldHVybiB2YXJpYW50cy5jb25jYXQoaXRlbS52YXJpYW50KTtcclxuXHRcdFx0XHR9LCB2YXJpYW50cyk7XHJcblx0XHRcdH0sIFtdKVxyXG5cdFx0KS5yZWR1Y2UoKG8sIHZhcmlhbnQpID0+IHtcclxuXHRcdFx0cmV0dXJuIHNldChvLCB2YXJpYW50Ll9pZCwgdmFyaWFudCk7XHJcblx0XHR9LCB7fSk7XHJcblxyXG5cdFx0Y29uc3QgYnVuZGxlUHJvZHVjdE1hcCA9IGNvbnRleHQucHJvZHVjdC5idW5kbGVzLnJlZHVjZSgobywgYnVuZGxlKSA9PiB7XHJcblx0XHRcdHJldHVybiBidW5kbGUuaXRlbXMucmVkdWNlKChvLCBpdGVtKSA9PiBzZXQobywgaXRlbS5wcm9kdWN0Ll9pZCwgaXRlbS5wcm9kdWN0KSwgbyk7XHJcblx0XHR9LCB7fSk7XHJcblxyXG5cdFx0Y29uc3QgdmFyaWFudFRvQnVuZGxlTWFwID0gY29udGV4dC5wcm9kdWN0LmJ1bmRsZXMucmVkdWNlKChvLCBidW5kbGUpID0+IHtcclxuXHRcdFx0cmV0dXJuIGJ1bmRsZS5pdGVtcy5yZWR1Y2UoKG8sIGl0ZW0pID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gc2V0KG8sIGl0ZW0udmFyaWFudC5faWQsIGJ1bmRsZSk7XHJcblx0XHRcdH0sIG8pO1xyXG5cdFx0fSwge30pO1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJHZhcmlhbnRTZWxlY3RvciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtdmFyaWFudCBzZWxlY3QnKTtcclxuXHRcdGNvbnN0ICRzaGlwcGluZ01ldGhvZFNlbGVjdG9yID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tc2hpcHBpbmctbWV0aG9kIHNlbGVjdCcpO1xyXG5cdFx0Y29uc3QgJGl0ZW1RdWFudGl0eUlucHV0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0taXRlbS1xdWFudGl0eSBpbnB1dCcpO1xyXG5cdFx0Y29uc3QgJGJ1bmRsZUl0ZW1zID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1idW5kbGUtaXRlbScpO1xyXG5cdFx0Y29uc3QgJGJ1bmRsZUl0ZW1TZWxlY3RvcnMgPSAkKHRoaXMpLmZpbmQoJ3NlbGVjdCcpO1xyXG5cdFx0Y29uc3QgJGFkZFRvQ2FydCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWFkZC10by1jYXJ0Jyk7XHJcblx0XHRjb25zdCAkYnV5Tm93ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tYnV5LW5vdycpO1xyXG5cdFx0Y29uc3QgJGdvVG9DYXJ0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tZ28tdG8tY2FydCcpO1xyXG5cclxuXHRcdGNvbnN0IGFkZFRvQ2FydFNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRhZGRUb0NhcnQpO1xyXG5cclxuXHRcdHByb2R1Y3RDYXRhbG9nKCRjb250YWluZXIpO1xyXG5cclxuXHRcdCRidW5kbGVJdGVtU2VsZWN0b3JzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdGNvbnN0IHZhbHVlID0gJCh0aGlzKS52YWwoKTtcclxuXHRcdFx0Y29uc3QgJHF1YW50aXR5ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCdpbnB1dFt0eXBlPVwibnVtYmVyXCJdJyk7XHJcblxyXG5cdFx0XHQkcXVhbnRpdHkudmFsKHZhbHVlID8gMSA6IDApO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdCRhZGRUb0NhcnQub24oJ2NsaWNrJywgKCkgPT4gYWRkVG9DYXJ0KCkpO1xyXG5cclxuXHRcdCRidXlOb3cub24oJ2NsaWNrJywgKCkgPT4gYWRkVG9DYXJ0KGl0ZW0gPT4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMub25CdXlOb3csXHJcblx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdGNvbnRleHQsXHJcblx0XHRcdGl0ZW1cclxuXHRcdCkpKTtcclxuXHJcblx0XHQkZ29Ub0NhcnQub24oJ2NsaWNrJywgKCkgPT4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMub25Hb1RvQ2FydCxcclxuXHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0Y29udGV4dFxyXG5cdFx0KSk7XHJcblxyXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VSZXZpZXdzKSB7XHJcblxyXG5cdFx0XHRjb25zdCAkcmV2aWV3c0NvbnRhaW5lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtcmV2aWV3cy13cmFwcGVyJyk7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnJlbmRlcigkcmV2aWV3c0NvbnRhaW5lciwgJ3Byb2R1Y3QtcmV2aWV3cycsIHtcclxuXHRcdFx0XHRwcm9kdWN0OiAgICAgICBjb250ZXh0LnByb2R1Y3QuX2lkLFxyXG5cdFx0XHRcdHByb2R1Y3RSYXRpbmc6IGNvbnRleHQub3B0aW9ucy51c2VSYXRpbmcgP1xyXG5cdFx0XHRcdFx0XHRcdFx0cHJvZHVjdC5yYXRpbmcgOlxyXG5cdFx0XHRcdFx0XHRcdFx0bnVsbCxcclxuXHRcdFx0XHR1c2VSYXRpbmc6ICAgICBjb250ZXh0Lm9wdGlvbnMudXNlUmF0aW5nLFxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gYWRkVG9DYXJ0KHN1Y2Nlc3MpIHtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW0gPSBidWlsZEl0ZW1EYXRhKCk7XHJcblxyXG5cdFx0XHRzdWNjZXNzID0gc3VjY2VzcyB8fCAoKCkgPT4ge1xyXG5cclxuXHRcdFx0XHQkZ29Ub0NhcnQuc2hvdygpO1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25JdGVtQWRkLFxyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGNvbnRleHRcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRpZiAoIXZhbGlkYXRlSXRlbURhdGEoaXRlbSkpIHtcclxuXHRcdFx0XHRyZXR1cm4gYWRkVG9DYXJ0U3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHQnaXRlbXMtZXhjZWVkZWQnOiBjb250ZXh0Lm0oJ2l0ZW1zRXhjZWVkZWQnKSxcclxuXHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICBjb250ZXh0Lm0oJ2l0ZW1BZGRGYWlsZWQnKSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGlmIChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICAnL3YxL21lL2NhcnQvaXRlbXMnLFxyXG5cdFx0XHRcdFx0ZGF0YTogICBpdGVtXHJcblx0XHRcdFx0fSkudGhlbihpdGVtID0+IHtcclxuXHRcdFx0XHRcdGFkZFRvQ2FydFNwaW5uZXIuZG9uZSgpO1xyXG5cdFx0XHRcdFx0c3VjY2VzcyhpdGVtKTtcclxuXHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdFx0ZXJyID0+IGFkZFRvQ2FydFNwaW5uZXIuZG9uZSgpXHJcblx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLkNhcnQuYWRkSXRlbShpdGVtLCBlcnIgPT4ge1xyXG5cclxuXHRcdFx0XHRcdGlmIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0YWRkVG9DYXJ0U3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBlcnJvcnNbZXJyLmNvZGUgfHwgJ2RlZmF1bHQnXSB8fCBlcnJvcnMuZGVmYXVsdCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0YWRkVG9DYXJ0U3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gc3VjY2VzcyhpdGVtKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB2YWxpZGF0ZUl0ZW1EYXRhKGl0ZW1EYXRhKSB7XHJcblxyXG5cdFx0XHRpZiAoIWl0ZW1EYXRhLnZhcmlhbnQpIHtcclxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ3ZhcmlhbnRSZXF1aXJlZCcpKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICghdmFsaWRhdGVRdWFudGl0eShwcm9kdWN0Lm5hbWUsIGl0ZW1EYXRhKSkge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3Qgc2VsZWN0ZWRCdW5kbGVzID0gW107XHJcblxyXG5cdFx0XHRmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbURhdGEuYnVuZGxlSXRlbXMgfHwgW10pIHtcclxuXHJcblx0XHRcdFx0Y29uc3QgYnVuZGxlID0gdmFyaWFudFRvQnVuZGxlTWFwW2l0ZW0udmFyaWFudF07XHJcblxyXG5cdFx0XHRcdHNlbGVjdGVkQnVuZGxlcy5wdXNoKGJ1bmRsZSk7XHJcblxyXG5cdFx0XHRcdGlmICghdmFsaWRhdGVRdWFudGl0eShidW5kbGUubmFtZSwgaXRlbSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChidW5kbGUucmVxdWlyZWQgJiZcclxuXHRcdFx0XHRcdGl0ZW0ucXVhbnRpdHkgIT09IGl0ZW1EYXRhLnF1YW50aXR5KSB7XHJcblx0XHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2ludmFsaWRSZXF1aXJlZEJ1bmRsZUl0ZW1RdWFudGl0eScsIHsgYnVuZGxlOiBidW5kbGUubmFtZSB9KSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29uc3QgcmVxdWlyZWRCdW5kbGVzID0gcHJvZHVjdC5idW5kbGVzLmZpbHRlcihiID0+IGIucmVxdWlyZWQpO1xyXG5cclxuXHRcdFx0Zm9yIChjb25zdCBidW5kbGUgb2YgcmVxdWlyZWRCdW5kbGVzKSB7XHJcblxyXG5cdFx0XHRcdGlmIChzZWxlY3RlZEJ1bmRsZXMuaW5kZXhPZihidW5kbGUpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdyZXF1aXJlZEJ1bmRsZUl0ZW1SZXF1aXJlZCcsIHsgYnVuZGxlOiBidW5kbGUubmFtZSB9KSk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiB2YWxpZGF0ZVF1YW50aXR5KHNjb3BlLCBpdGVtKSB7XHJcblxyXG5cdFx0XHRcdGlmICghaXRlbS5xdWFudGl0eSkge1xyXG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdpdGVtUXVhbnRpdHlSZXF1aXJlZCcsIHsgc2NvcGUgfSkpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y29uc3QgdmFyaWFudCA9IHZhcmlhbnRNYXBbaXRlbS52YXJpYW50XTtcclxuXHJcblx0XHRcdFx0aWYgKHZhcmlhbnQucXVhbnRpdHkgJiZcclxuXHRcdFx0XHRcdHZhcmlhbnQucXVhbnRpdHkucmF3IDwgaXRlbS5xdWFudGl0eSkge1xyXG5cdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdleGNlZWRlZEl0ZW1RdWFudGl0eScsIHsgc2NvcGUgfSkpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGJ1aWxkSXRlbURhdGEoKSB7XHJcblxyXG5cdFx0XHRjb25zdCBzaGlwcGluZ01ldGhvZCA9ICRzaGlwcGluZ01ldGhvZFNlbGVjdG9yLnZhbCgpO1xyXG5cdFx0XHRjb25zdCBidW5kbGVJdGVtcyA9IFtdO1xyXG5cclxuXHRcdFx0JGJ1bmRsZUl0ZW1zLmVhY2goZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IFtwcm9kdWN0LCB2YXJpYW50XSA9ICgkKHRoaXMpLmZpbmQoJ3NlbGVjdCcpLnZhbCgpIHx8ICcnKS5zcGxpdCgnLicpO1xyXG5cdFx0XHRcdGNvbnN0IGJ1bmRsZUl0ZW1RdWFudGl0eSA9ICQodGhpcykuZmluZCgnaW5wdXRbdHlwZT1cIm51bWJlclwiXScpLnZhbCgpO1xyXG5cclxuXHRcdFx0XHRpZiAoIXByb2R1Y3QgfHwgIXZhcmlhbnQpIHJldHVybjtcclxuXHJcblx0XHRcdFx0YnVuZGxlSXRlbXMucHVzaCh7XHJcblx0XHRcdFx0XHRwcm9kdWN0OiAgICAgICAgcHJvZHVjdCxcclxuXHRcdFx0XHRcdHZhcmlhbnQ6ICAgICAgICB2YXJpYW50LFxyXG5cdFx0XHRcdFx0c2hpcHBpbmdNZXRob2Q6IGJ1bmRsZVByb2R1Y3RNYXBbcHJvZHVjdF0udHlwZSA9PT0gJ3RhbmdpYmxlJyA/XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2hpcHBpbmdNZXRob2QgOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG51bGwsXHJcblx0XHRcdFx0XHRxdWFudGl0eTogICAgICAgYnVuZGxlSXRlbVF1YW50aXR5ID8gcGFyc2VJbnQoYnVuZGxlSXRlbVF1YW50aXR5KSA6IG51bGwsXHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IGl0ZW1RdWFudGl0eSA9ICRpdGVtUXVhbnRpdHlJbnB1dC52YWwoKTtcclxuXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0cHJvZHVjdDogICAgICAgIHByb2R1Y3QuX2lkLFxyXG5cdFx0XHRcdHZhcmlhbnQ6ICAgICAgICAkdmFyaWFudFNlbGVjdG9yLnZhbCgpIHx8XHJcblx0XHRcdFx0XHRcdFx0XHQoXHJcblx0XHRcdFx0XHRcdFx0XHRcdHByb2R1Y3QudmFyaWFudHMubGVuZ3RoID09PSAxID9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9kdWN0LnZhcmlhbnRzWzBdLl9pZCA6XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0bnVsbFxyXG5cdFx0XHRcdFx0XHRcdFx0KSB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0bnVsbCxcclxuXHRcdFx0XHRzaGlwcGluZ01ldGhvZDogc2hpcHBpbmdNZXRob2QsXHJcblx0XHRcdFx0cXVhbnRpdHk6ICAgICAgIGl0ZW1RdWFudGl0eSA/IHBhcnNlSW50KGl0ZW1RdWFudGl0eSkgOiBudWxsLFxyXG5cdFx0XHRcdGJ1bmRsZUl0ZW1zOiAgICBidW5kbGVJdGVtc1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9ICgkY29udGFpbmVyKSA9PiB7XHJcblxyXG5cdGNvbnN0IGNhdGFsb2dNYXAgPSB7fTtcclxuXHJcblx0Y29uc3QgJGRldGFpbHMgPSAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LWNhdGFsb2ctZGV0YWlsJyk7XHJcblx0Y29uc3QgJHRodW1ibmFpbHMgPSAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LWNhdGFsb2ctdGh1bWJuYWlscyBpbWcnKTtcclxuXHJcblx0JGRldGFpbHMuZWFjaChmdW5jdGlvbigpIHtcclxuXHRcdGNhdGFsb2dNYXBbZ2V0SW1hZ2VJZCgkKHRoaXMpKV0gPSAkKHRoaXMpO1xyXG5cdH0pO1xyXG5cclxuXHRzZXRDdXJyZW50SW1hZ2UoZ2V0SW1hZ2VJZCgkZGV0YWlscy5lcSgwKSkpO1xyXG5cclxuXHQvLyBDbGljayBldmVudHMgZm9yIG1vYmlsZSBkZXZpY2VzLi5cclxuXHQkdGh1bWJuYWlscy5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdHNldEN1cnJlbnRJbWFnZShnZXRJbWFnZUlkKCQodGhpcykpKTtcclxuXHR9KTtcclxuXHJcblx0Ly8gSG92ZXIgZXZlbnRzIGZvciBsYXB0b3BzXHJcblx0JHRodW1ibmFpbHMuaG92ZXIoXHJcblx0XHRmdW5jdGlvbigpIHsgY2F0YWxvZ01hcFtnZXRJbWFnZUlkKCQodGhpcykpXS5hZGRDbGFzcygnYWN0aXZlJykgfSxcclxuXHRcdGZ1bmN0aW9uKCkgeyBjYXRhbG9nTWFwW2dldEltYWdlSWQoJCh0aGlzKSldLnJlbW92ZUNsYXNzKCdhY3RpdmUnKSB9XHJcblx0KTtcclxuXHJcblx0ZnVuY3Rpb24gc2V0Q3VycmVudEltYWdlKGltYWdlSWQpIHtcclxuXHRcdHNldEFuY2hvcigkZGV0YWlscywgaW1hZ2VJZCk7XHJcblx0XHRzZXRBbmNob3IoJHRodW1ibmFpbHMsIGltYWdlSWQpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2V0QW5jaG9yKGltYWdlcywgaW1hZ2VJZCkge1xyXG5cclxuXHRcdGltYWdlc1xyXG5cdFx0XHQucmVtb3ZlQ2xhc3MoJ2FuY2hvcmVkJylcclxuXHRcdFx0LmZpbHRlcihmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gJCh0aGlzKS5kYXRhKCkuY2F0YWxvZ0ltYWdlID09PSBpbWFnZUlkO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuYWRkQ2xhc3MoJ2FuY2hvcmVkJyk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBnZXRJbWFnZUlkKHNlbGVjdG9yKSB7XHJcblxyXG5cdFx0cmV0dXJuIHNlbGVjdG9yLmRhdGEoJ2NhdGFsb2dJbWFnZScpIHx8IG51bGw7XHJcblx0fVxyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdwcm9kdWN0LWxpc3QnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRwYWdlOiAgICAgICAgICAgICAxLCAgICAgLy8gV2hpY2ggcGFnZSBvZiBwcm9kdWN0cz9cclxuXHRcdGxpbWl0OiAgICAgICAgICAgIDI0LCAgICAvLyBIb3cgbWFueSBwcm9kdWN0cyBhdCBvbmNlP1xyXG5cdFx0Y29sdW1uczogICAgICAgICAgNCwgICAgIC8vIEhvdyBtYW55IGNvbHVtbnM/IChjc3Mgc3VwcG9ydHMgZm9yIDEtMTIpXHJcblx0XHRmaWx0ZXI6ICAgICAgICAgICAnJywgICAgLy8gRXh0cmEgZmlsdGVycy4gZS5nLiwgYnJhbmQ9YWJjZFxyXG5cdFx0aW1hZ2VXaWR0aDogICAgICAgMjQwLCAgIC8vIEltYWdlIHdpZHRoXHJcblx0XHRpbWFnZUhlaWdodDogICAgICAyNDAsICAgLy8gSW1hZ2UgaGVpZ2h0XHJcblx0XHRzaG93U3VtbWFyeTogICAgICB0cnVlLCAgLy8gU2hvdyBgcHJvZHVjdC5zdW1tYXJ5YFxyXG5cdFx0c2hvd1JhdGluZzogICAgICAgKCAgICAgIC8vIFNob3cgYHByb2R1Y3QucmF0aW5nYFxyXG5cdFx0XHRUaHVuZGVyLm9wdGlvbnMucHJvZHVjdFJldmlldyAmJlxyXG5cdFx0XHRUaHVuZGVyLm9wdGlvbnMucHJvZHVjdFJldmlld1JhdGluZ1xyXG5cdFx0KSxcclxuXHRcdHNob3dDb21wYXJlUHJpY2U6IHRydWUsICAvLyBTaG93IGBwcm9kdWN0LnByaWNlLm9yaWdpbmFsYFxyXG5cdFx0dXNlUGFnaW5hdGlvbjogICAgdHJ1ZSwgIC8vIFVzZSBwYWdpbmF0aW9uP1xyXG5cclxuXHRcdG9uVmlld1Byb2R1Y3Q6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHByb2R1Y3RJZCkge1xyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ3Byb2R1Y3QtZGV0YWlsJywge1xyXG5cdFx0XHRcdHByb2R1Y3Q6IHByb2R1Y3RJZFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ucHJlID0gZnVuY3Rpb24oY29udGV4dCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHRjb25zdCBvcHRpb25zID0gY29udGV4dC5vcHRpb25zO1xyXG5cclxuXHRcdGNvbnN0IHF1ZXJ5ID0ge1xyXG5cdFx0XHRidW5kbGVkOiBmYWxzZSAvLyBPbmx5IGRpc3BsYXkgcm9vdCBwcm9kdWN0c1xyXG5cdFx0fTtcclxuXHJcblx0XHQkLmVhY2goKG9wdGlvbnMuZmlsdGVyIHx8ICcnKS5zcGxpdCgnJicpLCBmdW5jdGlvbihpLCBzKSB7XHJcblxyXG5cdFx0XHRpZiAoIXMpIHJldHVybjtcclxuXHJcblx0XHRcdGNvbnN0IGtleVZhbHVlID0gcy5zcGxpdCgnPScpO1xyXG5cclxuXHRcdFx0cXVlcnlba2V5VmFsdWVbMF1dID0ga2V5VmFsdWUuc2xpY2UoMSkuam9pbignPScpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGNvbnN0IGxpc3RRdWVyeSA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0ZmllbGRzOiBbXHJcblx0XHRcdFx0J3RodW1ibmFpbCcsXHJcblx0XHRcdFx0J3NsdWcnLFxyXG5cdFx0XHRcdCduYW1lJyxcclxuXHRcdFx0XHQnc3VtbWFyeScsXHJcblx0XHRcdFx0J3ByaWNlJyxcclxuXHRcdFx0XHQnZGlzY291bnQnLFxyXG5cdFx0XHRcdCdyYXRpbmcnLFxyXG5cdFx0XHRdLmpvaW4oJywnKSxcclxuXHRcdFx0cGFnZTogICBvcHRpb25zLnBhZ2UsICAgLy8gUGFnZSBvcHRpb25cclxuXHRcdFx0bGltaXQ6ICBvcHRpb25zLmxpbWl0LCAgLy8gTGltaXQgb3B0aW9uXHJcblx0XHR9LCBxdWVyeSk7XHJcblxyXG5cdFx0Y29uc3QgY291bnRRdWVyeSA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0cmF3OiB0cnVlLFxyXG5cdFx0fSwgcXVlcnkpO1xyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdwcm9kdWN0TGlzdEZhaWxlZCcpXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiAkLndoZW4oLi4uW1xyXG5cdFx0XHRUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAgICAnL3YxL3Byb2R1Y3RzJyxcclxuXHRcdFx0XHRxdWVyeTogIGxpc3RRdWVyeSxcclxuXHRcdFx0fSksXHJcblx0XHRcdGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uID8gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogICAgJy92MS9wcm9kdWN0cy9jb3VudCcsXHJcblx0XHRcdFx0cXVlcnk6ICBjb3VudFF1ZXJ5LFxyXG5cdFx0XHR9KSA6IG51bGxcclxuXHRcdF0pLnRoZW4oKHByb2R1Y3RzLCBjb3VudCkgPT4ge1xyXG5cclxuXHRcdFx0Y29udGV4dC5wcm9kdWN0cyA9IHByb2R1Y3RzWzBdO1xyXG5cdFx0XHRjb250ZXh0LmNvdW50ID0gY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGw7XHJcblxyXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XHJcblxyXG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRlcnJvcnMsXHJcblx0XHRcdGNhbGxiYWNrXHJcblx0XHQpKTtcclxuXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24uaW5pdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHJcblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdGNvbnN0ICRwcm9kdWN0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvZHVjdCcpO1xyXG5cdFx0Y29uc3QgJHBhZ2luYXRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LWxpc3QtcGFnaW5hdGlvbicpO1xyXG5cclxuXHRcdCRwcm9kdWN0Lm9uKCdjbGljaycsIFtcclxuXHRcdFx0Jy50aHVuZGVyLS1wcm9kdWN0LXRodW1ibmFpbC13cmFwcGVyJyxcclxuXHRcdFx0Jy50aHVuZGVyLS1wcm9kdWN0LW5hbWUnLFxyXG5cdFx0XHQnLnRodW5kZXItLXByb2R1Y3Qtc3VtbWFyeScsXHJcblx0XHRdLmpvaW4oJywnKSwgZXZlbnQgPT4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMub25WaWV3UHJvZHVjdCxcclxuXHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0Y29udGV4dCxcclxuXHRcdFx0JChldmVudC5kZWxlZ2F0ZVRhcmdldCkuZGF0YSgncHJvZHVjdCcpXHJcblx0XHQpKTtcclxuXHJcblx0XHRpZiAoY29udGV4dC5vcHRpb25zLnVzZVBhZ2luYXRpb24pIHtcclxuXHJcblx0XHRcdFRodW5kZXIucGx1Z2lucy5wYWdpbmF0aW9uKHtcclxuXHRcdFx0XHRjb250YWluZXI6ICAgICAkcGFnaW5hdGlvbixcclxuXHRcdFx0XHRjdXJyZW50UGFnZTogICBjb250ZXh0Lm9wdGlvbnMucGFnZSxcclxuXHRcdFx0XHR0b3RhbFJlc3VsdDogICBjb250ZXh0LmNvdW50LFxyXG5cdFx0XHRcdHJlc3VsdFBlclBhZ2U6IGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHRvblBhZ2VDaGFuZ2U6ICAoeyBwYWdlIH0pID0+IFRodW5kZXIucmVuZGVyKFxyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHQkLmV4dGVuZChjb250ZXh0Lm9wdGlvbnMsIHsgcGFnZSB9KVxyXG5cdFx0XHRcdClcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xyXG5jb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBjb21tZW50RmllbGRzID0gW1xyXG5cdFx0J2N1c3RvbWVyJyxcclxuXHRcdCdjb2xsYWJvcmF0b3InLFxyXG5cdFx0J2JvZHknLFxyXG5cdFx0J2ZsYWdnZWQnLFxyXG5cdFx0J2NyZWF0ZWRBdCcsXHJcblx0XTtcclxuXHJcblx0Ly8gSW1wbGVtZW50YXRpb25cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdwcm9kdWN0LXJldmlldy1jb21tZW50cydcclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcclxuXHRcdHJldmlldzogICAgICAgICAgbnVsbCwgICAgICAgICAvLyBSZXZpZXcgSURcclxuXHRcdHBhZ2U6ICAgICAgICAgICAgMSwgICAgICAgICAgICAvLyBXaGljaCBwYWdlIG9mIGNvbW1lbnRzP1xyXG5cdFx0bGltaXQ6ICAgICAgICAgICAxMCwgICAgICAgICAgIC8vIEhvdyBtYW55IGNvbW1lbnRzIGF0IG9uY2U/XHJcblx0XHRzb3J0OiAgICAgICAgICAgICctY3JlYXRlZEF0JywgLy8gRGVmYXVsdCBzb3J0IHZhbHVlXHJcblx0XHRmaWx0ZXI6ICAgICAgICAgIG51bGwsICAgICAgICAgLy8gRXh0cmEgcXVlcnkgZmlsdGVyXHJcblx0XHR1c2VCb2R5RXhjZXJwdDogIDE0MCwgICAgICAgICAgLy8gTGVuZ3RoIG9mIGEgYm9keSBleGNlcnB0IHx8IGZhbHNlXHJcblx0XHR1c2VGbGFnOiAgICAgICAgIHRydWUsICAgICAgICAgLy8gVXNlIGZsYWc/XHJcblx0XHR1c2VQYWdpbmF0aW9uOiAgIHRydWUsICAgICAgICAgLy8gVXNlIFBhZ2luYXRpb24/XHJcblx0XHRoYXNOb0NvbW1lbnRzOiAgIGZhbHNlLCAgICAgICAgLy8gSGFzIG5vIGNvbW1lbnRzPyAod2hlbiBpdCdzIGFscmVhZHkga25vd24pXHJcblxyXG5cdFx0b25VbmF1dGhlbnRpY2F0ZWRXcml0ZUNvbW1lbnQ6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQpIHtcclxuXHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdpbmZvJywgY29udGV4dC5tKCdsb2dpblJlcXVpcmVkJykpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMuaGFzTm9Db21tZW50cykge1xyXG5cdFx0XHQvLyBJZiB0aGUgcmV2aWV3IGRvZXNuJ3QgaGF2ZSBhbnkgY29tbWVudHMsIGRvIG5vdCBjYWxsIEFQSXMuXHJcblx0XHRcdGNvbnRleHQuY29tbWVudHMgPSBbXTtcclxuXHRcdFx0Y29udGV4dC5jb3VudCA9IHsgcmF3OiAwLCBmb3JtYXR0ZWQ6ICcwJywgY29udmVydGVkOiAnMCcgfTtcclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjb21tZW50TGlzdEZhaWxlZCcpXHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IGRlZmF1bHRRdWVyeSA9ICQuZXh0ZW5kKHtcclxuXHRcdFx0cmV2aWV3OiBjb250ZXh0Lm9wdGlvbnMucmV2aWV3LFxyXG5cdFx0fSwgY29udGV4dC5vcHRpb25zLmZpbHRlciA/IGNvbnRleHQub3B0aW9ucy5maWx0ZXIgOiB7fSk7XHJcblxyXG5cdFx0cmV0dXJuICQud2hlbihcclxuXHRcdFx0ZmV0Y2hDb21tZW50cygpLFxyXG5cdFx0XHRjb3VudENvbW1lbnRzKClcclxuXHRcdCkudGhlbigoY29tbWVudHMsIGNvdW50KSA9PiBjYWxsYmFjayhudWxsLCAkLmV4dGVuZChjb250ZXh0LCB7XHJcblx0XHRcdGNvbW1lbnRzOiAoY29tbWVudHNbMF0gfHwgW10pLm1hcChjID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gYnVpbGRSZXZpZXdDb21tZW50KGMsIGNvbnRleHQub3B0aW9ucy51c2VCb2R5RXhjZXJwdCk7XHJcblx0XHRcdH0pLFxyXG5cdFx0XHRjb3VudDogICAgY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGwsXHJcblx0XHR9KSksIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRjYWxsYmFja1xyXG5cdFx0KSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZmV0Y2hDb21tZW50cygpIHtcclxuXHJcblx0XHRcdGNvbnN0IHF1ZXJ5ID0gJC5leHRlbmQoe30sIGRlZmF1bHRRdWVyeSwge1xyXG5cdFx0XHRcdHBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXHJcblx0XHRcdFx0bGltaXQ6ICBjb250ZXh0Lm9wdGlvbnMubGltaXQsXHJcblx0XHRcdFx0c29ydDogICBjb250ZXh0Lm9wdGlvbnMuc29ydCxcclxuXHRcdFx0XHRmaWVsZHM6IGNvbW1lbnRGaWVsZHMuam9pbignLCcpXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICAgICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cycsXHJcblx0XHRcdFx0cXVlcnk6ICBxdWVyeVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY291bnRDb21tZW50cygpIHtcclxuXHJcblx0XHRcdGNvbnN0IHF1ZXJ5ID0gJC5leHRlbmQoe30sIGRlZmF1bHRRdWVyeSk7XHJcblxyXG5cdFx0XHRkZWxldGUgcXVlcnkuaWRzO1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICAgICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cy9jb3VudCcsXHJcblx0XHRcdFx0cXVlcnk6ICBxdWVyeVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0bGV0IGNvbW1lbnRNYXAgPSB7fTtcclxuXHJcblx0XHRjb25zdCAkY29udGFpbmVyID0gJCh0aGlzKTtcclxuXHRcdGNvbnN0ICR3cml0ZUNvbW1lbnQgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS13cml0ZS1jb21tZW50Jyk7XHJcblx0XHRjb25zdCAkY29tbWVudFdyaXRlckNvbnRhaW5lciA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLWNvbW1lbnQtd3JpdGVyLWNvbnRhaW5lcicpO1xyXG5cdFx0Y29uc3QgJGNvbW1lbnRCb2R5ID0gJGNvbW1lbnRXcml0ZXJDb250YWluZXIuZmluZCgndGV4dGFyZWEnKTtcclxuXHRcdGNvbnN0ICRwb3N0Q29tbWVudCA9ICRjb21tZW50V3JpdGVyQ29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1wb3N0LWNvbW1lbnQnKTtcclxuXHRcdGNvbnN0ICRjYW5jZWxDb21tZW50ID0gJGNvbW1lbnRXcml0ZXJDb250YWluZXIuZmluZCgnLnRodW5kZXItLWNhbmNlbC1jb21tZW50Jyk7XHJcblx0XHRjb25zdCAkY29tbWVudExpc3QgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctY29tbWVudC1saXN0Jyk7XHJcblx0XHRjb25zdCAkcGFnaW5hdGlvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXJldmlldy1jb21tZW50LWxpc3QtcGFnaW5hdGlvbicpO1xyXG5cclxuXHRcdHVwZGF0ZUNvbW1lbnRNYXAoKTtcclxuXHJcblx0XHQkd3JpdGVDb21tZW50Lm9uKCdjbGljaycsIHN0YXJ0Q29tbWVudFdyaXRpbmcpO1xyXG5cdFx0JGNhbmNlbENvbW1lbnQub24oJ2NsaWNrJywgY2FuY2VsQ29tbWVudCk7XHJcblxyXG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLXJlYWQtbW9yZScsIHJlYWRNb3JlKTtcclxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1lZGl0LXJldmlldy1jb21tZW50JywgZWRpdENvbW1lbnQpO1xyXG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWRlbGV0ZS1yZXZpZXctY29tbWVudCcsIGRlbGV0ZUNvbW1lbnQpO1xyXG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWZsYWcnLCBmbGFnQ29tbWVudCk7XHJcblxyXG5cclxuXHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKHtcclxuXHRcdFx0Y29tcG9uZW50TmFtZTogaW1wbGVtZW50YXRpb24ubmFtZSxcclxuXHRcdFx0YnV0dG9uOiAgICAgICAgJHBvc3RDb21tZW50LFxyXG5cdFx0XHR2YWxpZGF0ZTogICAgICB2YWxpZGF0ZUNvbW1lbnQsXHJcblx0XHRcdGNhbGxiYWNrOiAgICAgIHBvc3RDb21tZW50LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uKSB7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnBsdWdpbnMucGFnaW5hdGlvbih7XHJcblx0XHRcdFx0dHlwZTogICAgICAgICAgJ3NpbXBsZScsXHJcblx0XHRcdFx0Y29udGFpbmVyOiAgICAgJHBhZ2luYXRpb24sXHJcblx0XHRcdFx0Y3VycmVudFBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXHJcblx0XHRcdFx0dG90YWxSZXN1bHQ6ICAgY29udGV4dC5jb3VudC5yYXcsXHJcblx0XHRcdFx0cmVzdWx0UGVyUGFnZTogY29udGV4dC5vcHRpb25zLmxpbWl0LFxyXG5cdFx0XHRcdG9uUGFnZUNoYW5nZTogICh7IHBhZ2UgfSkgPT4gVGh1bmRlci5yZW5kZXIoXHJcblx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0aW1wbGVtZW50YXRpb24ubmFtZSxcclxuXHRcdFx0XHRcdCQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywgeyBwYWdlIH0pXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiB1cGRhdGVDb21tZW50TWFwKCkge1xyXG5cclxuXHRcdFx0Y29tbWVudE1hcCA9IGNvbnRleHQuY29tbWVudHMucmVkdWNlKChvLCBjb21tZW50KSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIHNldChvLCBjb21tZW50Ll9pZCwgY29tbWVudCk7XHJcblx0XHRcdH0sIHt9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3RhcnRDb21tZW50V3JpdGluZyhldmVudCkge1xyXG5cclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGlmIChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoKSkge1xyXG5cdFx0XHRcdHJldHVybiBzaG93Q29tbWVudFdyaXRlcigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblVuYXV0aGVudGljYXRlZFdyaXRlQ29tbWVudCxcclxuXHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdGNvbnRleHRcclxuXHRcdFx0KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZ2V0Q29tbWVudCgpIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRyZXZpZXc6IGNvbnRleHQub3B0aW9ucy5yZXZpZXcsXHJcblx0XHRcdFx0Ym9keTogICAkY29tbWVudEJvZHkudmFsKCksXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdmFsaWRhdGVDb21tZW50KGNvbW1lbnQpIHtcclxuXHJcblx0XHRcdGNvbW1lbnQgPSBjb21tZW50IHx8IGdldENvbW1lbnQoKTtcclxuXHJcblx0XHRcdGlmICghY29tbWVudC5ib2R5KSB7XHJcblx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdib2R5UmVxdWlyZWQnKSk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBwb3N0Q29tbWVudCh0b2tlbiwgcmVzZXRSZWNhcHRjaGEpIHtcclxuXHJcblx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiByZXNldFJlY2FwdGNoYSAmJiByZXNldFJlY2FwdGNoYSgpO1xyXG5cclxuXHRcdFx0Y29uc3QgZGF0YSA9IGdldENvbW1lbnQoKTtcclxuXHJcblx0XHRcdHJldHVybiBjcmVhdGVDb21tZW50KGRhdGEpXHJcblx0XHRcdFx0XHQudGhlbihjb21tZW50ID0+IGZldGNoQ29tbWVudChjb21tZW50KSlcclxuXHRcdFx0XHRcdC50aGVuKGNvbW1lbnQgPT4gZG9uZShjb21tZW50KSk7XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBkb25lKGNvbW1lbnQpIHtcclxuXHJcblx0XHRcdFx0Y29tbWVudCA9IGJ1aWxkUmV2aWV3Q29tbWVudChjb21tZW50LCBjb250ZXh0Lm9wdGlvbnMudXNlQm9keUV4Y2VycHQpO1xyXG5cclxuXHRcdFx0XHRjb250ZXh0LmNvbW1lbnRzLnVuc2hpZnQoY29tbWVudCk7XHJcblxyXG5cdFx0XHRcdHVwZGF0ZUNvbW1lbnRNYXAoKTtcclxuXHJcblx0XHRcdFx0Y29uc3QgJHRlbXBsYXRlID0gJChUaHVuZGVyLmNvbXBvbmVudChpbXBsZW1lbnRhdGlvbi5uYW1lKS50ZW1wbGF0ZSgkLmV4dGVuZCh7fSwgY29udGV4dCwge1xyXG5cdFx0XHRcdFx0Y29tbWVudHM6IFtjb21tZW50XVxyXG5cdFx0XHRcdH0pKSk7XHJcblxyXG5cdFx0XHRcdGNvbnN0ICRjb21tZW50ID0gJCgkdGVtcGxhdGUuZmluZCgnLnRodW5kZXItLXJldmlldy1jb21tZW50LWxpc3QnKS5odG1sKCkpO1xyXG5cclxuXHRcdFx0XHQkY29tbWVudExpc3QucHJlcGVuZCgkY29tbWVudCk7XHJcblxyXG5cdFx0XHRcdGNhbmNlbENvbW1lbnQoKTtcclxuXHJcblx0XHRcdFx0cmVzZXRTdGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2NvbW1lbnRQb3N0U3VjY2VzcycpKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnQoZGF0YSkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2NvbW1lbnRQb3N0RmFpbGVkJylcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogICAgJ1BPU1QnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICAgICAnL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MvY29tbWVudHMnLFxyXG5cdFx0XHRcdFx0ZGF0YTogICAgICBkYXRhLFxyXG5cdFx0XHRcdFx0cmVjYXB0Y2hhOiB0b2tlbixcclxuXHRcdFx0XHR9KS50aGVuKG51bGwsIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0XHRyZXNldFN0YXRlXHJcblx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmdW5jdGlvbiBmZXRjaENvbW1lbnQoY29tbWVudCkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2NvbW1lbnRSZWFkRmFpbGVkJylcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cy8ke2NvbW1lbnQuX2lkfWAsXHJcblx0XHRcdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRcdFx0ZmllbGRzOiBjb21tZW50RmllbGRzLmpvaW4oJywnKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRcdGVycm9ycyxcclxuXHRcdFx0XHRcdHJlc2V0U3RhdGVcclxuXHRcdFx0XHQpKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FuY2VsQ29tbWVudChldmVudCkge1xyXG5cclxuXHRcdFx0aWYgKGV2ZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0JGNvbW1lbnRCb2R5LnZhbChudWxsKTtcclxuXHRcdFx0aGlkZUNvbW1lbnRXcml0ZXIoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93Q29tbWVudFdyaXRlcigpIHtcclxuXHRcdFx0JHdyaXRlQ29tbWVudC5oaWRlKCk7XHJcblx0XHRcdCRjb21tZW50V3JpdGVyQ29udGFpbmVyLnNob3coKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoaWRlQ29tbWVudFdyaXRlcigpIHtcclxuXHRcdFx0JHdyaXRlQ29tbWVudC5zaG93KCk7XHJcblx0XHRcdCRjb21tZW50V3JpdGVyQ29udGFpbmVyLmhpZGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZWFkTW9yZShldmVudCkge1xyXG5cclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGNvbnN0ICRjb21tZW50ID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1yZXZpZXctY29tbWVudF0nKTtcclxuXHRcdFx0Y29uc3QgY29tbWVudElkID0gJGNvbW1lbnQuZGF0YSgncmV2aWV3Q29tbWVudCcpO1xyXG5cdFx0XHRjb25zdCBib2R5ID0gY29tbWVudE1hcFtjb21tZW50SWRdLmJvZHk7XHJcblxyXG5cdFx0XHQkY29tbWVudC5maW5kKCcudGh1bmRlci0tcmV2aWV3LWNvbW1lbnQtYm9keScpLmh0bWwoYm9keSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGVkaXRDb21tZW50KGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgaXNFZGl0aW5nID0gJCh0aGlzKS5kYXRhKCdlZGl0aW5nJyk7XHJcblx0XHRcdGNvbnN0ICRjb21tZW50ID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1yZXZpZXctY29tbWVudF0nKTtcclxuXHRcdFx0Y29uc3QgY29tbWVudElkID0gJGNvbW1lbnQuZGF0YSgncmV2aWV3Q29tbWVudCcpO1xyXG5cclxuXHRcdFx0aWYgKGlzRWRpdGluZykge1xyXG5cclxuXHRcdFx0XHRjb25zdCAkaW5wdXQgPSAkY29tbWVudC5maW5kKCd0ZXh0YXJlYS50aHVuZGVyLS1yZXZpZXctY29tbWVudC1ib2R5Jyk7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGRhdGEgPSB7IGJvZHk6ICRpbnB1dC52YWwoKSB8fCBudWxsIH07XHJcblxyXG5cdFx0XHRcdGlmICghdmFsaWRhdGVDb21tZW50KGRhdGEpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3NhdmVGYWlsZWQnKSxcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ1BVVCcsXHJcblx0XHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cy8ke2NvbW1lbnRJZH1gLFxyXG5cdFx0XHRcdFx0ZGF0YTogICBkYXRhLFxyXG5cdFx0XHRcdH0pLnRoZW4oY29tbWVudCA9PiB7XHJcblxyXG5cdFx0XHRcdFx0JCh0aGlzKS50ZXh0KGNvbnRleHQubSgnZWRpdENvbW1lbnQnKSk7XHJcblx0XHRcdFx0XHQkKHRoaXMpLmRhdGEoJ2VkaXRpbmcnLCBmYWxzZSk7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgJGJvZHkgPSAkKGA8ZGl2IGNsYXNzPVwiJHskaW5wdXQuYXR0cignY2xhc3MnKX1cIj48L2Rpdj5gKTtcclxuXHJcblx0XHRcdFx0XHQkYm9keS5odG1sKGNvbW1lbnQuYm9keSk7XHJcblxyXG5cdFx0XHRcdFx0JGlucHV0LnJlcGxhY2VXaXRoKCRib2R5KTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ3NhdmVTdWNjZXNzJykpO1xyXG5cclxuXHRcdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0ZXJyb3JzXHJcblx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRjb25zdCBjb21tZW50ID0gY29tbWVudE1hcFtjb21tZW50SWRdO1xyXG5cclxuXHRcdFx0XHRjb25zdCAkYm9keSA9ICRjb21tZW50LmZpbmQoJy50aHVuZGVyLS1yZXZpZXctY29tbWVudC1ib2R5Jyk7XHJcblxyXG5cdFx0XHRcdGNvbnN0ICRpbnB1dCA9ICQoYDx0ZXh0YXJlYSBjbGFzcz1cIiR7JGJvZHkuYXR0cignY2xhc3MnKX1cIj4ke2NvbW1lbnQuYm9keSB8fCAnJ308L3RleHRhcmVhPmApO1xyXG5cclxuXHRcdFx0XHQkYm9keS5yZXBsYWNlV2l0aCgkaW5wdXQpO1xyXG5cclxuXHRcdFx0XHQkKHRoaXMpLnRleHQoY29udGV4dC5tKCdzYXZlQ29tbWVudCcpKTtcclxuXHRcdFx0XHQkKHRoaXMpLmRhdGEoJ2VkaXRpbmcnLCB0cnVlKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVDb21tZW50KGV2ZW50KSB7XHJcblxyXG5cdFx0XHRpZiAoZXZlbnQpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRjb25zdCAkY29tbWVudCA9ICQodGhpcykucGFyZW50cygnW2RhdGEtcmV2aWV3LWNvbW1lbnRdJyk7XHJcblx0XHRcdGNvbnN0IGNvbW1lbnRJZCA9ICRjb21tZW50LmRhdGEoJ3Jldmlld0NvbW1lbnQnKTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ2RlbGV0ZUZhaWxlZCcpLFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cy8ke2NvbW1lbnRJZH1gLFxyXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHQkY29tbWVudC5hZGRDbGFzcygnaGlkZGVuJykuaGlkZSgpO1xyXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnZGVsZXRlU3VjY2VzcycpKTtcclxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBmbGFnQ29tbWVudChldmVudCkge1xyXG5cclxuXHRcdFx0aWYgKGV2ZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgY29tbWVudElkID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1yZXZpZXctY29tbWVudF0nKS5kYXRhKCdyZXZpZXdDb21tZW50Jyk7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgIGNvbnRleHQubSgnZmxhZ0ZhaWxlZCcpLFxyXG5cdFx0XHRcdCdkdXBsaWNhdGVkLWZsYWcnOiBjb250ZXh0Lm0oJ2R1cGxpY2F0ZWRGbGFnJyksXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy9jb21tZW50cy8ke2NvbW1lbnRJZH0vZmxhZ3NgLFxyXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2ZsYWdTdWNjZXNzJykpO1xyXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnNcclxuXHRcdFx0KSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG5cdGZ1bmN0aW9uIGJ1aWxkUmV2aWV3Q29tbWVudChjb21tZW50LCB1c2VCb2R5RXhjZXJwdCkge1xyXG5cclxuXHRcdGNvbnN0IGN1c3RvbWVyID0gZ2V0KFRodW5kZXIuYXV0aGVudGljYXRlZCgnY3VzdG9tZXInKSwgJ3N1YicsICd1bmF1dGhlbnRpY2F0ZWQnKTtcclxuXHJcblx0XHRjb21tZW50LmVkaXRhYmxlID0gZ2V0KGNvbW1lbnQsICdjdXN0b21lci5faWQnKSA9PT0gY3VzdG9tZXI7XHJcblx0XHRjb21tZW50LmV4Y2VycHQgPSBUaHVuZGVyLnV0aWwuZXhjZXJwdChjb21tZW50LmJvZHksIHVzZUJvZHlFeGNlcnB0KSB8fCAnJztcclxuXHRcdGNvbW1lbnQuYm9keSA9IGNvbW1lbnQuYm9keSB8fCAnJztcclxuXHJcblx0XHRyZXR1cm4gY29tbWVudDtcclxuXHJcblx0fVxyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCByZXZpZXdGaWVsZHMgPSBbXHJcblx0XHQnY3VzdG9tZXInLFxyXG5cdFx0J3RpdGxlJyxcclxuXHRcdCdib2R5JyxcclxuXHRcdCdpbWFnZXMnLFxyXG5cdFx0J3JhdGluZycsXHJcblx0XHQnaGVscGVkJyxcclxuXHRcdCdmbGFnZ2VkJyxcclxuXHRcdCd0b3RhbENvbW1lbnQnLFxyXG5cdFx0J2NyZWF0ZWRBdCcsXHJcblx0XTtcclxuXHJcblx0Ly8gSW1wbGVtZW50YXRpb25cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdwcm9kdWN0LXJldmlldy13cml0ZXInXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblxyXG5cdFx0cHJvZHVjdDogICBudWxsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvZHVjdCBJRCB0byB3cml0ZSBhIHJldmlld1xyXG5cdFx0dXNlUmF0aW5nOiBUaHVuZGVyLm9wdGlvbnMucHJvZHVjdFJldmlld1JhdGluZywgLy8gVXNlIHJhdGluZz9cclxuXHJcblx0XHRvblJldmlld1Bvc3Q6IGZ1bmN0aW9uKCRjb250YWluZXIsIGNvbnRleHQsIHJldmlldykge30sXHJcblx0XHRvblJldmlld0NhbmNlbDogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge31cclxuXHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0IHJldmlldyA9IHsgaW1hZ2VzOiBbXSB9O1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJHdyaXRlUmV2aWV3Rm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXdyaXRlLXJldmlldy1mb3JtJyk7XHJcblx0XHRjb25zdCAkd3JpdGVSZXZpZXdJbWFnZUZvcm0gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctaW1hZ2UtZm9ybScpO1xyXG5cdFx0Y29uc3QgJHdyaXRlUmV2aWV3SW1hZ2VzID0gJHdyaXRlUmV2aWV3SW1hZ2VGb3JtLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctaW1hZ2VzJyk7XHJcblx0XHRjb25zdCAkcG9zdFJldmlldyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXBvc3QtcHJvZHVjdC1yZXZpZXcnKTtcclxuXHRcdGNvbnN0ICRjYW5jZWxSZXZpZXcgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jYW5jZWwtcHJvZHVjdC1yZXZpZXcnKTtcclxuXHJcblx0XHQkY2FuY2VsUmV2aWV3Lm9uKCdjbGljaycsIGNhbmNlbFJldmlld1dyaXRpbmcpO1xyXG5cclxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1kZWxldGUtcmV2aWV3LWltYWdlJywgZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRjb25zdCBpbWFnZUlkID0gJCh0aGlzKS5wYXJlbnRzKCdbZGF0YS1pbWFnZV0nKS5kYXRhKCdpbWFnZScpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHJlbW92ZUltYWdlKGltYWdlSWQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0VGh1bmRlci51dGlsLm1ha2VSZWNhcHRjaGEoe1xyXG5cdFx0XHRjb21wb25lbnROYW1lOiBpbXBsZW1lbnRhdGlvbi5uYW1lLFxyXG5cdFx0XHRidXR0b246ICAgICAgICAkcG9zdFJldmlldyxcclxuXHRcdFx0dmFsaWRhdGU6ICAgICAgdmFsaWRhdGVSZXZpZXcsXHJcblx0XHRcdGNhbGxiYWNrOiAgICAgIHBvc3RSZXZpZXcsXHJcblx0XHR9KTtcclxuXHJcblx0XHRUaHVuZGVyLnV0aWwuaW1hZ2VVcGxvYWRlcihcclxuXHRcdFx0JHdyaXRlUmV2aWV3SW1hZ2VGb3JtLFxyXG5cdFx0XHRpbWFnZSA9PiBhZGRJbWFnZShpbWFnZSksXHJcblx0XHRcdCgpID0+IFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgnaW1hZ2VVcGxvYWRGYWlsZWQnKSlcclxuXHRcdCk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gY2FuY2VsUmV2aWV3V3JpdGluZyhldmVudCkge1xyXG5cclxuXHRcdFx0aWYgKGV2ZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Ly8gUG9zc2libHkgYSBidWcgZnJvbSBCYWJlbD9cclxuXHRcdFx0Ly8gYHJldmlldy5pbWFnZXNgIGFjdHVhbGx5IGNvbnRhaW5zIG11bHRpcGxlIGlkLFxyXG5cdFx0XHQvLyBidXQgYHJlbW92ZUltYWdlKClgIG9ubHkgZ2V0cyBjYWxsZWQgb25jZSBpbiBgLmZvckVhY2hgXHJcblx0XHRcdHJldmlldy5pbWFnZXMuZm9yRWFjaChpbWFnZUlkID0+IHtcclxuXHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHJlbW92ZUltYWdlKGltYWdlSWQpLCAwKTtcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRyZXNldEZvcm0oKTtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0Y29udGV4dC5vcHRpb25zLm9uUmV2aWV3Q2FuY2VsLFxyXG5cdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0Y29udGV4dFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZXNldEZvcm0oKSB7XHJcblxyXG5cdFx0XHRyZXZpZXcuaW1hZ2VzLmZvckVhY2goaW1hZ2VJZCA9PiByZW1vdmVJbWFnZShpbWFnZUlkLCB0cnVlKSk7XHJcblxyXG5cdFx0XHQkd3JpdGVSZXZpZXdGb3JtLmZpbmQoJ3NlbGVjdCcpLnZhbCg1KTtcclxuXHRcdFx0JHdyaXRlUmV2aWV3Rm9ybS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSx0ZXh0YXJlYScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JCh0aGlzKS52YWwobnVsbCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQkd3JpdGVSZXZpZXdJbWFnZUZvcm0uZmluZCgnaW5wdXRbdHlwZT1cImZpbGVcIl0nKS52YWwobnVsbCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGdldFJldmlldygpIHtcclxuXHJcblx0XHRcdHJldHVybiAkLmV4dGVuZChcclxuXHRcdFx0XHRUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkd3JpdGVSZXZpZXdGb3JtLnNlcmlhbGl6ZUFycmF5KCkpLFxyXG5cdFx0XHRcdHJldmlld1xyXG5cdFx0XHQpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhZGRJbWFnZShpbWFnZSkge1xyXG5cclxuXHRcdFx0Ly8gVXBkYXRlIHJldmlld1xyXG5cdFx0XHRyZXZpZXcuaW1hZ2VzLnB1c2goaW1hZ2UuX2lkKTtcclxuXHJcblx0XHRcdC8vIFVwZGF0ZSBET01cclxuXHRcdFx0JHdyaXRlUmV2aWV3SW1hZ2VzLmFwcGVuZChgXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLXJldmlldy1pbWFnZVwiIGRhdGEtaW1hZ2U9XCIke2ltYWdlLl9pZH1cIj5cclxuXHRcdFx0XHRcdDxpbWcgc3JjPVwiJHtUaHVuZGVyLnV0aWwuaW1hZ2VVUkwoaW1hZ2UsIDEyMCwgMTIwKX1cIj5cclxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tZGVsZXRlLXJldmlldy1pbWFnZVwiPiR7Y29udGV4dC5tKCdkZWxldGVJbWFnZScpfTwvc3Bhbj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0YC50cmltKCkpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHJlbW92ZUltYWdlKGltYWdlSWQsIGRvTm90RGVsZXRlID0gZmFsc2UpIHtcclxuXHJcblx0XHRcdC8vIFVwZGF0ZSByZXZpZXdcclxuXHRcdFx0cmV2aWV3LmltYWdlcy5zcGxpY2UocmV2aWV3LmltYWdlcy5pbmRleE9mKGltYWdlSWQpLCAxKTtcclxuXHJcblx0XHRcdC8vIFVwZGF0ZSBET01cclxuXHRcdFx0JHdyaXRlUmV2aWV3SW1hZ2VzLmZpbmQoYFtkYXRhLWltYWdlPVwiJHtpbWFnZUlkfVwiXWApLnJlbW92ZSgpO1xyXG5cclxuXHRcdFx0aWYgKGRvTm90RGVsZXRlKSByZXR1cm47XHJcblxyXG5cdFx0XHQvLyBSZW1vdmUgZnJvbSB0aGUgc3RvcmFnZSAoRmlyZSAmIEZvcmdldClcclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvaW1hZ2VzLyR7aW1hZ2VJZH1gXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlUmV2aWV3KCkge1xyXG5cclxuXHRcdFx0Y29uc3QgcmV2aWV3ID0gZ2V0UmV2aWV3KCk7XHJcblxyXG5cdFx0XHRpZiAoIXJldmlldy50aXRsZSkge1xyXG5cdFx0XHRcdFRodW5kZXIubm90aWZ5KCdlcnJvcicsIGNvbnRleHQubSgndGl0bGVSZXF1aXJlZCcpKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHBvc3RSZXZpZXcodG9rZW4sIHJlc2V0UmVjYXB0Y2hhKSB7XHJcblxyXG5cdFx0XHRjb25zdCByZXNldFN0YXRlID0gKCkgPT4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcclxuXHJcblx0XHRcdHJldHVybiBjcmVhdGVSZXZpZXcoKVxyXG5cdFx0XHRcdFx0LnRoZW4ocmV2aWV3ID0+IGZldGNoUmV2aWV3KHJldmlldykpXHJcblx0XHRcdFx0XHQudGhlbihyZXZpZXcgPT4gZG9uZShyZXZpZXcpKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGRvbmUocmV2aWV3KSB7XHJcblxyXG5cdFx0XHRcdHJlc2V0Rm9ybSgpO1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgncmV2aWV3UG9zdFN1Y2Nlc3MnKSk7XHJcblxyXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLmV4ZWN1dGUoXHJcblx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMub25SZXZpZXdQb3N0LFxyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGNvbnRleHQsXHJcblx0XHRcdFx0XHRyZXZpZXdcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gY3JlYXRlUmV2aWV3KCkge1xyXG5cclxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0XHQnbm90LXB1cmNoYXNlZC1wcm9kdWN0JzogY29udGV4dC5tKCdub3RQdXJjaGFzZWRQcm9kdWN0JyksXHJcblx0XHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgICAgICAgY29udGV4dC5tKCdyZXZpZXdQb3N0RmFpbGVkJylcclxuXHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRcdG1ldGhvZDogICAgJ1BPU1QnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICAgICAnL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MnLFxyXG5cdFx0XHRcdFx0ZGF0YTogICAgICBnZXRSZXZpZXcoKSxcclxuXHRcdFx0XHRcdHJlY2FwdGNoYTogdG9rZW4sXHJcblx0XHRcdFx0fSkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdFx0cmVzZXRTdGF0ZVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZmV0Y2hSZXZpZXcocmV2aWV3KSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgncmV2aWV3UmVhZEZhaWxlZCcpXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICBgL3YxL3Byb2R1Y3RzL3Jldmlld3MvcHVibGlzaGVkLyR7cmV2aWV3Ll9pZH1gLFxyXG5cdFx0XHRcdFx0cXVlcnk6ICB7IGZpZWxkczogcmV2aWV3RmllbGRzLmpvaW4oJywnKSB9XHJcblx0XHRcdFx0fSkudGhlbihudWxsLCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRcdFx0cmVzZXRTdGF0ZVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XHJcbmNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XHJcblxyXG5cdGNvbnN0IHJldmlld1F1ZXJ5ID0gc2hvd1Byb2R1Y3QgPT4gKHtcclxuXHRcdGZpZWxkczogW1xyXG5cdFx0XHQnY3VzdG9tZXInLFxyXG5cdFx0XHQndGl0bGUnLFxyXG5cdFx0XHQnYm9keScsXHJcblx0XHRcdCdpbWFnZXMnLFxyXG5cdFx0XHQncmF0aW5nJyxcclxuXHRcdFx0J2hlbHBlZCcsXHJcblx0XHRcdCdmbGFnZ2VkJyxcclxuXHRcdFx0J3RvdGFsQ29tbWVudCcsXHJcblx0XHRcdCdjcmVhdGVkQXQnLFxyXG5cdFx0XS5jb25jYXQoc2hvd1Byb2R1Y3QgPyAncHJvZHVjdCcgOiBbXSkuam9pbignLCcpLFxyXG5cdFx0ZW1iZWQ6ICcrcHJvZHVjdC50aHVtYm5haWwnXHJcblx0fSk7XHJcblxyXG5cdC8vIEltcGxlbWVudGF0aW9uXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAncHJvZHVjdC1yZXZpZXcnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRyZXZpZXc6ICAgICAgICAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXZpZXcgSUQgb3IgcmV2aWV3IG9iamVjdFxyXG5cdFx0dXNlQ3VzdG9tZXJBdmF0YXI6IFRodW5kZXIub3B0aW9ucy5jdXN0b21lckF2YXRhciwgICAgICAgLy8gVXNlIGN1c3RvbWVyIGF2YXRhclxyXG5cdFx0dXNlQm9keUV4Y2VycHQ6ICAgIDE0MCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm9keSBleGNlcnB0IGxlbmd0aCB8fCBmYWxzZVxyXG5cdFx0dXNlUmF0aW5nOiAgICAgICAgIFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3UmF0aW5nLCAgLy8gVXNlIHJhdGluZz9cclxuXHRcdHVzZUhlbHBWb3RlOiAgICAgICB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBoZWxwZnVsIHZvdGVzP1xyXG5cdFx0dXNlRmxhZzogICAgICAgICAgIHRydWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGZsYWc/XHJcblx0XHR1c2VDb21tZW50czogICAgICAgVGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXdDb21tZW50LCAvLyBVc2UgcmV2aWV3IGNvbW1lbnRzP1xyXG5cdFx0c2hvd1Byb2R1Y3Q6ICAgICAgIGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2hvdyBwcm9kdWN0IGRldGFpbD9cclxuXHRcdC8vIExvYWQgJiBTaG93IGNvbW1lbnRzIGZyb20gdGhlIGJlZ2lubmluZz9cclxuXHRcdC8vIChJZiBpdCdzIGFuIG9iamVjdCwgaXQgd2lsbCBiZSBwYXNzZWQgYXMgYW4gb3B0aW9uIHRvIGBwcm9kdWN0LXJldmlldy1jb21tZW50c2AgY29tcG9uZW50KVxyXG5cdFx0c2hvd0NvbW1lbnRzOiAgICAgIGZhbHNlLFxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGNvbnN0IHJldmlldyA9IGNvbnRleHQub3B0aW9ucy5yZXZpZXc7XHJcblxyXG5cdFx0aWYgKHR5cGVvZiByZXZpZXcgPT09ICdvYmplY3QnKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgc2V0UmV2aWV3KHJldmlldykpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdyZXZpZXdSZWFkRmFpbGVkJylcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdHVybDogICAgYC92MS9wcm9kdWN0cy9yZXZpZXdzL3B1Ymxpc2hlZC8ke3Jldmlld31gLFxyXG5cdFx0XHRxdWVyeTogIHJldmlld1F1ZXJ5KGNvbnRleHQub3B0aW9ucy5zaG93UHJvZHVjdClcclxuXHRcdH0pLnRoZW4ocmV2aWV3ID0+IHtcclxuXHJcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBzZXRSZXZpZXcocmV2aWV3KSk7XHJcblxyXG5cdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRlcnJvcnMsXHJcblx0XHRcdGNhbGxiYWNrXHJcblx0XHQpKTtcclxuXHJcblx0XHRmdW5jdGlvbiBzZXRSZXZpZXcocmV2aWV3KSB7XHJcblx0XHRcdHJldHVybiBzZXQoY29udGV4dCwgJ3JldmlldycsIGJ1aWxkUmV2aWV3KHJldmlldywgY29udGV4dC5vcHRpb25zLnVzZUJvZHlFeGNlcnB0KSk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkcmV2aWV3ID0gJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXcnKTtcclxuXHRcdGNvbnN0ICRpbWFnZUZvcm0gPSAkY29udGFpbmVyLmZpbmQoJy50aHVuZGVyLS1lZGl0LXJldmlldy1pbWFnZS1mb3JtJyk7XHJcblx0XHRjb25zdCAkcmV2aWV3SW1hZ2VzID0gJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcmV2aWV3LWltYWdlcycpO1xyXG5cclxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1oZWxwZWQtdm90ZScsIGhlbHBWb3RlKTtcclxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1mbGFnJywgZmxhZyk7XHJcblx0XHQkY29udGFpbmVyLm9uKCdjbGljaycsICcudGh1bmRlci0tZWRpdC1wcm9kdWN0LXJldmlldycsIGVkaXRSZXZpZXcpO1xyXG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLWRlbGV0ZS1wcm9kdWN0LXJldmlldycsIGRlbGV0ZVJldmlldyk7XHJcblx0XHQkY29udGFpbmVyLm9uKCdjbGljaycsICcudGh1bmRlci0tZGVsZXRlLXJldmlldy1pbWFnZScsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgJGltYWdlTGlzdCA9ICQodGhpcykucGFyZW50cygnLnRodW5kZXItLXJldmlldy1pbWFnZXMnKTtcclxuXHRcdFx0Y29uc3QgaW1hZ2VJZCA9ICQodGhpcykucGFyZW50cygnW2RhdGEtaW1hZ2VdJykuZGF0YSgnaW1hZ2UnKTtcclxuXHJcblx0XHRcdHJldHVybiByZW1vdmVJbWFnZSgkaW1hZ2VMaXN0LCBjb250ZXh0LnJldmlldywgaW1hZ2VJZCk7XHJcblxyXG5cdFx0fSk7XHJcblxyXG5cdFx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnLnRodW5kZXItLXJlYWQtbW9yZScsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgJHJldmlld0JvZHkgPSAkKHRoaXMpLnBhcmVudHMoJy50aHVuZGVyLS1wcm9kdWN0LXJldmlldy1ib2R5Jyk7XHJcblxyXG5cdFx0XHQkcmV2aWV3Qm9keS5odG1sKGNvbnRleHQucmV2aWV3LmJvZHkpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdCRjb250YWluZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1zaG93LXByb2R1Y3QtcmV2aWV3LWNvbW1lbnQnLCBzaG93Q29tbWVudHMpO1xyXG5cclxuXHRcdFRodW5kZXIudXRpbC5pbWFnZVVwbG9hZGVyKFxyXG5cdFx0XHQkaW1hZ2VGb3JtLFxyXG5cdFx0XHRpbWFnZSA9PiBhZGRJbWFnZSgkcmV2aWV3SW1hZ2VzLCBjb250ZXh0LnJldmlldywgaW1hZ2UpLFxyXG5cdFx0XHQoKSA9PiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oJ2ltYWdlVXBsb2FkRmFpbGVkJykpXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChjb250ZXh0Lm9wdGlvbnMudXNlQ29tbWVudHMgJiZcclxuXHRcdFx0Y29udGV4dC5vcHRpb25zLnNob3dDb21tZW50cykge1xyXG5cdFx0XHQvLyBJZiBgc2hvd0NvbW1lbnRzYCBvcHRpb24gaXMgc2V0IHRvIGB0cnVlYCxcclxuXHRcdFx0Ly8gcmVuZGVyIGNvbW1lbnRzIHdoZW4gdGhlIGNvbXBvbmVudCBpbml0aWF0ZXMuXHJcblx0XHRcdHNob3dDb21tZW50cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIHZhbGlkYXRlUmV2aWV3KHJldmlldykge1xyXG5cclxuXHRcdFx0aWYgKCFyZXZpZXcudGl0bGUpIHtcclxuXHRcdFx0XHRyZXR1cm4gJ3RpdGxlUmVxdWlyZWQnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBhZGRJbWFnZSgkaW1hZ2VMaXN0LCByZXZpZXcsIGltYWdlKSB7XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgcmV2aWV3XHJcblx0XHRcdHJldmlldy5pbWFnZXMucHVzaChpbWFnZSk7XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgRE9NXHJcblx0XHRcdCRpbWFnZUxpc3QuYXBwZW5kKGBcclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGh1bmRlci0tcmV2aWV3LWltYWdlXCIgZGF0YS1pbWFnZT1cIiR7aW1hZ2UuX2lkfVwiPlxyXG5cdFx0XHRcdFx0PGltZyBzcmM9XCIke1RodW5kZXIudXRpbC5pbWFnZVVSTChpbWFnZSwgMTIwLCAxMjApfVwiPlxyXG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aHVuZGVyLS1kZWxldGUtcmV2aWV3LWltYWdlXCI+JHtjb250ZXh0Lm0oJ2RlbGV0ZUltYWdlJyl9PC9zcGFuPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRgLnRyaW0oKSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gcmVtb3ZlSW1hZ2UoJGltYWdlTGlzdCwgcmV2aWV3LCBpbWFnZUlkKSB7XHJcblxyXG5cdFx0XHRjb25zdCBpbWFnZSA9IHJldmlldy5pbWFnZXMuZmluZChpbWFnZSA9PiBpbWFnZSAmJiAoaW1hZ2UuX2lkID09PSBpbWFnZUlkKSk7XHJcblxyXG5cdFx0XHRpZiAoIWltYWdlKSByZXR1cm47XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgcmV2aWV3XHJcblx0XHRcdHJldmlldy5pbWFnZXMuc3BsaWNlKHJldmlldy5pbWFnZXMuaW5kZXhPZihpbWFnZSksIDEpO1xyXG5cclxuXHRcdFx0Ly8gVXBkYXRlIERPTVxyXG5cdFx0XHQkaW1hZ2VMaXN0LmZpbmQoYFtkYXRhLWltYWdlPVwiJHtpbWFnZUlkfVwiXWApLnJlbW92ZSgpO1xyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIGZyb20gdGhlIHN0b3JhZ2UgKEZpcmUgJiBGb3JnZXQpXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXHJcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL2ltYWdlcy8ke2ltYWdlSWR9YFxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBoZWxwVm90ZShldmVudCkge1xyXG5cclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGNvbnN0IHJldmlldyA9IGNvbnRleHQucmV2aWV3O1xyXG5cdFx0XHRjb25zdCB1cERvd24gPSAkKHRoaXMpLmRhdGEoJ3R5cGUnKTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHR1bmF1dGhvcml6ZWQ6ICAgICAgeyB0eXBlOiAnaW5mbycsIG1lc3NhZ2U6IGNvbnRleHQubSgnbG9naW5SZXF1aXJlZCcpIH0sXHJcblx0XHRcdFx0J2R1cGxpY2F0ZWQtdm90ZSc6IGNvbnRleHQubSgnZHVwbGljYXRlZFZvdGUnKSxcclxuXHRcdFx0XHRkZWZhdWx0OiAgICAgICAgICAgY29udGV4dC5tKCdoZWxwVm90ZUZhaWxlZCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy8ke3Jldmlldy5faWR9L2hlbHBlZC8ke3VwRG93bn1gLFxyXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2hlbHBWb3RlU3VjY2VzcycpKTtcclxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBmbGFnKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgcmV2aWV3ID0gY29udGV4dC5yZXZpZXc7XHJcblxyXG5cdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0dW5hdXRob3JpemVkOiAgICAgIHsgdHlwZTogJ2luZm8nLCBtZXNzYWdlOiBjb250ZXh0Lm0oJ2xvZ2luUmVxdWlyZWQnKSB9LFxyXG5cdFx0XHRcdCdkdXBsaWNhdGVkLWZsYWcnOiBjb250ZXh0Lm0oJ2R1cGxpY2F0ZWRGbGFnJyksXHJcblx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgIGNvbnRleHQubSgnZmxhZ0ZhaWxlZCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvcHJvZHVjdHMvcmV2aWV3cy8ke3Jldmlldy5faWR9L2ZsYWdzYCxcclxuXHRcdFx0fSkudGhlbigoKSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdmbGFnU3VjY2VzcycpKTtcclxuXHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBlZGl0UmV2aWV3KGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0Y29uc3QgaXNFZGl0aW5nID0gJHJldmlldy5kYXRhKCdlZGl0aW5nJykgfHwgZmFsc2U7XHJcblxyXG5cdFx0XHRpZiAoaXNFZGl0aW5nKSB7XHJcblx0XHRcdFx0ZW5kUmV2aWV3RWRpdGluZygpO1xyXG5cdFx0XHRcdCRyZXZpZXcucmVtb3ZlQ2xhc3MoJ2VkaXRpbmcnKTtcclxuXHRcdFx0XHQkKHRoaXMpLnRleHQoY29udGV4dC5tKCdlZGl0UmV2aWV3JykpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN0YXJ0UmV2aWV3RWRpdGluZygpO1xyXG5cdFx0XHRcdCRyZXZpZXcuYWRkQ2xhc3MoJ2VkaXRpbmcnKTtcclxuXHRcdFx0XHQkKHRoaXMpLnRleHQoY29udGV4dC5tKCdzYXZlUmV2aWV3JykpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkcmV2aWV3LmRhdGEoJ2VkaXRpbmcnLCAhaXNFZGl0aW5nKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc3RhcnRSZXZpZXdFZGl0aW5nKCkge1xyXG5cclxuXHRcdFx0Y29uc3QgcmV2aWV3ID0gY29udGV4dC5yZXZpZXc7XHJcblxyXG5cdFx0XHRjb25zdCAkcmF0aW5nID0gJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcmV2aWV3LXN0YXJzJyk7XHJcblx0XHRcdGNvbnN0ICR0aXRsZSA9ICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtcmV2aWV3LXRpdGxlJyk7XHJcblx0XHRcdGNvbnN0ICRib2R5ID0gJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXctYm9keScpO1xyXG5cclxuXHRcdFx0Y29uc3QgJG5ld1JhdGluZyA9XHJcblx0XHRcdFx0JChUaHVuZGVyLnVpKCdyZXZpZXctc3Rhci1yYXRpbmcnKSgkcmF0aW5nLmRhdGEoJ3JhdGluZycpKSlcclxuXHRcdFx0XHRcdC5hZGRDbGFzcygkcmF0aW5nLmF0dHIoJ2NsYXNzJykpO1xyXG5cdFx0XHRjb25zdCAkbmV3VGl0bGUgPSAkKGA8aW5wdXQgY2xhc3M9XCIkeyR0aXRsZS5hdHRyKCdjbGFzcycpfVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCIke3Jldmlldy50aXRsZX1cIiByZXF1aXJlZD5gKTtcclxuXHRcdFx0Y29uc3QgJG5ld0JvZHkgPSAkKGA8dGV4dGFyZWEgY2xhc3M9XCIkeyRib2R5LmF0dHIoJ2NsYXNzJyl9XCI+JHtyZXZpZXcuYm9keX08L3RleHRhcmVhPmApO1xyXG5cclxuXHRcdFx0JHJhdGluZy5yZXBsYWNlV2l0aCgkbmV3UmF0aW5nKTtcclxuXHRcdFx0JHRpdGxlLnJlcGxhY2VXaXRoKCRuZXdUaXRsZSk7XHJcblx0XHRcdCRib2R5LnJlcGxhY2VXaXRoKCRuZXdCb2R5KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZW5kUmV2aWV3RWRpdGluZygpIHtcclxuXHJcblx0XHRcdGNvbnN0IHJldmlldyA9IGNvbnRleHQucmV2aWV3O1xyXG5cclxuXHRcdFx0Y29uc3QgZGF0YSA9IHtcclxuXHRcdFx0XHRyYXRpbmc6ICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXJldmlldy1zdGFycycpLnZhbCgpLFxyXG5cdFx0XHRcdHRpdGxlOiAgJGNvbnRhaW5lci5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXctdGl0bGUnKS52YWwoKSxcclxuXHRcdFx0XHRib2R5OiAgICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXByb2R1Y3QtcmV2aWV3LWJvZHknKS52YWwoKSxcclxuXHRcdFx0XHRpbWFnZXM6ICRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXJldmlldy1pbWFnZXMgW2RhdGEtaW1hZ2VdJykubWFwKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICQodGhpcykuZGF0YSgnaW1hZ2UnKTtcclxuXHRcdFx0XHR9KS5nZXQoKSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9yQ29kZSA9IHZhbGlkYXRlUmV2aWV3KGRhdGEpO1xyXG5cclxuXHRcdFx0aWYgKGVycm9yQ29kZSkge1xyXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLm5vdGlmeSgnZXJyb3InLCBjb250ZXh0Lm0oZXJyb3JDb2RlKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB1cGRhdGVSZXZpZXcoZGF0YSlcclxuXHRcdFx0XHQudGhlbihyZXZpZXcgPT4gZmV0Y2hSZXZpZXcocmV2aWV3KSlcclxuXHRcdFx0XHQudGhlbihyZXZpZXcgPT4gZG9uZShyZXZpZXcpKTtcclxuXHJcblx0XHRcdGZ1bmN0aW9uIGRvbmUocmV2aWV3KSB7XHJcblxyXG5cdFx0XHRcdGNvbnRleHQucmV2aWV3ID0gcmV2aWV3O1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCBpbXBsZW1lbnRhdGlvbi5uYW1lLCBjb250ZXh0KTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdyZXZpZXdTYXZlU3VjY2VzcycpKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIHVwZGF0ZVJldmlldyhkYXRhKSB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgncmV2aWV3U2F2ZUZhaWxlZCcpXHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0XHRtZXRob2Q6ICdQVVQnLFxyXG5cdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MvJHtyZXZpZXcuX2lkfWAsXHJcblx0XHRcdFx0XHRkYXRhOiAgIGRhdGFcclxuXHRcdFx0XHR9KS50aGVuKG51bGwsIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0XHRlcnJvcnNcclxuXHRcdFx0XHQpKTtcclxuXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGZ1bmN0aW9uIGZldGNoUmV2aWV3KHJldmlldykge1xyXG5cclxuXHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3Jldmlld1JlYWRGYWlsZWQnKVxyXG5cdFx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHRcdHVybDogICAgYC92MS9wcm9kdWN0cy9yZXZpZXdzL3B1Ymxpc2hlZC8ke3Jldmlldy5faWR9YCxcclxuXHRcdFx0XHRcdHF1ZXJ5OiAgcmV2aWV3UXVlcnkoY29udGV4dC5vcHRpb25zLnNob3dQcm9kdWN0KVxyXG5cdFx0XHRcdH0pLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRcdGVycm9yc1xyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBkZWxldGVSZXZpZXcoZXZlbnQpIHtcclxuXHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRjb25zdCByZXZpZXcgPSBjb250ZXh0LnJldmlldztcclxuXHJcblx0XHRcdGRlbGV0ZVJldmlld0ltYWdlcyhyZXZpZXcpO1xyXG5cclxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnZGVsZXRlRmFpbGVkJylcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0RFTEVURScsXHJcblx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3Byb2R1Y3RzL3Jldmlld3MvJHtyZXZpZXcuX2lkfWAsXHJcblx0XHRcdH0pLnRoZW4oKCkgPT4ge1xyXG5cclxuXHRcdFx0XHQvLyBIaWRlIHRoZSByZXZpZXdcclxuXHRcdFx0XHQkY29udGFpbmVyLmFkZENsYXNzKCdoaWRkZW4nKS5oaWRlKCk7XHJcblxyXG5cdFx0XHRcdC8vIEhpZGUgY29tbWVudHMgb2YgdGhlIHJldmlld1xyXG5cdFx0XHRcdCRjb250YWluZXIubmV4dCgnLnRodW5kZXItLXJldmlldy1jb21tZW50cy1jb250YWluZXInKS5hZGRDbGFzcygnaGlkZGVuJykuaGlkZSgpO1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ3N1Y2Nlc3MnLCBjb250ZXh0Lm0oJ2RlbGV0ZVN1Y2Nlc3MnKSk7XHJcblxyXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnNcclxuXHRcdFx0KSk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gZGVsZXRlUmV2aWV3SW1hZ2VzKHJldmlldykge1xyXG5cclxuXHRcdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnaW1hZ2VEZWxldGVGYWlsZWQnKVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0cmV0dXJuICQud2hlbihcclxuXHRcdFx0XHQuLi5yZXZpZXcuaW1hZ2VzLm1hcChpbWFnZSA9PiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcclxuXHRcdFx0XHRcdHVybDogICAgYC92MS9tZS9pbWFnZXMvJHtpbWFnZS5faWQgfHwgaW1hZ2V9YFxyXG5cdFx0XHRcdH0pKVxyXG5cdFx0XHQpLnRoZW4obnVsbCwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdFx0ZXJyb3JzXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzaG93Q29tbWVudHMoKSB7XHJcblxyXG5cdFx0XHRpZiAoY29udGV4dC5jb21tZW50c0xvYWRlZCkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Y29udGV4dC5jb21tZW50c0xvYWRlZCA9IHRydWU7XHJcblxyXG5cdFx0XHRjb25zdCByZXZpZXcgPSBjb250ZXh0LnJldmlldztcclxuXHJcblx0XHRcdGNvbnN0ICRjb21tZW50c0NvbnRhaW5lciA9ICQoYDxkaXYgY2xhc3M9XCJ0aHVuZGVyLS1yZXZpZXctY29tbWVudHMtY29udGFpbmVyXCIgZGF0YS1yZXZpZXc9XCIke3Jldmlldy5faWR9XCI+PC9kaXY+YCk7XHJcblxyXG5cdFx0XHQkY29tbWVudHNDb250YWluZXIuaW5zZXJ0QWZ0ZXIoJGNvbnRhaW5lcik7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoXHJcblx0XHRcdFx0JGNvbW1lbnRzQ29udGFpbmVyLFxyXG5cdFx0XHRcdCdwcm9kdWN0LXJldmlldy1jb21tZW50cycsXHJcblx0XHRcdFx0JC5leHRlbmQoXHJcblx0XHRcdFx0XHQvLyBVc2UgYHNob3dDb21tZW50c2AgYXMgYW4gb3B0aW9uIHdoZW4gaXQncyBhbiBvYmplY3QuXHJcblx0XHRcdFx0XHR0eXBlb2YgY29udGV4dC5vcHRpb25zLnNob3dDb21tZW50cyA9PT0gJ29iamVjdCcgP1xyXG5cdFx0XHRcdFx0XHRjb250ZXh0Lm9wdGlvbnMuc2hvd0NvbW1lbnRzIDpcclxuXHRcdFx0XHRcdFx0e30sXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdHJldmlldzogcmV2aWV3Ll9pZCxcclxuXHRcdFx0XHRcdFx0aGFzTm9Db21tZW50czogY29udGV4dC5yZXZpZXcudG90YWxDb21tZW50LnJhdyA9PT0gMCxcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHQpXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG5cdGZ1bmN0aW9uIGJ1aWxkUmV2aWV3KHJldmlldywgdXNlQm9keUV4Y2VycHQpIHtcclxuXHJcblx0XHRjb25zdCBjdXN0b21lciA9IGdldChUaHVuZGVyLmF1dGhlbnRpY2F0ZWQoJ2N1c3RvbWVyJyksICdzdWInLCAndW5hdXRoZW50aWNhdGVkJyk7XHJcblxyXG5cdFx0cmV2aWV3LmVkaXRhYmxlID0gZ2V0KHJldmlldywgJ2N1c3RvbWVyLl9pZCcpID09PSBjdXN0b21lcjtcclxuXHRcdHJldmlldy5leGNlcnB0ID0gVGh1bmRlci51dGlsLmV4Y2VycHQocmV2aWV3LmJvZHksIHVzZUJvZHlFeGNlcnB0KSB8fCAnJztcclxuXHRcdHJldmlldy5ib2R5ID0gcmV2aWV3LmJvZHkgfHwgJyc7XHJcblxyXG5cdFx0cmV0dXJuIHJldmlldztcclxuXHJcblx0fVxyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdwcm9kdWN0LXJldmlld3MnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRwcm9kdWN0OiAgICAgICAgICAgbnVsbCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9kdWN0IElEXHJcblx0XHRwYWdlOiAgICAgICAgICAgICAgMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGljaCBwYWdlIG9mIHByb2R1Y3RzP1xyXG5cdFx0bGltaXQ6ICAgICAgICAgICAgIDEwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IG1hbnkgcHJvZHVjdHMgYXQgb25jZT9cclxuXHRcdHNvcnQ6ICAgICAgICAgICAgICAnLWNyZWF0ZWRBdCcsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgc29ydCB2YWx1ZVxyXG5cdFx0cHJvZHVjdFJhdGluZzogICAgIG51bGwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvZHVjdCByYXRpbmc/XHJcblx0XHR1c2VDdXN0b21lckF2YXRhcjogVGh1bmRlci5vcHRpb25zLmN1c3RvbWVyQXZhdGFyLCAgICAgICAvLyBVc2UgY3VzdG9tZXIgYXZhdGFyP1xyXG5cdFx0dXNlQm9keUV4Y2VycHQ6ICAgIDE0MCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQm9keSBleGNlcnB0IGxlbmd0aCB8fCBmYWxzZVxyXG5cdFx0dXNlUmF0aW5nOiAgICAgICAgICggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHJhdGluZz9cclxuXHRcdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXcgJiZcclxuXHRcdFx0VGh1bmRlci5vcHRpb25zLnByb2R1Y3RSZXZpZXdSYXRpbmdcclxuXHRcdCksXHJcblx0XHR1c2VIZWxwVm90ZTogICAgICAgdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgaGVscGZ1bCB2b3Rlcz9cclxuXHRcdHVzZUZsYWc6ICAgICAgICAgICB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSBmbGFnP1xyXG5cdFx0dXNlQ29tbWVudHM6ICAgICAgIFRodW5kZXIub3B0aW9ucy5wcm9kdWN0UmV2aWV3Q29tbWVudCwgLy8gVXNlIGNvbW1lbnRzP1xyXG5cdFx0dXNlUGFnaW5hdGlvbjogICAgIHRydWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIFBhZ2luYXRpb24/XHJcblxyXG5cdFx0b25VbmF1dGhlbnRpY2F0ZWRXcml0ZVJldmlldzogZnVuY3Rpb24oJGNvbnRhaW5lciwgY29udGV4dCkge1xyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5ub3RpZnkoJ2luZm8nLCBjb250ZXh0Lm0oJ2xvZ2luUmVxdWlyZWQnKSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3QgZXJyb3JzID0ge1xyXG5cdFx0XHRkZWZhdWx0OiBjb250ZXh0Lm0oJ3Jldmlld0xpc3RGYWlsZWQnKVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gJC53aGVuKFxyXG5cdFx0XHRmZXRjaFJldmlld3MoKSxcclxuXHRcdFx0Y291bnRSZXZpZXdzKClcclxuXHRcdCkudGhlbigocmV2aWV3cywgY291bnQpID0+IGNhbGxiYWNrKG51bGwsICQuZXh0ZW5kKGNvbnRleHQsIHtcclxuXHRcdFx0cmV2aWV3czogcmV2aWV3c1swXSB8fCBbXSxcclxuXHRcdFx0Y291bnQ6ICAgY291bnQgPyBjb3VudFswXS5jb3VudCA6IG51bGwsXHJcblx0XHR9KSksIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRjYWxsYmFja1xyXG5cdFx0KSk7XHJcblxyXG5cdFx0ZnVuY3Rpb24gZmV0Y2hSZXZpZXdzKCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVxdWVzdCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICcvdjEvcHJvZHVjdHMvcmV2aWV3cy9wdWJsaXNoZWQnLFxyXG5cdFx0XHRcdHF1ZXJ5OiB7XHJcblx0XHRcdFx0XHRwcm9kdWN0OiBjb250ZXh0Lm9wdGlvbnMucHJvZHVjdCxcclxuXHRcdFx0XHRcdHBhZ2U6ICAgIGNvbnRleHQub3B0aW9ucy5wYWdlLFxyXG5cdFx0XHRcdFx0bGltaXQ6ICAgY29udGV4dC5vcHRpb25zLmxpbWl0LFxyXG5cdFx0XHRcdFx0c29ydDogICAgY29udGV4dC5vcHRpb25zLnNvcnQsXHJcblx0XHRcdFx0XHRmaWVsZHM6ICBbXHJcblx0XHRcdFx0XHRcdCdjdXN0b21lcicsXHJcblx0XHRcdFx0XHRcdCd0aXRsZScsXHJcblx0XHRcdFx0XHRcdCdib2R5JyxcclxuXHRcdFx0XHRcdFx0J2ltYWdlcycsXHJcblx0XHRcdFx0XHRcdCdyYXRpbmcnLFxyXG5cdFx0XHRcdFx0XHQnaGVscGVkJyxcclxuXHRcdFx0XHRcdFx0J2ZsYWdnZWQnLFxyXG5cdFx0XHRcdFx0XHQndG90YWxDb21tZW50JyxcclxuXHRcdFx0XHRcdFx0J2NyZWF0ZWRBdCcsXHJcblx0XHRcdFx0XHRdLmpvaW4oJywnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNvdW50UmV2aWV3cygpIHtcclxuXHJcblx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAnL3YxL3Byb2R1Y3RzL3Jldmlld3MvcHVibGlzaGVkL2NvdW50JyxcclxuXHRcdFx0XHRxdWVyeToge1xyXG5cdFx0XHRcdFx0cHJvZHVjdDogY29udGV4dC5vcHRpb25zLnByb2R1Y3QsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkd3JpdGVSZXZpZXcgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS13cml0ZS1yZXZpZXcnKTtcclxuXHRcdGNvbnN0ICRyZXZpZXdMaXN0ID0gJCh0aGlzKS5maW5kKCcudGh1bmRlci0tcHJvZHVjdC1yZXZpZXctbGlzdCcpO1xyXG5cdFx0Y29uc3QgJHBhZ2luYXRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1wcm9kdWN0LXJldmlldy1saXN0LXBhZ2luYXRpb24nKTtcclxuXHRcdGNvbnN0ICRyZXZpZXdXcml0ZXJDb250YWluZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1yZXZpZXctd3JpdGVyLWNvbnRhaW5lcicpO1xyXG5cclxuXHRcdCR3cml0ZVJldmlldy5vbignY2xpY2snLCBzdGFydFJldmlld1dyaXRpbmcpO1xyXG5cclxuXHRcdFRodW5kZXIucmVuZGVyKCRyZXZpZXdXcml0ZXJDb250YWluZXIsICdwcm9kdWN0LXJldmlldy13cml0ZXInLCB7XHJcblx0XHRcdHByb2R1Y3Q6ICAgICAgICAgY29udGV4dC5vcHRpb25zLnByb2R1Y3QsXHJcblx0XHRcdHVzZVJhdGluZzogICAgICAgY29udGV4dC5vcHRpb25zLnVzZVJhdGluZyxcclxuXHRcdFx0b25SZXZpZXdQb3N0OiAgICBvblJldmlld1Bvc3QsXHJcblx0XHRcdG9uUmV2aWV3Q2FuY2VsOiAgKCkgPT4gaGlkZVJldmlld1dyaXRlcigpLFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Y29udGV4dC5yZXZpZXdzLmZvckVhY2gocmV2aWV3ID0+IHJlbmRlclJldmlldygnYXBwZW5kJywgcmV2aWV3KSk7XHJcblxyXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uKSB7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnBsdWdpbnMucGFnaW5hdGlvbih7XHJcblx0XHRcdFx0Y29udGFpbmVyOiAgICAgJHBhZ2luYXRpb24sXHJcblx0XHRcdFx0Y3VycmVudFBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXHJcblx0XHRcdFx0dG90YWxSZXN1bHQ6ICAgY29udGV4dC5jb3VudC5yYXcsXHJcblx0XHRcdFx0cmVzdWx0UGVyUGFnZTogY29udGV4dC5vcHRpb25zLmxpbWl0LFxyXG5cdFx0XHRcdG9uUGFnZUNoYW5nZTogICh7IHBhZ2UgfSkgPT4gVGh1bmRlci5yZW5kZXIoXHJcblx0XHRcdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0aW1wbGVtZW50YXRpb24ubmFtZSxcclxuXHRcdFx0XHRcdCQuZXh0ZW5kKGNvbnRleHQub3B0aW9ucywgeyBwYWdlIH0pXHJcblx0XHRcdFx0KVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiByZW5kZXJSZXZpZXcoY29tbWFuZCwgcmV2aWV3KSB7XHJcblxyXG5cdFx0XHRjb25zdCAkcmV2aWV3Q29udGFpbmVyID0gJChgPGRpdiBjbGFzcz1cInRodW5kZXItLXByb2R1Y3QtcmV2aWV3LXdyYXBwZXJcIiBkYXRhLXJldmlldz1cIiR7cmV2aWV3Ll9pZH1cIj48L2Rpdj5gKTtcclxuXHJcblx0XHRcdCRyZXZpZXdMaXN0W2NvbW1hbmRdKCRyZXZpZXdDb250YWluZXIpO1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRyZXZpZXdDb250YWluZXIsICdwcm9kdWN0LXJldmlldycsIHtcclxuXHRcdFx0XHRyZXZpZXc6ICAgICAgICAgICAgcmV2aWV3LFxyXG5cdFx0XHRcdHVzZUN1c3RvbWVyQXZhdGFyOiBjb250ZXh0Lm9wdGlvbnMudXNlQ3VzdG9tZXJBdmF0YXIsXHJcblx0XHRcdFx0dXNlQm9keUV4Y2VycHQ6ICAgIGNvbnRleHQub3B0aW9ucy51c2VCb2R5RXhjZXJwdCxcclxuXHRcdFx0XHR1c2VSYXRpbmc6ICAgICAgICAgY29udGV4dC5vcHRpb25zLnVzZVJhdGluZyxcclxuXHRcdFx0XHR1c2VIZWxwVm90ZTogICAgICAgY29udGV4dC5vcHRpb25zLnVzZUhlbHBWb3RlLFxyXG5cdFx0XHRcdHVzZUZsYWc6ICAgICAgICAgICBjb250ZXh0Lm9wdGlvbnMudXNlRmxhZyxcclxuXHRcdFx0XHR1c2VDb21tZW50czogICAgICAgY29udGV4dC5vcHRpb25zLnVzZUNvbW1lbnRzLFxyXG5cdFx0XHRcdHNob3dQcm9kdWN0OiAgICAgICBmYWxzZSxcclxuXHRcdFx0XHRzaG93Q29tbWVudHM6ICAgICAgZmFsc2UsXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzdGFydFJldmlld1dyaXRpbmcoZXZlbnQpIHtcclxuXHJcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG5cdFx0XHRpZiAoVGh1bmRlci5hdXRoZW50aWNhdGVkKCkpIHtcclxuXHRcdFx0XHRyZXR1cm4gc2hvd1Jldmlld1dyaXRlcigpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblVuYXV0aGVudGljYXRlZFdyaXRlUmV2aWV3LFxyXG5cdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0Y29udGV4dFxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBvblJldmlld1Bvc3QoXyRjb250YWluZXIsIF9jb250ZXh0LCByZXZpZXcpIHtcclxuXHJcblx0XHRcdGNvbnRleHQucmV2aWV3cy51bnNoaWZ0KHJldmlldyk7XHJcblxyXG5cdFx0XHRoaWRlUmV2aWV3V3JpdGVyKCk7XHJcblx0XHRcdHJlbmRlclJldmlldygncHJlcGVuZCcsIHJldmlldyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gc2hvd1Jldmlld1dyaXRlcigpIHtcclxuXHRcdFx0JHdyaXRlUmV2aWV3LmhpZGUoKTtcclxuXHRcdFx0JHJldmlld1dyaXRlckNvbnRhaW5lci5zaG93KCk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gaGlkZVJldmlld1dyaXRlcigpIHtcclxuXHRcdFx0JHdyaXRlUmV2aWV3LnNob3coKTtcclxuXHRcdFx0JHJldmlld1dyaXRlckNvbnRhaW5lci5oaWRlKCk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBUaHVuZGVyID0+IHtcclxuXHJcblx0Y29uc3QgaW1wbGVtZW50YXRpb24gPSB7XHJcblx0XHRuYW1lOiAnc2VhcmNoLXB1cmNoYXNlJ1xyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLm9wdGlvbnMgPSAoKSA9PiAoe1xyXG5cdFx0dHlwZTogJ29yZGVyJywgLy8gJ29yZGVyJyB8fCAnc3Vic2NyaXB0aW9uJ1xyXG5cclxuXHRcdG9uU2VhcmNoOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBzdWJqZWN0KSB7XHJcblxyXG5cdFx0XHRjb25zdCB0eXBlID0gY29udGV4dC5vcHRpb25zLnR5cGU7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnJlbmRlcigkY29udGFpbmVyLCBgJHt0eXBlfS1kZXRhaWxgLCB7XHJcblx0XHRcdFx0W3R5cGVdOiBzdWJqZWN0XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGNvbnN0IHRyYW5zbGF0aW9uS2V5cyA9IHtcclxuXHRcdFx0J25hbWUuZmlyc3QnOiAnZmlyc3ROYW1lJyxcclxuXHRcdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxyXG5cdFx0XHQnbmFtZS5mdWxsJzogICdmdWxsTmFtZScsXHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnRleHQuYXV0aEZpZWxkcyA9IFRodW5kZXIub3B0aW9ucy5vcmRlckF1dGhGaWVsZHMubWFwKGZpZWxkID0+ICh7XHJcblx0XHRcdGtleTogZmllbGQsXHJcblx0XHRcdHRyYW5zbGF0aW9uS2V5OiB0cmFuc2xhdGlvbktleXNbZmllbGRdIHx8IGZpZWxkLFxyXG5cdFx0fSkpO1xyXG5cclxuXHRcdGNvbnRleHQuc2hvd0xpbmtzID0gT2JqZWN0LmtleXMoVGh1bmRlci5vcHRpb25zLnBheW1lbnRNZXRob2RzKS5yZWR1Y2UoKG8sIHNjb3BlKSA9PiB7XHJcblxyXG5cdFx0XHRjb25zdCBwYXltZW50TWV0aG9kcyA9IFRodW5kZXIub3B0aW9ucy5wYXltZW50TWV0aG9kc1tzY29wZV07XHJcblxyXG5cdFx0XHRvW3Njb3BlXSA9IHBheW1lbnRNZXRob2RzICYmIHBheW1lbnRNZXRob2RzLmxlbmd0aDtcclxuXHJcblx0XHRcdHJldHVybiBvO1xyXG5cclxuXHRcdH0sIHt9KTtcclxuXHJcblx0XHRyZXR1cm4gY2FsbGJhY2sobnVsbCwgY29udGV4dCk7XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkZm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXNlYXJjaC1wdXJjaGFzZS1mb3JtJyk7XHJcblx0XHRjb25zdCAkYnV0dG9uID0gJGZvcm0uZmluZCgnLnRodW5kZXItLXNlYXJjaC1wdXJjaGFzZScpO1xyXG5cdFx0Y29uc3QgJGdvVG9TZWFyY2ggPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1nby10by1zZWFyY2gtcHVyY2hhc2UnKTtcclxuXHRcdGNvbnN0IGJ1dHRvblNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRidXR0b24pO1xyXG5cclxuXHRcdCRnb1RvU2VhcmNoLm9uKCdjbGljaycsIGdvVG9TZWFyY2gpO1xyXG5cclxuXHRcdFRodW5kZXIudXRpbC5tYWtlUmVjYXB0Y2hhKGltcGxlbWVudGF0aW9uLm5hbWUsICRidXR0b24sIGZ1bmN0aW9uKHRva2VuLCByZXNldFJlY2FwdGNoYSkge1xyXG5cclxuXHRcdFx0Y29uc3QgdHlwZSA9IGNvbnRleHQub3B0aW9ucy50eXBlO1xyXG5cdFx0XHRjb25zdCBkYXRhID0gVGh1bmRlci51dGlsLmZvcm1Ub0pTT04oJGZvcm0uc2VyaWFsaXplQXJyYXkoKSk7XHJcblx0XHRcdGNvbnN0IHN1YmplY3QgPSBkYXRhLnN1YmplY3Q7XHJcblxyXG5cdFx0XHRkZWxldGUgZGF0YS5zdWJqZWN0O1xyXG5cclxuXHRcdFx0Y29uc3QgcmVzZXRTdGF0ZSA9ICgpID0+IHtcclxuXHRcdFx0XHRidXR0b25TcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzZXRSZWNhcHRjaGEgJiYgcmVzZXRSZWNhcHRjaGEoKTtcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHQnbm90LWV4aXN0aW5nLW9yZGVyJzogICAgICAgIGNvbnRleHQubSgnbm90RXhpc3RpbmdPcmRlcicpLFxyXG5cdFx0XHRcdCdub3QtZXhpc3Rpbmctc3Vic2NyaXB0aW9uJzogY29udGV4dC5tKCdub3RFeGlzdGluZ1N1YnNjcmlwdGlvbicpLFxyXG5cdFx0XHRcdCdpbnZhbGlkLWN1c3RvbWVyLWluZm8nOiAgICAgY29udGV4dC5tKCdpbnZhbGlkQ3VzdG9tZXJJbmZvJyksXHJcblx0XHRcdFx0ZGVmYXVsdDogICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm0oJ3NlYXJjaEZhaWxlZCcpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvJHt0eXBlfXMvJHtzdWJqZWN0fS9hdXRoYCxcclxuXHRcdFx0XHRkYXRhOiAgIGRhdGEsXHJcblx0XHRcdH0pLnRoZW4oYXV0aFJlc3VsdCA9PiB7XHJcblxyXG5cdFx0XHRcdGNvbnN0IHN0b3JhZ2UgPSBUaHVuZGVyLnBsdWdpbnMuY3JlZGVudGlhbFN0b3JhZ2U7XHJcblx0XHRcdFx0Y29uc3QgdG9rZW4gPSBhdXRoUmVzdWx0LnRva2VuO1xyXG5cclxuXHRcdFx0XHQvLyBTZXQgYXV0aCB0b2tlbiBpbiB0aGUgc3RvcmFnZS5cclxuXHRcdFx0XHRzdG9yYWdlLnNldEl0ZW0oVGh1bmRlci5vcHRpb25zLmF1dGhTdG9yYWdlLm9yZGVyLCB0b2tlbik7XHJcblxyXG5cdFx0XHRcdFRodW5kZXIuZXhlY3V0ZShcclxuXHRcdFx0XHRcdGNvbnRleHQub3B0aW9ucy5vblNlYXJjaCxcclxuXHRcdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0XHRjb250ZXh0LFxyXG5cdFx0XHRcdFx0c3ViamVjdFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdHJldHVybiByZXNldFN0YXRlKCk7XHJcblxyXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0KCkgPT4gcmVzZXRTdGF0ZSgpXHJcblx0XHRcdCkpO1xyXG5cclxuXHRcdH0pO1xyXG5cclxuXHRcdGZ1bmN0aW9uIGdvVG9TZWFyY2goKSB7XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZW5kZXIoJGNvbnRhaW5lciwgJ3NlYXJjaC1wdXJjaGFzZScsIHtcclxuXHRcdFx0XHR0eXBlOiAkKHRoaXMpLmRhdGEoJ3R5cGUnKVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcclxuXHJcbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xyXG5jb25zdCBzZXQgPSByZXF1aXJlKCdsb2Rhc2guc2V0Jyk7XHJcbmNvbnN0IGNhbWVsQ2FzZSA9IHJlcXVpcmUoJ2xvZGFzaC5jYW1lbGNhc2UnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gVGh1bmRlciA9PiB7XHJcblxyXG5cdGNvbnN0IGltcGxlbWVudGF0aW9uID0ge1xyXG5cdFx0bmFtZTogJ3N1YnNjcmlwdGlvbi1kZXRhaWwnXHJcblx0fTtcclxuXHJcblx0aW1wbGVtZW50YXRpb24ub3B0aW9ucyA9ICgpID0+ICh7XHJcblx0XHRzdWJzY3JpcHRpb246ICAgICcnLCAvLyBTdWJzY3JpcHRpb24gSUQgdG8gcmVuZGVyXHJcblx0XHRjdXN0b21lckZpZWxkczogIFRodW5kZXIub3B0aW9ucy5jdXN0b21lck9yZGVyRmllbGRzLm1hcChmaWVsZCA9PiBmaWVsZC5zcGxpdCgnOicpWzBdKSxcclxuXHRcdHJlY2lwaWVudEZpZWxkczogVGh1bmRlci5vcHRpb25zLnJlY2lwaWVudEZpZWxkcy5tYXAoZmllbGQgPT4gZmllbGQuc3BsaXQoJzonKVswXSksXHJcblx0fSk7XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLnByZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNhbGxiYWNrKSB7XHJcblxyXG5cdFx0Y29uc3QgeyBzdWJzY3JpcHRpb24gfSA9IGNvbnRleHQub3B0aW9ucztcclxuXHJcblx0XHRjb250ZXh0LmNvdXBvbkRldGFpbCA9IGNvdXBvbiA9PiB7XHJcblxyXG5cdFx0XHRpZiAoIWNvdXBvbikgcmV0dXJuICcnO1xyXG5cclxuXHRcdFx0cmV0dXJuIFtcclxuXHRcdFx0XHRjb250ZXh0Lm0oJ2Rpc2NvdW50ZWRCeScsIHsgdmFsdWU6IGNvdXBvbi5kaXNjb3VudC52YWx1ZS5jb252ZXJ0ZWQgfSksXHJcblx0XHRcdFx0JyYjMTA7KCcsXHJcblx0XHRcdFx0Y29udGV4dC5tKCh7XHJcblx0XHRcdFx0XHRmaXJzdDogJ2ZpcnN0TlRpbWVzRGlzY291bnRlZCcsXHJcblx0XHRcdFx0XHRsYXN0OiAgJ2xhc3ROVGltZXNEaXNjb3VudGVkJyxcclxuXHRcdFx0XHRcdGV2ZXJ5OiAnYWxsRGlzY291bnRlZCcsXHJcblx0XHRcdFx0fSlbY291cG9uLnN1YnNjcmlwdGlvbi50eXBlXSwge1xyXG5cdFx0XHRcdFx0Y291bnQ6IGdldChjb3Vwb24uc3Vic2NyaXB0aW9uLCAndmFsdWUuY29udmVydGVkJyksXHJcblx0XHRcdFx0XHRzbWFydF9jb3VudDogZ2V0KGNvdXBvbi5zdWJzY3JpcHRpb24sICd2YWx1ZS5yYXcnKSxcclxuXHRcdFx0XHR9KSxcclxuXHRcdFx0XHQnKSdcclxuXHRcdFx0XS5qb2luKCcnKTtcclxuXHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnN0IHRyYW5zbGF0aW9uS2V5cyA9IHtcclxuXHRcdFx0J25hbWUuZmlyc3QnOiAnZmlyc3ROYW1lJyxcclxuXHRcdFx0J25hbWUubGFzdCc6ICAnbGFzdE5hbWUnLFxyXG5cdFx0XHQnbmFtZS5mdWxsJzogICdmdWxsTmFtZScsXHJcblx0XHR9O1xyXG5cclxuXHRcdGNvbnRleHQuY3VzdG9tZXJGaWVsZHMgPSBUaHVuZGVyLnV0aWwucGFyc2VBcnJheVN0cmluZyhcclxuXHRcdFx0Y29udGV4dC5vcHRpb25zLmN1c3RvbWVyRmllbGRzXHJcblx0XHQpLm1hcChrZXkgPT4gKHtcclxuXHRcdFx0a2V5OiBrZXksXHJcblx0XHRcdHRyYW5zbGF0aW9uS2V5OiBjYW1lbENhc2UoWydjdXN0b21lcicsIHRyYW5zbGF0aW9uS2V5c1trZXldIHx8IGtleV0pLFxyXG5cdFx0fSkpO1xyXG5cclxuXHRcdGNvbnRleHQucmVjaXBpZW50RmllbGRzID0gVGh1bmRlci51dGlsLnBhcnNlQXJyYXlTdHJpbmcoXHJcblx0XHRcdGNvbnRleHQub3B0aW9ucy5yZWNpcGllbnRGaWVsZHNcclxuXHRcdCkubWFwKGtleSA9PiAoe1xyXG5cdFx0XHRrZXk6IGtleSxcclxuXHRcdFx0dHJhbnNsYXRpb25LZXk6IGNhbWVsQ2FzZShbJ2FkZHJlc3MnLCB0cmFuc2xhdGlvbktleXNba2V5XSB8fCBrZXldKSxcclxuXHRcdH0pKTtcclxuXHJcblx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnc3Vic2NyaXB0aW9uUmVhZEZhaWxlZCcpXHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHR1cmw6ICAgIGAvdjEvbWUvc3Vic2NyaXB0aW9ucy8ke3N1YnNjcmlwdGlvbn1gLFxyXG5cdFx0fSkudGhlbihzdWJzY3JpcHRpb24gPT4ge1xyXG5cclxuXHRcdFx0Y29uc3QgaXRlbU1hcCA9IHN1YnNjcmlwdGlvbi5pdGVtcy5yZWR1Y2UoKG8sIGl0ZW0pID0+IHtcclxuXHRcdFx0XHRyZXR1cm4gW10uY29uY2F0KGl0ZW0sIGl0ZW0uYnVuZGxlSXRlbXMgfHwgW10pLnJlZHVjZSgobywgaXRlbSkgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHNldChvLCBpdGVtLl9pZCwgaXRlbSk7XHJcblx0XHRcdFx0fSwgbyk7XHJcblx0XHRcdH0sIHt9KTtcclxuXHJcblx0XHRcdGNvbnN0IGRpc2NvdW50ID0gc3Vic2NyaXB0aW9uLmRpc2NvdW50IHx8IHt9O1xyXG5cclxuXHRcdFx0T2JqZWN0LmtleXMoZGlzY291bnQpLmZvckVhY2goc2NvcGUgPT4ge1xyXG5cclxuXHRcdFx0XHRpZiAoc2NvcGUgPT09ICdzaGlwcGluZycpIHtcclxuXHRcdFx0XHRcdC8vIElNUE9SVEFOVDogRm9yIG5vdyB3ZSB3aWxsIG9ubHkgZGlzcGxheSAnaXRlbXMnIGFuZCAnY2FydCcgY291cG9uc1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0W10uY29uY2F0KGRpc2NvdW50W3Njb3BlXSkuZm9yRWFjaCgoeyBpdGVtLCBjb3Vwb24gfSkgPT4ge1xyXG5cclxuXHRcdFx0XHRcdGlmICghY291cG9uKSByZXR1cm47XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0gP1xyXG5cdFx0XHRcdFx0XHRcdHNldChpdGVtTWFwW2l0ZW0uX2lkXSwgJ2FwcGxpZWRDb3Vwb24nLCBjb3Vwb24pIDpcclxuXHRcdFx0XHRcdFx0XHRzZXQoc3Vic2NyaXB0aW9uLCAnYXBwbGllZENvdXBvbicsIGNvdXBvbik7XHJcblx0XHRcdFx0fSk7XHJcblxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGNvbnN0IHNjaGVkdWxlU3RhdHVzID0gc3Vic2NyaXB0aW9uLnN0YXR1cyA9PT0gJ2NhbmNlbGxlZCcgPyAnY2FuY2VsbGVkJyA6IG51bGw7XHJcblxyXG5cdFx0XHRzdWJzY3JpcHRpb24uc2NoZWR1bGVzLmZvckVhY2goc2NoZWR1bGUgPT4ge1xyXG5cdFx0XHRcdC8vIFdoZW4gdGhlIHN1YnNjcmlwdGlvbiBpcyBjYW5jZWxsZWQsXHJcblx0XHRcdFx0Ly8gbWFrZSBhbGwgc2NoZWR1bGVzJyBzdGF0dXNlcyBhcyAnY2FuY2VsbGVkJyBhcyB3ZWxsIHVubGVzcyBhIHNjaGVkdWxlIGlzICdkb25lJy5cclxuXHRcdFx0XHRzY2hlZHVsZS5zdGF0dXMgPSBzY2hlZHVsZS5zdGF0dXMgPT09ICdkb25lJyA/XHJcblx0XHRcdFx0XHRcdFx0XHRcdHNjaGVkdWxlLnN0YXR1cyA6XHJcblx0XHRcdFx0XHRcdFx0XHRcdHNjaGVkdWxlU3RhdHVzIHx8IHNjaGVkdWxlLnN0YXR1cztcclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRjb250ZXh0LnN1YnNjcmlwdGlvbiA9IHN1YnNjcmlwdGlvbjtcclxuXHJcblx0XHRcdC8vIFNldCBwYXltZW50IGRldGFpbHMuXHJcblx0XHRcdGNvbnN0IHBheW1lbnRNZXRob2QgPSBzdWJzY3JpcHRpb24ucGF5bWVudE1ldGhvZDtcclxuXHJcblx0XHRcdGNvbnN0IHRodW5kZXJQYXltZW50TWV0aG9kTWFwID1cclxuXHRcdFx0XHRUaHVuZGVyLm9wdGlvbnMucGF5bWVudE1ldGhvZHMuc3Vic2NyaXB0aW9uXHJcblx0XHRcdFx0XHQucmVkdWNlKChvLCBwKSA9PiBzZXQobywgcC5pZCwgcCksIHt9KTtcclxuXHJcblx0XHRcdGNvbnN0IHRodW5kZXJQYXltZW50TWV0aG9kID1cclxuXHRcdFx0XHR0aHVuZGVyUGF5bWVudE1ldGhvZE1hcFtwYXltZW50TWV0aG9kLl9pZF0gfHxcclxuXHRcdFx0XHR0aHVuZGVyUGF5bWVudE1ldGhvZE1hcFtwYXltZW50TWV0aG9kLnNsdWddO1xyXG5cclxuXHRcdFx0Y29uc3Qgc2hvdWxkUGF5ID1cclxuXHRcdFx0XHRzdWJzY3JpcHRpb24uc3RhdHVzID09PSAncGVuZGluZycgJiZcclxuXHRcdFx0XHR0aHVuZGVyUGF5bWVudE1ldGhvZDtcclxuXHJcblx0XHRcdGNvbnRleHQucGF5bWVudE1ldGhvZCA9IHRodW5kZXJQYXltZW50TWV0aG9kO1xyXG5cdFx0XHRjb250ZXh0LnNob3VsZFBheSA9IHNob3VsZFBheTtcclxuXHJcblx0XHRcdHJldHVybiBjYWxsYmFjayhudWxsLCBjb250ZXh0KTtcclxuXHJcblx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdGVyci5yZXNwb25zZUpTT04sXHJcblx0XHRcdGVycm9ycyxcclxuXHRcdFx0Y2FsbGJhY2tcclxuXHRcdCkpO1xyXG5cclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5pbml0ID0gZnVuY3Rpb24oY29udGV4dCkge1xyXG5cclxuXHRcdGNvbnN0IHtcclxuXHRcdFx0c3Vic2NyaXB0aW9uLFxyXG5cdFx0XHRwYXltZW50TWV0aG9kLFxyXG5cdFx0XHRzaG91bGRQYXlcclxuXHRcdH0gPSBjb250ZXh0O1xyXG5cclxuXHRcdGNvbnN0ICRjb250YWluZXIgPSAkKHRoaXMpO1xyXG5cdFx0Y29uc3QgJGJhY2tUb1N1YnNjcmlwdGlvbnMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1iYWNrLXRvLXN1YnNjcmlwdGlvbnMnKTtcclxuXHRcdGNvbnN0ICRjYW5jZWxTdWJzY3JpcHRpb24gPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1jYW5jZWwtc3Vic2NyaXB0aW9uJyk7XHJcblx0XHRjb25zdCAkY2FuY2VsbGF0aW9uRm9ybSA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1jYW5jZWxsYXRpb24tZm9ybScpO1xyXG5cdFx0Y29uc3QgJGNhbmNlbGxhdGlvblJlYXNvbiA9ICRjYW5jZWxsYXRpb25Gb3JtLmZpbmQoJ3RleHRhcmVhJyk7XHJcblx0XHRjb25zdCAkY2FuY2VsQnV0dG9uID0gJGNhbmNlbGxhdGlvbkZvcm0uZmluZCgnYnV0dG9uJyk7XHJcblx0XHRjb25zdCAkdmlld09yZGVyID0gJCh0aGlzKS5maW5kKCdbZGF0YS1vcmRlcl1bZGF0YS1zdGF0dXM9XCJkb25lXCJdJyk7XHJcblx0XHRjb25zdCAkb21pdHRlZFNjaGVkdWxlcyA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1vbWl0dGVkLXNjaGVkdWxlcycpO1xyXG5cdFx0Y29uc3QgJHZpZXdBbGxTY2hlZHVsZXMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS12aWV3LWFsbC1zY2hlZHVsZXMnKTtcclxuXHRcdGNvbnN0ICRoaWRkZW5TY2hlZHVsZXMgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1zdWJzY3JpcHRpb24tc2NoZWR1bGUuaGlkZGVuJyk7XHJcblxyXG5cdFx0Y29uc3QgY2FuY2VsQnV0dG9uU3Bpbm5lciA9IFRodW5kZXIudXRpbC5tYWtlQXN5bmNCdXR0b24oJGNhbmNlbEJ1dHRvbik7XHJcblxyXG5cdFx0JGNhbmNlbFN1YnNjcmlwdGlvbi5vbignY2xpY2snLCBzdGFydENhbmNlbGxhdGlvbik7XHJcblx0XHQkY2FuY2VsQnV0dG9uLm9uKCdjbGljaycsIGNhbmNlbFN1YnNjcmlwdGlvbik7XHJcblx0XHQkdmlld0FsbFNjaGVkdWxlcy5vbignY2xpY2snLCB2aWV3QWxsU2NoZWR1bGVzKTtcclxuXHRcdCR2aWV3T3JkZXIub24oJ2NsaWNrJywgJy50aHVuZGVyLS1zY2hlZHVsZS1vcmRlcicsIGV2ZW50ID0+IHtcclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdvcmRlci1kZXRhaWwnLCB7XHJcblx0XHRcdFx0b3JkZXI6ICQoZXZlbnQuZGVsZWdhdGVUYXJnZXQpLmRhdGEoJ29yZGVyJyksXHJcblx0XHRcdFx0YmFjazoge1xyXG5cdFx0XHRcdFx0JGNvbnRhaW5lcjogJGNvbnRhaW5lcixcclxuXHRcdFx0XHRcdGNvbXBvbmVudDogIGltcGxlbWVudGF0aW9uLm5hbWUsXHJcblx0XHRcdFx0XHRvcHRpb25zOiAgICBjb250ZXh0Lm9wdGlvbnNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0VGh1bmRlci51dGlsLmJpbmRCYWNrQnV0dG9uKCRiYWNrVG9TdWJzY3JpcHRpb25zLCBjb250ZXh0KTtcclxuXHJcblx0XHQvLyBSZW5kZXIgYSBwYXltZW50IGZvcm0gaWYgaXQncyBuZWVkZWQuXHJcblx0XHRpZiAoc2hvdWxkUGF5KSB7XHJcblxyXG5cdFx0XHRjb25zdCAkcGF5bWVudEZvcm1Db250YWluZXIgPSAkKHRoaXMpLmZpbmQoJy50aHVuZGVyLS1wYXltZW50LWZvcm0tY29udGFpbmVyJyk7XHJcblx0XHRcdGNvbnN0ICRtYWtlUGF5bWVudCA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLW1ha2UtcGF5bWVudCcpO1xyXG5cdFx0XHRjb25zdCBtYWtlUGF5bWVudFNwaW5uZXIgPSBUaHVuZGVyLnV0aWwubWFrZUFzeW5jQnV0dG9uKCRtYWtlUGF5bWVudCwgeyBiaW5kOiBmYWxzZSB9KTtcclxuXHJcblx0XHRcdFRodW5kZXIucmVuZGVyKCRwYXltZW50Rm9ybUNvbnRhaW5lciwgJ3BheW1lbnQtZm9ybScsIHtcclxuXHRcdFx0XHR0eXBlOiAnc3Vic2NyaXB0aW9uJyxcclxuXHRcdFx0XHRwYXltZW50TWV0aG9kczogW3BheW1lbnRNZXRob2QuaWRdXHJcblx0XHRcdH0sIChlcnIsIHsgaW50ZXJmYWNlczogcGF5bWVudEhhbmRsZXIgfSkgPT4gJG1ha2VQYXltZW50Lm9uKCdjbGljaycsICgpID0+IHtcclxuXHJcblx0XHRcdFx0Y29uc3QgdmFsaWRhdGlvbkVycm9yID0gcGF5bWVudEhhbmRsZXIudmFsaWRhdGUoKTtcclxuXHJcblx0XHRcdFx0aWYgKHZhbGlkYXRpb25FcnJvcikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIubm90aWZ5KCdlcnJvcicsIHZhbGlkYXRpb25FcnJvci5tZXNzYWdlKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGNvbnN0IGNhcmQgPSBwYXltZW50SGFuZGxlci5nZXRDYXJkKCk7XHJcblxyXG5cdFx0XHRcdG1ha2VQYXltZW50U3Bpbm5lci5ydW4oKTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHBheW1lbnRIYW5kbGVyLm1ha2VQYXltZW50KHtcclxuXHRcdFx0XHRcdHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uLFxyXG5cdFx0XHRcdFx0Y3VzdG9tZXI6ICAgICBzdWJzY3JpcHRpb24uY3VzdG9tZXJcclxuXHRcdFx0XHR9LCBlcnIgPT4ge1xyXG5cclxuXHRcdFx0XHRcdGlmIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0VGh1bmRlci5ub3RpZnkoJ2Vycm9yJywgY29udGV4dC5tKCdwYXltZW50RmFpbGVkJykpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbWFrZVBheW1lbnRTcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb25zdCBlcnJvcnMgPSB7XHJcblx0XHRcdFx0XHRcdGRlZmF1bHQ6IGNvbnRleHQubSgnc2NoZWR1bGluZ0ZhaWxlZCcpXHJcblx0XHRcdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBUaHVuZGVyLnJlcXVlc3Qoe1xyXG5cdFx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRcdFx0dXJsOiAgICBgL3YxL21lL3N1YnNjcmlwdGlvbnMvJHtzdWJzY3JpcHRpb24uX2lkfS9zY2hlZHVsZWRgLFxyXG5cdFx0XHRcdFx0XHRkYXRhOiAgIGNhcmQgPyB7IGNhcmQgfSA6IHt9XHJcblx0XHRcdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHJcblx0XHRcdFx0XHRcdFRodW5kZXIubm90aWZ5KCdzdWNjZXNzJywgY29udGV4dC5tKCdzY2hlZHVsaW5nU3VjY2VzcycpKTtcclxuXHRcdFx0XHRcdFx0bWFrZVBheW1lbnRTcGlubmVyLmRvbmUoKTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGltcGxlbWVudGF0aW9uLm5hbWUsIGNvbnRleHQub3B0aW9ucyk7XHJcblxyXG5cdFx0XHRcdFx0fSwgZXJyID0+IFRodW5kZXIudXRpbC5yZXF1ZXN0RXJyb3JIYW5kbGVyKFxyXG5cdFx0XHRcdFx0XHRlcnIucmVzcG9uc2VKU09OLFxyXG5cdFx0XHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0XHRcdCgpID0+IG1ha2VQYXltZW50U3Bpbm5lci5kb25lKClcclxuXHRcdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdH0pKTtcclxuXHRcdH1cclxuXHJcblx0XHRmdW5jdGlvbiBzdGFydENhbmNlbGxhdGlvbigpIHtcclxuXHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuJyk7XHJcblx0XHRcdCRjYW5jZWxsYXRpb25Gb3JtLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdFx0JGNhbmNlbGxhdGlvblJlYXNvbi5mb2N1cygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZ1bmN0aW9uIGNhbmNlbFN1YnNjcmlwdGlvbihldmVudCkge1xyXG5cclxuXHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRcdGNvbnN0IGRhdGEgPSBUaHVuZGVyLnV0aWwuZm9ybVRvSlNPTigkY2FuY2VsbGF0aW9uRm9ybS5zZXJpYWxpemVBcnJheSgpKTtcclxuXHJcblx0XHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0XHQnaW52YWxpZC1zdWJzY3JpcHRpb24tc3RhdHVzJzogY29udGV4dC5tKCdpbnZhbGlkU3Vic2NyaXB0aW9uU3RhdHVzJyksXHJcblx0XHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdjYW5jZWxsYXRpb25GYWlsZWQnKSxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdGNvbnN0IHJlc2V0U3RhdGUgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y2FuY2VsQnV0dG9uU3Bpbm5lci5kb25lKCk7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRyZXR1cm4gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHR1cmw6ICAgIGAvdjEvbWUvc3Vic2NyaXB0aW9ucy8ke3N1YnNjcmlwdGlvbi5faWR9L2NhbmNlbGxhdGlvbmAsXHJcblx0XHRcdFx0ZGF0YTogICBkYXRhLFxyXG5cdFx0XHR9KS50aGVuKCgpID0+IHtcclxuXHJcblx0XHRcdFx0cmVzZXRTdGF0ZSgpO1xyXG5cclxuXHRcdFx0XHRUaHVuZGVyLm5vdGlmeSgnc3VjY2VzcycsIGNvbnRleHQubSgnY2FuY2VsbGF0aW9uU3VjY2VzcycpKTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsIGltcGxlbWVudGF0aW9uLm5hbWUsIGNvbnRleHQub3B0aW9ucyk7XHJcblxyXG5cdFx0XHR9LCBlcnIgPT4gVGh1bmRlci51dGlsLnJlcXVlc3RFcnJvckhhbmRsZXIoXHJcblx0XHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0XHRlcnJvcnMsXHJcblx0XHRcdFx0cmVzZXRTdGF0ZVxyXG5cdFx0XHQpKTtcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0ZnVuY3Rpb24gdmlld0FsbFNjaGVkdWxlcygpIHtcclxuXHRcdFx0JG9taXR0ZWRTY2hlZHVsZXMuYWRkQ2xhc3MoJ2hpZGRlbicpO1xyXG5cdFx0XHQkaGlkZGVuU2NoZWR1bGVzLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0cmV0dXJuIGltcGxlbWVudGF0aW9uO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IFRodW5kZXIgPT4ge1xyXG5cclxuXHRjb25zdCBpbXBsZW1lbnRhdGlvbiA9IHtcclxuXHRcdG5hbWU6ICdzdWJzY3JpcHRpb24tbGlzdCdcclxuXHR9O1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5vcHRpb25zID0gKCkgPT4gKHtcclxuXHRcdHBhZ2U6ICAgICAgICAgICAgICAgMSwgICAgLy8gV2hpY2ggcGFnZSBvZiBzdWJzY3JpcHRpb25zP1xyXG5cdFx0bGltaXQ6ICAgICAgICAgICAgICAxMCwgICAvLyBIb3cgbWFueSBzdWJzY3JpcHRpb25zIGF0IG9uY2U/XHJcblx0XHR1c2VQYWdpbmF0aW9uOiAgICAgIHRydWUsIC8vIFVzZSBwYWdpbmF0aW9uP1xyXG5cdFx0b25WaWV3U3Vic2NyaXB0aW9uOiBmdW5jdGlvbigkY29udGFpbmVyLCBjb250ZXh0LCBzdWJzY3JpcHRpb25JZCkge1xyXG5cclxuXHRcdFx0cmV0dXJuIFRodW5kZXIucmVuZGVyKCRjb250YWluZXIsICdzdWJzY3JpcHRpb24tZGV0YWlsJywge1xyXG5cdFx0XHRcdHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uSWQsXHJcblx0XHRcdFx0YmFjazogICAgICAgICB7XHJcblx0XHRcdFx0XHQkY29udGFpbmVyOiAkY29udGFpbmVyLFxyXG5cdFx0XHRcdFx0Y29tcG9uZW50OiAgaW1wbGVtZW50YXRpb24ubmFtZSxcclxuXHRcdFx0XHRcdG9wdGlvbnM6ICAgIGNvbnRleHQub3B0aW9uc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpbXBsZW1lbnRhdGlvbi5wcmUgPSBmdW5jdGlvbihjb250ZXh0LCBjYWxsYmFjaykge1xyXG5cclxuXHRcdGNvbnN0IGVycm9ycyA9IHtcclxuXHRcdFx0ZGVmYXVsdDogY29udGV4dC5tKCdzdWJzY3JpcHRpb25MaXN0RmFpbGVkJylcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuICQud2hlbihcclxuXHRcdFx0VGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogICAgJy92MS9tZS9zdWJzY3JpcHRpb25zJyxcclxuXHRcdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRcdHBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXHJcblx0XHRcdFx0XHRsaW1pdDogIGNvbnRleHQub3B0aW9ucy5saW1pdCxcclxuXHRcdFx0XHRcdHNvcnQ6ICAgJy1jcmVhdGVkQXQnLFxyXG5cdFx0XHRcdFx0ZmllbGRzOiBbXHJcblx0XHRcdFx0XHRcdCdzdGF0dXMnLFxyXG5cdFx0XHRcdFx0XHQncGxhbicsXHJcblx0XHRcdFx0XHRcdCdzY2hlZHVsZXMnLFxyXG5cdFx0XHRcdFx0XHQnaXRlbXMucHJvZHVjdCcsXHJcblx0XHRcdFx0XHRcdCdjYW5jZWxsYXRpb24nLFxyXG5cdFx0XHRcdFx0XHQnZW5kc0F0JyxcclxuXHRcdFx0XHRcdFx0J2NyZWF0ZWRBdCcsXHJcblx0XHRcdFx0XHRdLmpvaW4oJywnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSksXHJcblx0XHRcdGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uID8gVGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogICAgJy92MS9tZS9zdWJzY3JpcHRpb25zL2NvdW50JyxcclxuXHRcdFx0XHRxdWVyeTogIHtcclxuXHRcdFx0XHRcdHJhdzogdHJ1ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkgOiBudWxsXHJcblx0XHQpLnRoZW4oKHN1YnNjcmlwdGlvbnMsIGNvdW50KSA9PiB7XHJcblxyXG5cdFx0XHRjb250ZXh0LnN1YnNjcmlwdGlvbnMgPSAoc3Vic2NyaXB0aW9uc1swXSB8fCBbXSkubWFwKHMgPT4ge1xyXG5cclxuXHRcdFx0XHRzLm1heFNjaGVkdWxlZEFtb3VudCA9IHMuc2NoZWR1bGVzLnJlZHVjZSgobWF4LCBzKSA9PiB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbWF4ID4gcy5hbW91bnQucmF3ID8gbWF4IDogcy5hbW91bnQ7XHJcblx0XHRcdFx0fSwgMCk7XHJcblxyXG5cdFx0XHRcdHMuZHVyYXRpb24gPSBbXHJcblx0XHRcdFx0XHRzLnNjaGVkdWxlc1swXS50aW1lID09PSAnbm93JyA/XHJcblx0XHRcdFx0XHRcdHMuY3JlYXRlZEF0IDpcclxuXHRcdFx0XHRcdFx0cy5zY2hlZHVsZXNbMF0udGltZSxcclxuXHRcdFx0XHRcdHMuZW5kc0F0XHJcblx0XHRcdFx0XTtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHM7XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0Y29udGV4dC5jb3VudCA9IGNvdW50ID8gY291bnRbMF0uY291bnQgOiBudWxsO1xyXG5cclxuXHRcdFx0cmV0dXJuIGNhbGxiYWNrKG51bGwsIGNvbnRleHQpO1xyXG5cclxuXHRcdH0sIGVyciA9PiBUaHVuZGVyLnV0aWwucmVxdWVzdEVycm9ySGFuZGxlcihcclxuXHRcdFx0ZXJyLnJlc3BvbnNlSlNPTixcclxuXHRcdFx0ZXJyb3JzLFxyXG5cdFx0XHRjYWxsYmFja1xyXG5cdFx0KSk7XHJcblxyXG5cdH07XHJcblxyXG5cdGltcGxlbWVudGF0aW9uLmluaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7XHJcblxyXG5cdFx0Y29uc3QgJGNvbnRhaW5lciA9ICQodGhpcyk7XHJcblx0XHRjb25zdCAkc3Vic2NyaXB0aW9uID0gJCh0aGlzKS5maW5kKCdbZGF0YS1zdWJzY3JpcHRpb25dJyk7XHJcblx0XHRjb25zdCAkcGFnaW5hdGlvbiA9ICQodGhpcykuZmluZCgnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1saXN0LXBhZ2luYXRpb24nKTtcclxuXHJcblx0XHQkc3Vic2NyaXB0aW9uLm9uKCdjbGljaycsIFtcclxuXHRcdFx0Jy50aHVuZGVyLS1zdWJzY3JpcHRpb24taWQnLFxyXG5cdFx0XHQnLnRodW5kZXItLXN1YnNjcmlwdGlvbi10aHVtYm5haWwnLFxyXG5cdFx0XHQnLnRodW5kZXItLXN1YnNjcmlwdGlvbi1maXJzdC1pdGVtJyxcclxuXHRcdFx0Jy50aHVuZGVyLS1zdWJzY3JpcHRpb24tcmVzdC1pdGVtcycsXHJcblx0XHRdLmpvaW4oJywnKSwgZXZlbnQgPT4gVGh1bmRlci5leGVjdXRlKFxyXG5cdFx0XHRjb250ZXh0Lm9wdGlvbnMub25WaWV3U3Vic2NyaXB0aW9uLFxyXG5cdFx0XHQkY29udGFpbmVyLFxyXG5cdFx0XHRjb250ZXh0LFxyXG5cdFx0XHQkKGV2ZW50LmRlbGVnYXRlVGFyZ2V0KS5kYXRhKCdzdWJzY3JpcHRpb24nKVxyXG5cdFx0KSk7XHJcblxyXG5cdFx0aWYgKGNvbnRleHQub3B0aW9ucy51c2VQYWdpbmF0aW9uKSB7XHJcblxyXG5cdFx0XHRUaHVuZGVyLnBsdWdpbnMucGFnaW5hdGlvbih7XHJcblx0XHRcdFx0Y29udGFpbmVyOiAgICAgJHBhZ2luYXRpb24sXHJcblx0XHRcdFx0Y3VycmVudFBhZ2U6ICAgY29udGV4dC5vcHRpb25zLnBhZ2UsXHJcblx0XHRcdFx0dG90YWxSZXN1bHQ6ICAgY29udGV4dC5jb3VudCxcclxuXHRcdFx0XHRyZXN1bHRQZXJQYWdlOiBjb250ZXh0Lm9wdGlvbnMubGltaXQsXHJcblx0XHRcdFx0b25QYWdlQ2hhbmdlOiAgKHsgcGFnZSB9KSA9PiBUaHVuZGVyLnJlbmRlcihcclxuXHRcdFx0XHRcdCRjb250YWluZXIsXHJcblx0XHRcdFx0XHRpbXBsZW1lbnRhdGlvbi5uYW1lLFxyXG5cdFx0XHRcdFx0JC5leHRlbmQoY29udGV4dC5vcHRpb25zLCB7IHBhZ2UgfSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gaW1wbGVtZW50YXRpb247XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gbG9jYWxTdG9yYWdlOyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obWVzc2FnZSwgb2ssIG5vID0gKCkgPT4ge30pIHtcclxuXHJcblx0cmV0dXJuIGNvbmZpcm0oYPCflJQgJHttZXNzYWdlfWApID8gb2soKSA6IG5vKCk7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gc2Vzc2lvblN0b3JhZ2U7IiwiY29uc3QgZW1vamlCeVR5cGUgPSB7XHJcblx0ZXJyb3I6ICAgJ/CfmqgnLFxyXG5cdHN1Y2Nlc3M6ICfinIUnLFxyXG5cdGluZm86ICAgICfwn5KsJyxcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odHlwZSwgbWVzc2FnZSkge1xyXG5cclxuXHRyZXR1cm4gYWxlcnQoYCR7ZW1vamlCeVR5cGVbdHlwZV0gfHwgJyd9ICR7bWVzc2FnZX1gKTtcclxuXHJcbn07IiwiY29uc3QgZ3JvdXBTdGFydCA9IChncm91cCwgcGFnZXNBdE9uY2UpID0+IHtcclxuXHRyZXR1cm4gKChncm91cCAtIDEpICogcGFnZXNBdE9uY2UpICsgMTtcclxufTtcclxuXHJcbmNvbnN0IGdyb3VwRW5kID0gKGdyb3VwLCBwYWdlc0F0T25jZSkgPT4ge1xyXG5cdHJldHVybiBncm91cFN0YXJ0KGdyb3VwLCBwYWdlc0F0T25jZSkgKyBwYWdlc0F0T25jZSAtIDE7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IChvcHRpb25zID0ge30pID0+IHtcclxuXHJcblx0Y29uc3Qge1xyXG5cdFx0dHlwZSA9ICdub3JtYWwnLFxyXG5cdFx0Y29udGFpbmVyLFxyXG5cdFx0Y3VycmVudFBhZ2UgPSAxLFxyXG5cdFx0dG90YWxSZXN1bHQsXHJcblx0XHRyZXN1bHRQZXJQYWdlLFxyXG5cdFx0cGFnZXNBdE9uY2UgPSAxMCxcclxuXHRcdG9uUGFnZUNoYW5nZSA9ICgpID0+IHt9XHJcblx0fSA9IG9wdGlvbnM7XHJcblxyXG5cclxuXHRjb25zdCBsYXN0UGFnZSA9IE1hdGguY2VpbCh0b3RhbFJlc3VsdCAvIHJlc3VsdFBlclBhZ2UpO1xyXG5cdGNvbnN0IHRvdGFsR3JvdXBzID0gTWF0aC5jZWlsKGxhc3RQYWdlIC8gcGFnZXNBdE9uY2UpO1xyXG5cdGNvbnN0IGN1cnJlbnRHcm91cCA9IE1hdGguY2VpbChjdXJyZW50UGFnZSAvIHBhZ2VzQXRPbmNlKTtcclxuXHRjb25zdCBjdXJyZW50R3JvdXBTdGFydCA9IGdyb3VwU3RhcnQoY3VycmVudEdyb3VwLCBwYWdlc0F0T25jZSk7XHJcblxyXG5cdGNvbnN0IGl0ZXJhdG9yID0gQXJyYXkuYXBwbHkobnVsbCwgQXJyYXkocGFnZXNBdE9uY2UpKVxyXG5cdFx0XHRcdFx0XHQubWFwKCh2LCBpKSA9PiBpKVxyXG5cdFx0XHRcdFx0XHQuZmlsdGVyKHYgPT4gY3VycmVudEdyb3VwU3RhcnQgKyB2IDw9IGxhc3RQYWdlKTtcclxuXHJcblx0aWYgKGl0ZXJhdG9yLmxlbmd0aCA8PSAxKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRjb25zdCBwYWdlID0gKHRleHQsIHR5cGUsIHBhZ2UsIGN1cnJlbnQpID0+IGBcclxuXHRcdDxsaSBkYXRhLXBhZ2U9XCIkeyBwYWdlIH1cIlxyXG5cdFx0XHRjbGFzcz1cIiR7IHR5cGUgfSAkeyBwYWdlID09PSBjdXJyZW50ID8gJ2N1cnJlbnQnIDogJycgfVwiPlxyXG5cdFx0XHQ8c3Bhbj4keyB0ZXh0IHx8IHBhZ2UgfTwvc3Bhbj5cclxuXHRcdDwvbGk+XHJcblx0YC50cmltKCk7XHJcblxyXG5cdGNvbnN0ICRwYWdpbmF0aW9uID0gJChbXHJcblx0XHRgPHVsIGNsYXNzPVwidGh1bmRlci0tcGFnaW5hdGlvbiAke3R5cGV9XCI+YCxcclxuXHJcblx0XHRcdGN1cnJlbnRHcm91cCA8PSAxID9cclxuXHRcdFx0XHQnJyA6XHJcblx0XHRcdFx0cGFnZSgnPCcsICd0aHVuZGVyLS1wYWdpbmF0aW9uLXByZXYnLCBncm91cEVuZChjdXJyZW50R3JvdXAgLSAxLCBwYWdlc0F0T25jZSkpLFxyXG5cclxuXHRcdFx0Li4uaXRlcmF0b3IubWFwKGkgPT4gcGFnZShcclxuXHRcdFx0XHRudWxsLFxyXG5cdFx0XHRcdCd0aHVuZGVyLS1wYWdpbmF0aW9uLXBhZ2UnLFxyXG5cdFx0XHRcdGN1cnJlbnRHcm91cFN0YXJ0ICsgaSxcclxuXHRcdFx0XHRjdXJyZW50UGFnZVxyXG5cdFx0XHQpKSxcclxuXHJcblx0XHRcdGN1cnJlbnRHcm91cCA+PSB0b3RhbEdyb3VwcyA/XHJcblx0XHRcdFx0JycgOlxyXG5cdFx0XHRcdHBhZ2UoJz4nLCAndGh1bmRlci0tcGFnaW5hdGlvbi1uZXh0JywgZ3JvdXBTdGFydChjdXJyZW50R3JvdXAgKyAxLCBwYWdlc0F0T25jZSkpLFxyXG5cclxuXHRcdGA8L3VsPmAsXHJcblx0XS5qb2luKCcnKSk7XHJcblxyXG5cdGNvbnRhaW5lci5odG1sKCRwYWdpbmF0aW9uKTtcclxuXHJcblx0JHBhZ2luYXRpb24uZmluZCgnW2RhdGEtcGFnZV0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRjb25zdCBwYWdlID0gJCh0aGlzKS5kYXRhKCdwYWdlJyk7XHJcblxyXG5cdFx0aWYgKGN1cnJlbnRQYWdlID09PSBwYWdlKSByZXR1cm47XHJcblxyXG5cdFx0cmV0dXJuIG9uUGFnZUNoYW5nZSh7IHBhZ2UgfSk7XHJcblxyXG5cdH0pO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFIa0FBQUI1Q0FZQUFBQWQrbzVKQUFBQUNYQklXWE1BQUFzU0FBQUxFZ0hTM1g3OEFBQUlvMGxFUVZSNG5PMmRXMjRUU1JSQWI2SWdIZ0ljUUVJZ0JQRmZmU2F6Z3NrT0pyTUN6QXJ3ckdCZ0I4a0tTSFpnVmpESkRwTFAra3RBQ0JRQndZQjRDQUdqMjl3eTNYYTN1NnE3SHJmYWRTUXJHWTFDbC92MHJicGR6NldmUDM5Q1Y1QlNiZ0xBS2dCczBGZkMvOWJsbUQ3dkFPQVFmeGRDSEhmaDFrUXJXVXE1UVJMeDB3ZUFkUWVYR1pQd2ZmVlRDUEhPd1hXY0VvMWtLV1dmaEc3UnoxNmdvaHlSOUpFUVlqOVFHWXhnTFZsS3VVcFNoNDRpdFMwWTZTTUEyQlpDSERJc1h3Wkx5ZFMyRGdEZ1BvUGk2SEtDc2dGZ2wxdVZ6a3F5bEJMRlBnS0FOUWJGYWNNZWZnOHVpUnNMeVIyU093MEwyVUVsZDFqdU5FRmxCNUZNcnovWWZ2M3AvZUxoR0ZPQzlzaDNDYnhLcG13WnYrUkRieGZsQnlab0E1K3ZYOTRrVThhOHV3QlZzeTQ3VklVN3o4U1hYVjhBZmduRzZQMHZDUzZBdGRrK05WMU9jUnJKVkQzdk0rM0k0TVFESWNTdXEvSTRpMlI2UW8rVFlDMmVTQ21kU1hZU3lmUnE5TVQ2UDl4OXNGOTgwM1k3YlQyU3BaVERKTGd4NjlSTzkyMytvMVlqbWFxY21QcWJ1VEttaUxZeTZHRXRrcE5ncS9Sc1p0NVdKQ2ZCVHJBbXVyVmtLZVYyRXV5TW5vMDJ1cFZreXFJWHVZdlNCeWg2UkgwT2pWaHArb2RTeWkzdVdmUzVjK2ZnOHVYTGNPblNwZXozOCtmUFQvN2ZqeDgvNE11WEwvRDE2MWY0OU9rVGZQejRNV2haYTFpblRxVkdWWGVqN0pyYWlmMkE4NnptZ2xKdjNMaVIvZFFGcForZG5jSGJ0Mit6MzVteUo0UVltQmJOV0RMbnJrcU0xbHUzYmhuSm5RWUZ2Mzc5T2hQT0ZPTXUwQ1p0OGk1SHdTaTIzKyszRW93c0x5L0R6WnMzczRjRmYyZklFOU9NMnlpU3VYWlg5bnE5VElwdHNMMSs5dXdaeCtyYnFQdFQrMUdsTkg2N1ZkRWNnSkhyUWpDQ2lkcWRPM2NDZjhOUzFtbnloUlltOWRFdXQwUUwyMkRYRXZBaHd1cWJJUTlwSWtZdFdwS3BtbVkzSDh0WHUzbnQyclhXYmIwanRCS3cyanRFMlRUTGF0cm5qY2RYTW9hczBheWJ1ZWlFd1NPTzc4TytiN3J2aDhxQVlWMjM1MXpKOU1mc3VpMnhMUTV4dzY5ZXZlcjltaHIwNnBLd3VrajJQa2RZQit5cURNR1ZLMWM0M2c3ay9yeG9ycFJNZjhSeWRDbFV0WWxKWHI3L214bVZBVGt2a2xsR01WQjF2WWpYcnFFeW1rc2xjNDVpb0U2S1VGeTRjQ0gwMTU5SGFXQldSZkl3U0JFVGJibGZOdTVjSmRsNE9DdkJoaGwzTTVLcGQ0dmxPTEVpNUlEQjkrL2ZnMTFiazVsYXVDeVN0N2lVdGdxYzBSRUtISmxpenRyMFVHUkJNaVZjZjNIL0ZpRnZkTWdIeklCQ05FOUhNdnNvUm5CT1Znanc0V0k4TlNoUHdXT1VrbkhTWFlpYlBSNlB2Vit6SWIzOE1PUkVNcVhlMFd6djRIc09GajVVRVVtR2ZNRG1JOWxrSDhyZytKNVZpUTlWSkZXMVlqYVNZNU9NTi96bHk1ZGVyb1Z0TWM3Z2pJeDExVEVTcldTZ3R0bDFGZXJ6WVhKQTVqUXZPY29kQVY2OWV1WDBsUW9GUi9CdVhFWDJ2cHhKMXAwUXhoV2NObXY3dFFvaitNV0xGOXlYejlSUmlHVG5POUM0QklVOGYvNGMzcng1WStVcWFyNTE1SUpCZVYzSi8wZnNZSEwwNGNPSGJBcHRrNGtGYWoxVWhFbFdGZmkrM0ZlU3JlNVJFUktNUW94cUhITldVMm5yQnZxeHFuLy8vbjMyZ0VUMm1xUkR2ek9SakZKUktQN01TLzMyN1ZzMmNyUzB0RlNZbzQzTGcvQ2pScFZ3a3A2YXFQZjU4K2VzanhybGQwRDZocExNZW1peENwU0o2NkJRanMxcE9mbXFYcjJtUmR3K3I2N1kzazdJQnhpUjE2OWY5ekwzR21lRzRnZWJnZFBUMDJDREl5M0lxdXVvSkt0RmFMNG4xT0YxNzk2OW15Vm1LRHNpK28yM2t3aUJxeVdxSnFoa2p1bVMxbEpZcnJJdWc0TmdCVWIxdlh2M3VDNVNueUdLVW1LYnlFV3dRb21PQWZhU3NlMjlmZnMyZzVMTWdxS1pybDB1d0Y0eTQ3MDdNaGl2WFo3QVdqTGo1YUlGbUs1ZG5zQmFNdmVicCtEK01MS1ZIR29OY2xPWXJsM09ZQ3NaWDVsaWduTjUyVXErZVBFaWcxS1l3YlhtV2VaNkJuQk1WYldDYVpuM1dVWnlMRDFKMDNBdHR5clZVZUJ5RkdDKzBMc1NwbHROSENySjBaM1RuOURtblpJY3hkbjhDWE13NTFLUzJaN0huMmhGMWd3cnlTeU9aVTlZSnd2ZVRESWRNaFhWa3IyRUZyOGxFNmxkN2g2WjB5UzV1NHpWTVlCSmNuZVorSnhJSnVzbmkzNW5Pc1JJZlpYcGZyZ1V6ZDFoTnBLSlVXZS84bUp4SklTWXZCWVhKQXNoUnFuSzdnU0Y0eVRLaGsxU05NZFB3V0daWkhhSGlpU00ySnMrRkd4R010WGxCK20rUnN2TU1VSlZvOXhHQno0bTJIQlNOdE9uVkRLZDZwa1NzUGd3MnJrZU9KOUJrU2pscE9ySTNVckpLWnFqbzlGcE1wQ2lPUm9xb3hqcUpLZG9qb1pXSjd4Qk9uU0VQUWQxeDkvWFNxYVUvT25DM0xMNHFEM2VTWGMyK05EbjlLQUlUbXdwSmNBZUlqdHFZc0E4dENSVEw1aTNKQ3lpc3g0S2VONys2VVRYaWZhNkRpSEV0cy91VHR3Q01UWThiK2cybU82anJzSjA4YzZXcjJyYjFvNjN2c0JkKzNDTFIwODhObG1vYUNTWm5od3YyVGJlc0ZnMlJmTmNWcHdRWU5SMEdpL0RvNGtGajAzL3JnbTQreDMzaU1iOEFUYy85NVJEakpzY0k3R0VPOFUyUVVvNThuVWFISzc3eGYxRE9LMy9WWHRqZXo3VjVnK2RiSHFhTnRzdURtaXltUE96S3pCcnhROHVEY1ZscmFFUHFzYXk0RmJKbnQ4QUhqUVJERzBpR1g0ZkdJWVhYbXY4anlSMCtJZmViaHJSYW1rOEpXTGVNdTRGWmErTllMQ3hNUXhWSVp0SnRCTlFjT3UzR1N1YlhDVFJUckFpR0d4dThaUVRuWVltMjdOalN6QzBUYnpLb0dUTVM5YmRVUjdVRFIyYVluMVBJa3JHTnRQd3BESFkxUDF0V3pDNGlPUThVa3JzZnZ2WDJRVzZ3eEVOT0RqWnU4V3BaUGdsZW92bWNVZDVMSkVIbnBxTUtEWEJ1V1Q0M1U2UFlqcHAzUU5ZUFE5ZFZNL1RlSkdza0ZJT2FhQjcwYVA2Z0tMWHk2NUxYaVhETDlGOVdsVG5aWENER2Q2aU40OTN5UW82czNsM2dmcTlkN0FXYzluMlZoRk1za0pLT2FBcXZLdXk5MGh1c0EzeGdrdFdkRkIyY0xrS05wSVZKSHNRYVNZK3BpWm9tNE5jQlR2SkNrclFoalNVeVQyNjhWMTM1RHVoMG9XdDVEelVvYkpGM2FWY2hCL1F1LytJVTlTV0VZWGtQRkxLRFpLdFByN2V1WTlvNENYN2hNaVNteEtkNUdtb1d0K2dEMHBmYlRrQ05xWXBUY2YwODVEcllTeTZSQzk1SHZRdXJzc3g5MnEzRVFEd1A3RStnQ2ZrblVvaEFBQUFBRWxGVGtTdVFtQ0NgO1xyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdHJldHVybiBgXHJcblx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLWJ1dHRvbi1zcGlubmVyXCI+PC9zcGFuPlxyXG5cdGAudHJpbSgpO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRyZXR1cm4gYFxyXG5cdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLWNvbXBvbmVudC1zcGlubmVyLXdyYXBwZXJcIj5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLWNvbXBvbmVudC1zcGlubmVyXCI+PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHRgLnRyaW0oKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlVBQUFBVUNBTUFBQUJWbFlZQkFBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFBWUZCTVZFWC8vLy9ZMk5qVzF0YlQwOVBZMk5qVjFkWFQwOVBYMTlmWDE5ZlgxOWZYMTlmVzF0YlcxdGJXMXRiVjFkWFYxZFhVMU5UVjFkWFQwOVBVMU5UVTFOVFQwOVBVMU5UVjFkWFcxdGJYMTlmWTJOaloyZG5hMnRyYjI5dmMzTnpkM2QwTWxwaUVBQUFBRlhSU1RsTUFIeTR3UEQxQWNJZWNyOERQM09mdjh2YjUrLzVsZFpkbEFBQUFxRWxFUVZRWUdXWEJnVnJDSUJnRjBHdFJ1SWd0by9zampuSGYveTFkU3Z1YW5vUE42enVlT1hMQWs4bEtPdUNCWjIwVzhDQ2RwUXNkZGo3WUpObUlQKzRZcGg5ZXRLcE1ZL0JZRFdRdTg2S2JPcCtORE1DWXRkZEtBZ1lXN1ZSR0FBTm4vYk5ZeEsvQVdadkZKdHhGTm5YTlRnZmNPUzdxR2owNlQyM28wUjJwalEzb1FwWlVTMm1TY2tBWHN1Yk1VMkt1eXAvb29obEhEL2lKbGlkMEwxL1I0Y2JGN3plc3JxZ2lGeDVaSitEZkFBQUFBRWxGVGtTdVFtQ0NgO1xyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIGBkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJVQUFBQVVDQU1BQUFCVmxZWUJBQUFBQ1hCSVdYTUFBQXNTQUFBTEVnSFMzWDc4QUFBQWFWQk1WRVgvLy8vNHlRRDJ4d0R5d3dENHlRRDF4Z0R5d3dENHlRRDN5QUQzeUFEM3lBRDJ4d0QyeHdEMnh3RDF4Z0QxeGdEenhBRDB4UUR5d3dEenhBRHp4QUR5d3dEenhBRDB4UUQxeGdEMnh3RDN5QUQ0eVFENXlnRDZ5d0Q3ekFEOHpRRDl6Z0QrendELzBBQkRHLytFQUFBQUZYUlNUbE1BSHk0d1BEMUFjSWVjcjhEUDNPZnY4dmI1Ky81bGRaZGxBQUFBcTBsRVFWUVlHV1hCQVZhRE1CUUV3SzFHVTR5QjFyajhGRVRDM3YrUVlodDUwczVnOC95S1I0NXM4S0N6SVIxd3gzTmUrb0E3NlNLTmROaDVZNUZrTGY2NFkrZytPV28xTTdYQlk5V1FOazVGVi9QWHhjZ0F0S2E5WlVoQXcxRTczNHdBR2s3NnAvUVJ2d0luYlVyZjRTYXlxRnJzZk1DTlkxRlY2RkY1YWtPUDZraHQrZ1pWTUVuek1CUkpPYUFLV1ZQbU9USFB5dStvb2hsYkQvaU9aaDJxcDFOMHVITHg0d1dySDkrUkdMZS8yUnlxQUFBQUFFbEZUa1N1UW1DQ2A7XHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHRyZXR1cm4gYGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQlFBQUFBVUNBWUFBQUNOaVIwTkFBQUFDWEJJV1hNQUFBc1NBQUFMRWdIUzNYNzhBQUFDQjBsRVFWUTRqWjJVTzJzVVVSVEgvK2Z1bWRtZGdDUldRaG9WaEowbFdnaUNFUkppYnlVSStnRXNMYmEyOFFOWWFDOHAvQUJpSUdBblJCQTBXd2xhVExOR2U5dlZlZHg3cnB3Wlo1ME0yVWYyd05tWnZmZmMzNXpuaGZkK29hYkgyUG41N2RXRFpXeEpmK1pKTnFMTFJZR1RIK3RmS1FpQzNYNi8vM0dldlpsTEF5Q0Mxd0NJaU9DY08xeGtQeGVZaldqSFd1eUZJUkNHSVVSa0kwbVM0Y3BBNTNCb2pNS0FUcWNEWTR4NitYd2xZRGFpb1hQWTZQWCtyM1c3WFUwOEowbnlkdGE1YVZHeUVUMzBIbys4eHcwUmJJb2c2blNBdGJYSzhQdUZjZmtzaXFKVUlySkU5TXNZOHhuQWh6aU9YNWJBOUJqRFBNZUw4ZzhCR3FLQ21LdDNYV3NDcTFRNHplZFVhNmVZK1lCRjhFUVBSbEVGV0VZMG42cTFLRkM5RnBHN2hnaEhJaHJLY3JDelJEMjIxbXJSamt6dnRuOGNCTmpQODlXZ0NzdnpYRDBleDNGOHZ3eFNvY3o0a3FibmcycithdGhnTUxpR1p0dEUyLzRtTThZSzFSUXNFczFibG1WYTdUODFETzArakxaOXViRmd2S2VpVUdQTTArYmFLYUNPMnJMaFV0MVBMV2szeWkyZzZzTnpRUGRtZXVnOUxyVVBhZmhaVmsxSSs2cFRvUGYrWW5PTlc0ZnYxTTJ0aGRGV3NyYmFzclljT1dKbW5ZanlvdmduNnpNOXJFVXJQWm1VTU11TWd5REExYTJ0NjRhWjk1MXpOazFUcUZaTytDdW52RzZHOGZzVDdZcmd2VEdZR0lNMzJwOW5mVkR2UkJGNXB2Y2pNOStMNC9oZHVRSGdMNDNJS3lPNnBORXZBQUFBQUVsRlRrU3VRbUNDYDtcclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiBgZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCUUFBQUFVQ0FZQUFBQ05pUjBOQUFBQUNYQklXWE1BQUFzU0FBQUxFZ0hTM1g3OEFBQUJjMGxFUVZRNEVhVlUyMDNEUUJBY0l2NUpDU2xncFpnT1FnWFFBYVlDWEVKS2dBcGlLaUFkSkZRQWFLZUEwSUU3TUJwckhWMGNKODVqcEpQdDgzbjJOZU9idXE0eEJKSVRBR016K3hrNk96cVJURVRmSkordUpnVHdCcUFDOEJIM2x4T1NuQUY0QkZBQW1LdHNrdk5yTWxSR1gyYTJOTE5OUEJja3gyY1Rrc3dCVEFIa25RRFZzZEtiS1VmRURNQXN1ZDRCZURlem9pZlFBc0J2REt0WlpyWnVDTjFkay91TTgrbWg5U0daUkcrN3dZVVhFWmJ0Q3pPckRuYnpDRUphR3Raa0ZQMlluaUtKSTFDV3p3Q1dVQS9kUFhmMzJ0MExQWit6M0QyTGI4dkdkZTNIQ1dsK0ttR1FWUzJaMW82WFNhcnNWd0QzUTc1TkxMa3hzNnpkNytxd2RjRkI0U1lZeDNSVG5lNFJ0cEVHL3lwSkJUdkJlNTF5cVh5RTI1NE0vOUtORUhFUmxpdGJSd1JrQkwzZjduVXpWUHI2Q1RRV0k2bjdWZXhyQ0N1UzY3Q2ZzRmRKWDhrWlNSMlVYeFZaRTVlTGxNbERCRnhFTUFYUjJxSXJHMlVpSzZyaEtxL0p0b3VRak5yUWVIcmJjd0QvNDhNSXIrUEhJcW9BQUFBQVNVVk9SSzVDWUlJPWA7XHJcbn07IiwiY29uc3Qga2ViYWJDYXNlID0gcmVxdWlyZSgnbG9kYXNoLmtlYmFiQ2FzZScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0aWYgKCF0aGlzLm9wdGlvbnMuaGVhZGVyKSByZXR1cm4gJyc7XHJcblxyXG5cdGNvbnN0IHRlbXBsYXRlcyA9IFtdO1xyXG5cdGNvbnN0IHsgaXRlbXMsIGFjdGlvbnMgfSA9IHRoaXMub3B0aW9ucy5oZWFkZXI7XHJcblxyXG5cdGNvbnN0IHRvQXR0cmlidXRlcyA9IChjb21wb25lbnQsIGRpcmVjdGl2ZXMpID0+IHtcclxuXHJcblx0XHRjb25zdCBbcHJpbWFyeSwgLi4ucmVzdF0gPSBkaXJlY3RpdmVzO1xyXG5cclxuXHRcdHJldHVybiBbXHJcblx0XHRcdGBkYXRhLXRodW5kZXItJHtwcmltYXJ5fT1cIiR7Y29tcG9uZW50fVwiYCxcclxuXHRcdFx0Li4ucmVzdC5tYXAoKHsgb3B0aW9uLCB2YWx1ZSB9KSA9PiB7XHJcblx0XHRcdFx0cmV0dXJuIGBkYXRhLXRodW5kZXItJHtrZWJhYkNhc2Uob3B0aW9uKX09XCIke3ZhbHVlfVwiYDtcclxuXHRcdFx0fSlcclxuXHRcdF0uam9pbignICcpO1xyXG5cdH07XHJcblx0Y29uc3QgbWVudUl0ZW0gPSAoY29tcG9uZW50LCBtZXNzYWdlKSA9PiB7XHJcblx0XHRyZXR1cm4gYDxsaT48YSAke3RvQXR0cmlidXRlcyhjb21wb25lbnQsIGFjdGlvbnNbY29tcG9uZW50XSl9PiR7bWVzc2FnZX08L2E+PC9saT5gO1xyXG5cdH07XHJcblxyXG5cdGl0ZW1zLmZvckVhY2godHlwZSA9PiB7XHJcblxyXG5cdFx0aWYgKHR5cGUgPT09ICdjdXN0b21lcicpIHtcclxuXHJcblx0XHRcdGlmICh0aGlzLmF1dGhlbnRpY2F0ZWQoKSkge1xyXG5cclxuXHRcdFx0XHR0ZW1wbGF0ZXMucHVzaChgXHJcblx0XHRcdFx0XHQ8bGk+PGEgZGF0YS10aHVuZGVyLWxvZ291dD4ke3RoaXMucG9seWdsb3QudCgnaGVhZGVyLW5hdmlnYXRpb24ubG9nb3V0Jyl9PC9hPjwvbGk+XHJcblx0XHRcdFx0YCk7XHJcblxyXG5cdFx0XHRcdHRlbXBsYXRlcy5wdXNoKG1lbnVJdGVtKFxyXG5cdFx0XHRcdFx0J2N1c3RvbWVyLWRhc2hib2FyZCcsXHJcblx0XHRcdFx0XHR0aGlzLnBvbHlnbG90LnQoJ2hlYWRlci1uYXZpZ2F0aW9uLnByb2ZpbGUnKVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0dGVtcGxhdGVzLnB1c2gobWVudUl0ZW0oXHJcblx0XHRcdFx0XHQnY3VzdG9tZXItcmVnaXN0ZXInLFxyXG5cdFx0XHRcdFx0dGhpcy5wb2x5Z2xvdC50KCdoZWFkZXItbmF2aWdhdGlvbi5yZWdpc3RlcicpXHJcblx0XHRcdFx0KSk7XHJcblxyXG5cdFx0XHRcdHRlbXBsYXRlcy5wdXNoKG1lbnVJdGVtKFxyXG5cdFx0XHRcdFx0J2N1c3RvbWVyLWxvZ2luJyxcclxuXHRcdFx0XHRcdHRoaXMucG9seWdsb3QudCgnaGVhZGVyLW5hdmlnYXRpb24ubG9naW4nKVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ3NlYXJjaC1wdXJjaGFzZScpIHtcclxuXHJcblx0XHRcdGlmICghdGhpcy5hdXRoZW50aWNhdGVkKCkpIHtcclxuXHJcblx0XHRcdFx0dGVtcGxhdGVzLnB1c2gobWVudUl0ZW0oXHJcblx0XHRcdFx0XHQnc2VhcmNoLXB1cmNoYXNlJyxcclxuXHRcdFx0XHRcdHRoaXMucG9seWdsb3QudCgnaGVhZGVyLW5hdmlnYXRpb24uc2VhcmNoT3JkZXInKVxyXG5cdFx0XHRcdCkpO1xyXG5cclxuXHRcdFx0fVxyXG5cclxuXHRcdH1cclxuXHJcblx0XHRpZiAodHlwZSA9PT0gJ2NhcnQnKSB7XHJcblxyXG5cdFx0XHR0ZW1wbGF0ZXMucHVzaChtZW51SXRlbShcclxuXHRcdFx0XHQnY2FydCcsXHJcblx0XHRcdFx0dGhpcy5wb2x5Z2xvdC50KCdoZWFkZXItbmF2aWdhdGlvbi5jYXJ0JylcclxuXHRcdFx0KSk7XHJcblxyXG5cdFx0fVxyXG5cclxuXHR9KTtcclxuXHJcblx0cmV0dXJuIGBcclxuXHRcdDxkaXYgaWQ9XCJ0aHVuZGVyLS1oZWFkZXItbmF2aWdhdGlvblwiPlxyXG5cdFx0XHQ8dWw+XHJcblx0XHRcdFx0JHt0ZW1wbGF0ZXMuam9pbignJyl9XHJcblx0XHRcdDwvdWw+XHJcblx0XHQ8L2Rpdj5cclxuXHRgO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRyZXR1cm4gYFxyXG5cdFx0PGRpdiBjbGFzcz1cInRodW5kZXItLW92ZXJsYXktbmF2XCI+XHJcblx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tY2xvc2Utb3ZlcmxheVwiIGRhdGEtdGh1bmRlci1jbG9zZT4mdGltZXM7PHNwYW4+XHJcblx0XHQ8L2Rpdj5cclxuXHRgLnRyaW0oKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkZWZhdWx0UmF0aW5nID0gNSkge1xyXG5cclxuXHRjb25zdCByYXRpbmdzID0gWzEsIDIsIDMsIDQsIDVdO1xyXG5cclxuXHRyZXR1cm4gYFxyXG5cdDxzZWxlY3QgbmFtZT1cInJhdGluZ1wiPiR7cmF0aW5ncy5tYXAociA9PiBgXHJcblx0XHQ8b3B0aW9uIHZhbHVlPVwiJHtyfVwiICR7ZGVmYXVsdFJhdGluZyA9PT0gciA/ICdzZWxlY3RlZCcgOiAnJ30+JHsn4q2QJy5yZXBlYXQocil9PC9vcHRpb24+XHJcblx0YC50cmltKCkpLmpvaW4oJycpfVxyXG5cdDwvc2VsZWN0PlxyXG5cdGAudHJpbSgpO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHN0YXJyZWQgPSAwKSB7XHJcblxyXG5cdGNvbnN0IHN0YXJzID0gW107XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgc3RhcnJlZCAtIDE7IGkrKykge1xyXG5cdFx0c3RhcnMucHVzaCgxKTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHJlc3QgPSBzdGFycmVkIC0gc3RhcnMubGVuZ3RoO1xyXG5cclxuXHRpZiAocmVzdCA+IDApIHtcclxuXHRcdHN0YXJzLnB1c2gocmVzdCk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gW1xyXG5cdFx0YDxzcGFuIGNsYXNzPVwidGh1bmRlci0tcmV2aWV3LXN0YXJzXCIgZGF0YS1yYXRpbmc9XCIke3N0YXJyZWR9XCI+YCxcclxuXHRcdC4uLkFycmF5LmFwcGx5KG51bGwsIHsgbGVuZ3RoOiA1IH0pLm1hcCgoZWwsIGkpID0+IHtcclxuXHRcdFx0cmV0dXJuIHN0YXJyZWQgPT09IDAgP1xyXG5cdFx0XHRcdFx0YDxpbWcgc3JjPVwiJHt0aGlzLnVpKHN0YXIoLTEpKSgpfVwiPmAgOlxyXG5cdFx0XHRcdFx0YDxpbWcgc3JjPVwiJHt0aGlzLnVpKHN0YXIoc3RhcnNbaV0gfHwgMCkpKCl9XCI+YDtcclxuXHRcdH0pLFxyXG5cdFx0YDwvc3Bhbj5gLFxyXG5cdF0uam9pbignJyk7XHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gc3RhcihuID0gMCkge1xyXG5cclxuXHRpZiAobiA9PT0gLTEpIHJldHVybiAnaGFsbG93LXN0YXInO1xyXG5cdGlmIChuID09PSAwKSByZXR1cm4gJ2VtcHR5LXN0YXInO1xyXG5cdGlmIChuID09PSAxKSByZXR1cm4gJ2ZpbGxlZC1zdGFyJztcclxuXHJcblx0cmV0dXJuIG4gPj0gMC41ID9cclxuXHRcdCdoYWxmLWZpbGxlZC1zdGFyJyA6XHJcblx0XHQnZW1wdHktc3Rhcic7XHJcblxyXG59IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0cmV0dXJuIGBcclxuXHRcdDxkaXYgY2xhc3M9XCJ0aHVuZGVyLS1zZWN0aW9uLXNwaW5uZXItd3JhcHBlclwiPlxyXG5cdFx0XHQ8c3BhbiBjbGFzcz1cInRodW5kZXItLXNlY3Rpb24tc3Bpbm5lclwiPjwvc3Bhbj5cclxuXHRcdDwvZGl2PlxyXG5cdGAudHJpbSgpO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMgPSB7fSkge1xyXG5cclxuXHRsZXQge1xyXG5cdFx0dHlwZSA9ICdsb2dpbicsIC8vICdsb2dpbicgb3IgJ3JlZ2lzdGVyJ1xyXG5cdFx0dmVuZG9ycyA9IFtcclxuXHRcdFx0J2ZhY2Vib29rJyxcclxuXHRcdFx0J2dvb2dsZScsXHJcblx0XHRcdCdpbnN0YWdyYW0nLFxyXG5cdFx0XHQnbmF2ZXInLFxyXG5cdFx0XHQna2FrYW8nLFxyXG5cdFx0XSxcclxuXHRcdGxvZ29zID0ge1xyXG5cdFx0XHRmYWNlYm9vazogIGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIxXCIgaGVpZ2h0PVwiMjFcIj48cGF0aCBkPVwiTTE5LjQuNUgxLjZDMSAuNS41IDEgLjUgMS42djE3LjhjMCAuNi41IDEuMSAxLjEgMS4xaDkuNnYtNy43SDguNnYtM2gyLjZWNy41YzAtMi42IDEuNi00IDMuOS00IC44IDAgMS42IDAgMi4zLjF2Mi43aC0xLjZjLTEuMyAwLTEuNS42LTEuNSAxLjV2MS45aDNsLS40IDNoLTIuNnY3LjdoNS4xYy42IDAgMS4xLS41IDEuMS0xLjFWMS42YzAtLjYtLjUtMS4xLTEuMS0xLjF6XCIgZmlsbD1cIiNmZmZcIi8+PC9zdmc+YCxcclxuXHRcdFx0Z29vZ2xlOiAgICBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMVwiIGhlaWdodD1cIjIxXCI+PHBhdGggZD1cIk0yMC4xIDEwLjdjMC0uNy0uMS0xLjQtLjItMmgtOS40djMuOWg1LjRjLS4yIDEuMy0uOSAyLjMtMiAzdjIuNWgzLjJjMS45LTEuOCAzLTQuMyAzLTcuNHpcIiBmaWxsPVwiIzQyODVmNFwiLz48cGF0aCBkPVwiTTEwLjUgMjAuNWMyLjcgMCA1LS45IDYuNi0yLjRsLTMuMi0yLjVjLS45LjYtMiAxLTMuNCAxLTIuNiAwLTQuOC0xLjgtNS42LTQuMUgxLjZWMTVjMS42IDMuMyA1IDUuNSA4LjkgNS41elwiIGZpbGw9XCIjMzRhODUzXCIvPjxwYXRoIGQ9XCJNNC45IDEyLjRjLS4yLS42LS4zLTEuMi0uMy0xLjlzLjEtMS4zLjMtMS45VjZIMS42Qy45IDcuNC41IDguOS41IDEwLjVzLjQgMy4xIDEuMSA0LjVsMy4zLTIuNnpcIiBmaWxsPVwiI2ZiYmMwNVwiLz48cGF0aCBkPVwiTTEwLjUgNC41YzEuNSAwIDIuOC41IDMuOCAxLjVsMi45LTIuOWMtMS43LTEuNi00LTIuNi02LjctMi42QzYuNi41IDMuMiAyLjcgMS42IDZsMy4zIDIuNmMuOC0yLjQgMy00LjEgNS42LTQuMXpcIiBmaWxsPVwiI2VhNDMzNVwiLz48cGF0aCBkPVwiTS41LjVoMjB2MjBILjVWLjV6XCIgZmlsbD1cIm5vbmVcIi8+PC9zdmc+YCxcclxuXHRcdFx0aW5zdGFncmFtOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMVwiIGhlaWdodD1cIjIxXCI+PHN0eWxlPi5zdDB7ZmlsbDojZmZmfTwvc3R5bGU+PHBhdGggY2xhc3M9XCJzdDBcIiBkPVwiTTEwLjUgMS45YzIuOCAwIDMuMSAwIDQuMi4xIDEgMCAxLjYuMiAxLjkuNC41LjIuOC40IDEuMi44LjQuNC42LjcuOCAxLjIuMi4zLjQuOC40IDEuOS4xIDEuMS4xIDEuNC4xIDQuMnMwIDMuMS0uMSA0LjJjMCAxLS4yIDEuNi0uNCAxLjktLjIuNS0uNC44LS44IDEuMi0uNC40LS43LjYtMS4yLjgtLjQuMS0uOS4zLTEuOS40LTEuMS4xLTEuNC4xLTQuMi4xcy0zLjEgMC00LjItLjFjLTEgMC0xLjYtLjItMS45LS40LS41LS4yLS44LS40LTEuMi0uOC0uNC0uNC0uNi0uNy0uOC0xLjItLjItLjMtLjQtLjgtLjQtMS45LS4xLTEuMS0uMS0xLjQtLjEtNC4yczAtMy4xLjEtNC4yYzAtMSAuMi0xLjYuNC0xLjkuMi0uNS40LS44LjgtMS4yLjQtLjQuNy0uNiAxLjItLjguMy0uMi44LS40IDEuOS0uNCAxLjEtLjEgMS40LS4xIDQuMi0uMW0wLTEuOUM3LjYgMCA3LjMgMCA2LjIuMSA1LjEuMSA0LjMuMyAzLjYuNmMtLjcuMi0xLjMuNi0xLjggMS4yLS42LjUtMSAxLjEtMS4yIDEuOC0uMy43LS41IDEuNS0uNSAyLjZDMCA3LjMgMCA3LjYgMCAxMC41czAgMy4yLjEgNC4zYy4xIDEuMS4yIDEuOS41IDIuNS4zLjcuNiAxLjMgMS4yIDEuOS42LjYgMS4yLjkgMS45IDEuMi43LjMgMS40LjQgMi41LjUgMS4xLjEgMS40LjEgNC4zLjFzMy4yIDAgNC4zLS4xYzEuMS0uMSAxLjktLjIgMi41LS41LjctLjMgMS4zLS42IDEuOS0xLjIuNi0uNi45LTEuMiAxLjItMS45LjMtLjcuNC0xLjQuNS0yLjUuMS0xLjEuMS0xLjUuMS00LjNzMC0zLjItLjEtNC4zYy0uMS0xLjEtLjItMS45LS41LTIuNS0uMy0uNy0uNi0xLjMtMS4yLTEuOS0uNi0uNi0xLjItLjktMS45LTEuMi0uNy0uMy0xLjQtLjQtMi41LS41LTEuMS0uMS0xLjQtLjEtNC4zLS4xelwiLz48cGF0aCBjbGFzcz1cInN0MFwiIGQ9XCJNMTAuNSA1LjFjLTMgMC01LjQgMi40LTUuNCA1LjRzMi40IDUuNCA1LjQgNS40IDUuNC0yLjQgNS40LTUuNC0yLjQtNS40LTUuNC01LjR6bTAgOC45QzguNiAxNCA3IDEyLjQgNyAxMC41UzguNiA3IDEwLjUgNyAxNCA4LjYgMTQgMTAuNSAxMi40IDE0IDEwLjUgMTR6XCIvPjxjaXJjbGUgY2xhc3M9XCJzdDBcIiBjeD1cIjE2LjFcIiBjeT1cIjQuOVwiIHI9XCIxLjNcIi8+PC9zdmc+YCxcclxuXHRcdFx0bmF2ZXI6ICAgICBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyMVwiIGhlaWdodD1cIjIxXCI+PHBhdGggZmlsbD1cIiNmZmZcIiBkPVwiTTEzLjUgMS44djguOGwtNi04LjhILjl2MTcuNWg2LjZ2LTguOWw2IDguOWg2LjZWMS44elwiLz48L3N2Zz5gLFxyXG5cdFx0XHRrYWthbzogICAgIGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjIxXCIgaGVpZ2h0PVwiMjFcIj48cGF0aCBkPVwiTTEwLjUgMS43QzUgMS43LjUgNS4yLjUgOS42YzAgMi44IDEuOSA1LjMgNC43IDYuNy0uMi44LS44IDIuOC0uOSAzLjMtLjEuNS4yLjUuNC40LjItLjEgMi43LTEuOSAzLjgtMi42LjYuMSAxLjIuMSAxLjkuMSA1LjUgMCAxMC0zLjUgMTAtNy45UzE2IDEuNyAxMC41IDEuN3pcIiBmaWxsPVwiIzNjMWUxZVwiLz48L3N2Zz5gLFxyXG5cdFx0fSxcclxuXHR9ID0gb3B0aW9ucztcclxuXHJcblx0dmVuZG9ycyA9IHR5cGVvZiB2ZW5kb3JzID09PSAnc3RyaW5nJyA/XHJcblx0XHRcdFx0dmVuZG9ycy5zcGxpdCgnLCcpLmZpbHRlcih2ID0+IHYpIDpcclxuXHRcdFx0XHR2ZW5kb3JzO1xyXG5cclxuXHRpZiAodmVuZG9ycy5sZW5ndGggPT09IDApIHtcclxuXHRcdHJldHVybiAnJztcclxuXHR9XHJcblxyXG5cdHJldHVybiBgXHJcblx0XHQ8dWwgY2xhc3M9XCJ0aHVuZGVyLS1zb2NpYWwtYXBwLWFjdGlvbnMgdGh1bmRlci0tc29jaWFsLWFwcC0ke3R5cGV9XCI+XHJcblx0XHRcdCR7IHZlbmRvcnMubWFwKHZlbmRvciA9PiBgXHJcblx0XHRcdDxsaSBjbGFzcz1cInRodW5kZXItc29jaWFsLWFwcC0ke3ZlbmRvcn1cIj5cclxuXHRcdFx0XHQ8YnV0dG9uIGRhdGEtc29jaWFsLWFwcD1cIiR7dmVuZG9yfVwiPlxyXG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aHVuZGVyLS1zb2NpYWwtYXBwLWxvZ29cIj4ke2xvZ29zW3ZlbmRvcl19PC9zcGFuPlxyXG5cdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJ0aHVuZGVyLS1zb2NpYWwtYXBwLWJ1dHRvbi1tZXNzYWdlXCI+JHt0aGlzLnBvbHlnbG90LnQoYHNvY2lhbC1sb2dpbi4ke3R5cGV9Qnkke3ZlbmRvclswXS50b1VwcGVyQ2FzZSgpICsgdmVuZG9yLnNsaWNlKDEpfWApfTwvc3Bhbj5cclxuXHRcdFx0XHQ8L2J1dHRvbj5cclxuXHRcdFx0PC9saT5cclxuXHRcdFx0YCkuam9pbignJykgfVxyXG5cdFx0PC91bD5cclxuXHRgLnRyaW0oKTtcclxuXHJcbn07IiwiY29uc3QgZ2V0ID0gcmVxdWlyZSgnbG9kYXNoLmdldCcpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkYnV0dG9uLCBjb250ZXh0KSB7XHJcblxyXG5cdGNvbnN0IGhpc3RvcnkgPSBnZXQoY29udGV4dCwgJ29wdGlvbnMuYmFjaycpO1xyXG5cclxuXHRpZiAoISRidXR0b24gfHwgIWhpc3RvcnkpIHJldHVybjtcclxuXHJcblx0Y29uc3Qge1xyXG5cdFx0JGNvbnRhaW5lcixcclxuXHRcdGNvbXBvbmVudCxcclxuXHRcdG9wdGlvbnMsXHJcblx0fSA9IGhpc3Rvcnk7XHJcblxyXG5cdCRidXR0b24ub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xyXG5cclxuXHRcdGlmIChldmVudCkgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRyZXR1cm4gdGhpcy5yZW5kZXIoJGNvbnRhaW5lciwgY29tcG9uZW50LCBvcHRpb25zIHx8IHt9KTtcclxuXHJcblx0fSk7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdHRoaXMub3B0aW9ucy5yZWNhcHRjaGEucXVldWUuZm9yRWFjaChvcHRpb24gPT4ge1xyXG5cclxuXHRcdHRoaXMudXRpbC5tYWtlUmVjYXB0Y2hhKG9wdGlvbi5jb21wb25lbnROYW1lLCBvcHRpb24uJGJ1dHRvbiwgb3B0aW9uLmZuKTtcclxuXHJcblx0fSk7XHJcblxyXG5cdHRoaXMub3B0aW9ucy5yZWNhcHRjaGEucXVldWUgPSBbXTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkY29udGFpbmVyKSB7XHJcblxyXG5cdGNvbnN0IFRodW5kZXIgPSB0aGlzO1xyXG5cclxuXHRjb25zdCAkc29jaWFsQnV0dG9uID0gJGNvbnRhaW5lci5maW5kKCdbZGF0YS1zb2NpYWwtYXBwXScpO1xyXG5cclxuXHQkc29jaWFsQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdGNvbnN0IHZlbmRvciA9ICQodGhpcykuZGF0YSgnc29jaWFsQXBwJyk7XHJcblxyXG5cdFx0VGh1bmRlci5yZXF1ZXN0KHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdHVybDogICAgYC92MS9jdXN0b21lcnMvYXV0aC8ke3ZlbmRvcn1gXHJcblx0XHR9KS5kb25lKGRhdGEgPT4ge1xyXG5cclxuXHRcdFx0bG9jYXRpb24ucmVwbGFjZShkYXRhLnJlZGlyZWN0KTtcclxuXHJcblx0XHR9KS5mYWlsKChyZXMsIHN0YXR1cykgPT4ge1xyXG5cclxuXHRcdFx0Ly8gVE9ETzogRXJyb3IgaGFuZGxpbmdcclxuXHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY29kZSA9IG51bGwsIG5hbWUgPSAnJykge1xyXG5cclxuXHRpZiAoIWNvZGUgfHwgIW5hbWUpIHJldHVybiAnJztcclxuXHJcblx0Y29uc3QgZmxhZyA9XHJcblx0XHRjb2RlLnRvVXBwZXJDYXNlKClcclxuXHRcdFx0LnJlcGxhY2UoLy4vZywgY2hhciA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludChjaGFyLmNoYXJDb2RlQXQoMCkgKyAxMjczOTcpKTtcclxuXHJcblx0cmV0dXJuIFtmbGFnLCBuYW1lXS5maWx0ZXIodiA9PiB2KS5qb2luKCcgJyk7XHJcblxyXG59OyIsImNvbnN0IGdldCA9IHJlcXVpcmUoJ2xvZGFzaC5nZXQnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY3VzdG9tZXIpIHtcclxuXHJcblx0aWYgKCFjdXN0b21lcikgcmV0dXJuIG51bGw7XHJcblxyXG5cdGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5vcHRpb25zLmN1c3RvbWVySWRlbnRpdHkpIHtcclxuXHJcblx0XHRjb25zdCB2YWx1ZSA9IGdldChjdXN0b21lciwgZmllbGQpO1xyXG5cclxuXHRcdGlmICh2YWx1ZSkge1xyXG5cdFx0XHRyZXR1cm4gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcblx0cmV0dXJuIG51bGw7XHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSAodGV4dCwgbGVuZ3RoKSA9PiB7XHJcblxyXG5cdGlmICh0eXBlb2YgbGVuZ3RoICE9PSAnbnVtYmVyJykge1xyXG5cdFx0cmV0dXJuIHRleHQ7XHJcblx0fVxyXG5cclxuXHQvLyBSZW1vdmUgSFRNTCB0YWdzXHJcblx0dGV4dCA9ICQoYDxkaXY+JHt0ZXh0IHx8ICcnfTwvZGl2PmApLnRleHQoKTtcclxuXHJcblx0Y29uc3QgcmVkdWNlZCA9IHRleHRcclxuXHRcdFx0XHRcdC5yZXBsYWNlKC9cXHMrL2csICcgJykgLy8gUmVwbGFjZSBhbGwgZW1wdHkgc3BhY2VkIHRvIG9uZSBzcGFjZVxyXG5cdFx0XHRcdFx0LnRyaW0oKVxyXG5cdFx0XHRcdFx0LnNsaWNlKDAsIGxlbmd0aClcclxuXHRcdFx0XHRcdC50cmltKCk7XHJcblxyXG5cdHJldHVybiB0ZXh0Lmxlbmd0aCA8PSBsZW5ndGggP1xyXG5cdFx0XHRyZWR1Y2VkIDpcclxuXHRcdFx0YCR7cmVkdWNlZH0uLi5gO1xyXG59OyIsImNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oJGNvbnRhaW5lciwgbWVudUl0ZW1zID0gW10pIHtcclxuXHJcblx0Y29uc3QgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKCkuc2xpY2UoMik7XHJcblxyXG5cdGNvbnN0IGl0ZW1NYXAgPSBtZW51SXRlbXMucmVkdWNlKChvLCBpdGVtLCBpKSA9PiB7XHJcblx0XHRyZXR1cm4gc2V0KG8sIFtgJHtpZH0uJHtpfWBdLCBpdGVtKTtcclxuXHR9LCB7fSk7XHJcblxyXG5cdGNvbnN0IGl0ZW1zID0gbWVudUl0ZW1zLm1hcCgoaXRlbSwgaSkgPT4ge1xyXG5cdFx0cmV0dXJuIGA8bGk+PHNwYW4gZGF0YS1zY3JvbGwtdG89XCIke2lkfS4ke2l9XCI+JHtpdGVtLm5hbWV9PC9zcGFuPjwvbGk+YDtcclxuXHR9KS5qb2luKCcnKTtcclxuXHJcblx0JGNvbnRhaW5lclxyXG5cdFx0LmFkZENsYXNzKCd0aHVuZGVyLS1mb2xsb3dpbmctbmF2LWNvbnRhaW5lcicpXHJcblx0XHQuYWRkQ2xhc3MoJ3N0aWNreScpXHJcblx0XHQuaHRtbChgPHVsIGNsYXNzPVwidGh1bmRlci0tZm9sbG93aW5nLW5hdlwiPiR7aXRlbXN9PC91bD5gKTtcclxuXHJcblx0JGNvbnRhaW5lci5vbignY2xpY2snLCAnW2RhdGEtc2Nyb2xsLXRvXScsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRjb25zdCBpdGVtSWQgPSAkKHRoaXMpLmRhdGEoJ3Njcm9sbFRvJyk7XHJcblx0XHRjb25zdCBpdGVtID0gaXRlbU1hcFtpdGVtSWRdO1xyXG5cclxuXHRcdHJldHVybiBpdGVtLiRlbC5nZXQoMCkuc2Nyb2xsSW50b1ZpZXcoKTtcclxuXHJcblx0fSk7XHJcblxyXG59OyIsImNvbnN0IHNldCA9IHJlcXVpcmUoJ2xvZGFzaC5zZXQnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oc2VyaWFsaXplZCkge1xyXG5cclxuXHRjb25zdCBkYXRhID0ge307XHJcblxyXG5cdHNlcmlhbGl6ZWQuZm9yRWFjaChkID0+IHNldChkYXRhLCBkLm5hbWUsIGQudmFsdWUgfHwgbnVsbCkpO1xyXG5cclxuXHRyZXR1cm4gZGF0YTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihudW1iZXIsIGN1cnJlbmN5ID0ge30pIHtcclxuXHJcblx0aWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XHJcblxyXG5cdFx0cmV0dXJuICcnO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgeyBwcmVjaXNpb24sIGRlbGltaXRlciA9IHt9IH0gPSBjdXJyZW5jeTtcclxuXHRjb25zdCB7IHRob3VzYW5kcyA9ICcnLCBkZWNpbWFsID0gJy4nIH0gPSBkZWxpbWl0ZXI7XHJcblxyXG5cdGlmICh0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJykge1xyXG5cclxuXHRcdG51bWJlciA9IHRoaXMudXRpbC50b1ByZWNpc2lvbihudW1iZXIsIHByZWNpc2lvbik7XHJcblx0fVxyXG5cclxuXHRsZXQgW2EsIGIgPSAnJ10gPSBTdHJpbmcobnVtYmVyKS5zcGxpdCgnLicpO1xyXG5cclxuXHRjb25zdCByZXZlcnNlZEFycmF5ID0gYS5zcGxpdCgnJykucmV2ZXJzZSgpO1xyXG5cclxuXHRjb25zdCBzZWdtZW50cyA9IFtdO1xyXG5cclxuXHR3aGlsZSAocmV2ZXJzZWRBcnJheS5sZW5ndGgpIHtcclxuXHJcblx0XHRzZWdtZW50cy51bnNoaWZ0KHJldmVyc2VkQXJyYXkuc3BsaWNlKDAsIDMpLnJldmVyc2UoKS5qb2luKCcnKSk7XHJcblxyXG5cdH1cclxuXHJcblx0aWYgKHByZWNpc2lvbikge1xyXG5cclxuXHRcdGNvbnN0IGRpZmYgPSBwcmVjaXNpb24gLSBiLmxlbmd0aDtcclxuXHJcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykge1xyXG5cdFx0XHRiICs9ICcwJztcclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxuXHRyZXR1cm4gW3NlZ21lbnRzLmpvaW4odGhvdXNhbmRzKSwgYl0uam9pbihiID8gZGVjaW1hbCA6ICcnKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihudW1iZXIsIGN1cnJlbmN5ID0ge30pIHtcclxuXHJcblx0Y29uc3QgZm9ybWF0dGVkTnVtYmVyID0gdGhpcy51dGlsLmZvcm1hdE51bWJlcihudW1iZXIsIGN1cnJlbmN5KTtcclxuXHJcblx0aWYgKCFmb3JtYXR0ZWROdW1iZXIpIHtcclxuXHJcblx0XHRyZXR1cm4gJyc7XHJcblx0fVxyXG5cclxuXHRjb25zdCB7IHN5bWJvbCA9ICcnLCBmb3JtYXQgPSAne3ByaWNlfScgfSA9IGN1cnJlbmN5O1xyXG5cclxuXHRyZXR1cm4gZm9ybWF0XHJcblx0XHRcdC5yZXBsYWNlKCd7c3ltYm9sfScsIHN5bWJvbClcclxuXHRcdFx0LnJlcGxhY2UoJ3twcmljZX0nLCBmb3JtYXR0ZWROdW1iZXIpO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRjb25zdCB7IGFjdGlvbiwgY3VzdG9tZXIsIHRva2VuIH0gPSB0aGlzLnV0aWwudXJsUXVlcnkoKTtcclxuXHJcblx0aWYgKCFhY3Rpb24pIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0aWYgKGFjdGlvbiAmJiBjdXN0b21lciAmJiB0b2tlbikge1xyXG5cclxuXHRcdGNvbnN0IHN0b3JhZ2UgPSB0aGlzLnBsdWdpbnMuY3JlZGVudGlhbFN0b3JhZ2U7XHJcblxyXG5cdFx0c3RvcmFnZS5zZXRJdGVtKHRoaXMub3B0aW9ucy5hdXRoU3RvcmFnZS5jdXN0b21lciwgdG9rZW4pO1xyXG5cclxuXHRcdC8vIFJlLXJlbmRlciBoZWFkZXJcclxuXHRcdHRoaXMuaGVhZGVyKCk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBxdWVyeSA9IHRoaXMudXRpbC51cmxRdWVyeSgpO1xyXG5cdGNvbnN0IHBheWxvYWQgPSB7fTtcclxuXHJcblx0W1xyXG5cdFx0J2FjdGlvbicsXHJcblx0XHQnY3VzdG9tZXInLFxyXG5cdFx0J3Rva2VuJyxcclxuXHRcdCdlcnJvcicsXHJcblx0XS5mb3JFYWNoKGZpZWxkID0+IHBheWxvYWRbZmllbGRdID0gcXVlcnlbZmllbGRdKTtcclxuXHJcblx0cmV0dXJuIHBheWxvYWQ7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW1hZ2UsIHdpZHRoLCBoZWlnaHQpIHtcclxuXHJcblx0aWYgKCFpbWFnZSkgcmV0dXJuICcnO1xyXG5cclxuXHRsZXQgZGltZW5zaW9uID0gW107XHJcblxyXG5cdHdpZHRoID0gd2lkdGggPyAnd2lkdGg9JyArIHdpZHRoIDogJyc7XHJcblx0aGVpZ2h0ID0gaGVpZ2h0ID8gJ2hlaWdodD0nICsgaGVpZ2h0IDogJyc7XHJcblxyXG5cdGlmICh3aWR0aCkgIGRpbWVuc2lvbi5wdXNoKHdpZHRoKTtcclxuXHRpZiAoaGVpZ2h0KSBkaW1lbnNpb24ucHVzaChoZWlnaHQpO1xyXG5cclxuXHRkaW1lbnNpb24gPSBkaW1lbnNpb24ubGVuZ3RoID8gJz8nICsgZGltZW5zaW9uLmpvaW4oJyYnKSA6ICcnO1xyXG5cclxuXHRyZXR1cm4gaW1hZ2UudXJsICsgZGltZW5zaW9uO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCR1cGxvYWRGb3JtLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuXHJcblx0Y29uc3QgJGZpbGUgPSAkdXBsb2FkRm9ybS5maW5kKCdpbnB1dFt0eXBlPVwiZmlsZVwiXScpO1xyXG5cdGNvbnN0ICRsYWJlbCA9ICR1cGxvYWRGb3JtLmZpbmQoYGxhYmVsW2Zvcj1cIiR7JGZpbGUuYXR0cignaWQnKX1cIl1gKTtcclxuXHRjb25zdCBvcmlnaW5hbExhYmVsID0gJGxhYmVsLnRleHQoKTtcclxuXHJcblx0cmV0dXJuICRmaWxlLm9uKCdjaGFuZ2UnLCAoKSA9PiB7XHJcblxyXG5cdFx0JGxhYmVsLmh0bWwodGhpcy51aSgnYnV0dG9uLXNwaW5uZXInKSk7XHJcblxyXG5cdFx0JHVwbG9hZEZvcm0uYWpheFN1Ym1pdCh7XHJcblx0XHRcdG1ldGhvZDogICdQT1NUJyxcclxuXHRcdFx0dXJsOiAgICAgYCR7dGhpcy5vcHRpb25zLmJhc2VVUkx9L3YxL21lL2ltYWdlc2AsXHJcblx0XHRcdGhlYWRlcnM6IHRoaXMucmVxdWVzdC5nZXRSZXF1ZXN0SGVhZGVycygpLFxyXG5cdFx0XHRzdWNjZXNzOiAoLi4uYXJncykgPT4ge1xyXG5cdFx0XHRcdCRsYWJlbC5odG1sKG9yaWdpbmFsTGFiZWwpO1xyXG5cdFx0XHRcdHJldHVybiBzdWNjZXNzQ2FsbGJhY2soLi4uYXJncyk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGVycm9yOiAoLi4uYXJncykgPT4ge1xyXG5cdFx0XHRcdCRsYWJlbC5odG1sKG9yaWdpbmFsTGFiZWwpO1xyXG5cdFx0XHRcdHJldHVybiBlcnJvckNhbGxiYWNrKC4uLmFyZ3MpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0fSk7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZGF0ZSwgdGltZVRvQ29tcGFyZSA9IERhdGUubm93KCkpIHtcclxuXHJcblx0cmV0dXJuIG5ldyBEYXRlKGRhdGUpLnZhbHVlT2YoKSAtIHRpbWVUb0NvbXBhcmUgPCAwO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhZ3MgPSBbXSwgbWVzc2FnZSkge1xyXG5cclxuXHRjb25zdCB0eXBlID0gdGFncy5pbmRleE9mKCdlcnJvcicpID09PSAtMSA/XHJcblx0XHRcdFx0XHQnbG9nJyA6XHJcblx0XHRcdFx0XHQnZXJyb3InO1xyXG5cclxuXHRyZXR1cm4gY29uc29sZVt0eXBlXShgWyR7IHRhZ3Muam9pbignLCcpIH1dIFRodW5kZXI6ICR7IG1lc3NhZ2UgfWApO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCRidXR0b24sIG9wdGlvbnMpIHtcclxuXHJcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG5cdGNvbnN0IHtcclxuXHRcdGJpbmQgPSB0cnVlXHJcblx0fSA9IG9wdGlvbnM7XHJcblxyXG5cdGNvbnN0IG9yaWdpbmFsID0gJGJ1dHRvbi5odG1sKCk7XHJcblxyXG5cdGNvbnN0IHJ1biA9ICgpID0+ICRidXR0b24uaHRtbCh0aGlzLnVpKCdidXR0b24tc3Bpbm5lcicpKTtcclxuXHRjb25zdCBkb25lID0gKCkgPT4gJGJ1dHRvbi5odG1sKG9yaWdpbmFsKTtcclxuXHJcblx0aWYgKGJpbmQpIHtcclxuXHRcdCRidXR0b24ub24oJ2NsaWNrJywgcnVuKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiB7IHJ1biwgZG9uZSB9O1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGNvbXBvbmVudE5hbWUsICRidXR0b24sIGNhbGxiYWNrKSB7XHJcblxyXG5cdGxldCB2YWxpZGF0ZSA9ICgpID0+IHRydWU7XHJcblxyXG5cdGlmICh0eXBlb2YgY29tcG9uZW50TmFtZSA9PT0gJ29iamVjdCcpIHtcclxuXHJcblx0XHRjb25zdCBvcHRpb25zID0gY29tcG9uZW50TmFtZTtcclxuXHJcblx0XHRjb21wb25lbnROYW1lID0gb3B0aW9ucy5jb21wb25lbnROYW1lO1xyXG5cdFx0JGJ1dHRvbiA9IG9wdGlvbnMuYnV0dG9uO1xyXG5cdFx0dmFsaWRhdGUgPSBvcHRpb25zLnZhbGlkYXRlIHx8IHZhbGlkYXRlO1xyXG5cdFx0Y2FsbGJhY2sgPSBvcHRpb25zLmNhbGxiYWNrO1xyXG5cdH1cclxuXHJcblx0Y29uc3Qgc2lnbmF0dXJlID0gJ3RodW5kZXItLXJlY2FwdGNoYS1oYW5kbGVyJztcclxuXHJcblx0aWYgKCEkYnV0dG9uLmhhc0NsYXNzKHNpZ25hdHVyZSkpIHtcclxuXHJcblx0XHQkYnV0dG9uLmFkZENsYXNzKHNpZ25hdHVyZSk7XHJcblxyXG5cdFx0JGJ1dHRvbi5kYXRhKCdleGVjdXRlJywgKCRidXR0b24uZGF0YSgnZXhlY3V0ZScpIHx8IFtdKS5jb25jYXQoY2FsbGJhY2spKTtcclxuXHJcblx0XHQkYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRcdFx0aWYgKCF2YWxpZGF0ZSgpKSByZXR1cm47XHJcblxyXG5cdFx0XHQkYnV0dG9uLmRhdGEoJ2V4ZWN1dGUnKS5mb3JFYWNoKGV4ZWN1dGUgPT4gZXhlY3V0ZSgpKTtcclxuXHRcdH0pO1xyXG5cclxuXHR9XHJcblxyXG5cdGlmICghdGhpcy51dGlsLnVzZVJlY2FwdGNoYShjb21wb25lbnROYW1lKSkge1xyXG5cdFx0cmV0dXJuICRidXR0b24uZGF0YSgnZXhlY3V0ZScpO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgZ3JlY2FwdGNoYSA9IHdpbmRvdy5ncmVjYXB0Y2hhO1xyXG5cclxuXHRpZiAoIWdyZWNhcHRjaGEgfHwgIWdyZWNhcHRjaGEucmVuZGVyKSB7XHJcblxyXG5cdFx0dGhpcy5vcHRpb25zLnJlY2FwdGNoYS5xdWV1ZS5wdXNoKHtcclxuXHRcdFx0Y29tcG9uZW50TmFtZSxcclxuXHRcdFx0JGJ1dHRvbixcclxuXHRcdFx0Zm46IGNhbGxiYWNrXHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gJGJ1dHRvbi5kYXRhKCdleGVjdXRlJyk7XHJcblx0fVxyXG5cclxuXHRjb25zdCAkY2hhbGxlbmdlID0gJCgnPGRpdiBjbGFzcz1cImctcmVjYXB0Y2hhXCI+PC9kaXY+Jyk7XHJcblxyXG5cdCRidXR0b24uYmVmb3JlKCRjaGFsbGVuZ2UpO1xyXG5cclxuXHRjb25zdCBjaGFsbGVuZ2UgPSAkY2hhbGxlbmdlLmdldCgwKTtcclxuXHJcblx0Y29uc3QgaWQgPSBncmVjYXB0Y2hhLnJlbmRlcihjaGFsbGVuZ2UsIHtcclxuXHRcdHNpdGVrZXk6ICB0aGlzLm9wdGlvbnMucmVjYXB0Y2hhLnNpdGVrZXksXHJcblx0XHRzaXplOiAgICAgJ2ludmlzaWJsZScsXHJcblx0XHRiYWRnZTogICAgJ2JvdHRvbXJpZ2h0JyxcclxuXHRcdGlzb2xhdGVkOiB0cnVlLFxyXG5cdFx0Y2FsbGJhY2s6IHRva2VuID0+IGNhbGxiYWNrKHRva2VuLCAoKSA9PiBncmVjYXB0Y2hhLnJlc2V0KGlkKSksXHJcblx0XHQnZXhwaXJlZC1jYWxsYmFjayc6IGVyciA9PiB7XHJcblx0XHRcdC8vIFRPRE86IEltcGxlbWVudCBjYWxsYmFja1xyXG5cdFx0fSxcclxuXHRcdCdlcnJvci1jYWxsYmFjayc6IGVyciA9PiB7XHJcblx0XHRcdC8vIFRPRE86IEltcGxlbWVudCBjYWxsYmFja1xyXG5cdFx0fSxcclxuXHR9KTtcclxuXHJcblx0JGNoYWxsZW5nZS5wcm9wKCdpZCcsICdnLXJlY2FwdGNoYS0nICsgaWQpO1xyXG5cclxuXHRjb25zdCBjYWxsYmFja3MgPSAoJGJ1dHRvbi5kYXRhKCdleGVjdXRlJykgfHwgW10pXHJcblx0XHRcdFx0XHRcdC5jb25jYXQoKCkgPT4gZ3JlY2FwdGNoYS5leGVjdXRlKGlkKSlcclxuXHRcdFx0XHRcdFx0LmZpbHRlcihmbiA9PiBmbiAhPT0gY2FsbGJhY2spOyAvLyBSZW1vdmUgb3JpZ2luYWwgY2FsbGJhY2tcclxuXHJcblx0JGJ1dHRvbi5kYXRhKCdleGVjdXRlJywgY2FsbGJhY2tzKTtcclxuXHJcblx0cmV0dXJuICRidXR0b24uZGF0YSgnZXhlY3V0ZScpO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IG9yZGVyID0+IHtcclxuXHJcblx0aWYgKCFvcmRlcikgcmV0dXJuIG51bGw7XHJcblxyXG5cdGlmIChvcmRlci5zdGF0dXMgPT09ICdwbGFjZWQnIHx8XHJcblx0XHRvcmRlci5zdGF0dXMgPT09ICdjYW5jZWxsZWQnKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGNvbnN0IGhhc1RhbmdpYmxlSXRlbSA9IG9yZGVyLml0ZW1zLnJlZHVjZSgoaXRlbXMsIGl0ZW0pID0+IHtcclxuXHRcdHJldHVybiBpdGVtcy5jb25jYXQoaXRlbSwgaXRlbS5idW5kbGVJdGVtcyB8fCBbXSk7XHJcblx0fSwgW10pLnNvbWUoaXRlbSA9PiBpdGVtLnR5cGUgPT09ICd0YW5naWJsZScpO1xyXG5cclxuXHRpZiAoIWhhc1RhbmdpYmxlSXRlbSkgcmV0dXJuIG51bGw7XHJcblxyXG5cdGlmIChvcmRlci5yZWNlaXZlZEF0KSB7XHJcblx0XHRyZXR1cm4gJ3JlY2VpdmVkJztcclxuXHR9XHJcblxyXG5cdGNvbnN0IGNvdW50QnlTdGF0dXMgPSBvcmRlci5mdWxmaWxsbWVudHMucmVkdWNlKChvLCB7IHN0YXR1cyB9KSA9PiB7XHJcblx0XHRvW3N0YXR1c10gPSBvW3N0YXR1c10gfHwgMDtcclxuXHRcdG9bc3RhdHVzXSsrO1xyXG5cdFx0cmV0dXJuIG87XHJcblx0fSwge30pO1xyXG5cclxuXHRpZiAob3JkZXIuZnVsZmlsbG1lbnRzLmxlbmd0aCA9PT0gMCB8fFxyXG5cdFx0b3JkZXIuZnVsZmlsbG1lbnRzLmxlbmd0aCA9PT0gY291bnRCeVN0YXR1cy5wZW5kaW5nKSB7XHJcblx0XHRyZXR1cm4gJ3BlbmRpbmcnO1xyXG5cdH1cclxuXHJcblx0aWYgKG9yZGVyLmZ1bGZpbGxtZW50cy5sZW5ndGggPT09IGNvdW50QnlTdGF0dXMuYXJyaXZlZCkge1xyXG5cdFx0cmV0dXJuICdhcnJpdmVkJztcclxuXHR9XHJcblxyXG5cdHJldHVybiAnc2hpcHBlZCc7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsdWUpIHtcclxuXHJcblx0cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgP1xyXG5cdFx0XHR2YWx1ZS5zcGxpdCgnLCcpIDpcclxuXHRcdFx0dmFsdWU7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocHJvZHVjdCwgdmFyaWFudCkge1xyXG5cclxuXHRyZXR1cm4gW10uY29uY2F0KFxyXG5cdFx0cHJvZHVjdC5uYW1lLFxyXG5cdFx0dmFyaWFudCAmJiB2YXJpYW50LnR5cGVzLmxlbmd0aCA/IHRoaXMudXRpbC52YXJpYW50TmFtZSh2YXJpYW50KSA6IFtdXHJcblx0KS5qb2luKCcgLyAnKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigkY29udGFpbmVyKSB7XHJcblxyXG5cdCRjb250YWluZXIuZmluZCgnLnRodW5kZXItLXF1YW50aXR5JykuZWFjaChmdW5jdGlvbigpIHtcclxuXHJcblx0XHRjb25zdCBtaW4gPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoJ21pbicpIHx8IDApO1xyXG5cdFx0Y29uc3QgbWF4ID0gcGFyc2VJbnQoJCh0aGlzKS5hdHRyKCdtYXgnKSB8fCAxMDApO1xyXG5cclxuXHRcdGNvbnN0ICR3cmFwcGVyID0gJChgXHJcblx0XHRcdDxzcGFuIGNsYXNzPVwidGh1bmRlci0tcXVhbnRpdHktd3JhcHBlclwiPjwvc3Bhbj5cclxuXHRcdGApO1xyXG5cclxuXHRcdCQodGhpcykud3JhcCgkd3JhcHBlcik7XHJcblxyXG5cdFx0Y29uc3QgJGRlYyA9ICQoYDxzcGFuIGNsYXNzPVwidGh1bmRlci0tcXVhbnRpdHktYWN0aW9uXCIgZGF0YS10eXBlPVwiZGVjXCI+LTwvc3Bhbj5gKTtcclxuXHRcdGNvbnN0ICRpbmMgPSAkKGA8c3BhbiBjbGFzcz1cInRodW5kZXItLXF1YW50aXR5LWFjdGlvblwiIGRhdGEtdHlwZT1cImluY1wiPis8L3NwYW4+YCk7XHJcblxyXG5cdFx0JGRlYy5pbnNlcnRCZWZvcmUoJCh0aGlzKSk7XHJcblx0XHQkaW5jLmluc2VydEFmdGVyKCQodGhpcykpO1xyXG5cclxuXHRcdCRkZWMub24oJ2NsaWNrJywgKCkgPT4ge1xyXG5cclxuXHRcdFx0Y29uc3Qgb2xkVmFsID0gcGFyc2VJbnQoJCh0aGlzKS52YWwoKSk7XHJcblx0XHRcdGNvbnN0IG5ld1ZhbCA9IG9sZFZhbCAtIDE7XHJcblxyXG5cdFx0XHRpZiAob2xkVmFsID09PSBtaW4pIHtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdCQodGhpcykudmFsKG5ld1ZhbCk7XHJcblx0XHRcdCQodGhpcykudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQkaW5jLm9uKCdjbGljaycsICgpID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IG9sZFZhbCA9IHBhcnNlSW50KCQodGhpcykudmFsKCkpO1xyXG5cdFx0XHRjb25zdCBuZXdWYWwgPSBvbGRWYWwgKyAxO1xyXG5cclxuXHRcdFx0aWYgKG9sZFZhbCA9PT0gbWF4KSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQkKHRoaXMpLnZhbChuZXdWYWwpO1xyXG5cdFx0XHQkKHRoaXMpLnRyaWdnZXIoJ2NoYW5nZScpO1xyXG5cdFx0fSk7XHJcblxyXG5cdH0pO1xyXG5cclxufTsiLCJjb25zdCBnZXQgPSByZXF1aXJlKCdsb2Rhc2guZ2V0Jyk7XHJcblxyXG5jb25zdCBIYW5kbGVyRXJyb3IgPSAoY29kZSwgbWVzc2FnZSkgPT4ge1xyXG5cclxuXHRjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuXHJcblx0ZXJyb3IuY29kZSA9IGNvZGU7XHJcblxyXG5cdHJldHVybiBlcnJvcjtcclxuXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHJlcywgY29kZVRvTWVzc2FnZSwgY2FsbGJhY2sgPSAoKSA9PiB7fSkge1xyXG5cclxuXHRpZiAoIXJlcy5lcnJvcikge1xyXG5cdFx0Ly8gTm90IGFuIGVycm9yIGNhc2VcclxuXHRcdHJldHVybiBjYWxsYmFjaygpO1xyXG5cdH1cclxuXHJcblx0Ly8gRmluZCBhIENsYXlmdWwgZXJyb3IgY29kZVxyXG5cdGNvbnN0IGVycm9yQ29kZSA9IGdldChyZXMsICdlcnJvckNvZGUnLCBudWxsKTtcclxuXHJcblx0Y29uc3QgbWVzc2FnZUdldHRlciA9IGNvZGVUb01lc3NhZ2VbZXJyb3JDb2RlXTtcclxuXHRjb25zdCBkZWZhdWx0TWVzc2FnZSA9IGNvZGVUb01lc3NhZ2UuZGVmYXVsdDtcclxuXHRjb25zdCBtZXNzYWdlID0gbWVzc2FnZUdldHRlciA/IChcclxuXHRcdHR5cGVvZiBtZXNzYWdlR2V0dGVyID09PSAnZnVuY3Rpb24nID9cclxuXHRcdFx0bWVzc2FnZUdldHRlcihyZXMpIHx8IGRlZmF1bHRNZXNzYWdlIDpcclxuXHRcdFx0bWVzc2FnZUdldHRlci5tZXNzYWdlIHx8IG1lc3NhZ2VHZXR0ZXIgfHwgZGVmYXVsdE1lc3NhZ2VcclxuXHQpIDogZGVmYXVsdE1lc3NhZ2U7XHJcblxyXG5cdGlmIChtZXNzYWdlKSB7XHJcblx0XHR0aGlzLnBsdWdpbnMubm90aWZpY2F0aW9uKGdldChtZXNzYWdlR2V0dGVyLCAndHlwZScpIHx8ICdlcnJvcicsIG1lc3NhZ2UpO1xyXG5cdFx0cmV0dXJuIGNhbGxiYWNrKEhhbmRsZXJFcnJvcihlcnJvckNvZGUsIG1lc3NhZ2UpKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBjYWxsYmFjayhIYW5kbGVyRXJyb3IoJ3Vua25vd24nLCAnVW5rbm93biBFcnJvcicpKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0ZXh0ID0gJycpIHtcclxuXHJcblx0cmV0dXJuICQoYDxkaXY+JHt0ZXh0fTwvZGl2PmApLnRleHQoKTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihudW1iZXIgPSAwLCBwcmVjaXNpb24gPSAwKSB7XHJcblxyXG5cdGNvbnN0IG4gPSBNYXRoLnBvdygxMCwgcHJlY2lzaW9uKTtcclxuXHJcblx0cmV0dXJuIE1hdGgucm91bmQobnVtYmVyICogbikgLyBuO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpIHtcclxuXHJcblx0cmV0dXJuIHRoaXMudWlzW25hbWVdID8gdGhpcy51aXNbbmFtZV0oKSA6ICcnO1xyXG5cclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuXHJcblx0aWYgKCFkYXRhKSByZXR1cm4gbnVsbDtcclxuXHJcblx0Y29uc3QgcmVjYXB0Y2hhRmllbGQgPSAnZy1yZWNhcHRjaGEtcmVzcG9uc2UnO1xyXG5cdGNvbnN0IHJlc3BvbnNlID0gZGF0YVtyZWNhcHRjaGFGaWVsZF07XHJcblxyXG5cdGRlbGV0ZSBkYXRhW3JlY2FwdGNoYUZpZWxkXTtcclxuXHJcblx0cmV0dXJuIHJlc3BvbnNlIHx8IG51bGw7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdC8vIFNpbmNlIFNQQShTaW5nbGUgUGFnZSBBcHApIG1pZ2h0IHVzZSBoYXNoYmFuZygvIy8/aGVsbG89d29ybGQpIGluIGl0cyB1cmwsXHJcblx0Ly8gYGxvY2F0aW9uLmhyZWZgIGlzIGJlaW5nIHVzZWQgdG8gZmluZCBxdWVyeSBzdHJpbmcuXHJcblx0Y29uc3QgWywgcXVlcnlBZnRlciA9ICcnXSA9IGxvY2F0aW9uLmhyZWYuc3BsaXQoJz8nKTtcclxuXHJcblx0Ly8gUmVtb3ZlIFVSTCBoYXNoXHJcblx0Y29uc3QgW3NlYXJjaF0gPSBxdWVyeUFmdGVyLnNwbGl0KCcjJyk7XHJcblxyXG5cdGlmICghc2VhcmNoKSByZXR1cm4ge307XHJcblxyXG5cdHJldHVybiBKU09OLnBhcnNlKFxyXG5cdFx0J3tcIicgKyBzZWFyY2gucmVwbGFjZSgvJi9nLCAnXCIsXCInKS5yZXBsYWNlKC89L2csICdcIjpcIicpICsgJ1wifScsXHJcblx0XHQoa2V5LCB2YWx1ZSkgPT4ga2V5ID09PSAnJyA/IHZhbHVlIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKVxyXG5cdCk7XHJcblxyXG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlTmFtZSkge1xyXG5cclxuXHRyZXR1cm4gdGhpcy5vcHRpb25zLnJlY2FwdGNoYS5zaXRla2V5ICYmXHJcblx0XHRcdHRoaXMub3B0aW9ucy5yZWNhcHRjaGEubW9kdWxlcy5zb21lKG0gPT4gbSA9PT0gbW9kdWxlTmFtZSk7XHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkYXRhKSB7XHJcblxyXG5cdGlmICghZGF0YS51c2VySWRPckVtYWlsKSB7XHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHR9XHJcblxyXG5cdGlmIChkYXRhLnVzZXJJZE9yRW1haWwuaW5kZXhPZignQCcpID4gMCkge1xyXG5cdFx0ZGF0YS5lbWFpbCA9IGRhdGEudXNlcklkT3JFbWFpbDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZGF0YS51c2VySWQgPSBkYXRhLnVzZXJJZE9yRW1haWw7XHJcblx0fVxyXG5cclxuXHRkZWxldGUgZGF0YS51c2VySWRPckVtYWlsO1xyXG5cclxuXHRyZXR1cm4gZGF0YTtcclxuXHJcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YXJpYW50KSB7XHJcblxyXG5cdHJldHVybiB2YXJpYW50LnR5cGVzXHJcblx0XHRcdC5tYXAodHlwZSA9PiBgJHt0eXBlLm9wdGlvbi5uYW1lfSAtICR7dHlwZS52YXJpYXRpb24udmFsdWV9YClcclxuXHRcdFx0LmpvaW4oJywgJyk7XHJcblxyXG59OyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LmFycmF5LmZpbmQnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLkFycmF5LmZpbmQ7XG4iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5hcnJheS5pcy1hcnJheScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuQXJyYXkuaXNBcnJheTtcbiIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5mcm9tLWNvZGUtcG9pbnQnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN0cmluZy5mcm9tQ29kZVBvaW50O1xuIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLnJlcGVhdCcpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJykuU3RyaW5nLnJlcGVhdDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICh0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJykgdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcbiIsIi8vIDIyLjEuMy4zMSBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbnZhciBVTlNDT1BBQkxFUyA9IHJlcXVpcmUoJy4vX3drcycpKCd1bnNjb3BhYmxlcycpO1xudmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5pZiAoQXJyYXlQcm90b1tVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSByZXF1aXJlKCcuL19oaWRlJykoQXJyYXlQcm90bywgVU5TQ09QQUJMRVMsIHt9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSkge1xuICBBcnJheVByb3RvW1VOU0NPUEFCTEVTXVtrZXldID0gdHJ1ZTtcbn07XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmICghaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG4iLCIvLyAwIC0+IEFycmF5I2ZvckVhY2hcbi8vIDEgLT4gQXJyYXkjbWFwXG4vLyAyIC0+IEFycmF5I2ZpbHRlclxuLy8gMyAtPiBBcnJheSNzb21lXG4vLyA0IC0+IEFycmF5I2V2ZXJ5XG4vLyA1IC0+IEFycmF5I2ZpbmRcbi8vIDYgLT4gQXJyYXkjZmluZEluZGV4XG52YXIgY3R4ID0gcmVxdWlyZSgnLi9fY3R4Jyk7XG52YXIgSU9iamVjdCA9IHJlcXVpcmUoJy4vX2lvYmplY3QnKTtcbnZhciB0b09iamVjdCA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpO1xudmFyIHRvTGVuZ3RoID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJyk7XG52YXIgYXNjID0gcmVxdWlyZSgnLi9fYXJyYXktc3BlY2llcy1jcmVhdGUnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKFRZUEUsICRjcmVhdGUpIHtcbiAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgdmFyIElTX0ZJTFRFUiA9IFRZUEUgPT0gMjtcbiAgdmFyIElTX1NPTUUgPSBUWVBFID09IDM7XG4gIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgdmFyIElTX0ZJTkRfSU5ERVggPSBUWVBFID09IDY7XG4gIHZhciBOT19IT0xFUyA9IFRZUEUgPT0gNSB8fCBJU19GSU5EX0lOREVYO1xuICB2YXIgY3JlYXRlID0gJGNyZWF0ZSB8fCBhc2M7XG4gIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGNhbGxiYWNrZm4sIHRoYXQpIHtcbiAgICB2YXIgTyA9IHRvT2JqZWN0KCR0aGlzKTtcbiAgICB2YXIgc2VsZiA9IElPYmplY3QoTyk7XG4gICAgdmFyIGYgPSBjdHgoY2FsbGJhY2tmbiwgdGhhdCwgMyk7XG4gICAgdmFyIGxlbmd0aCA9IHRvTGVuZ3RoKHNlbGYubGVuZ3RoKTtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciByZXN1bHQgPSBJU19NQVAgPyBjcmVhdGUoJHRoaXMsIGxlbmd0aCkgOiBJU19GSUxURVIgPyBjcmVhdGUoJHRoaXMsIDApIDogdW5kZWZpbmVkO1xuICAgIHZhciB2YWwsIHJlcztcbiAgICBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKE5PX0hPTEVTIHx8IGluZGV4IGluIHNlbGYpIHtcbiAgICAgIHZhbCA9IHNlbGZbaW5kZXhdO1xuICAgICAgcmVzID0gZih2YWwsIGluZGV4LCBPKTtcbiAgICAgIGlmIChUWVBFKSB7XG4gICAgICAgIGlmIChJU19NQVApIHJlc3VsdFtpbmRleF0gPSByZXM7ICAgLy8gbWFwXG4gICAgICAgIGVsc2UgaWYgKHJlcykgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgY2FzZSAzOiByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgLy8gc29tZVxuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIHZhbDsgICAgICAgICAgICAgIC8vIGZpbmRcbiAgICAgICAgICBjYXNlIDY6IHJldHVybiBpbmRleDsgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICBjYXNlIDI6IHJlc3VsdC5wdXNoKHZhbCk7ICAgICAgICAvLyBmaWx0ZXJcbiAgICAgICAgfSBlbHNlIGlmIChJU19FVkVSWSkgcmV0dXJuIGZhbHNlOyAvLyBldmVyeVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSVNfRklORF9JTkRFWCA/IC0xIDogSVNfU09NRSB8fCBJU19FVkVSWSA/IElTX0VWRVJZIDogcmVzdWx0O1xuICB9O1xufTtcbiIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpO1xudmFyIGlzQXJyYXkgPSByZXF1aXJlKCcuL19pcy1hcnJheScpO1xudmFyIFNQRUNJRVMgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICB2YXIgQztcbiAgaWYgKGlzQXJyYXkob3JpZ2luYWwpKSB7XG4gICAgQyA9IG9yaWdpbmFsLmNvbnN0cnVjdG9yO1xuICAgIC8vIGNyb3NzLXJlYWxtIGZhbGxiYWNrXG4gICAgaWYgKHR5cGVvZiBDID09ICdmdW5jdGlvbicgJiYgKEMgPT09IEFycmF5IHx8IGlzQXJyYXkoQy5wcm90b3R5cGUpKSkgQyA9IHVuZGVmaW5lZDtcbiAgICBpZiAoaXNPYmplY3QoQykpIHtcbiAgICAgIEMgPSBDW1NQRUNJRVNdO1xuICAgICAgaWYgKEMgPT09IG51bGwpIEMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9IHJldHVybiBDID09PSB1bmRlZmluZWQgPyBBcnJheSA6IEM7XG59O1xuIiwiLy8gOS40LjIuMyBBcnJheVNwZWNpZXNDcmVhdGUob3JpZ2luYWxBcnJheSwgbGVuZ3RoKVxudmFyIHNwZWNpZXNDb25zdHJ1Y3RvciA9IHJlcXVpcmUoJy4vX2FycmF5LXNwZWNpZXMtY29uc3RydWN0b3InKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGxlbmd0aCkge1xuICByZXR1cm4gbmV3IChzcGVjaWVzQ29uc3RydWN0b3Iob3JpZ2luYWwpKShsZW5ndGgpO1xufTtcbiIsInZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcbiIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7IHZlcnNpb246ICcyLjUuNycgfTtcbmlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgdGhhdCwgbGVuZ3RoKSB7XG4gIGFGdW5jdGlvbihmbik7XG4gIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgc3dpdGNoIChsZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbiAoYSkge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgfTtcbiAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhhdCwgYXJndW1lbnRzKTtcbiAgfTtcbn07XG4iLCIvLyA3LjIuMSBSZXF1aXJlT2JqZWN0Q29lcmNpYmxlKGFyZ3VtZW50KVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgaWYgKGl0ID09IHVuZGVmaW5lZCkgdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xufSk7XG4iLCJ2YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbnZhciBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50O1xuLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG52YXIgaXMgPSBpc09iamVjdChkb2N1bWVudCkgJiYgaXNPYmplY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9fY29yZScpO1xudmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xudmFyIGN0eCA9IHJlcXVpcmUoJy4vX2N0eCcpO1xudmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uICh0eXBlLCBuYW1lLCBzb3VyY2UpIHtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkY7XG4gIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICB2YXIgSVNfU1RBVElDID0gdHlwZSAmICRleHBvcnQuUztcbiAgdmFyIElTX1BST1RPID0gdHlwZSAmICRleHBvcnQuUDtcbiAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICB2YXIgdGFyZ2V0ID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIHx8IChnbG9iYWxbbmFtZV0gPSB7fSkgOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICB2YXIgZXhwb3J0cyA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pO1xuICB2YXIgZXhwUHJvdG8gPSBleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KTtcbiAgdmFyIGtleSwgb3duLCBvdXQsIGV4cDtcbiAgaWYgKElTX0dMT0JBTCkgc291cmNlID0gbmFtZTtcbiAgZm9yIChrZXkgaW4gc291cmNlKSB7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07XG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICBleHAgPSBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgaWYgKHRhcmdldCkgcmVkZWZpbmUodGFyZ2V0LCBrZXksIG91dCwgdHlwZSAmICRleHBvcnQuVSk7XG4gICAgLy8gZXhwb3J0XG4gICAgaWYgKGV4cG9ydHNba2V5XSAhPSBvdXQpIGhpZGUoZXhwb3J0cywga2V5LCBleHApO1xuICAgIGlmIChJU19QUk9UTyAmJiBleHBQcm90b1trZXldICE9IG91dCkgZXhwUHJvdG9ba2V5XSA9IG91dDtcbiAgfVxufTtcbmdsb2JhbC5jb3JlID0gY29yZTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGV4ZWMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFleGVjKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbiIsIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG52YXIgZ2xvYmFsID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGhcbiAgPyB3aW5kb3cgOiB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGZcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmICh0eXBlb2YgX19nID09ICdudW1iZXInKSBfX2cgPSBnbG9iYWw7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIGtleSkge1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG4iLCJ2YXIgZFAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKTtcbnZhciBjcmVhdGVEZXNjID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZnVuY3Rpb24gKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICByZXR1cm4gZFAuZihvYmplY3QsIGtleSwgY3JlYXRlRGVzYygxLCB2YWx1ZSkpO1xufSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpICYmICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXF1aXJlKCcuL19kb20tY3JlYXRlJykoJ2RpdicpLCAnYScsIHsgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9IH0pLmEgIT0gNztcbn0pO1xuIiwiLy8gZmFsbGJhY2sgZm9yIG5vbi1hcnJheS1saWtlIEVTMyBhbmQgbm9uLWVudW1lcmFibGUgb2xkIFY4IHN0cmluZ3NcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcbiIsIi8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gaXNBcnJheShhcmcpIHtcbiAgcmV0dXJuIGNvZihhcmcpID09ICdBcnJheSc7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIHR5cGVvZiBpdCA9PT0gJ29iamVjdCcgPyBpdCAhPT0gbnVsbCA6IHR5cGVvZiBpdCA9PT0gJ2Z1bmN0aW9uJztcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuIiwidmFyIGFuT2JqZWN0ID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0Jyk7XG52YXIgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpO1xudmFyIHRvUHJpbWl0aXZlID0gcmVxdWlyZSgnLi9fdG8tcHJpbWl0aXZlJyk7XG52YXIgZFAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZiAoSUU4X0RPTV9ERUZJTkUpIHRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cbiAgaWYgKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcykgdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGJpdG1hcCwgdmFsdWUpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgIGNvbmZpZ3VyYWJsZTogIShiaXRtYXAgJiAyKSxcbiAgICB3cml0YWJsZTogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn07XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnLi9fZ2xvYmFsJyk7XG52YXIgaGlkZSA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL19oYXMnKTtcbnZhciBTUkMgPSByZXF1aXJlKCcuL191aWQnKSgnc3JjJyk7XG52YXIgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJztcbnZhciAkdG9TdHJpbmcgPSBGdW5jdGlvbltUT19TVFJJTkddO1xudmFyIFRQTCA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi9fY29yZScpLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuICR0b1N0cmluZy5jYWxsKGl0KTtcbn07XG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChPLCBrZXksIHZhbCwgc2FmZSkge1xuICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWwgPT0gJ2Z1bmN0aW9uJztcbiAgaWYgKGlzRnVuY3Rpb24pIGhhcyh2YWwsICduYW1lJykgfHwgaGlkZSh2YWwsICduYW1lJywga2V5KTtcbiAgaWYgKE9ba2V5XSA9PT0gdmFsKSByZXR1cm47XG4gIGlmIChpc0Z1bmN0aW9uKSBoYXModmFsLCBTUkMpIHx8IGhpZGUodmFsLCBTUkMsIE9ba2V5XSA/ICcnICsgT1trZXldIDogVFBMLmpvaW4oU3RyaW5nKGtleSkpKTtcbiAgaWYgKE8gPT09IGdsb2JhbCkge1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIGlmICghc2FmZSkge1xuICAgIGRlbGV0ZSBPW2tleV07XG4gICAgaGlkZShPLCBrZXksIHZhbCk7XG4gIH0gZWxzZSBpZiAoT1trZXldKSB7XG4gICAgT1trZXldID0gdmFsO1xuICB9IGVsc2Uge1xuICAgIGhpZGUoTywga2V5LCB2YWwpO1xuICB9XG4vLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbn0pKEZ1bmN0aW9uLnByb3RvdHlwZSwgVE9fU1RSSU5HLCBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgJiYgdGhpc1tTUkNdIHx8ICR0b1N0cmluZy5jYWxsKHRoaXMpO1xufSk7XG4iLCJ2YXIgY29yZSA9IHJlcXVpcmUoJy4vX2NvcmUnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKTtcbnZhciBTSEFSRUQgPSAnX19jb3JlLWpzX3NoYXJlZF9fJztcbnZhciBzdG9yZSA9IGdsb2JhbFtTSEFSRURdIHx8IChnbG9iYWxbU0hBUkVEXSA9IHt9KTtcblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG59KSgndmVyc2lvbnMnLCBbXSkucHVzaCh7XG4gIHZlcnNpb246IGNvcmUudmVyc2lvbixcbiAgbW9kZTogcmVxdWlyZSgnLi9fbGlicmFyeScpID8gJ3B1cmUnIDogJ2dsb2JhbCcsXG4gIGNvcHlyaWdodDogJ8KpIDIwMTggRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZXBlYXQoY291bnQpIHtcbiAgdmFyIHN0ciA9IFN0cmluZyhkZWZpbmVkKHRoaXMpKTtcbiAgdmFyIHJlcyA9ICcnO1xuICB2YXIgbiA9IHRvSW50ZWdlcihjb3VudCk7XG4gIGlmIChuIDwgMCB8fCBuID09IEluZmluaXR5KSB0aHJvdyBSYW5nZUVycm9yKFwiQ291bnQgY2FuJ3QgYmUgbmVnYXRpdmVcIik7XG4gIGZvciAoO24gPiAwOyAobiA+Pj49IDEpICYmIChzdHIgKz0gc3RyKSkgaWYgKG4gJiAxKSByZXMgKz0gc3RyO1xuICByZXR1cm4gcmVzO1xufTtcbiIsInZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCA9IE1hdGguY2VpbDtcbnZhciBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG4iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJyk7XG52YXIgbWluID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdCkge1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcbiIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQpIHtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXQsIFMpIHtcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmIChTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICBpZiAodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgaWYgKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuIiwidmFyIGlkID0gMDtcbnZhciBweCA9IE1hdGgucmFuZG9tKCk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG4iLCJ2YXIgc3RvcmUgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgnd2tzJyk7XG52YXIgdWlkID0gcmVxdWlyZSgnLi9fdWlkJyk7XG52YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fZ2xvYmFsJykuU3ltYm9sO1xudmFyIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHN0b3JlW25hbWVdIHx8IChzdG9yZVtuYW1lXSA9XG4gICAgVVNFX1NZTUJPTCAmJiBTeW1ib2xbbmFtZV0gfHwgKFVTRV9TWU1CT0wgPyBTeW1ib2wgOiB1aWQpKCdTeW1ib2wuJyArIG5hbWUpKTtcbn07XG5cbiRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG4iLCIndXNlIHN0cmljdCc7XG4vLyAyMi4xLjMuOCBBcnJheS5wcm90b3R5cGUuZmluZChwcmVkaWNhdGUsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyICRmaW5kID0gcmVxdWlyZSgnLi9fYXJyYXktbWV0aG9kcycpKDUpO1xudmFyIEtFWSA9ICdmaW5kJztcbnZhciBmb3JjZWQgPSB0cnVlO1xuLy8gU2hvdWxkbid0IHNraXAgaG9sZXNcbmlmIChLRVkgaW4gW10pIEFycmF5KDEpW0tFWV0oZnVuY3Rpb24gKCkgeyBmb3JjZWQgPSBmYWxzZTsgfSk7XG4kZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIGZvcmNlZCwgJ0FycmF5Jywge1xuICBmaW5kOiBmdW5jdGlvbiBmaW5kKGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG4gICAgcmV0dXJuICRmaW5kKHRoaXMsIGNhbGxiYWNrZm4sIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkKTtcbiAgfVxufSk7XG5yZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKShLRVkpO1xuIiwiLy8gMjIuMS4yLjIgLyAxNS40LjMuMiBBcnJheS5pc0FycmF5KGFyZylcbnZhciAkZXhwb3J0ID0gcmVxdWlyZSgnLi9fZXhwb3J0Jyk7XG5cbiRleHBvcnQoJGV4cG9ydC5TLCAnQXJyYXknLCB7IGlzQXJyYXk6IHJlcXVpcmUoJy4vX2lzLWFycmF5JykgfSk7XG4iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xudmFyIHRvQWJzb2x1dGVJbmRleCA9IHJlcXVpcmUoJy4vX3RvLWFic29sdXRlLWluZGV4Jyk7XG52YXIgZnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcbnZhciAkZnJvbUNvZGVQb2ludCA9IFN0cmluZy5mcm9tQ29kZVBvaW50O1xuXG4vLyBsZW5ndGggc2hvdWxkIGJlIDEsIG9sZCBGRiBwcm9ibGVtXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICghISRmcm9tQ29kZVBvaW50ICYmICRmcm9tQ29kZVBvaW50Lmxlbmd0aCAhPSAxKSwgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4yLjIgU3RyaW5nLmZyb21Db2RlUG9pbnQoLi4uY29kZVBvaW50cylcbiAgZnJvbUNvZGVQb2ludDogZnVuY3Rpb24gZnJvbUNvZGVQb2ludCh4KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB2YXIgcmVzID0gW107XG4gICAgdmFyIGFMZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgY29kZTtcbiAgICB3aGlsZSAoYUxlbiA+IGkpIHtcbiAgICAgIGNvZGUgPSArYXJndW1lbnRzW2krK107XG4gICAgICBpZiAodG9BYnNvbHV0ZUluZGV4KGNvZGUsIDB4MTBmZmZmKSAhPT0gY29kZSkgdGhyb3cgUmFuZ2VFcnJvcihjb2RlICsgJyBpcyBub3QgYSB2YWxpZCBjb2RlIHBvaW50Jyk7XG4gICAgICByZXMucHVzaChjb2RlIDwgMHgxMDAwMFxuICAgICAgICA/IGZyb21DaGFyQ29kZShjb2RlKVxuICAgICAgICA6IGZyb21DaGFyQ29kZSgoKGNvZGUgLT0gMHgxMDAwMCkgPj4gMTApICsgMHhkODAwLCBjb2RlICUgMHg0MDAgKyAweGRjMDApXG4gICAgICApO1xuICAgIH0gcmV0dXJuIHJlcy5qb2luKCcnKTtcbiAgfVxufSk7XG4iLCJ2YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpO1xuXG4kZXhwb3J0KCRleHBvcnQuUCwgJ1N0cmluZycsIHtcbiAgLy8gMjEuMS4zLjEzIFN0cmluZy5wcm90b3R5cGUucmVwZWF0KGNvdW50KVxuICByZXBlYXQ6IHJlcXVpcmUoJy4vX3N0cmluZy1yZXBlYXQnKVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBrZXlzID0gcmVxdWlyZSgnb2JqZWN0LWtleXMnKTtcbnZhciBmb3JlYWNoID0gcmVxdWlyZSgnZm9yZWFjaCcpO1xudmFyIGhhc1N5bWJvbHMgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2woKSA9PT0gJ3N5bWJvbCc7XG5cbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKGZuKSB7XG5cdHJldHVybiB0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicgJiYgdG9TdHIuY2FsbChmbikgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG59O1xuXG52YXIgYXJlUHJvcGVydHlEZXNjcmlwdG9yc1N1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIG9iaiA9IHt9O1xuXHR0cnkge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosICd4JywgeyBlbnVtZXJhYmxlOiBmYWxzZSwgdmFsdWU6IG9iaiB9KTtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMsIG5vLXJlc3RyaWN0ZWQtc3ludGF4ICovXG4gICAgICAgIGZvciAodmFyIF8gaW4gb2JqKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzLCBuby1yZXN0cmljdGVkLXN5bnRheCAqL1xuXHRcdHJldHVybiBvYmoueCA9PT0gb2JqO1xuXHR9IGNhdGNoIChlKSB7IC8qIHRoaXMgaXMgSUUgOC4gKi9cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG52YXIgc3VwcG9ydHNEZXNjcmlwdG9ycyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAmJiBhcmVQcm9wZXJ0eURlc2NyaXB0b3JzU3VwcG9ydGVkKCk7XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIHZhbHVlLCBwcmVkaWNhdGUpIHtcblx0aWYgKG5hbWUgaW4gb2JqZWN0ICYmICghaXNGdW5jdGlvbihwcmVkaWNhdGUpIHx8ICFwcmVkaWNhdGUoKSkpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0aWYgKHN1cHBvcnRzRGVzY3JpcHRvcnMpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdHdyaXRhYmxlOiB0cnVlXG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0b2JqZWN0W25hbWVdID0gdmFsdWU7XG5cdH1cbn07XG5cbnZhciBkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKG9iamVjdCwgbWFwKSB7XG5cdHZhciBwcmVkaWNhdGVzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB7fTtcblx0dmFyIHByb3BzID0ga2V5cyhtYXApO1xuXHRpZiAoaGFzU3ltYm9scykge1xuXHRcdHByb3BzID0gcHJvcHMuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMobWFwKSk7XG5cdH1cblx0Zm9yZWFjaChwcm9wcywgZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRkZWZpbmVQcm9wZXJ0eShvYmplY3QsIG5hbWUsIG1hcFtuYW1lXSwgcHJlZGljYXRlc1tuYW1lXSk7XG5cdH0pO1xufTtcblxuZGVmaW5lUHJvcGVydGllcy5zdXBwb3J0c0Rlc2NyaXB0b3JzID0gISFzdXBwb3J0c0Rlc2NyaXB0b3JzO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZmluZVByb3BlcnRpZXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNS1zaGltXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgaXNBcmdzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpO1xudmFyIGlzRW51bWVyYWJsZSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7XG52YXIgaGFzRG9udEVudW1CdWcgPSAhaXNFbnVtZXJhYmxlLmNhbGwoeyB0b1N0cmluZzogbnVsbCB9LCAndG9TdHJpbmcnKTtcbnZhciBoYXNQcm90b0VudW1CdWcgPSBpc0VudW1lcmFibGUuY2FsbChmdW5jdGlvbiAoKSB7fSwgJ3Byb3RvdHlwZScpO1xudmFyIGRvbnRFbnVtcyA9IFtcblx0J3RvU3RyaW5nJyxcblx0J3RvTG9jYWxlU3RyaW5nJyxcblx0J3ZhbHVlT2YnLFxuXHQnaGFzT3duUHJvcGVydHknLFxuXHQnaXNQcm90b3R5cGVPZicsXG5cdCdwcm9wZXJ0eUlzRW51bWVyYWJsZScsXG5cdCdjb25zdHJ1Y3Rvcidcbl07XG52YXIgZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUgPSBmdW5jdGlvbiAobykge1xuXHR2YXIgY3RvciA9IG8uY29uc3RydWN0b3I7XG5cdHJldHVybiBjdG9yICYmIGN0b3IucHJvdG90eXBlID09PSBvO1xufTtcbnZhciBleGNsdWRlZEtleXMgPSB7XG5cdCRhcHBsaWNhdGlvbkNhY2hlOiB0cnVlLFxuXHQkY29uc29sZTogdHJ1ZSxcblx0JGV4dGVybmFsOiB0cnVlLFxuXHQkZnJhbWU6IHRydWUsXG5cdCRmcmFtZUVsZW1lbnQ6IHRydWUsXG5cdCRmcmFtZXM6IHRydWUsXG5cdCRpbm5lckhlaWdodDogdHJ1ZSxcblx0JGlubmVyV2lkdGg6IHRydWUsXG5cdCRvdXRlckhlaWdodDogdHJ1ZSxcblx0JG91dGVyV2lkdGg6IHRydWUsXG5cdCRwYWdlWE9mZnNldDogdHJ1ZSxcblx0JHBhZ2VZT2Zmc2V0OiB0cnVlLFxuXHQkcGFyZW50OiB0cnVlLFxuXHQkc2Nyb2xsTGVmdDogdHJ1ZSxcblx0JHNjcm9sbFRvcDogdHJ1ZSxcblx0JHNjcm9sbFg6IHRydWUsXG5cdCRzY3JvbGxZOiB0cnVlLFxuXHQkc2VsZjogdHJ1ZSxcblx0JHdlYmtpdEluZGV4ZWREQjogdHJ1ZSxcblx0JHdlYmtpdFN0b3JhZ2VJbmZvOiB0cnVlLFxuXHQkd2luZG93OiB0cnVlXG59O1xudmFyIGhhc0F1dG9tYXRpb25FcXVhbGl0eUJ1ZyA9IChmdW5jdGlvbiAoKSB7XG5cdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBmYWxzZTsgfVxuXHRmb3IgKHZhciBrIGluIHdpbmRvdykge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoIWV4Y2x1ZGVkS2V5c1snJCcgKyBrXSAmJiBoYXMuY2FsbCh3aW5kb3csIGspICYmIHdpbmRvd1trXSAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93W2tdID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlKHdpbmRvd1trXSk7XG5cdFx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59KCkpO1xudmFyIGVxdWFsc0NvbnN0cnVjdG9yUHJvdG90eXBlSWZOb3RCdWdneSA9IGZ1bmN0aW9uIChvKSB7XG5cdC8qIGdsb2JhbCB3aW5kb3cgKi9cblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNBdXRvbWF0aW9uRXF1YWxpdHlCdWcpIHtcblx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdH1cblx0dHJ5IHtcblx0XHRyZXR1cm4gZXF1YWxzQ29uc3RydWN0b3JQcm90b3R5cGUobyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG5cbnZhciBrZXlzU2hpbSA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7XG5cdHZhciBpc09iamVjdCA9IG9iamVjdCAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0Jztcblx0dmFyIGlzRnVuY3Rpb24gPSB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG5cdHZhciBpc0FyZ3VtZW50cyA9IGlzQXJncyhvYmplY3QpO1xuXHR2YXIgaXNTdHJpbmcgPSBpc09iamVjdCAmJiB0b1N0ci5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuXHR2YXIgdGhlS2V5cyA9IFtdO1xuXG5cdGlmICghaXNPYmplY3QgJiYgIWlzRnVuY3Rpb24gJiYgIWlzQXJndW1lbnRzKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignT2JqZWN0LmtleXMgY2FsbGVkIG9uIGEgbm9uLW9iamVjdCcpO1xuXHR9XG5cblx0dmFyIHNraXBQcm90byA9IGhhc1Byb3RvRW51bUJ1ZyAmJiBpc0Z1bmN0aW9uO1xuXHRpZiAoaXNTdHJpbmcgJiYgb2JqZWN0Lmxlbmd0aCA+IDAgJiYgIWhhcy5jYWxsKG9iamVjdCwgMCkpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdC5sZW5ndGg7ICsraSkge1xuXHRcdFx0dGhlS2V5cy5wdXNoKFN0cmluZyhpKSk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKGlzQXJndW1lbnRzICYmIG9iamVjdC5sZW5ndGggPiAwKSB7XG5cdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBvYmplY3QubGVuZ3RoOyArK2opIHtcblx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcoaikpO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRmb3IgKHZhciBuYW1lIGluIG9iamVjdCkge1xuXHRcdFx0aWYgKCEoc2tpcFByb3RvICYmIG5hbWUgPT09ICdwcm90b3R5cGUnKSAmJiBoYXMuY2FsbChvYmplY3QsIG5hbWUpKSB7XG5cdFx0XHRcdHRoZUtleXMucHVzaChTdHJpbmcobmFtZSkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmIChoYXNEb250RW51bUJ1Zykge1xuXHRcdHZhciBza2lwQ29uc3RydWN0b3IgPSBlcXVhbHNDb25zdHJ1Y3RvclByb3RvdHlwZUlmTm90QnVnZ3kob2JqZWN0KTtcblxuXHRcdGZvciAodmFyIGsgPSAwOyBrIDwgZG9udEVudW1zLmxlbmd0aDsgKytrKSB7XG5cdFx0XHRpZiAoIShza2lwQ29uc3RydWN0b3IgJiYgZG9udEVudW1zW2tdID09PSAnY29uc3RydWN0b3InKSAmJiBoYXMuY2FsbChvYmplY3QsIGRvbnRFbnVtc1trXSkpIHtcblx0XHRcdFx0dGhlS2V5cy5wdXNoKGRvbnRFbnVtc1trXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0aGVLZXlzO1xufTtcblxua2V5c1NoaW0uc2hpbSA9IGZ1bmN0aW9uIHNoaW1PYmplY3RLZXlzKCkge1xuXHRpZiAoT2JqZWN0LmtleXMpIHtcblx0XHR2YXIga2V5c1dvcmtzV2l0aEFyZ3VtZW50cyA9IChmdW5jdGlvbiAoKSB7XG5cdFx0XHQvLyBTYWZhcmkgNS4wIGJ1Z1xuXHRcdFx0cmV0dXJuIChPYmplY3Qua2V5cyhhcmd1bWVudHMpIHx8ICcnKS5sZW5ndGggPT09IDI7XG5cdFx0fSgxLCAyKSk7XG5cdFx0aWYgKCFrZXlzV29ya3NXaXRoQXJndW1lbnRzKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWxLZXlzID0gT2JqZWN0LmtleXM7XG5cdFx0XHRPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIGtleXMob2JqZWN0KSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZnVuYy1uYW1lLW1hdGNoaW5nXG5cdFx0XHRcdGlmIChpc0FyZ3Mob2JqZWN0KSkge1xuXHRcdFx0XHRcdHJldHVybiBvcmlnaW5hbEtleXMoc2xpY2UuY2FsbChvYmplY3QpKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRyZXR1cm4gb3JpZ2luYWxLZXlzKG9iamVjdCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdE9iamVjdC5rZXlzID0ga2V5c1NoaW07XG5cdH1cblx0cmV0dXJuIE9iamVjdC5rZXlzIHx8IGtleXNTaGltO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBrZXlzU2hpbTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuXHR2YXIgc3RyID0gdG9TdHIuY2FsbCh2YWx1ZSk7XG5cdHZhciBpc0FyZ3MgPSBzdHIgPT09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xuXHRpZiAoIWlzQXJncykge1xuXHRcdGlzQXJncyA9IHN0ciAhPT0gJ1tvYmplY3QgQXJyYXldJyAmJlxuXHRcdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHRcdHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcblx0XHRcdHR5cGVvZiB2YWx1ZS5sZW5ndGggPT09ICdudW1iZXInICYmXG5cdFx0XHR2YWx1ZS5sZW5ndGggPj0gMCAmJlxuXHRcdFx0dG9TdHIuY2FsbCh2YWx1ZS5jYWxsZWUpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuXHR9XG5cdHJldHVybiBpc0FyZ3M7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiBnbG9iYWxzXG5cdFNldCxcblx0TWFwLFxuXHRXZWFrU2V0LFxuXHRXZWFrTWFwLFxuXG5cdFByb21pc2UsXG5cblx0U3ltYm9sLFxuXHRQcm94eSxcblxuXHRBdG9taWNzLFxuXHRTaGFyZWRBcnJheUJ1ZmZlcixcblxuXHRBcnJheUJ1ZmZlcixcblx0RGF0YVZpZXcsXG5cdFVpbnQ4QXJyYXksXG5cdEZsb2F0MzJBcnJheSxcblx0RmxvYXQ2NEFycmF5LFxuXHRJbnQ4QXJyYXksXG5cdEludDE2QXJyYXksXG5cdEludDMyQXJyYXksXG5cdFVpbnQ4Q2xhbXBlZEFycmF5LFxuXHRVaW50MTZBcnJheSxcblx0VWludDMyQXJyYXksXG4qL1xuXG52YXIgdW5kZWZpbmVkOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNoYWRvdy1yZXN0cmljdGVkLW5hbWVzXG5cbnZhciBUaHJvd1R5cGVFcnJvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Jcblx0PyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcmd1bWVudHMsICdjYWxsZWUnKS5nZXQ7IH0oKSlcblx0OiBmdW5jdGlvbiAoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoKTsgfTtcblxudmFyIGhhc1N5bWJvbHMgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICdzeW1ib2wnO1xuXG52YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguX19wcm90b19fOyB9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG5cbnZhciBnZW5lcmF0b3I7IC8vID0gZnVuY3Rpb24gKiAoKSB7fTtcbnZhciBnZW5lcmF0b3JGdW5jdGlvbiA9IGdlbmVyYXRvciA/IGdldFByb3RvKGdlbmVyYXRvcikgOiB1bmRlZmluZWQ7XG52YXIgYXN5bmNGbjsgLy8gYXN5bmMgZnVuY3Rpb24oKSB7fTtcbnZhciBhc3luY0Z1bmN0aW9uID0gYXN5bmNGbiA/IGFzeW5jRm4uY29uc3RydWN0b3IgOiB1bmRlZmluZWQ7XG52YXIgYXN5bmNHZW47IC8vIGFzeW5jIGZ1bmN0aW9uICogKCkge307XG52YXIgYXN5bmNHZW5GdW5jdGlvbiA9IGFzeW5jR2VuID8gZ2V0UHJvdG8oYXN5bmNHZW4pIDogdW5kZWZpbmVkO1xudmFyIGFzeW5jR2VuSXRlcmF0b3IgPSBhc3luY0dlbiA/IGFzeW5jR2VuKCkgOiB1bmRlZmluZWQ7XG5cbnZhciBUeXBlZEFycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8oVWludDhBcnJheSk7XG5cbnZhciBJTlRSSU5TSUNTID0ge1xuXHQnJCAlQXJyYXklJzogQXJyYXksXG5cdCckICVBcnJheUJ1ZmZlciUnOiB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQXJyYXlCdWZmZXIsXG5cdCckICVBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiB0eXBlb2YgQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogQXJyYXlCdWZmZXIucHJvdG90eXBlLFxuXHQnJCAlQXJyYXlJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzID8gZ2V0UHJvdG8oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSA6IHVuZGVmaW5lZCxcblx0JyQgJUFycmF5UHJvdG90eXBlJSc6IEFycmF5LnByb3RvdHlwZSxcblx0JyQgJUFycmF5UHJvdG9fZW50cmllcyUnOiBBcnJheS5wcm90b3R5cGUuZW50cmllcyxcblx0JyQgJUFycmF5UHJvdG9fZm9yRWFjaCUnOiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaCxcblx0JyQgJUFycmF5UHJvdG9fa2V5cyUnOiBBcnJheS5wcm90b3R5cGUua2V5cyxcblx0JyQgJUFycmF5UHJvdG9fdmFsdWVzJSc6IEFycmF5LnByb3RvdHlwZS52YWx1ZXMsXG5cdCckICVBc3luY0Zyb21TeW5jSXRlcmF0b3JQcm90b3R5cGUlJzogdW5kZWZpbmVkLFxuXHQnJCAlQXN5bmNGdW5jdGlvbiUnOiBhc3luY0Z1bmN0aW9uLFxuXHQnJCAlQXN5bmNGdW5jdGlvblByb3RvdHlwZSUnOiBhc3luY0Z1bmN0aW9uID8gYXN5bmNGdW5jdGlvbi5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG5cdCckICVBc3luY0dlbmVyYXRvciUnOiBhc3luY0dlbiA/IGdldFByb3RvKGFzeW5jR2VuSXRlcmF0b3IpIDogdW5kZWZpbmVkLFxuXHQnJCAlQXN5bmNHZW5lcmF0b3JGdW5jdGlvbiUnOiBhc3luY0dlbkZ1bmN0aW9uLFxuXHQnJCAlQXN5bmNHZW5lcmF0b3JQcm90b3R5cGUlJzogYXN5bmNHZW5GdW5jdGlvbiA/IGFzeW5jR2VuRnVuY3Rpb24ucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuXHQnJCAlQXN5bmNJdGVyYXRvclByb3RvdHlwZSUnOiBhc3luY0dlbkl0ZXJhdG9yICYmIGhhc1N5bWJvbHMgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgPyBhc3luY0dlbkl0ZXJhdG9yW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIDogdW5kZWZpbmVkLFxuXHQnJCAlQXRvbWljcyUnOiB0eXBlb2YgQXRvbWljcyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBBdG9taWNzLFxuXHQnJCAlQm9vbGVhbiUnOiBCb29sZWFuLFxuXHQnJCAlQm9vbGVhblByb3RvdHlwZSUnOiBCb29sZWFuLnByb3RvdHlwZSxcblx0JyQgJURhdGFWaWV3JSc6IHR5cGVvZiBEYXRhVmlldyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBEYXRhVmlldyxcblx0JyQgJURhdGFWaWV3UHJvdG90eXBlJSc6IHR5cGVvZiBEYXRhVmlldyA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBEYXRhVmlldy5wcm90b3R5cGUsXG5cdCckICVEYXRlJSc6IERhdGUsXG5cdCckICVEYXRlUHJvdG90eXBlJSc6IERhdGUucHJvdG90eXBlLFxuXHQnJCAlZGVjb2RlVVJJJSc6IGRlY29kZVVSSSxcblx0JyQgJWRlY29kZVVSSUNvbXBvbmVudCUnOiBkZWNvZGVVUklDb21wb25lbnQsXG5cdCckICVlbmNvZGVVUkklJzogZW5jb2RlVVJJLFxuXHQnJCAlZW5jb2RlVVJJQ29tcG9uZW50JSc6IGVuY29kZVVSSUNvbXBvbmVudCxcblx0JyQgJUVycm9yJSc6IEVycm9yLFxuXHQnJCAlRXJyb3JQcm90b3R5cGUlJzogRXJyb3IucHJvdG90eXBlLFxuXHQnJCAlZXZhbCUnOiBldmFsLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV2YWxcblx0JyQgJUV2YWxFcnJvciUnOiBFdmFsRXJyb3IsXG5cdCckICVFdmFsRXJyb3JQcm90b3R5cGUlJzogRXZhbEVycm9yLnByb3RvdHlwZSxcblx0JyQgJUZsb2F0MzJBcnJheSUnOiB0eXBlb2YgRmxvYXQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0MzJBcnJheSxcblx0JyQgJUZsb2F0MzJBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgRmxvYXQzMkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IEZsb2F0MzJBcnJheS5wcm90b3R5cGUsXG5cdCckICVGbG9hdDY0QXJyYXklJzogdHlwZW9mIEZsb2F0NjRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDY0QXJyYXksXG5cdCckICVGbG9hdDY0QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIEZsb2F0NjRBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBGbG9hdDY0QXJyYXkucHJvdG90eXBlLFxuXHQnJCAlRnVuY3Rpb24lJzogRnVuY3Rpb24sXG5cdCckICVGdW5jdGlvblByb3RvdHlwZSUnOiBGdW5jdGlvbi5wcm90b3R5cGUsXG5cdCckICVHZW5lcmF0b3IlJzogZ2VuZXJhdG9yID8gZ2V0UHJvdG8oZ2VuZXJhdG9yKCkpIDogdW5kZWZpbmVkLFxuXHQnJCAlR2VuZXJhdG9yRnVuY3Rpb24lJzogZ2VuZXJhdG9yRnVuY3Rpb24sXG5cdCckICVHZW5lcmF0b3JQcm90b3R5cGUlJzogZ2VuZXJhdG9yRnVuY3Rpb24gPyBnZW5lcmF0b3JGdW5jdGlvbi5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG5cdCckICVJbnQ4QXJyYXklJzogdHlwZW9mIEludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXksXG5cdCckICVJbnQ4QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIEludDhBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXkucHJvdG90eXBlLFxuXHQnJCAlSW50MTZBcnJheSUnOiB0eXBlb2YgSW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQxNkFycmF5LFxuXHQnJCAlSW50MTZBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgSW50MTZBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQ4QXJyYXkucHJvdG90eXBlLFxuXHQnJCAlSW50MzJBcnJheSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LFxuXHQnJCAlSW50MzJBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgSW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBJbnQzMkFycmF5LnByb3RvdHlwZSxcblx0JyQgJWlzRmluaXRlJSc6IGlzRmluaXRlLFxuXHQnJCAlaXNOYU4lJzogaXNOYU4sXG5cdCckICVJdGVyYXRvclByb3RvdHlwZSUnOiBoYXNTeW1ib2xzID8gZ2V0UHJvdG8oZ2V0UHJvdG8oW11bU3ltYm9sLml0ZXJhdG9yXSgpKSkgOiB1bmRlZmluZWQsXG5cdCckICVKU09OJSc6IEpTT04sXG5cdCckICVKU09OUGFyc2UlJzogSlNPTi5wYXJzZSxcblx0JyQgJU1hcCUnOiB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IE1hcCxcblx0JyQgJU1hcEl0ZXJhdG9yUHJvdG90eXBlJSc6IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8ICFoYXNTeW1ib2xzID8gdW5kZWZpbmVkIDogZ2V0UHJvdG8obmV3IE1hcCgpW1N5bWJvbC5pdGVyYXRvcl0oKSksXG5cdCckICVNYXBQcm90b3R5cGUlJzogdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBNYXAucHJvdG90eXBlLFxuXHQnJCAlTWF0aCUnOiBNYXRoLFxuXHQnJCAlTnVtYmVyJSc6IE51bWJlcixcblx0JyQgJU51bWJlclByb3RvdHlwZSUnOiBOdW1iZXIucHJvdG90eXBlLFxuXHQnJCAlT2JqZWN0JSc6IE9iamVjdCxcblx0JyQgJU9iamVjdFByb3RvdHlwZSUnOiBPYmplY3QucHJvdG90eXBlLFxuXHQnJCAlT2JqUHJvdG9fdG9TdHJpbmclJzogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcblx0JyQgJU9ialByb3RvX3ZhbHVlT2YlJzogT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mLFxuXHQnJCAlcGFyc2VGbG9hdCUnOiBwYXJzZUZsb2F0LFxuXHQnJCAlcGFyc2VJbnQlJzogcGFyc2VJbnQsXG5cdCckICVQcm9taXNlJSc6IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb21pc2UsXG5cdCckICVQcm9taXNlUHJvdG90eXBlJSc6IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb21pc2UucHJvdG90eXBlLFxuXHQnJCAlUHJvbWlzZVByb3RvX3RoZW4lJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZS5wcm90b3R5cGUudGhlbixcblx0JyQgJVByb21pc2VfYWxsJSc6IHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb21pc2UuYWxsLFxuXHQnJCAlUHJvbWlzZV9yZWplY3QlJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZS5yZWplY3QsXG5cdCckICVQcm9taXNlX3Jlc29sdmUlJzogdHlwZW9mIFByb21pc2UgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogUHJvbWlzZS5yZXNvbHZlLFxuXHQnJCAlUHJveHklJzogdHlwZW9mIFByb3h5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFByb3h5LFxuXHQnJCAlUmFuZ2VFcnJvciUnOiBSYW5nZUVycm9yLFxuXHQnJCAlUmFuZ2VFcnJvclByb3RvdHlwZSUnOiBSYW5nZUVycm9yLnByb3RvdHlwZSxcblx0JyQgJVJlZmVyZW5jZUVycm9yJSc6IFJlZmVyZW5jZUVycm9yLFxuXHQnJCAlUmVmZXJlbmNlRXJyb3JQcm90b3R5cGUlJzogUmVmZXJlbmNlRXJyb3IucHJvdG90eXBlLFxuXHQnJCAlUmVmbGVjdCUnOiB0eXBlb2YgUmVmbGVjdCA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBSZWZsZWN0LFxuXHQnJCAlUmVnRXhwJSc6IFJlZ0V4cCxcblx0JyQgJVJlZ0V4cFByb3RvdHlwZSUnOiBSZWdFeHAucHJvdG90eXBlLFxuXHQnJCAlU2V0JSc6IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2V0LFxuXHQnJCAlU2V0SXRlcmF0b3JQcm90b3R5cGUlJzogdHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcgfHwgIWhhc1N5bWJvbHMgPyB1bmRlZmluZWQgOiBnZXRQcm90byhuZXcgU2V0KClbU3ltYm9sLml0ZXJhdG9yXSgpKSxcblx0JyQgJVNldFByb3RvdHlwZSUnOiB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFNldC5wcm90b3R5cGUsXG5cdCckICVTaGFyZWRBcnJheUJ1ZmZlciUnOiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2hhcmVkQXJyYXlCdWZmZXIsXG5cdCckICVTaGFyZWRBcnJheUJ1ZmZlclByb3RvdHlwZSUnOiB0eXBlb2YgU2hhcmVkQXJyYXlCdWZmZXIgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogU2hhcmVkQXJyYXlCdWZmZXIucHJvdG90eXBlLFxuXHQnJCAlU3RyaW5nJSc6IFN0cmluZyxcblx0JyQgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJSc6IGhhc1N5bWJvbHMgPyBnZXRQcm90bygnJ1tTeW1ib2wuaXRlcmF0b3JdKCkpIDogdW5kZWZpbmVkLFxuXHQnJCAlU3RyaW5nUHJvdG90eXBlJSc6IFN0cmluZy5wcm90b3R5cGUsXG5cdCckICVTeW1ib2wlJzogaGFzU3ltYm9scyA/IFN5bWJvbCA6IHVuZGVmaW5lZCxcblx0JyQgJVN5bWJvbFByb3RvdHlwZSUnOiBoYXNTeW1ib2xzID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcblx0JyQgJVN5bnRheEVycm9yJSc6IFN5bnRheEVycm9yLFxuXHQnJCAlU3ludGF4RXJyb3JQcm90b3R5cGUlJzogU3ludGF4RXJyb3IucHJvdG90eXBlLFxuXHQnJCAlVGhyb3dUeXBlRXJyb3IlJzogVGhyb3dUeXBlRXJyb3IsXG5cdCckICVUeXBlZEFycmF5JSc6IFR5cGVkQXJyYXksXG5cdCckICVUeXBlZEFycmF5UHJvdG90eXBlJSc6IFR5cGVkQXJyYXkgPyBUeXBlZEFycmF5LnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcblx0JyQgJVR5cGVFcnJvciUnOiBUeXBlRXJyb3IsXG5cdCckICVUeXBlRXJyb3JQcm90b3R5cGUlJzogVHlwZUVycm9yLnByb3RvdHlwZSxcblx0JyQgJVVpbnQ4QXJyYXklJzogdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhBcnJheSxcblx0JyQgJVVpbnQ4QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIFVpbnQ4QXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhBcnJheS5wcm90b3R5cGUsXG5cdCckICVVaW50OENsYW1wZWRBcnJheSUnOiB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhDbGFtcGVkQXJyYXksXG5cdCckICVVaW50OENsYW1wZWRBcnJheVByb3RvdHlwZSUnOiB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogVWludDhDbGFtcGVkQXJyYXkucHJvdG90eXBlLFxuXHQnJCAlVWludDE2QXJyYXklJzogdHlwZW9mIFVpbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQxNkFycmF5LFxuXHQnJCAlVWludDE2QXJyYXlQcm90b3R5cGUlJzogdHlwZW9mIFVpbnQxNkFycmF5ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFVpbnQxNkFycmF5LnByb3RvdHlwZSxcblx0JyQgJVVpbnQzMkFycmF5JSc6IHR5cGVvZiBVaW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MzJBcnJheSxcblx0JyQgJVVpbnQzMkFycmF5UHJvdG90eXBlJSc6IHR5cGVvZiBVaW50MzJBcnJheSA9PT0gJ3VuZGVmaW5lZCcgPyB1bmRlZmluZWQgOiBVaW50MzJBcnJheS5wcm90b3R5cGUsXG5cdCckICVVUklFcnJvciUnOiBVUklFcnJvcixcblx0JyQgJVVSSUVycm9yUHJvdG90eXBlJSc6IFVSSUVycm9yLnByb3RvdHlwZSxcblx0JyQgJVdlYWtNYXAlJzogdHlwZW9mIFdlYWtNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha01hcCxcblx0JyQgJVdlYWtNYXBQcm90b3R5cGUlJzogdHlwZW9mIFdlYWtNYXAgPT09ICd1bmRlZmluZWQnID8gdW5kZWZpbmVkIDogV2Vha01hcC5wcm90b3R5cGUsXG5cdCckICVXZWFrU2V0JSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXQsXG5cdCckICVXZWFrU2V0UHJvdG90eXBlJSc6IHR5cGVvZiBXZWFrU2V0ID09PSAndW5kZWZpbmVkJyA/IHVuZGVmaW5lZCA6IFdlYWtTZXQucHJvdG90eXBlXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIEdldEludHJpbnNpYyhuYW1lLCBhbGxvd01pc3NpbmcpIHtcblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhbGxvd01pc3NpbmcgIT09ICdib29sZWFuJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYWxsb3dNaXNzaW5nXCIgYXJndW1lbnQgbXVzdCBiZSBhIGJvb2xlYW4nKTtcblx0fVxuXG5cdHZhciBrZXkgPSAnJCAnICsgbmFtZTtcblx0aWYgKCEoa2V5IGluIElOVFJJTlNJQ1MpKSB7XG5cdFx0dGhyb3cgbmV3IFN5bnRheEVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGRvZXMgbm90IGV4aXN0IScpO1xuXHR9XG5cblx0Ly8gaXN0YW5idWwgaWdub3JlIGlmIC8vIGhvcGVmdWxseSB0aGlzIGlzIGltcG9zc2libGUgdG8gdGVzdCA6LSlcblx0aWYgKHR5cGVvZiBJTlRSSU5TSUNTW2tleV0gPT09ICd1bmRlZmluZWQnICYmICFhbGxvd01pc3NpbmcpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnRyaW5zaWMgJyArIG5hbWUgKyAnIGV4aXN0cywgYnV0IGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIScpO1xuXHR9XG5cdHJldHVybiBJTlRSSU5TSUNTW2tleV07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgR2V0SW50cmluc2ljID0gcmVxdWlyZSgnLi9HZXRJbnRyaW5zaWMnKTtcblxudmFyICRPYmplY3QgPSBHZXRJbnRyaW5zaWMoJyVPYmplY3QlJyk7XG52YXIgJFR5cGVFcnJvciA9IEdldEludHJpbnNpYygnJVR5cGVFcnJvciUnKTtcbnZhciAkU3RyaW5nID0gR2V0SW50cmluc2ljKCclU3RyaW5nJScpO1xuXG52YXIgJGlzTmFOID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzTmFOJyk7XG52YXIgJGlzRmluaXRlID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzRmluaXRlJyk7XG5cbnZhciBzaWduID0gcmVxdWlyZSgnLi9oZWxwZXJzL3NpZ24nKTtcbnZhciBtb2QgPSByZXF1aXJlKCcuL2hlbHBlcnMvbW9kJyk7XG5cbnZhciBJc0NhbGxhYmxlID0gcmVxdWlyZSgnaXMtY2FsbGFibGUnKTtcbnZhciB0b1ByaW1pdGl2ZSA9IHJlcXVpcmUoJ2VzLXRvLXByaW1pdGl2ZS9lczUnKTtcblxudmFyIGhhcyA9IHJlcXVpcmUoJ2hhcycpO1xuXG4vLyBodHRwczovL2VzNS5naXRodWIuaW8vI3g5XG52YXIgRVM1ID0ge1xuXHRUb1ByaW1pdGl2ZTogdG9QcmltaXRpdmUsXG5cblx0VG9Cb29sZWFuOiBmdW5jdGlvbiBUb0Jvb2xlYW4odmFsdWUpIHtcblx0XHRyZXR1cm4gISF2YWx1ZTtcblx0fSxcblx0VG9OdW1iZXI6IGZ1bmN0aW9uIFRvTnVtYmVyKHZhbHVlKSB7XG5cdFx0cmV0dXJuICt2YWx1ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbXBsaWNpdC1jb2VyY2lvblxuXHR9LFxuXHRUb0ludGVnZXI6IGZ1bmN0aW9uIFRvSW50ZWdlcih2YWx1ZSkge1xuXHRcdHZhciBudW1iZXIgPSB0aGlzLlRvTnVtYmVyKHZhbHVlKTtcblx0XHRpZiAoJGlzTmFOKG51bWJlcikpIHsgcmV0dXJuIDA7IH1cblx0XHRpZiAobnVtYmVyID09PSAwIHx8ICEkaXNGaW5pdGUobnVtYmVyKSkgeyByZXR1cm4gbnVtYmVyOyB9XG5cdFx0cmV0dXJuIHNpZ24obnVtYmVyKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyKSk7XG5cdH0sXG5cdFRvSW50MzI6IGZ1bmN0aW9uIFRvSW50MzIoeCkge1xuXHRcdHJldHVybiB0aGlzLlRvTnVtYmVyKHgpID4+IDA7XG5cdH0sXG5cdFRvVWludDMyOiBmdW5jdGlvbiBUb1VpbnQzMih4KSB7XG5cdFx0cmV0dXJuIHRoaXMuVG9OdW1iZXIoeCkgPj4+IDA7XG5cdH0sXG5cdFRvVWludDE2OiBmdW5jdGlvbiBUb1VpbnQxNih2YWx1ZSkge1xuXHRcdHZhciBudW1iZXIgPSB0aGlzLlRvTnVtYmVyKHZhbHVlKTtcblx0XHRpZiAoJGlzTmFOKG51bWJlcikgfHwgbnVtYmVyID09PSAwIHx8ICEkaXNGaW5pdGUobnVtYmVyKSkgeyByZXR1cm4gMDsgfVxuXHRcdHZhciBwb3NJbnQgPSBzaWduKG51bWJlcikgKiBNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikpO1xuXHRcdHJldHVybiBtb2QocG9zSW50LCAweDEwMDAwKTtcblx0fSxcblx0VG9TdHJpbmc6IGZ1bmN0aW9uIFRvU3RyaW5nKHZhbHVlKSB7XG5cdFx0cmV0dXJuICRTdHJpbmcodmFsdWUpO1xuXHR9LFxuXHRUb09iamVjdDogZnVuY3Rpb24gVG9PYmplY3QodmFsdWUpIHtcblx0XHR0aGlzLkNoZWNrT2JqZWN0Q29lcmNpYmxlKHZhbHVlKTtcblx0XHRyZXR1cm4gJE9iamVjdCh2YWx1ZSk7XG5cdH0sXG5cdENoZWNrT2JqZWN0Q29lcmNpYmxlOiBmdW5jdGlvbiBDaGVja09iamVjdENvZXJjaWJsZSh2YWx1ZSwgb3B0TWVzc2FnZSkge1xuXHRcdC8qIGpzaGludCBlcW51bGw6dHJ1ZSAqL1xuXHRcdGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcihvcHRNZXNzYWdlIHx8ICdDYW5ub3QgY2FsbCBtZXRob2Qgb24gJyArIHZhbHVlKTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9LFxuXHRJc0NhbGxhYmxlOiBJc0NhbGxhYmxlLFxuXHRTYW1lVmFsdWU6IGZ1bmN0aW9uIFNhbWVWYWx1ZSh4LCB5KSB7XG5cdFx0aWYgKHggPT09IHkpIHsgLy8gMCA9PT0gLTAsIGJ1dCB0aGV5IGFyZSBub3QgaWRlbnRpY2FsLlxuXHRcdFx0aWYgKHggPT09IDApIHsgcmV0dXJuIDEgLyB4ID09PSAxIC8geTsgfVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAkaXNOYU4oeCkgJiYgJGlzTmFOKHkpO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtOFxuXHRUeXBlOiBmdW5jdGlvbiBUeXBlKHgpIHtcblx0XHRpZiAoeCA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuICdOdWxsJztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuICdVbmRlZmluZWQnO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIHggPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHggPT09ICdvYmplY3QnKSB7XG5cdFx0XHRyZXR1cm4gJ09iamVjdCc7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcblx0XHRcdHJldHVybiAnTnVtYmVyJztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiB4ID09PSAnYm9vbGVhbicpIHtcblx0XHRcdHJldHVybiAnQm9vbGVhbic7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHJldHVybiAnU3RyaW5nJztcblx0XHR9XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzYuMC8jc2VjLXByb3BlcnR5LWRlc2NyaXB0b3Itc3BlY2lmaWNhdGlvbi10eXBlXG5cdElzUHJvcGVydHlEZXNjcmlwdG9yOiBmdW5jdGlvbiBJc1Byb3BlcnR5RGVzY3JpcHRvcihEZXNjKSB7XG5cdFx0aWYgKHRoaXMuVHlwZShEZXNjKSAhPT0gJ09iamVjdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0dmFyIGFsbG93ZWQgPSB7XG5cdFx0XHQnW1tDb25maWd1cmFibGVdXSc6IHRydWUsXG5cdFx0XHQnW1tFbnVtZXJhYmxlXV0nOiB0cnVlLFxuXHRcdFx0J1tbR2V0XV0nOiB0cnVlLFxuXHRcdFx0J1tbU2V0XV0nOiB0cnVlLFxuXHRcdFx0J1tbVmFsdWVdXSc6IHRydWUsXG5cdFx0XHQnW1tXcml0YWJsZV1dJzogdHJ1ZVxuXHRcdH07XG5cdFx0Ly8ganNjczpkaXNhYmxlXG5cdFx0Zm9yICh2YXIga2V5IGluIERlc2MpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXHRcdFx0aWYgKGhhcyhEZXNjLCBrZXkpICYmICFhbGxvd2VkW2tleV0pIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBqc2NzOmVuYWJsZVxuXHRcdHZhciBpc0RhdGEgPSBoYXMoRGVzYywgJ1tbVmFsdWVdXScpO1xuXHRcdHZhciBJc0FjY2Vzc29yID0gaGFzKERlc2MsICdbW0dldF1dJykgfHwgaGFzKERlc2MsICdbW1NldF1dJyk7XG5cdFx0aWYgKGlzRGF0YSAmJiBJc0FjY2Vzc29yKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignUHJvcGVydHkgRGVzY3JpcHRvcnMgbWF5IG5vdCBiZSBib3RoIGFjY2Vzc29yIGFuZCBkYXRhIGRlc2NyaXB0b3JzJyk7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy04LjEwLjFcblx0SXNBY2Nlc3NvckRlc2NyaXB0b3I6IGZ1bmN0aW9uIElzQWNjZXNzb3JEZXNjcmlwdG9yKERlc2MpIHtcblx0XHRpZiAodHlwZW9mIERlc2MgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLklzUHJvcGVydHlEZXNjcmlwdG9yKERlc2MpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRGVzYyBtdXN0IGJlIGEgUHJvcGVydHkgRGVzY3JpcHRvcicpO1xuXHRcdH1cblxuXHRcdGlmICghaGFzKERlc2MsICdbW0dldF1dJykgJiYgIWhhcyhEZXNjLCAnW1tTZXRdXScpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTguMTAuMlxuXHRJc0RhdGFEZXNjcmlwdG9yOiBmdW5jdGlvbiBJc0RhdGFEZXNjcmlwdG9yKERlc2MpIHtcblx0XHRpZiAodHlwZW9mIERlc2MgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLklzUHJvcGVydHlEZXNjcmlwdG9yKERlc2MpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRGVzYyBtdXN0IGJlIGEgUHJvcGVydHkgRGVzY3JpcHRvcicpO1xuXHRcdH1cblxuXHRcdGlmICghaGFzKERlc2MsICdbW1ZhbHVlXV0nKSAmJiAhaGFzKERlc2MsICdbW1dyaXRhYmxlXV0nKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy04LjEwLjNcblx0SXNHZW5lcmljRGVzY3JpcHRvcjogZnVuY3Rpb24gSXNHZW5lcmljRGVzY3JpcHRvcihEZXNjKSB7XG5cdFx0aWYgKHR5cGVvZiBEZXNjID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5Jc1Byb3BlcnR5RGVzY3JpcHRvcihEZXNjKSkge1xuXHRcdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ0Rlc2MgbXVzdCBiZSBhIFByb3BlcnR5IERlc2NyaXB0b3InKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuSXNBY2Nlc3NvckRlc2NyaXB0b3IoRGVzYykgJiYgIXRoaXMuSXNEYXRhRGVzY3JpcHRvcihEZXNjKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy04LjEwLjRcblx0RnJvbVByb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gRnJvbVByb3BlcnR5RGVzY3JpcHRvcihEZXNjKSB7XG5cdFx0aWYgKHR5cGVvZiBEZXNjID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0cmV0dXJuIERlc2M7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLklzUHJvcGVydHlEZXNjcmlwdG9yKERlc2MpKSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRGVzYyBtdXN0IGJlIGEgUHJvcGVydHkgRGVzY3JpcHRvcicpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLklzRGF0YURlc2NyaXB0b3IoRGVzYykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHZhbHVlOiBEZXNjWydbW1ZhbHVlXV0nXSxcblx0XHRcdFx0d3JpdGFibGU6ICEhRGVzY1snW1tXcml0YWJsZV1dJ10sXG5cdFx0XHRcdGVudW1lcmFibGU6ICEhRGVzY1snW1tFbnVtZXJhYmxlXV0nXSxcblx0XHRcdFx0Y29uZmlndXJhYmxlOiAhIURlc2NbJ1tbQ29uZmlndXJhYmxlXV0nXVxuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKHRoaXMuSXNBY2Nlc3NvckRlc2NyaXB0b3IoRGVzYykpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdGdldDogRGVzY1snW1tHZXRdXSddLFxuXHRcdFx0XHRzZXQ6IERlc2NbJ1tbU2V0XV0nXSxcblx0XHRcdFx0ZW51bWVyYWJsZTogISFEZXNjWydbW0VudW1lcmFibGVdXSddLFxuXHRcdFx0XHRjb25maWd1cmFibGU6ICEhRGVzY1snW1tDb25maWd1cmFibGVdXSddXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgJFR5cGVFcnJvcignRnJvbVByb3BlcnR5RGVzY3JpcHRvciBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgZnVsbHkgcG9wdWxhdGVkIFByb3BlcnR5IERlc2NyaXB0b3InKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTguMTAuNVxuXHRUb1Byb3BlcnR5RGVzY3JpcHRvcjogZnVuY3Rpb24gVG9Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqKSB7XG5cdFx0aWYgKHRoaXMuVHlwZShPYmopICE9PSAnT2JqZWN0Jykge1xuXHRcdFx0dGhyb3cgbmV3ICRUeXBlRXJyb3IoJ1RvUHJvcGVydHlEZXNjcmlwdG9yIHJlcXVpcmVzIGFuIG9iamVjdCcpO1xuXHRcdH1cblxuXHRcdHZhciBkZXNjID0ge307XG5cdFx0aWYgKGhhcyhPYmosICdlbnVtZXJhYmxlJykpIHtcblx0XHRcdGRlc2NbJ1tbRW51bWVyYWJsZV1dJ10gPSB0aGlzLlRvQm9vbGVhbihPYmouZW51bWVyYWJsZSk7XG5cdFx0fVxuXHRcdGlmIChoYXMoT2JqLCAnY29uZmlndXJhYmxlJykpIHtcblx0XHRcdGRlc2NbJ1tbQ29uZmlndXJhYmxlXV0nXSA9IHRoaXMuVG9Cb29sZWFuKE9iai5jb25maWd1cmFibGUpO1xuXHRcdH1cblx0XHRpZiAoaGFzKE9iaiwgJ3ZhbHVlJykpIHtcblx0XHRcdGRlc2NbJ1tbVmFsdWVdXSddID0gT2JqLnZhbHVlO1xuXHRcdH1cblx0XHRpZiAoaGFzKE9iaiwgJ3dyaXRhYmxlJykpIHtcblx0XHRcdGRlc2NbJ1tbV3JpdGFibGVdXSddID0gdGhpcy5Ub0Jvb2xlYW4oT2JqLndyaXRhYmxlKTtcblx0XHR9XG5cdFx0aWYgKGhhcyhPYmosICdnZXQnKSkge1xuXHRcdFx0dmFyIGdldHRlciA9IE9iai5nZXQ7XG5cdFx0XHRpZiAodHlwZW9mIGdldHRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuSXNDYWxsYWJsZShnZXR0ZXIpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2dldHRlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XHRcdH1cblx0XHRcdGRlc2NbJ1tbR2V0XV0nXSA9IGdldHRlcjtcblx0XHR9XG5cdFx0aWYgKGhhcyhPYmosICdzZXQnKSkge1xuXHRcdFx0dmFyIHNldHRlciA9IE9iai5zZXQ7XG5cdFx0XHRpZiAodHlwZW9mIHNldHRlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuSXNDYWxsYWJsZShzZXR0ZXIpKSB7XG5cdFx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdzZXR0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cdFx0XHR9XG5cdFx0XHRkZXNjWydbW1NldF1dJ10gPSBzZXR0ZXI7XG5cdFx0fVxuXG5cdFx0aWYgKChoYXMoZGVzYywgJ1tbR2V0XV0nKSB8fCBoYXMoZGVzYywgJ1tbU2V0XV0nKSkgJiYgKGhhcyhkZXNjLCAnW1tWYWx1ZV1dJykgfHwgaGFzKGRlc2MsICdbW1dyaXRhYmxlXV0nKSkpIHtcblx0XHRcdHRocm93IG5ldyAkVHlwZUVycm9yKCdJbnZhbGlkIHByb3BlcnR5IGRlc2NyaXB0b3IuIENhbm5vdCBib3RoIHNwZWNpZnkgYWNjZXNzb3JzIGFuZCBhIHZhbHVlIG9yIHdyaXRhYmxlIGF0dHJpYnV0ZScpO1xuXHRcdH1cblx0XHRyZXR1cm4gZGVzYztcblx0fVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBFUzU7XG4iLCJ2YXIgJGlzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIChhKSB7IHJldHVybiBhICE9PSBhOyB9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE51bWJlci5pc0Zpbml0ZSB8fCBmdW5jdGlvbiAoeCkgeyByZXR1cm4gdHlwZW9mIHggPT09ICdudW1iZXInICYmICEkaXNOYU4oeCkgJiYgeCAhPT0gSW5maW5pdHkgJiYgeCAhPT0gLUluZmluaXR5OyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gaXNOYU4oYSkge1xuXHRyZXR1cm4gYSAhPT0gYTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1vZChudW1iZXIsIG1vZHVsbykge1xuXHR2YXIgcmVtYWluID0gbnVtYmVyICUgbW9kdWxvO1xuXHRyZXR1cm4gTWF0aC5mbG9vcihyZW1haW4gPj0gMCA/IHJlbWFpbiA6IHJlbWFpbiArIG1vZHVsbyk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaWduKG51bWJlcikge1xuXHRyZXR1cm4gbnVtYmVyID49IDAgPyAxIDogLTE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG52YXIgaXNQcmltaXRpdmUgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNQcmltaXRpdmUnKTtcblxudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCdpcy1jYWxsYWJsZScpO1xuXG4vLyBodHRwczovL2VzNS5naXRodWIuaW8vI3g4LjEyXG52YXIgRVM1aW50ZXJuYWxTbG90cyA9IHtcblx0J1tbRGVmYXVsdFZhbHVlXV0nOiBmdW5jdGlvbiAoTywgaGludCkge1xuXHRcdHZhciBhY3R1YWxIaW50ID0gaGludCB8fCAodG9TdHIuY2FsbChPKSA9PT0gJ1tvYmplY3QgRGF0ZV0nID8gU3RyaW5nIDogTnVtYmVyKTtcblxuXHRcdGlmIChhY3R1YWxIaW50ID09PSBTdHJpbmcgfHwgYWN0dWFsSGludCA9PT0gTnVtYmVyKSB7XG5cdFx0XHR2YXIgbWV0aG9kcyA9IGFjdHVhbEhpbnQgPT09IFN0cmluZyA/IFsndG9TdHJpbmcnLCAndmFsdWVPZiddIDogWyd2YWx1ZU9mJywgJ3RvU3RyaW5nJ107XG5cdFx0XHR2YXIgdmFsdWUsIGk7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbWV0aG9kcy5sZW5ndGg7ICsraSkge1xuXHRcdFx0XHRpZiAoaXNDYWxsYWJsZShPW21ldGhvZHNbaV1dKSkge1xuXHRcdFx0XHRcdHZhbHVlID0gT1ttZXRob2RzW2ldXSgpO1xuXHRcdFx0XHRcdGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIGRlZmF1bHQgdmFsdWUnKTtcblx0XHR9XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBbW0RlZmF1bHRWYWx1ZV1dIGhpbnQgc3VwcGxpZWQnKTtcblx0fVxufTtcblxuLy8gaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4OVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuXHRpZiAoaXNQcmltaXRpdmUoaW5wdXQpKSB7XG5cdFx0cmV0dXJuIGlucHV0O1xuXHR9XG5cdHJldHVybiBFUzVpbnRlcm5hbFNsb3RzWydbW0RlZmF1bHRWYWx1ZV1dJ10oaW5wdXQsIFByZWZlcnJlZFR5cGUpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNQcmltaXRpdmUodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSBudWxsIHx8ICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jyk7XG59O1xuIiwiLyoqXG4gKiBFdkVtaXR0ZXIgdjEuMS4wXG4gKiBMaWwnIGV2ZW50IGVtaXR0ZXJcbiAqIE1JVCBMaWNlbnNlXG4gKi9cblxuLyoganNoaW50IHVudXNlZDogdHJ1ZSwgdW5kZWY6IHRydWUsIHN0cmljdDogdHJ1ZSAqL1xuXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCB3aW5kb3cgKi9cbiAgaWYgKCB0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcbiAgICAvLyBBTUQgLSBSZXF1aXJlSlNcbiAgICBkZWZpbmUoIGZhY3RvcnkgKTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KUyAtIEJyb3dzZXJpZnksIFdlYnBhY2tcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICBnbG9iYWwuRXZFbWl0dGVyID0gZmFjdG9yeSgpO1xuICB9XG5cbn0oIHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbigpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIEV2RW1pdHRlcigpIHt9XG5cbnZhciBwcm90byA9IEV2RW1pdHRlci5wcm90b3R5cGU7XG5cbnByb3RvLm9uID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNldCBldmVudHMgaGFzaFxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgbGlzdGVuZXJzIGFycmF5XG4gIHZhciBsaXN0ZW5lcnMgPSBldmVudHNbIGV2ZW50TmFtZSBdID0gZXZlbnRzWyBldmVudE5hbWUgXSB8fCBbXTtcbiAgLy8gb25seSBhZGQgb25jZVxuICBpZiAoIGxpc3RlbmVycy5pbmRleE9mKCBsaXN0ZW5lciApID09IC0xICkge1xuICAgIGxpc3RlbmVycy5wdXNoKCBsaXN0ZW5lciApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5vbmNlID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIGlmICggIWV2ZW50TmFtZSB8fCAhbGlzdGVuZXIgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBldmVudFxuICB0aGlzLm9uKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gIC8vIHNldCBvbmNlIGZsYWdcbiAgLy8gc2V0IG9uY2VFdmVudHMgaGFzaFxuICB2YXIgb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgPSB0aGlzLl9vbmNlRXZlbnRzIHx8IHt9O1xuICAvLyBzZXQgb25jZUxpc3RlbmVycyBvYmplY3RcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSBvbmNlRXZlbnRzWyBldmVudE5hbWUgXSA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdIHx8IHt9O1xuICAvLyBzZXQgZmxhZ1xuICBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9mZiA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGxpc3RlbmVyICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICk7XG4gIGlmICggaW5kZXggIT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uZW1pdEV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgYXJncyApIHtcbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbIGV2ZW50TmFtZSBdO1xuICBpZiAoICFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGNvcHkgb3ZlciB0byBhdm9pZCBpbnRlcmZlcmVuY2UgaWYgLm9mZigpIGluIGxpc3RlbmVyXG4gIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgwKTtcbiAgYXJncyA9IGFyZ3MgfHwgW107XG4gIC8vIG9uY2Ugc3R1ZmZcbiAgdmFyIG9uY2VMaXN0ZW5lcnMgPSB0aGlzLl9vbmNlRXZlbnRzICYmIHRoaXMuX29uY2VFdmVudHNbIGV2ZW50TmFtZSBdO1xuXG4gIGZvciAoIHZhciBpPTA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldXG4gICAgdmFyIGlzT25jZSA9IG9uY2VMaXN0ZW5lcnMgJiYgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICBpZiAoIGlzT25jZSApIHtcbiAgICAgIC8vIHJlbW92ZSBsaXN0ZW5lclxuICAgICAgLy8gcmVtb3ZlIGJlZm9yZSB0cmlnZ2VyIHRvIHByZXZlbnQgcmVjdXJzaW9uXG4gICAgICB0aGlzLm9mZiggZXZlbnROYW1lLCBsaXN0ZW5lciApO1xuICAgICAgLy8gdW5zZXQgb25jZSBmbGFnXG4gICAgICBkZWxldGUgb25jZUxpc3RlbmVyc1sgbGlzdGVuZXIgXTtcbiAgICB9XG4gICAgLy8gdHJpZ2dlciBsaXN0ZW5lclxuICAgIGxpc3RlbmVyLmFwcGx5KCB0aGlzLCBhcmdzICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLmFsbE9mZiA9IGZ1bmN0aW9uKCkge1xuICBkZWxldGUgdGhpcy5fZXZlbnRzO1xuICBkZWxldGUgdGhpcy5fb25jZUV2ZW50cztcbn07XG5cbnJldHVybiBFdkVtaXR0ZXI7XG5cbn0pKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCdpcy1jYWxsYWJsZScpO1xuXG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZvckVhY2hBcnJheSA9IGZ1bmN0aW9uIGZvckVhY2hBcnJheShhcnJheSwgaXRlcmF0b3IsIHJlY2VpdmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCBpKSkge1xuICAgICAgICAgICAgaWYgKHJlY2VpdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5jYWxsKHJlY2VpdmVyLCBhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGZvckVhY2hTdHJpbmcgPSBmdW5jdGlvbiBmb3JFYWNoU3RyaW5nKHN0cmluZywgaXRlcmF0b3IsIHJlY2VpdmVyKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHN0cmluZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyBubyBzdWNoIHRoaW5nIGFzIGEgc3BhcnNlIHN0cmluZy5cbiAgICAgICAgaWYgKHJlY2VpdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yKHN0cmluZy5jaGFyQXQoaSksIGksIHN0cmluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvci5jYWxsKHJlY2VpdmVyLCBzdHJpbmcuY2hhckF0KGkpLCBpLCBzdHJpbmcpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxudmFyIGZvckVhY2hPYmplY3QgPSBmdW5jdGlvbiBmb3JFYWNoT2JqZWN0KG9iamVjdCwgaXRlcmF0b3IsIHJlY2VpdmVyKSB7XG4gICAgZm9yICh2YXIgayBpbiBvYmplY3QpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrKSkge1xuICAgICAgICAgICAgaWYgKHJlY2VpdmVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihvYmplY3Rba10sIGssIG9iamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwocmVjZWl2ZXIsIG9iamVjdFtrXSwgaywgb2JqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBmb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChsaXN0LCBpdGVyYXRvciwgdGhpc0FyZykge1xuICAgIGlmICghaXNDYWxsYWJsZShpdGVyYXRvcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaXRlcmF0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgdmFyIHJlY2VpdmVyO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDMpIHtcbiAgICAgICAgcmVjZWl2ZXIgPSB0aGlzQXJnO1xuICAgIH1cblxuICAgIGlmICh0b1N0ci5jYWxsKGxpc3QpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgIGZvckVhY2hBcnJheShsaXN0LCBpdGVyYXRvciwgcmVjZWl2ZXIpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZvckVhY2hTdHJpbmcobGlzdCwgaXRlcmF0b3IsIHJlY2VpdmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3JFYWNoT2JqZWN0KGxpc3QsIGl0ZXJhdG9yLCByZWNlaXZlcik7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBmb3JFYWNoO1xuIiwiXG52YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZm9yRWFjaCAob2JqLCBmbiwgY3R4KSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwoZm4pICE9PSAnW29iamVjdCBGdW5jdGlvbl0nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2l0ZXJhdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgbCA9IG9iai5sZW5ndGg7XG4gICAgaWYgKGwgPT09ICtsKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBpLCBvYmopO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChvYmosIGspKSB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjdHgsIG9ialtrXSwgaywgb2JqKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuLyogZXNsaW50IG5vLWludmFsaWQtdGhpczogMSAqL1xuXG52YXIgRVJST1JfTUVTU0FHRSA9ICdGdW5jdGlvbi5wcm90b3R5cGUuYmluZCBjYWxsZWQgb24gaW5jb21wYXRpYmxlICc7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZ1bmNUeXBlID0gJ1tvYmplY3QgRnVuY3Rpb25dJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBiaW5kKHRoYXQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gdGhpcztcbiAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ2Z1bmN0aW9uJyB8fCB0b1N0ci5jYWxsKHRhcmdldCkgIT09IGZ1bmNUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRVJST1JfTUVTU0FHRSArIHRhcmdldCk7XG4gICAgfVxuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXG4gICAgdmFyIGJvdW5kO1xuICAgIHZhciBiaW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0YXJnZXQuYXBwbHkoXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKE9iamVjdChyZXN1bHQpID09PSByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0LmFwcGx5KFxuICAgICAgICAgICAgICAgIHRoYXQsXG4gICAgICAgICAgICAgICAgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgYm91bmRMZW5ndGggPSBNYXRoLm1heCgwLCB0YXJnZXQubGVuZ3RoIC0gYXJncy5sZW5ndGgpO1xuICAgIHZhciBib3VuZEFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvdW5kTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm91bmRBcmdzLnB1c2goJyQnICsgaSk7XG4gICAgfVxuXG4gICAgYm91bmQgPSBGdW5jdGlvbignYmluZGVyJywgJ3JldHVybiBmdW5jdGlvbiAoJyArIGJvdW5kQXJncy5qb2luKCcsJykgKyAnKXsgcmV0dXJuIGJpbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7IH0nKShiaW5kZXIpO1xuXG4gICAgaWYgKHRhcmdldC5wcm90b3R5cGUpIHtcbiAgICAgICAgdmFyIEVtcHR5ID0gZnVuY3Rpb24gRW1wdHkoKSB7fTtcbiAgICAgICAgRW1wdHkucHJvdG90eXBlID0gdGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgYm91bmQucHJvdG90eXBlID0gbmV3IEVtcHR5KCk7XG4gICAgICAgIEVtcHR5LnByb3RvdHlwZSA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJvdW5kO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IGltcGxlbWVudGF0aW9uO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG4iLCIvKiFcbiAqIGltYWdlc0xvYWRlZCB2NC4xLjRcbiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgXCJZb3UgaW1hZ2VzIGFyZSBkb25lIHlldCBvciB3aGF0P1wiXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHsgJ3VzZSBzdHJpY3QnO1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cblxuICAvKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlLCByZXF1aXJlOiBmYWxzZSAqL1xuXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJ1xuICAgIF0sIGZ1bmN0aW9uKCBFdkVtaXR0ZXIgKSB7XG4gICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIgKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICggdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cyApIHtcbiAgICAvLyBDb21tb25KU1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuaW1hZ2VzTG9hZGVkID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXJcbiAgICApO1xuICB9XG5cbn0pKCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICBmYWN0b3J5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbmZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgRXZFbWl0dGVyICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciAkID0gd2luZG93LmpRdWVyeTtcbnZhciBjb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLy8gZXh0ZW5kIG9iamVjdHNcbmZ1bmN0aW9uIGV4dGVuZCggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbnZhciBhcnJheVNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vLyB0dXJuIGVsZW1lbnQgb3Igbm9kZUxpc3QgaW50byBhbiBhcnJheVxuZnVuY3Rpb24gbWFrZUFycmF5KCBvYmogKSB7XG4gIGlmICggQXJyYXkuaXNBcnJheSggb2JqICkgKSB7XG4gICAgLy8gdXNlIG9iamVjdCBpZiBhbHJlYWR5IGFuIGFycmF5XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciBpc0FycmF5TGlrZSA9IHR5cGVvZiBvYmogPT0gJ29iamVjdCcgJiYgdHlwZW9mIG9iai5sZW5ndGggPT0gJ251bWJlcic7XG4gIGlmICggaXNBcnJheUxpa2UgKSB7XG4gICAgLy8gY29udmVydCBub2RlTGlzdCB0byBhcnJheVxuICAgIHJldHVybiBhcnJheVNsaWNlLmNhbGwoIG9iaiApO1xuICB9XG5cbiAgLy8gYXJyYXkgb2Ygc2luZ2xlIGluZGV4XG4gIHJldHVybiBbIG9iaiBdO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZXNMb2FkZWQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5LCBFbGVtZW50LCBOb2RlTGlzdCwgU3RyaW5nfSBlbGVtXG4gKiBAcGFyYW0ge09iamVjdCBvciBGdW5jdGlvbn0gb3B0aW9ucyAtIGlmIGZ1bmN0aW9uLCB1c2UgYXMgY2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uQWx3YXlzIC0gY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gSW1hZ2VzTG9hZGVkKCBlbGVtLCBvcHRpb25zLCBvbkFsd2F5cyApIHtcbiAgLy8gY29lcmNlIEltYWdlc0xvYWRlZCgpIHdpdGhvdXQgbmV3LCB0byBiZSBuZXcgSW1hZ2VzTG9hZGVkKClcbiAgaWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgSW1hZ2VzTG9hZGVkICkgKSB7XG4gICAgcmV0dXJuIG5ldyBJbWFnZXNMb2FkZWQoIGVsZW0sIG9wdGlvbnMsIG9uQWx3YXlzICk7XG4gIH1cbiAgLy8gdXNlIGVsZW0gYXMgc2VsZWN0b3Igc3RyaW5nXG4gIHZhciBxdWVyeUVsZW0gPSBlbGVtO1xuICBpZiAoIHR5cGVvZiBlbGVtID09ICdzdHJpbmcnICkge1xuICAgIHF1ZXJ5RWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGVsZW0gKTtcbiAgfVxuICAvLyBiYWlsIGlmIGJhZCBlbGVtZW50XG4gIGlmICggIXF1ZXJ5RWxlbSApIHtcbiAgICBjb25zb2xlLmVycm9yKCAnQmFkIGVsZW1lbnQgZm9yIGltYWdlc0xvYWRlZCAnICsgKCBxdWVyeUVsZW0gfHwgZWxlbSApICk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5lbGVtZW50cyA9IG1ha2VBcnJheSggcXVlcnlFbGVtICk7XG4gIHRoaXMub3B0aW9ucyA9IGV4dGVuZCgge30sIHRoaXMub3B0aW9ucyApO1xuICAvLyBzaGlmdCBhcmd1bWVudHMgaWYgbm8gb3B0aW9ucyBzZXRcbiAgaWYgKCB0eXBlb2Ygb3B0aW9ucyA9PSAnZnVuY3Rpb24nICkge1xuICAgIG9uQWx3YXlzID0gb3B0aW9ucztcbiAgfSBlbHNlIHtcbiAgICBleHRlbmQoIHRoaXMub3B0aW9ucywgb3B0aW9ucyApO1xuICB9XG5cbiAgaWYgKCBvbkFsd2F5cyApIHtcbiAgICB0aGlzLm9uKCAnYWx3YXlzJywgb25BbHdheXMgKTtcbiAgfVxuXG4gIHRoaXMuZ2V0SW1hZ2VzKCk7XG5cbiAgaWYgKCAkICkge1xuICAgIC8vIGFkZCBqUXVlcnkgRGVmZXJyZWQgb2JqZWN0XG4gICAgdGhpcy5qcURlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKTtcbiAgfVxuXG4gIC8vIEhBQ0sgY2hlY2sgYXN5bmMgdG8gYWxsb3cgdGltZSB0byBiaW5kIGxpc3RlbmVyc1xuICBzZXRUaW1lb3V0KCB0aGlzLmNoZWNrLmJpbmQoIHRoaXMgKSApO1xufVxuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZFbWl0dGVyLnByb3RvdHlwZSApO1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLm9wdGlvbnMgPSB7fTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWFnZXMgPSBbXTtcblxuICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYW4gaXRlbSBzZWxlY3RvclxuICB0aGlzLmVsZW1lbnRzLmZvckVhY2goIHRoaXMuYWRkRWxlbWVudEltYWdlcywgdGhpcyApO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IGVsZW1lbnRcbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50SW1hZ2VzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIC8vIGZpbHRlciBzaWJsaW5nc1xuICBpZiAoIGVsZW0ubm9kZU5hbWUgPT0gJ0lNRycgKSB7XG4gICAgdGhpcy5hZGRJbWFnZSggZWxlbSApO1xuICB9XG4gIC8vIGdldCBiYWNrZ3JvdW5kIGltYWdlIG9uIGVsZW1lbnRcbiAgaWYgKCB0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PT0gdHJ1ZSApIHtcbiAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKCBlbGVtICk7XG4gIH1cblxuICAvLyBmaW5kIGNoaWxkcmVuXG4gIC8vIG5vIG5vbi1lbGVtZW50IG5vZGVzLCAjMTQzXG4gIHZhciBub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG4gIGlmICggIW5vZGVUeXBlIHx8ICFlbGVtZW50Tm9kZVR5cGVzWyBub2RlVHlwZSBdICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY2hpbGRJbWdzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdpbWcnKTtcbiAgLy8gY29uY2F0IGNoaWxkRWxlbXMgdG8gZmlsdGVyRm91bmQgYXJyYXlcbiAgZm9yICggdmFyIGk9MDsgaSA8IGNoaWxkSW1ncy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgaW1nID0gY2hpbGRJbWdzW2ldO1xuICAgIHRoaXMuYWRkSW1hZ2UoIGltZyApO1xuICB9XG5cbiAgLy8gZ2V0IGNoaWxkIGJhY2tncm91bmQgaW1hZ2VzXG4gIGlmICggdHlwZW9mIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kID09ICdzdHJpbmcnICkge1xuICAgIHZhciBjaGlsZHJlbiA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggdGhpcy5vcHRpb25zLmJhY2tncm91bmQgKTtcbiAgICBmb3IgKCBpPTA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKyApIHtcbiAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyggY2hpbGQgKTtcbiAgICB9XG4gIH1cbn07XG5cbnZhciBlbGVtZW50Tm9kZVR5cGVzID0ge1xuICAxOiB0cnVlLFxuICA5OiB0cnVlLFxuICAxMTogdHJ1ZVxufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XG4gIGlmICggIXN0eWxlICkge1xuICAgIC8vIEZpcmVmb3ggcmV0dXJucyBudWxsIGlmIGluIGEgaGlkZGVuIGlmcmFtZSBodHRwczovL2J1Z3ppbC5sYS81NDgzOTdcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZ2V0IHVybCBpbnNpZGUgdXJsKFwiLi4uXCIpXG4gIHZhciByZVVSTCA9IC91cmxcXCgoWydcIl0pPyguKj8pXFwxXFwpL2dpO1xuICB2YXIgbWF0Y2hlcyA9IHJlVVJMLmV4ZWMoIHN0eWxlLmJhY2tncm91bmRJbWFnZSApO1xuICB3aGlsZSAoIG1hdGNoZXMgIT09IG51bGwgKSB7XG4gICAgdmFyIHVybCA9IG1hdGNoZXMgJiYgbWF0Y2hlc1syXTtcbiAgICBpZiAoIHVybCApIHtcbiAgICAgIHRoaXMuYWRkQmFja2dyb3VuZCggdXJsLCBlbGVtICk7XG4gICAgfVxuICAgIG1hdGNoZXMgPSByZVVSTC5leGVjKCBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0ltYWdlfSBpbWdcbiAqL1xuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uKCBpbWcgKSB7XG4gIHZhciBsb2FkaW5nSW1hZ2UgPSBuZXcgTG9hZGluZ0ltYWdlKCBpbWcgKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggbG9hZGluZ0ltYWdlICk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLmFkZEJhY2tncm91bmQgPSBmdW5jdGlvbiggdXJsLCBlbGVtICkge1xuICB2YXIgYmFja2dyb3VuZCA9IG5ldyBCYWNrZ3JvdW5kKCB1cmwsIGVsZW0gKTtcbiAgdGhpcy5pbWFnZXMucHVzaCggYmFja2dyb3VuZCApO1xufTtcblxuSW1hZ2VzTG9hZGVkLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCA9IDA7XG4gIHRoaXMuaGFzQW55QnJva2VuID0gZmFsc2U7XG4gIC8vIGNvbXBsZXRlIGlmIG5vIGltYWdlc1xuICBpZiAoICF0aGlzLmltYWdlcy5sZW5ndGggKSB7XG4gICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MoIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICAgIC8vIEhBQ0sgLSBDaHJvbWUgdHJpZ2dlcnMgZXZlbnQgYmVmb3JlIG9iamVjdCBwcm9wZXJ0aWVzIGhhdmUgY2hhbmdlZC4gIzgzXG4gICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICBfdGhpcy5wcm9ncmVzcyggaW1hZ2UsIGVsZW0sIG1lc3NhZ2UgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuaW1hZ2VzLmZvckVhY2goIGZ1bmN0aW9uKCBsb2FkaW5nSW1hZ2UgKSB7XG4gICAgbG9hZGluZ0ltYWdlLm9uY2UoICdwcm9ncmVzcycsIG9uUHJvZ3Jlc3MgKTtcbiAgICBsb2FkaW5nSW1hZ2UuY2hlY2soKTtcbiAgfSk7XG59O1xuXG5JbWFnZXNMb2FkZWQucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24oIGltYWdlLCBlbGVtLCBtZXNzYWdlICkge1xuICB0aGlzLnByb2dyZXNzZWRDb3VudCsrO1xuICB0aGlzLmhhc0FueUJyb2tlbiA9IHRoaXMuaGFzQW55QnJva2VuIHx8ICFpbWFnZS5pc0xvYWRlZDtcbiAgLy8gcHJvZ3Jlc3MgZXZlbnRcbiAgdGhpcy5lbWl0RXZlbnQoICdwcm9ncmVzcycsIFsgdGhpcywgaW1hZ2UsIGVsZW0gXSApO1xuICBpZiAoIHRoaXMuanFEZWZlcnJlZCAmJiB0aGlzLmpxRGVmZXJyZWQubm90aWZ5ICkge1xuICAgIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkoIHRoaXMsIGltYWdlICk7XG4gIH1cbiAgLy8gY2hlY2sgaWYgY29tcGxldGVkXG4gIGlmICggdGhpcy5wcm9ncmVzc2VkQ291bnQgPT0gdGhpcy5pbWFnZXMubGVuZ3RoICkge1xuICAgIHRoaXMuY29tcGxldGUoKTtcbiAgfVxuXG4gIGlmICggdGhpcy5vcHRpb25zLmRlYnVnICYmIGNvbnNvbGUgKSB7XG4gICAgY29uc29sZS5sb2coICdwcm9ncmVzczogJyArIG1lc3NhZ2UsIGltYWdlLCBlbGVtICk7XG4gIH1cbn07XG5cbkltYWdlc0xvYWRlZC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGV2ZW50TmFtZSA9IHRoaXMuaGFzQW55QnJva2VuID8gJ2ZhaWwnIDogJ2RvbmUnO1xuICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICB0aGlzLmVtaXRFdmVudCggZXZlbnROYW1lLCBbIHRoaXMgXSApO1xuICB0aGlzLmVtaXRFdmVudCggJ2Fsd2F5cycsIFsgdGhpcyBdICk7XG4gIGlmICggdGhpcy5qcURlZmVycmVkICkge1xuICAgIHZhciBqcU1ldGhvZCA9IHRoaXMuaGFzQW55QnJva2VuID8gJ3JlamVjdCcgOiAncmVzb2x2ZSc7XG4gICAgdGhpcy5qcURlZmVycmVkWyBqcU1ldGhvZCBdKCB0aGlzICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBMb2FkaW5nSW1hZ2UoIGltZyApIHtcbiAgdGhpcy5pbWcgPSBpbWc7XG59XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgLy8gSWYgY29tcGxldGUgaXMgdHJ1ZSBhbmQgYnJvd3NlciBzdXBwb3J0cyBuYXR1cmFsIHNpemVzLFxuICAvLyB0cnkgdG8gY2hlY2sgZm9yIGltYWdlIHN0YXR1cyBtYW51YWxseS5cbiAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xuICBpZiAoIGlzQ29tcGxldGUgKSB7XG4gICAgLy8gcmVwb3J0IGJhc2VkIG9uIG5hdHVyYWxXaWR0aFxuICAgIHRoaXMuY29uZmlybSggdGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAnbmF0dXJhbFdpZHRoJyApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIElmIG5vbmUgb2YgdGhlIGNoZWNrcyBhYm92ZSBtYXRjaGVkLCBzaW11bGF0ZSBsb2FkaW5nIG9uIGRldGFjaGVkIGVsZW1lbnQuXG4gIHRoaXMucHJveHlJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICB0aGlzLnByb3h5SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMucHJveHlJbWFnZS5hZGRFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG4gIC8vIGJpbmQgdG8gaW1hZ2UgYXMgd2VsbCBmb3IgRmlyZWZveC4gIzE5MVxuICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2Vycm9yJywgdGhpcyApO1xuICB0aGlzLnByb3h5SW1hZ2Uuc3JjID0gdGhpcy5pbWcuc3JjO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5nZXRJc0ltYWdlQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2hlY2sgZm9yIG5vbi16ZXJvLCBub24tdW5kZWZpbmVkIG5hdHVyYWxXaWR0aFxuICAvLyBmaXhlcyBTYWZhcmkrSW5maW5pdGVTY3JvbGwrTWFzb25yeSBidWcgaW5maW5pdGUtc2Nyb2xsIzY3MVxuICByZXR1cm4gdGhpcy5pbWcuY29tcGxldGUgJiYgdGhpcy5pbWcubmF0dXJhbFdpZHRoO1xufTtcblxuTG9hZGluZ0ltYWdlLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIHRoaXMuaW1nLCBtZXNzYWdlIF0gKTtcbn07XG5cbi8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xuXG4vLyB0cmlnZ2VyIHNwZWNpZmllZCBoYW5kbGVyIGZvciBldmVudCB0eXBlXG5Mb2FkaW5nSW1hZ2UucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuICB2YXIgbWV0aG9kID0gJ29uJyArIGV2ZW50LnR5cGU7XG4gIGlmICggdGhpc1sgbWV0aG9kIF0gKSB7XG4gICAgdGhpc1sgbWV0aG9kIF0oIGV2ZW50ICk7XG4gIH1cbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY29uZmlybSggdHJ1ZSwgJ29ubG9hZCcgKTtcbiAgdGhpcy51bmJpbmRFdmVudHMoKTtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbmZpcm0oIGZhbHNlLCAnb25lcnJvcicgKTtcbiAgdGhpcy51bmJpbmRFdmVudHMoKTtcbn07XG5cbkxvYWRpbmdJbWFnZS5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJveHlJbWFnZS5yZW1vdmVFdmVudExpc3RlbmVyKCAnbG9hZCcsIHRoaXMgKTtcbiAgdGhpcy5wcm94eUltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEJhY2tncm91bmQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuZnVuY3Rpb24gQmFja2dyb3VuZCggdXJsLCBlbGVtZW50ICkge1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcbn1cblxuLy8gaW5oZXJpdCBMb2FkaW5nSW1hZ2UgcHJvdG90eXBlXG5CYWNrZ3JvdW5kLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIExvYWRpbmdJbWFnZS5wcm90b3R5cGUgKTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lciggJ2xvYWQnLCB0aGlzICk7XG4gIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoICdlcnJvcicsIHRoaXMgKTtcbiAgdGhpcy5pbWcuc3JjID0gdGhpcy51cmw7XG4gIC8vIGNoZWNrIGlmIGltYWdlIGlzIGFscmVhZHkgY29tcGxldGVcbiAgdmFyIGlzQ29tcGxldGUgPSB0aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO1xuICBpZiAoIGlzQ29tcGxldGUgKSB7XG4gICAgdGhpcy5jb25maXJtKCB0aGlzLmltZy5uYXR1cmFsV2lkdGggIT09IDAsICduYXR1cmFsV2lkdGgnICk7XG4gICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgfVxufTtcblxuQmFja2dyb3VuZC5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdsb2FkJywgdGhpcyApO1xuICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCAnZXJyb3InLCB0aGlzICk7XG59O1xuXG5CYWNrZ3JvdW5kLnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24oIGlzTG9hZGVkLCBtZXNzYWdlICkge1xuICB0aGlzLmlzTG9hZGVkID0gaXNMb2FkZWQ7XG4gIHRoaXMuZW1pdEV2ZW50KCAncHJvZ3Jlc3MnLCBbIHRoaXMsIHRoaXMuZWxlbWVudCwgbWVzc2FnZSBdICk7XG59O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBqUXVlcnkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuSW1hZ2VzTG9hZGVkLm1ha2VKUXVlcnlQbHVnaW4gPSBmdW5jdGlvbiggalF1ZXJ5ICkge1xuICBqUXVlcnkgPSBqUXVlcnkgfHwgd2luZG93LmpRdWVyeTtcbiAgaWYgKCAhalF1ZXJ5ICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBzZXQgbG9jYWwgdmFyaWFibGVcbiAgJCA9IGpRdWVyeTtcbiAgLy8gJCgpLmltYWdlc0xvYWRlZCgpXG4gICQuZm4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24oIG9wdGlvbnMsIGNhbGxiYWNrICkge1xuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBJbWFnZXNMb2FkZWQoIHRoaXMsIG9wdGlvbnMsIGNhbGxiYWNrICk7XG4gICAgcmV0dXJuIGluc3RhbmNlLmpxRGVmZXJyZWQucHJvbWlzZSggJCh0aGlzKSApO1xuICB9O1xufTtcbi8vIHRyeSBtYWtpbmcgcGx1Z2luXG5JbWFnZXNMb2FkZWQubWFrZUpRdWVyeVBsdWdpbigpO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxucmV0dXJuIEltYWdlc0xvYWRlZDtcblxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBmblRvU3RyID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xuXG52YXIgY29uc3RydWN0b3JSZWdleCA9IC9eXFxzKmNsYXNzIC87XG52YXIgaXNFUzZDbGFzc0ZuID0gZnVuY3Rpb24gaXNFUzZDbGFzc0ZuKHZhbHVlKSB7XG5cdHRyeSB7XG5cdFx0dmFyIGZuU3RyID0gZm5Ub1N0ci5jYWxsKHZhbHVlKTtcblx0XHR2YXIgc2luZ2xlU3RyaXBwZWQgPSBmblN0ci5yZXBsYWNlKC9cXC9cXC8uKlxcbi9nLCAnJyk7XG5cdFx0dmFyIG11bHRpU3RyaXBwZWQgPSBzaW5nbGVTdHJpcHBlZC5yZXBsYWNlKC9cXC9cXCpbLlxcc1xcU10qXFwqXFwvL2csICcnKTtcblx0XHR2YXIgc3BhY2VTdHJpcHBlZCA9IG11bHRpU3RyaXBwZWQucmVwbGFjZSgvXFxuL21nLCAnICcpLnJlcGxhY2UoLyB7Mn0vZywgJyAnKTtcblx0XHRyZXR1cm4gY29uc3RydWN0b3JSZWdleC50ZXN0KHNwYWNlU3RyaXBwZWQpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlOyAvLyBub3QgYSBmdW5jdGlvblxuXHR9XG59O1xuXG52YXIgdHJ5RnVuY3Rpb25PYmplY3QgPSBmdW5jdGlvbiB0cnlGdW5jdGlvbk9iamVjdCh2YWx1ZSkge1xuXHR0cnkge1xuXHRcdGlmIChpc0VTNkNsYXNzRm4odmFsdWUpKSB7IHJldHVybiBmYWxzZTsgfVxuXHRcdGZuVG9TdHIuY2FsbCh2YWx1ZSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn07XG52YXIgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIGZuQ2xhc3MgPSAnW29iamVjdCBGdW5jdGlvbl0nO1xudmFyIGdlbkNsYXNzID0gJ1tvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dJztcbnZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFN5bWJvbC50b1N0cmluZ1RhZyA9PT0gJ3N5bWJvbCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYWxsYWJsZSh2YWx1ZSkge1xuXHRpZiAoIXZhbHVlKSB7IHJldHVybiBmYWxzZTsgfVxuXHRpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHsgcmV0dXJuIGZhbHNlOyB9XG5cdGlmIChoYXNUb1N0cmluZ1RhZykgeyByZXR1cm4gdHJ5RnVuY3Rpb25PYmplY3QodmFsdWUpOyB9XG5cdGlmIChpc0VTNkNsYXNzRm4odmFsdWUpKSB7IHJldHVybiBmYWxzZTsgfVxuXHR2YXIgc3RyQ2xhc3MgPSB0b1N0ci5jYWxsKHZhbHVlKTtcblx0cmV0dXJuIHN0ckNsYXNzID09PSBmbkNsYXNzIHx8IHN0ckNsYXNzID09PSBnZW5DbGFzcztcbn07XG4iLCIvKiFcbiAqIGpRdWVyeSBGb3JtIFBsdWdpblxuICogdmVyc2lvbjogNC4yLjJcbiAqIFJlcXVpcmVzIGpRdWVyeSB2MS43LjIgb3IgbGF0ZXJcbiAqIFByb2plY3QgcmVwb3NpdG9yeTogaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS1mb3JtL2Zvcm1cblxuICogQ29weXJpZ2h0IDIwMTcgS2V2aW4gTW9ycmlzXG4gKiBDb3B5cmlnaHQgMjAwNiBNLiBBbHN1cFxuXG4gKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBMR1BMLTIuMSsgb3IgTUlUIGxpY2Vuc2VzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5LWZvcm0vZm9ybSNsaWNlbnNlXG5cbiAqIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3JcbiAqIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWNcbiAqIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb247IGVpdGhlclxuICogdmVyc2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKiBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVVxuICogTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqL1xuIWZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wianF1ZXJ5XCJdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXImJihyPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3dbJ2pRdWVyeSddIDogdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFsnalF1ZXJ5J10gOiBudWxsKToodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvd1snalF1ZXJ5J10gOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsWydqUXVlcnknXSA6IG51bGwpKHQpKSxlKHIpLHJ9OmUoalF1ZXJ5KX0oZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt2YXIgcj10LmRhdGE7dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQucHJldmVudERlZmF1bHQoKSxlKHQudGFyZ2V0KS5jbG9zZXN0KFwiZm9ybVwiKS5hamF4U3VibWl0KHIpKX1mdW5jdGlvbiByKHQpe3ZhciByPXQudGFyZ2V0LGE9ZShyKTtpZighYS5pcyhcIlt0eXBlPXN1Ym1pdF0sW3R5cGU9aW1hZ2VdXCIpKXt2YXIgbj1hLmNsb3Nlc3QoXCJbdHlwZT1zdWJtaXRdXCIpO2lmKDA9PT1uLmxlbmd0aClyZXR1cm47cj1uWzBdfXZhciBpPXIuZm9ybTtpZihpLmNsaz1yLFwiaW1hZ2VcIj09PXIudHlwZSlpZih2b2lkIDAhPT10Lm9mZnNldFgpaS5jbGtfeD10Lm9mZnNldFgsaS5jbGtfeT10Lm9mZnNldFk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmZuLm9mZnNldCl7dmFyIG89YS5vZmZzZXQoKTtpLmNsa194PXQucGFnZVgtby5sZWZ0LGkuY2xrX3k9dC5wYWdlWS1vLnRvcH1lbHNlIGkuY2xrX3g9dC5wYWdlWC1yLm9mZnNldExlZnQsaS5jbGtfeT10LnBhZ2VZLXIub2Zmc2V0VG9wO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmNsaz1pLmNsa194PWkuY2xrX3k9bnVsbH0sMTAwKX1mdW5jdGlvbiBhKCl7aWYoZS5mbi5hamF4U3VibWl0LmRlYnVnKXt2YXIgdD1cIltqcXVlcnkuZm9ybV0gXCIrQXJyYXkucHJvdG90eXBlLmpvaW4uY2FsbChhcmd1bWVudHMsXCJcIik7d2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZz93aW5kb3cuY29uc29sZS5sb2codCk6d2luZG93Lm9wZXJhJiZ3aW5kb3cub3BlcmEucG9zdEVycm9yJiZ3aW5kb3cub3BlcmEucG9zdEVycm9yKHQpfX12YXIgbj0vXFxyP1xcbi9nLGk9e307aS5maWxlYXBpPXZvaWQgMCE9PWUoJzxpbnB1dCB0eXBlPVwiZmlsZVwiPicpLmdldCgwKS5maWxlcyxpLmZvcm1kYXRhPXZvaWQgMCE9PXdpbmRvdy5Gb3JtRGF0YTt2YXIgbz0hIWUuZm4ucHJvcDtlLmZuLmF0dHIyPWZ1bmN0aW9uKCl7aWYoIW8pcmV0dXJuIHRoaXMuYXR0ci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGU9dGhpcy5wcm9wLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gZSYmZS5qcXVlcnl8fFwic3RyaW5nXCI9PXR5cGVvZiBlP2U6dGhpcy5hdHRyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5mbi5hamF4U3VibWl0PWZ1bmN0aW9uKHQscixuLHMpe2Z1bmN0aW9uIHUocil7dmFyIGEsbixpPWUucGFyYW0ocix0LnRyYWRpdGlvbmFsKS5zcGxpdChcIiZcIiksbz1pLmxlbmd0aCxzPVtdO2ZvcihhPTA7YTxvO2ErKylpW2FdPWlbYV0ucmVwbGFjZSgvXFwrL2csXCIgXCIpLG49aVthXS5zcGxpdChcIj1cIikscy5wdXNoKFtkZWNvZGVVUklDb21wb25lbnQoblswXSksZGVjb2RlVVJJQ29tcG9uZW50KG5bMV0pXSk7cmV0dXJuIHN9ZnVuY3Rpb24gYyhyKXtmdW5jdGlvbiBuKGUpe3ZhciB0PW51bGw7dHJ5e2UuY29udGVudFdpbmRvdyYmKHQ9ZS5jb250ZW50V2luZG93LmRvY3VtZW50KX1jYXRjaChlKXthKFwiY2Fubm90IGdldCBpZnJhbWUuY29udGVudFdpbmRvdyBkb2N1bWVudDogXCIrZSl9aWYodClyZXR1cm4gdDt0cnl7dD1lLmNvbnRlbnREb2N1bWVudD9lLmNvbnRlbnREb2N1bWVudDplLmRvY3VtZW50fWNhdGNoKHIpe2EoXCJjYW5ub3QgZ2V0IGlmcmFtZS5jb250ZW50RG9jdW1lbnQ6IFwiK3IpLHQ9ZS5kb2N1bWVudH1yZXR1cm4gdH1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gdCgpe3RyeXt2YXIgZT1uKHYpLnJlYWR5U3RhdGU7YShcInN0YXRlID0gXCIrZSksZSYmXCJ1bmluaXRpYWxpemVkXCI9PT1lLnRvTG93ZXJDYXNlKCkmJnNldFRpbWVvdXQodCw1MCl9Y2F0Y2goZSl7YShcIlNlcnZlciBhYm9ydDogXCIsZSxcIiAoXCIsZS5uYW1lLFwiKVwiKSxzKEwpLGomJmNsZWFyVGltZW91dChqKSxqPXZvaWQgMH19dmFyIHI9cC5hdHRyMihcInRhcmdldFwiKSxpPXAuYXR0cjIoXCJhY3Rpb25cIiksbz1wLmF0dHIoXCJlbmN0eXBlXCIpfHxwLmF0dHIoXCJlbmNvZGluZ1wiKXx8XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCI7dy5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIixtKSxsJiYhL3Bvc3QvaS50ZXN0KGwpfHx3LnNldEF0dHJpYnV0ZShcIm1ldGhvZFwiLFwiUE9TVFwiKSxpIT09Zi51cmwmJncuc2V0QXR0cmlidXRlKFwiYWN0aW9uXCIsZi51cmwpLGYuc2tpcEVuY29kaW5nT3ZlcnJpZGV8fGwmJiEvcG9zdC9pLnRlc3QobCl8fHAuYXR0cih7ZW5jb2Rpbmc6XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsZW5jdHlwZTpcIm11bHRpcGFydC9mb3JtLWRhdGFcIn0pLGYudGltZW91dCYmKGo9c2V0VGltZW91dChmdW5jdGlvbigpe1Q9ITAscyhBKX0sZi50aW1lb3V0KSk7dmFyIHU9W107dHJ5e2lmKGYuZXh0cmFEYXRhKWZvcih2YXIgYyBpbiBmLmV4dHJhRGF0YSlmLmV4dHJhRGF0YS5oYXNPd25Qcm9wZXJ0eShjKSYmKGUuaXNQbGFpbk9iamVjdChmLmV4dHJhRGF0YVtjXSkmJmYuZXh0cmFEYXRhW2NdLmhhc093blByb3BlcnR5KFwibmFtZVwiKSYmZi5leHRyYURhdGFbY10uaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKT91LnB1c2goZSgnPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwiJytmLmV4dHJhRGF0YVtjXS5uYW1lKydcIj4nLGspLnZhbChmLmV4dHJhRGF0YVtjXS52YWx1ZSkuYXBwZW5kVG8odylbMF0pOnUucHVzaChlKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCInK2MrJ1wiPicsaykudmFsKGYuZXh0cmFEYXRhW2NdKS5hcHBlbmRUbyh3KVswXSkpO2YuaWZyYW1lVGFyZ2V0fHxoLmFwcGVuZFRvKEQpLHYuYXR0YWNoRXZlbnQ/di5hdHRhY2hFdmVudChcIm9ubG9hZFwiLHMpOnYuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKSxzZXRUaW1lb3V0KHQsMTUpO3RyeXt3LnN1Ym1pdCgpfWNhdGNoKGUpe2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpLnN1Ym1pdC5hcHBseSh3KX19ZmluYWxseXt3LnNldEF0dHJpYnV0ZShcImFjdGlvblwiLGkpLHcuc2V0QXR0cmlidXRlKFwiZW5jdHlwZVwiLG8pLHI/dy5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIixyKTpwLnJlbW92ZUF0dHIoXCJ0YXJnZXRcIiksZSh1KS5yZW1vdmUoKX19ZnVuY3Rpb24gcyh0KXtpZigheC5hYm9ydGVkJiYhWCl7aWYoKE89bih2KSl8fChhKFwiY2Fubm90IGFjY2VzcyByZXNwb25zZSBkb2N1bWVudFwiKSx0PUwpLHQ9PT1BJiZ4KXJldHVybiB4LmFib3J0KFwidGltZW91dFwiKSx2b2lkIFMucmVqZWN0KHgsXCJ0aW1lb3V0XCIpO2lmKHQ9PT1MJiZ4KXJldHVybiB4LmFib3J0KFwic2VydmVyIGFib3J0XCIpLHZvaWQgUy5yZWplY3QoeCxcImVycm9yXCIsXCJzZXJ2ZXIgYWJvcnRcIik7aWYoTyYmTy5sb2NhdGlvbi5ocmVmIT09Zi5pZnJhbWVTcmN8fFQpe3YuZGV0YWNoRXZlbnQ/di5kZXRhY2hFdmVudChcIm9ubG9hZFwiLHMpOnYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixzLCExKTt2YXIgcixpPVwic3VjY2Vzc1wiO3RyeXtpZihUKXRocm93XCJ0aW1lb3V0XCI7dmFyIG89XCJ4bWxcIj09PWYuZGF0YVR5cGV8fE8uWE1MRG9jdW1lbnR8fGUuaXNYTUxEb2MoTyk7aWYoYShcImlzWG1sPVwiK28pLCFvJiZ3aW5kb3cub3BlcmEmJihudWxsPT09Ty5ib2R5fHwhTy5ib2R5LmlubmVySFRNTCkmJi0tQylyZXR1cm4gYShcInJlcXVlaW5nIG9uTG9hZCBjYWxsYmFjaywgRE9NIG5vdCBhdmFpbGFibGVcIiksdm9pZCBzZXRUaW1lb3V0KHMsMjUwKTt2YXIgdT1PLmJvZHk/Ty5ib2R5Ok8uZG9jdW1lbnRFbGVtZW50O3gucmVzcG9uc2VUZXh0PXU/dS5pbm5lckhUTUw6bnVsbCx4LnJlc3BvbnNlWE1MPU8uWE1MRG9jdW1lbnQ/Ty5YTUxEb2N1bWVudDpPLG8mJihmLmRhdGFUeXBlPVwieG1sXCIpLHguZ2V0UmVzcG9uc2VIZWFkZXI9ZnVuY3Rpb24oZSl7cmV0dXJue1wiY29udGVudC10eXBlXCI6Zi5kYXRhVHlwZX1bZS50b0xvd2VyQ2FzZSgpXX0sdSYmKHguc3RhdHVzPU51bWJlcih1LmdldEF0dHJpYnV0ZShcInN0YXR1c1wiKSl8fHguc3RhdHVzLHguc3RhdHVzVGV4dD11LmdldEF0dHJpYnV0ZShcInN0YXR1c1RleHRcIil8fHguc3RhdHVzVGV4dCk7dmFyIGM9KGYuZGF0YVR5cGV8fFwiXCIpLnRvTG93ZXJDYXNlKCksbD0vKGpzb258c2NyaXB0fHRleHQpLy50ZXN0KGMpO2lmKGx8fGYudGV4dGFyZWEpe3ZhciBwPU8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKVswXTtpZihwKXgucmVzcG9uc2VUZXh0PXAudmFsdWUseC5zdGF0dXM9TnVtYmVyKHAuZ2V0QXR0cmlidXRlKFwic3RhdHVzXCIpKXx8eC5zdGF0dXMseC5zdGF0dXNUZXh0PXAuZ2V0QXR0cmlidXRlKFwic3RhdHVzVGV4dFwiKXx8eC5zdGF0dXNUZXh0O2Vsc2UgaWYobCl7dmFyIG09Ty5nZXRFbGVtZW50c0J5VGFnTmFtZShcInByZVwiKVswXSxnPU8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdO20/eC5yZXNwb25zZVRleHQ9bS50ZXh0Q29udGVudD9tLnRleHRDb250ZW50Om0uaW5uZXJUZXh0OmcmJih4LnJlc3BvbnNlVGV4dD1nLnRleHRDb250ZW50P2cudGV4dENvbnRlbnQ6Zy5pbm5lclRleHQpfX1lbHNlXCJ4bWxcIj09PWMmJiF4LnJlc3BvbnNlWE1MJiZ4LnJlc3BvbnNlVGV4dCYmKHgucmVzcG9uc2VYTUw9cSh4LnJlc3BvbnNlVGV4dCkpO3RyeXtNPU4oeCxjLGYpfWNhdGNoKGUpe2k9XCJwYXJzZXJlcnJvclwiLHguZXJyb3I9cj1lfHxpfX1jYXRjaChlKXthKFwiZXJyb3IgY2F1Z2h0OiBcIixlKSxpPVwiZXJyb3JcIix4LmVycm9yPXI9ZXx8aX14LmFib3J0ZWQmJihhKFwidXBsb2FkIGFib3J0ZWRcIiksaT1udWxsKSx4LnN0YXR1cyYmKGk9eC5zdGF0dXM+PTIwMCYmeC5zdGF0dXM8MzAwfHwzMDQ9PT14LnN0YXR1cz9cInN1Y2Nlc3NcIjpcImVycm9yXCIpLFwic3VjY2Vzc1wiPT09aT8oZi5zdWNjZXNzJiZmLnN1Y2Nlc3MuY2FsbChmLmNvbnRleHQsTSxcInN1Y2Nlc3NcIix4KSxTLnJlc29sdmUoeC5yZXNwb25zZVRleHQsXCJzdWNjZXNzXCIseCksZCYmZS5ldmVudC50cmlnZ2VyKFwiYWpheFN1Y2Nlc3NcIixbeCxmXSkpOmkmJih2b2lkIDA9PT1yJiYocj14LnN0YXR1c1RleHQpLGYuZXJyb3ImJmYuZXJyb3IuY2FsbChmLmNvbnRleHQseCxpLHIpLFMucmVqZWN0KHgsXCJlcnJvclwiLHIpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhFcnJvclwiLFt4LGYscl0pKSxkJiZlLmV2ZW50LnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIixbeCxmXSksZCYmIS0tZS5hY3RpdmUmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhTdG9wXCIpLGYuY29tcGxldGUmJmYuY29tcGxldGUuY2FsbChmLmNvbnRleHQseCxpKSxYPSEwLGYudGltZW91dCYmY2xlYXJUaW1lb3V0KGopLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmlmcmFtZVRhcmdldD9oLmF0dHIoXCJzcmNcIixmLmlmcmFtZVNyYyk6aC5yZW1vdmUoKSx4LnJlc3BvbnNlWE1MPW51bGx9LDEwMCl9fX12YXIgdSxjLGYsZCxtLGgsdix4LHksYixULGosdz1wWzBdLFM9ZS5EZWZlcnJlZCgpO2lmKFMuYWJvcnQ9ZnVuY3Rpb24oZSl7eC5hYm9ydChlKX0scilmb3IoYz0wO2M8Zy5sZW5ndGg7YysrKXU9ZShnW2NdKSxvP3UucHJvcChcImRpc2FibGVkXCIsITEpOnUucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpOyhmPWUuZXh0ZW5kKCEwLHt9LGUuYWpheFNldHRpbmdzLHQpKS5jb250ZXh0PWYuY29udGV4dHx8ZixtPVwianFGb3JtSU9cIisobmV3IERhdGUpLmdldFRpbWUoKTt2YXIgaz13Lm93bmVyRG9jdW1lbnQsRD1wLmNsb3Nlc3QoXCJib2R5XCIpO2lmKGYuaWZyYW1lVGFyZ2V0PyhiPShoPWUoZi5pZnJhbWVUYXJnZXQsaykpLmF0dHIyKFwibmFtZVwiKSk/bT1iOmguYXR0cjIoXCJuYW1lXCIsbSk6KGg9ZSgnPGlmcmFtZSBuYW1lPVwiJyttKydcIiBzcmM9XCInK2YuaWZyYW1lU3JjKydcIiAvPicsaykpLmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIi0xMDAwcHhcIixsZWZ0OlwiLTEwMDBweFwifSksdj1oWzBdLHg9e2Fib3J0ZWQ6MCxyZXNwb25zZVRleHQ6bnVsbCxyZXNwb25zZVhNTDpudWxsLHN0YXR1czowLHN0YXR1c1RleHQ6XCJuL2FcIixnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXt9LGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKCl7fSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKCl7fSxhYm9ydDpmdW5jdGlvbih0KXt2YXIgcj1cInRpbWVvdXRcIj09PXQ/XCJ0aW1lb3V0XCI6XCJhYm9ydGVkXCI7YShcImFib3J0aW5nIHVwbG9hZC4uLiBcIityKSx0aGlzLmFib3J0ZWQ9MTt0cnl7di5jb250ZW50V2luZG93LmRvY3VtZW50LmV4ZWNDb21tYW5kJiZ2LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJTdG9wXCIpfWNhdGNoKGUpe31oLmF0dHIoXCJzcmNcIixmLmlmcmFtZVNyYykseC5lcnJvcj1yLGYuZXJyb3ImJmYuZXJyb3IuY2FsbChmLmNvbnRleHQseCxyLHQpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhFcnJvclwiLFt4LGYscl0pLGYuY29tcGxldGUmJmYuY29tcGxldGUuY2FsbChmLmNvbnRleHQseCxyKX19LChkPWYuZ2xvYmFsKSYmMD09ZS5hY3RpdmUrKyYmZS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpLGQmJmUuZXZlbnQudHJpZ2dlcihcImFqYXhTZW5kXCIsW3gsZl0pLGYuYmVmb3JlU2VuZCYmITE9PT1mLmJlZm9yZVNlbmQuY2FsbChmLmNvbnRleHQseCxmKSlyZXR1cm4gZi5nbG9iYWwmJmUuYWN0aXZlLS0sUy5yZWplY3QoKSxTO2lmKHguYWJvcnRlZClyZXR1cm4gUy5yZWplY3QoKSxTOyh5PXcuY2xrKSYmKGI9eS5uYW1lKSYmIXkuZGlzYWJsZWQmJihmLmV4dHJhRGF0YT1mLmV4dHJhRGF0YXx8e30sZi5leHRyYURhdGFbYl09eS52YWx1ZSxcImltYWdlXCI9PT15LnR5cGUmJihmLmV4dHJhRGF0YVtiK1wiLnhcIl09dy5jbGtfeCxmLmV4dHJhRGF0YVtiK1wiLnlcIl09dy5jbGtfeSkpO3ZhciBBPTEsTD0yLEY9ZShcIm1ldGFbbmFtZT1jc3JmLXRva2VuXVwiKS5hdHRyKFwiY29udGVudFwiKSxFPWUoXCJtZXRhW25hbWU9Y3NyZi1wYXJhbV1cIikuYXR0cihcImNvbnRlbnRcIik7RSYmRiYmKGYuZXh0cmFEYXRhPWYuZXh0cmFEYXRhfHx7fSxmLmV4dHJhRGF0YVtFXT1GKSxmLmZvcmNlU3luYz9pKCk6c2V0VGltZW91dChpLDEwKTt2YXIgTSxPLFgsQz01MCxxPWUucGFyc2VYTUx8fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHdpbmRvdy5BY3RpdmVYT2JqZWN0PygodD1uZXcgQWN0aXZlWE9iamVjdChcIk1pY3Jvc29mdC5YTUxET01cIikpLmFzeW5jPVwiZmFsc2VcIix0LmxvYWRYTUwoZSkpOnQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhlLFwidGV4dC94bWxcIiksdCYmdC5kb2N1bWVudEVsZW1lbnQmJlwicGFyc2VyZXJyb3JcIiE9PXQuZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lP3Q6bnVsbH0sXz1lLnBhcnNlSlNPTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ldmFsKFwiKFwiK2UrXCIpXCIpfSxOPWZ1bmN0aW9uKHQscixhKXt2YXIgbj10LmdldFJlc3BvbnNlSGVhZGVyKFwiY29udGVudC10eXBlXCIpfHxcIlwiLGk9KFwieG1sXCI9PT1yfHwhcikmJm4uaW5kZXhPZihcInhtbFwiKT49MCxvPWk/dC5yZXNwb25zZVhNTDp0LnJlc3BvbnNlVGV4dDtyZXR1cm4gaSYmXCJwYXJzZXJlcnJvclwiPT09by5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWUmJmUuZXJyb3ImJmUuZXJyb3IoXCJwYXJzZXJlcnJvclwiKSxhJiZhLmRhdGFGaWx0ZXImJihvPWEuZGF0YUZpbHRlcihvLHIpKSxcInN0cmluZ1wiPT10eXBlb2YgbyYmKChcImpzb25cIj09PXJ8fCFyKSYmbi5pbmRleE9mKFwianNvblwiKT49MD9vPV8obyk6KFwic2NyaXB0XCI9PT1yfHwhcikmJm4uaW5kZXhPZihcImphdmFzY3JpcHRcIik+PTAmJmUuZ2xvYmFsRXZhbChvKSksb307cmV0dXJuIFN9aWYoIXRoaXMubGVuZ3RoKXJldHVybiBhKFwiYWpheFN1Ym1pdDogc2tpcHBpbmcgc3VibWl0IHByb2Nlc3MgLSBubyBlbGVtZW50IHNlbGVjdGVkXCIpLHRoaXM7dmFyIGwsZixkLHA9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q9e3N1Y2Nlc3M6dH06XCJzdHJpbmdcIj09dHlwZW9mIHR8fCExPT09dCYmYXJndW1lbnRzLmxlbmd0aD4wPyh0PXt1cmw6dCxkYXRhOnIsZGF0YVR5cGU6bn0sXCJmdW5jdGlvblwiPT10eXBlb2YgcyYmKHQuc3VjY2Vzcz1zKSk6dm9pZCAwPT09dCYmKHQ9e30pLGw9dC5tZXRob2R8fHQudHlwZXx8dGhpcy5hdHRyMihcIm1ldGhvZFwiKSwoZD0oZD1cInN0cmluZ1wiPT10eXBlb2YoZj10LnVybHx8dGhpcy5hdHRyMihcImFjdGlvblwiKSk/ZS50cmltKGYpOlwiXCIpfHx3aW5kb3cubG9jYXRpb24uaHJlZnx8XCJcIikmJihkPShkLm1hdGNoKC9eKFteI10rKS8pfHxbXSlbMV0pLHQ9ZS5leHRlbmQoITAse3VybDpkLHN1Y2Nlc3M6ZS5hamF4U2V0dGluZ3Muc3VjY2Vzcyx0eXBlOmx8fGUuYWpheFNldHRpbmdzLnR5cGUsaWZyYW1lU3JjOi9eaHR0cHMvaS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmfHxcIlwiKT9cImphdmFzY3JpcHQ6ZmFsc2VcIjpcImFib3V0OmJsYW5rXCJ9LHQpO3ZhciBtPXt9O2lmKHRoaXMudHJpZ2dlcihcImZvcm0tcHJlLXNlcmlhbGl6ZVwiLFt0aGlzLHQsbV0pLG0udmV0bylyZXR1cm4gYShcImFqYXhTdWJtaXQ6IHN1Ym1pdCB2ZXRvZWQgdmlhIGZvcm0tcHJlLXNlcmlhbGl6ZSB0cmlnZ2VyXCIpLHRoaXM7aWYodC5iZWZvcmVTZXJpYWxpemUmJiExPT09dC5iZWZvcmVTZXJpYWxpemUodGhpcyx0KSlyZXR1cm4gYShcImFqYXhTdWJtaXQ6IHN1Ym1pdCBhYm9ydGVkIHZpYSBiZWZvcmVTZXJpYWxpemUgY2FsbGJhY2tcIiksdGhpczt2YXIgaD10LnRyYWRpdGlvbmFsO3ZvaWQgMD09PWgmJihoPWUuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTt2YXIgdixnPVtdLHg9dGhpcy5mb3JtVG9BcnJheSh0LnNlbWFudGljLGcsdC5maWx0ZXJpbmcpO2lmKHQuZGF0YSl7dmFyIHk9ZS5pc0Z1bmN0aW9uKHQuZGF0YSk/dC5kYXRhKHgpOnQuZGF0YTt0LmV4dHJhRGF0YT15LHY9ZS5wYXJhbSh5LGgpfWlmKHQuYmVmb3JlU3VibWl0JiYhMT09PXQuYmVmb3JlU3VibWl0KHgsdGhpcyx0KSlyZXR1cm4gYShcImFqYXhTdWJtaXQ6IHN1Ym1pdCBhYm9ydGVkIHZpYSBiZWZvcmVTdWJtaXQgY2FsbGJhY2tcIiksdGhpcztpZih0aGlzLnRyaWdnZXIoXCJmb3JtLXN1Ym1pdC12YWxpZGF0ZVwiLFt4LHRoaXMsdCxtXSksbS52ZXRvKXJldHVybiBhKFwiYWpheFN1Ym1pdDogc3VibWl0IHZldG9lZCB2aWEgZm9ybS1zdWJtaXQtdmFsaWRhdGUgdHJpZ2dlclwiKSx0aGlzO3ZhciBiPWUucGFyYW0oeCxoKTt2JiYoYj1iP2IrXCImXCIrdjp2KSxcIkdFVFwiPT09dC50eXBlLnRvVXBwZXJDYXNlKCk/KHQudXJsKz0odC51cmwuaW5kZXhPZihcIj9cIik+PTA/XCImXCI6XCI/XCIpK2IsdC5kYXRhPW51bGwpOnQuZGF0YT1iO3ZhciBUPVtdO2lmKHQucmVzZXRGb3JtJiZULnB1c2goZnVuY3Rpb24oKXtwLnJlc2V0Rm9ybSgpfSksdC5jbGVhckZvcm0mJlQucHVzaChmdW5jdGlvbigpe3AuY2xlYXJGb3JtKHQuaW5jbHVkZUhpZGRlbil9KSwhdC5kYXRhVHlwZSYmdC50YXJnZXQpe3ZhciBqPXQuc3VjY2Vzc3x8ZnVuY3Rpb24oKXt9O1QucHVzaChmdW5jdGlvbihyLGEsbil7dmFyIGk9YXJndW1lbnRzLG89dC5yZXBsYWNlVGFyZ2V0P1wicmVwbGFjZVdpdGhcIjpcImh0bWxcIjtlKHQudGFyZ2V0KVtvXShyKS5lYWNoKGZ1bmN0aW9uKCl7ai5hcHBseSh0aGlzLGkpfSl9KX1lbHNlIHQuc3VjY2VzcyYmKGUuaXNBcnJheSh0LnN1Y2Nlc3MpP2UubWVyZ2UoVCx0LnN1Y2Nlc3MpOlQucHVzaCh0LnN1Y2Nlc3MpKTtpZih0LnN1Y2Nlc3M9ZnVuY3Rpb24oZSxyLGEpe2Zvcih2YXIgbj10LmNvbnRleHR8fHRoaXMsaT0wLG89VC5sZW5ndGg7aTxvO2krKylUW2ldLmFwcGx5KG4sW2UscixhfHxwLHBdKX0sdC5lcnJvcil7dmFyIHc9dC5lcnJvcjt0LmVycm9yPWZ1bmN0aW9uKGUscixhKXt2YXIgbj10LmNvbnRleHR8fHRoaXM7dy5hcHBseShuLFtlLHIsYSxwXSl9fWlmKHQuY29tcGxldGUpe3ZhciBTPXQuY29tcGxldGU7dC5jb21wbGV0ZT1mdW5jdGlvbihlLHIpe3ZhciBhPXQuY29udGV4dHx8dGhpcztTLmFwcGx5KGEsW2UscixwXSl9fXZhciBrPWUoXCJpbnB1dFt0eXBlPWZpbGVdOmVuYWJsZWRcIix0aGlzKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm5cIlwiIT09ZSh0aGlzKS52YWwoKX0pLmxlbmd0aD4wLEQ9XCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsQT1wLmF0dHIoXCJlbmN0eXBlXCIpPT09RHx8cC5hdHRyKFwiZW5jb2RpbmdcIik9PT1ELEw9aS5maWxlYXBpJiZpLmZvcm1kYXRhO2EoXCJmaWxlQVBJIDpcIitMKTt2YXIgRixFPShrfHxBKSYmIUw7ITEhPT10LmlmcmFtZSYmKHQuaWZyYW1lfHxFKT90LmNsb3NlS2VlcEFsaXZlP2UuZ2V0KHQuY2xvc2VLZWVwQWxpdmUsZnVuY3Rpb24oKXtGPWMoeCl9KTpGPWMoeCk6Rj0oa3x8QSkmJkw/ZnVuY3Rpb24ocil7Zm9yKHZhciBhPW5ldyBGb3JtRGF0YSxuPTA7bjxyLmxlbmd0aDtuKyspYS5hcHBlbmQocltuXS5uYW1lLHJbbl0udmFsdWUpO2lmKHQuZXh0cmFEYXRhKXt2YXIgaT11KHQuZXh0cmFEYXRhKTtmb3Iobj0wO248aS5sZW5ndGg7bisrKWlbbl0mJmEuYXBwZW5kKGlbbl1bMF0saVtuXVsxXSl9dC5kYXRhPW51bGw7dmFyIG89ZS5leHRlbmQoITAse30sZS5hamF4U2V0dGluZ3MsdCx7Y29udGVudFR5cGU6ITEscHJvY2Vzc0RhdGE6ITEsY2FjaGU6ITEsdHlwZTpsfHxcIlBPU1RcIn0pO3QudXBsb2FkUHJvZ3Jlc3MmJihvLnhocj1mdW5jdGlvbigpe3ZhciByPWUuYWpheFNldHRpbmdzLnhocigpO3JldHVybiByLnVwbG9hZCYmci51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsZnVuY3Rpb24oZSl7dmFyIHI9MCxhPWUubG9hZGVkfHxlLnBvc2l0aW9uLG49ZS50b3RhbDtlLmxlbmd0aENvbXB1dGFibGUmJihyPU1hdGguY2VpbChhL24qMTAwKSksdC51cGxvYWRQcm9ncmVzcyhlLGEsbixyKX0sITEpLHJ9KSxvLmRhdGE9bnVsbDt2YXIgcz1vLmJlZm9yZVNlbmQ7cmV0dXJuIG8uYmVmb3JlU2VuZD1mdW5jdGlvbihlLHIpe3QuZm9ybURhdGE/ci5kYXRhPXQuZm9ybURhdGE6ci5kYXRhPWEscyYmcy5jYWxsKHRoaXMsZSxyKX0sZS5hamF4KG8pfSh4KTplLmFqYXgodCkscC5yZW1vdmVEYXRhKFwianF4aHJcIikuZGF0YShcImpxeGhyXCIsRik7Zm9yKHZhciBNPTA7TTxnLmxlbmd0aDtNKyspZ1tNXT1udWxsO3JldHVybiB0aGlzLnRyaWdnZXIoXCJmb3JtLXN1Ym1pdC1ub3RpZnlcIixbdGhpcyx0XSksdGhpc30sZS5mbi5hamF4Rm9ybT1mdW5jdGlvbihuLGksbyxzKXtpZigoXCJzdHJpbmdcIj09dHlwZW9mIG58fCExPT09biYmYXJndW1lbnRzLmxlbmd0aD4wKSYmKG49e3VybDpuLGRhdGE6aSxkYXRhVHlwZTpvfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBzJiYobi5zdWNjZXNzPXMpKSxuPW58fHt9LG4uZGVsZWdhdGlvbj1uLmRlbGVnYXRpb24mJmUuaXNGdW5jdGlvbihlLmZuLm9uKSwhbi5kZWxlZ2F0aW9uJiYwPT09dGhpcy5sZW5ndGgpe3ZhciB1PXtzOnRoaXMuc2VsZWN0b3IsYzp0aGlzLmNvbnRleHR9O3JldHVybiFlLmlzUmVhZHkmJnUucz8oYShcIkRPTSBub3QgcmVhZHksIHF1ZXVpbmcgYWpheEZvcm1cIiksZShmdW5jdGlvbigpe2UodS5zLHUuYykuYWpheEZvcm0obil9KSx0aGlzKTooYShcInRlcm1pbmF0aW5nOyB6ZXJvIGVsZW1lbnRzIGZvdW5kIGJ5IHNlbGVjdG9yXCIrKGUuaXNSZWFkeT9cIlwiOlwiIChET00gbm90IHJlYWR5KVwiKSksdGhpcyl9cmV0dXJuIG4uZGVsZWdhdGlvbj8oZShkb2N1bWVudCkub2ZmKFwic3VibWl0LmZvcm0tcGx1Z2luXCIsdGhpcy5zZWxlY3Rvcix0KS5vZmYoXCJjbGljay5mb3JtLXBsdWdpblwiLHRoaXMuc2VsZWN0b3Iscikub24oXCJzdWJtaXQuZm9ybS1wbHVnaW5cIix0aGlzLnNlbGVjdG9yLG4sdCkub24oXCJjbGljay5mb3JtLXBsdWdpblwiLHRoaXMuc2VsZWN0b3IsbixyKSx0aGlzKTp0aGlzLmFqYXhGb3JtVW5iaW5kKCkub24oXCJzdWJtaXQuZm9ybS1wbHVnaW5cIixuLHQpLm9uKFwiY2xpY2suZm9ybS1wbHVnaW5cIixuLHIpfSxlLmZuLmFqYXhGb3JtVW5iaW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2ZmKFwic3VibWl0LmZvcm0tcGx1Z2luIGNsaWNrLmZvcm0tcGx1Z2luXCIpfSxlLmZuLmZvcm1Ub0FycmF5PWZ1bmN0aW9uKHQscixhKXt2YXIgbj1bXTtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuIG47dmFyIG8scz10aGlzWzBdLHU9dGhpcy5hdHRyKFwiaWRcIiksYz10fHx2b2lkIDA9PT1zLmVsZW1lbnRzP3MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpOnMuZWxlbWVudHM7aWYoYyYmKGM9ZS5tYWtlQXJyYXkoYykpLHUmJih0fHwvKEVkZ2V8VHJpZGVudClcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpJiYobz1lKCc6aW5wdXRbZm9ybT1cIicrdSsnXCJdJykuZ2V0KCkpLmxlbmd0aCYmKGM9KGN8fFtdKS5jb25jYXQobykpLCFjfHwhYy5sZW5ndGgpcmV0dXJuIG47ZS5pc0Z1bmN0aW9uKGEpJiYoYz1lLm1hcChjLGEpKTt2YXIgbCxmLGQscCxtLGgsdjtmb3IobD0wLGg9Yy5sZW5ndGg7bDxoO2wrKylpZihtPWNbbF0sKGQ9bS5uYW1lKSYmIW0uZGlzYWJsZWQpaWYodCYmcy5jbGsmJlwiaW1hZ2VcIj09PW0udHlwZSlzLmNsaz09PW0mJihuLnB1c2goe25hbWU6ZCx2YWx1ZTplKG0pLnZhbCgpLHR5cGU6bS50eXBlfSksbi5wdXNoKHtuYW1lOmQrXCIueFwiLHZhbHVlOnMuY2xrX3h9LHtuYW1lOmQrXCIueVwiLHZhbHVlOnMuY2xrX3l9KSk7ZWxzZSBpZigocD1lLmZpZWxkVmFsdWUobSwhMCkpJiZwLmNvbnN0cnVjdG9yPT09QXJyYXkpZm9yKHImJnIucHVzaChtKSxmPTAsdj1wLmxlbmd0aDtmPHY7ZisrKW4ucHVzaCh7bmFtZTpkLHZhbHVlOnBbZl19KTtlbHNlIGlmKGkuZmlsZWFwaSYmXCJmaWxlXCI9PT1tLnR5cGUpe3ImJnIucHVzaChtKTt2YXIgZz1tLmZpbGVzO2lmKGcubGVuZ3RoKWZvcihmPTA7ZjxnLmxlbmd0aDtmKyspbi5wdXNoKHtuYW1lOmQsdmFsdWU6Z1tmXSx0eXBlOm0udHlwZX0pO2Vsc2Ugbi5wdXNoKHtuYW1lOmQsdmFsdWU6XCJcIix0eXBlOm0udHlwZX0pfWVsc2UgbnVsbCE9PXAmJnZvaWQgMCE9PXAmJihyJiZyLnB1c2gobSksbi5wdXNoKHtuYW1lOmQsdmFsdWU6cCx0eXBlOm0udHlwZSxyZXF1aXJlZDptLnJlcXVpcmVkfSkpO2lmKCF0JiZzLmNsayl7dmFyIHg9ZShzLmNsaykseT14WzBdOyhkPXkubmFtZSkmJiF5LmRpc2FibGVkJiZcImltYWdlXCI9PT15LnR5cGUmJihuLnB1c2goe25hbWU6ZCx2YWx1ZTp4LnZhbCgpfSksbi5wdXNoKHtuYW1lOmQrXCIueFwiLHZhbHVlOnMuY2xrX3h9LHtuYW1lOmQrXCIueVwiLHZhbHVlOnMuY2xrX3l9KSl9cmV0dXJuIG59LGUuZm4uZm9ybVNlcmlhbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5wYXJhbSh0aGlzLmZvcm1Ub0FycmF5KHQpKX0sZS5mbi5maWVsZFNlcmlhbGl6ZT1mdW5jdGlvbih0KXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5uYW1lO2lmKGEpe3ZhciBuPWUuZmllbGRWYWx1ZSh0aGlzLHQpO2lmKG4mJm4uY29uc3RydWN0b3I9PT1BcnJheSlmb3IodmFyIGk9MCxvPW4ubGVuZ3RoO2k8bztpKyspci5wdXNoKHtuYW1lOmEsdmFsdWU6bltpXX0pO2Vsc2UgbnVsbCE9PW4mJnZvaWQgMCE9PW4mJnIucHVzaCh7bmFtZTp0aGlzLm5hbWUsdmFsdWU6bn0pfX0pLGUucGFyYW0ocil9LGUuZm4uZmllbGRWYWx1ZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9W10sYT0wLG49dGhpcy5sZW5ndGg7YTxuO2ErKyl7dmFyIGk9dGhpc1thXSxvPWUuZmllbGRWYWx1ZShpLHQpO251bGw9PT1vfHx2b2lkIDA9PT1vfHxvLmNvbnN0cnVjdG9yPT09QXJyYXkmJiFvLmxlbmd0aHx8KG8uY29uc3RydWN0b3I9PT1BcnJheT9lLm1lcmdlKHIsbyk6ci5wdXNoKG8pKX1yZXR1cm4gcn0sZS5maWVsZFZhbHVlPWZ1bmN0aW9uKHQscil7dmFyIGE9dC5uYW1lLGk9dC50eXBlLG89dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7aWYodm9pZCAwPT09ciYmKHI9ITApLHImJighYXx8dC5kaXNhYmxlZHx8XCJyZXNldFwiPT09aXx8XCJidXR0b25cIj09PWl8fChcImNoZWNrYm94XCI9PT1pfHxcInJhZGlvXCI9PT1pKSYmIXQuY2hlY2tlZHx8KFwic3VibWl0XCI9PT1pfHxcImltYWdlXCI9PT1pKSYmdC5mb3JtJiZ0LmZvcm0uY2xrIT09dHx8XCJzZWxlY3RcIj09PW8mJi0xPT09dC5zZWxlY3RlZEluZGV4KSlyZXR1cm4gbnVsbDtpZihcInNlbGVjdFwiPT09byl7dmFyIHM9dC5zZWxlY3RlZEluZGV4O2lmKHM8MClyZXR1cm4gbnVsbDtmb3IodmFyIHU9W10sYz10Lm9wdGlvbnMsbD1cInNlbGVjdC1vbmVcIj09PWksZj1sP3MrMTpjLmxlbmd0aCxkPWw/czowO2Q8ZjtkKyspe3ZhciBwPWNbZF07aWYocC5zZWxlY3RlZCYmIXAuZGlzYWJsZWQpe3ZhciBtPXAudmFsdWU7aWYobXx8KG09cC5hdHRyaWJ1dGVzJiZwLmF0dHJpYnV0ZXMudmFsdWUmJiFwLmF0dHJpYnV0ZXMudmFsdWUuc3BlY2lmaWVkP3AudGV4dDpwLnZhbHVlKSxsKXJldHVybiBtO3UucHVzaChtKX19cmV0dXJuIHV9cmV0dXJuIGUodCkudmFsKCkucmVwbGFjZShuLFwiXFxyXFxuXCIpfSxlLmZuLmNsZWFyRm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZShcImlucHV0LHNlbGVjdCx0ZXh0YXJlYVwiLHRoaXMpLmNsZWFyRmllbGRzKHQpfSl9LGUuZm4uY2xlYXJGaWVsZHM9ZS5mbi5jbGVhcklucHV0cz1mdW5jdGlvbih0KXt2YXIgcj0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZW1haWx8bW9udGh8bnVtYmVyfHBhc3N3b3JkfHJhbmdlfHNlYXJjaHx0ZWx8dGV4dHx0aW1lfHVybHx3ZWVrKSQvaTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlLG49dGhpcy50YWdOYW1lLnRvTG93ZXJDYXNlKCk7ci50ZXN0KGEpfHxcInRleHRhcmVhXCI9PT1uP3RoaXMudmFsdWU9XCJcIjpcImNoZWNrYm94XCI9PT1hfHxcInJhZGlvXCI9PT1hP3RoaXMuY2hlY2tlZD0hMTpcInNlbGVjdFwiPT09bj90aGlzLnNlbGVjdGVkSW5kZXg9LTE6XCJmaWxlXCI9PT1hPy9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpP2UodGhpcykucmVwbGFjZVdpdGgoZSh0aGlzKS5jbG9uZSghMCkpOmUodGhpcykudmFsKFwiXCIpOnQmJighMD09PXQmJi9oaWRkZW4vLnRlc3QoYSl8fFwic3RyaW5nXCI9PXR5cGVvZiB0JiZlKHRoaXMpLmlzKHQpKSYmKHRoaXMudmFsdWU9XCJcIil9KX0sZS5mbi5yZXNldEZvcm09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKSxyPXRoaXMudGFnTmFtZS50b0xvd2VyQ2FzZSgpO3N3aXRjaChyKXtjYXNlXCJpbnB1dFwiOnRoaXMuY2hlY2tlZD10aGlzLmRlZmF1bHRDaGVja2VkO2Nhc2VcInRleHRhcmVhXCI6cmV0dXJuIHRoaXMudmFsdWU9dGhpcy5kZWZhdWx0VmFsdWUsITA7Y2FzZVwib3B0aW9uXCI6Y2FzZVwib3B0Z3JvdXBcIjp2YXIgYT10LnBhcmVudHMoXCJzZWxlY3RcIik7cmV0dXJuIGEubGVuZ3RoJiZhWzBdLm11bHRpcGxlP1wib3B0aW9uXCI9PT1yP3RoaXMuc2VsZWN0ZWQ9dGhpcy5kZWZhdWx0U2VsZWN0ZWQ6dC5maW5kKFwib3B0aW9uXCIpLnJlc2V0Rm9ybSgpOmEucmVzZXRGb3JtKCksITA7Y2FzZVwic2VsZWN0XCI6cmV0dXJuIHQuZmluZChcIm9wdGlvblwiKS5lYWNoKGZ1bmN0aW9uKGUpe2lmKHRoaXMuc2VsZWN0ZWQ9dGhpcy5kZWZhdWx0U2VsZWN0ZWQsdGhpcy5kZWZhdWx0U2VsZWN0ZWQmJiF0WzBdLm11bHRpcGxlKXJldHVybiB0WzBdLnNlbGVjdGVkSW5kZXg9ZSwhMX0pLCEwO2Nhc2VcImxhYmVsXCI6dmFyIG49ZSh0LmF0dHIoXCJmb3JcIikpLGk9dC5maW5kKFwiaW5wdXQsc2VsZWN0LHRleHRhcmVhXCIpO3JldHVybiBuWzBdJiZpLnVuc2hpZnQoblswXSksaS5yZXNldEZvcm0oKSwhMDtjYXNlXCJmb3JtXCI6cmV0dXJuKFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMucmVzZXR8fFwib2JqZWN0XCI9PXR5cGVvZiB0aGlzLnJlc2V0JiYhdGhpcy5yZXNldC5ub2RlVHlwZSkmJnRoaXMucmVzZXQoKSwhMDtkZWZhdWx0OnJldHVybiB0LmZpbmQoXCJmb3JtLGlucHV0LGxhYmVsLHNlbGVjdCx0ZXh0YXJlYVwiKS5yZXNldEZvcm0oKSwhMH19KX0sZS5mbi5lbmFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSEwKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSFlfSl9LGUuZm4uc2VsZWN0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSEwKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj10aGlzLnR5cGU7aWYoXCJjaGVja2JveFwiPT09cnx8XCJyYWRpb1wiPT09cil0aGlzLmNoZWNrZWQ9dDtlbHNlIGlmKFwib3B0aW9uXCI9PT10aGlzLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGE9ZSh0aGlzKS5wYXJlbnQoXCJzZWxlY3RcIik7dCYmYVswXSYmXCJzZWxlY3Qtb25lXCI9PT1hWzBdLnR5cGUmJmEuZmluZChcIm9wdGlvblwiKS5zZWxlY3RlZCghMSksdGhpcy5zZWxlY3RlZD10fX0pfSxlLmZuLmFqYXhTdWJtaXQuZGVidWc9ITF9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpxdWVyeS5mb3JtLm1pbi5qcy5tYXBcbiIsIi8qKlxuKiBqcXVlcnktbWF0Y2gtaGVpZ2h0IDAuNy4yIGJ5IEBsaWFicnVcbiogaHR0cDovL2JybS5pby9qcXVlcnktbWF0Y2gtaGVpZ2h0L1xuKiBMaWNlbnNlOiBNSVRcbiovXG5cbjsoZnVuY3Rpb24oZmFjdG9yeSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWV4dHJhLXNlbWlcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93WydqUXVlcnknXSA6IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWxbJ2pRdWVyeSddIDogbnVsbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEdsb2JhbFxuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgfVxufSkoZnVuY3Rpb24oJCkge1xuICAgIC8qXG4gICAgKiAgaW50ZXJuYWxcbiAgICAqL1xuXG4gICAgdmFyIF9wcmV2aW91c1Jlc2l6ZVdpZHRoID0gLTEsXG4gICAgICAgIF91cGRhdGVUaW1lb3V0ID0gLTE7XG5cbiAgICAvKlxuICAgICogIF9wYXJzZVxuICAgICogIHZhbHVlIHBhcnNlIHV0aWxpdHkgZnVuY3Rpb25cbiAgICAqL1xuXG4gICAgdmFyIF9wYXJzZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIC8vIHBhcnNlIHZhbHVlIGFuZCBjb252ZXJ0IE5hTiB0byAwXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xuICAgIH07XG5cbiAgICAvKlxuICAgICogIF9yb3dzXG4gICAgKiAgdXRpbGl0eSBmdW5jdGlvbiByZXR1cm5zIGFycmF5IG9mIGpRdWVyeSBzZWxlY3Rpb25zIHJlcHJlc2VudGluZyBlYWNoIHJvd1xuICAgICogIChhcyBkaXNwbGF5ZWQgYWZ0ZXIgZmxvYXQgd3JhcHBpbmcgYXBwbGllZCBieSBicm93c2VyKVxuICAgICovXG5cbiAgICB2YXIgX3Jvd3MgPSBmdW5jdGlvbihlbGVtZW50cykge1xuICAgICAgICB2YXIgdG9sZXJhbmNlID0gMSxcbiAgICAgICAgICAgICRlbGVtZW50cyA9ICQoZWxlbWVudHMpLFxuICAgICAgICAgICAgbGFzdFRvcCA9IG51bGwsXG4gICAgICAgICAgICByb3dzID0gW107XG5cbiAgICAgICAgLy8gZ3JvdXAgZWxlbWVudHMgYnkgdGhlaXIgdG9wIHBvc2l0aW9uXG4gICAgICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIHRvcCA9ICR0aGF0Lm9mZnNldCgpLnRvcCAtIF9wYXJzZSgkdGhhdC5jc3MoJ21hcmdpbi10b3AnKSksXG4gICAgICAgICAgICAgICAgbGFzdFJvdyA9IHJvd3MubGVuZ3RoID4gMCA/IHJvd3Nbcm93cy5sZW5ndGggLSAxXSA6IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChsYXN0Um93ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QgaXRlbSBvbiB0aGUgcm93LCBzbyBqdXN0IHB1c2ggaXRcbiAgICAgICAgICAgICAgICByb3dzLnB1c2goJHRoYXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcm93IHRvcCBpcyB0aGUgc2FtZSwgYWRkIHRvIHRoZSByb3cgZ3JvdXBcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5mbG9vcihNYXRoLmFicyhsYXN0VG9wIC0gdG9wKSkgPD0gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3Nbcm93cy5sZW5ndGggLSAxXSA9IGxhc3RSb3cuYWRkKCR0aGF0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2Ugc3RhcnQgYSBuZXcgcm93IGdyb3VwXG4gICAgICAgICAgICAgICAgICAgIHJvd3MucHVzaCgkdGhhdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IHJvdyB0b3BcbiAgICAgICAgICAgIGxhc3RUb3AgPSB0b3A7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH07XG5cbiAgICAvKlxuICAgICogIF9wYXJzZU9wdGlvbnNcbiAgICAqICBoYW5kbGUgcGx1Z2luIG9wdGlvbnNcbiAgICAqL1xuXG4gICAgdmFyIF9wYXJzZU9wdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICAgICAgYnlSb3c6IHRydWUsXG4gICAgICAgICAgICBwcm9wZXJ0eTogJ2hlaWdodCcsXG4gICAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgICByZW1vdmU6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuICQuZXh0ZW5kKG9wdHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG9wdHMuYnlSb3cgPSBvcHRpb25zO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMgPT09ICdyZW1vdmUnKSB7XG4gICAgICAgICAgICBvcHRzLnJlbW92ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gb3B0cztcbiAgICB9O1xuXG4gICAgLypcbiAgICAqICBtYXRjaEhlaWdodFxuICAgICogIHBsdWdpbiBkZWZpbml0aW9uXG4gICAgKi9cblxuICAgIHZhciBtYXRjaEhlaWdodCA9ICQuZm4ubWF0Y2hIZWlnaHQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRzID0gX3BhcnNlT3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgICAvLyBoYW5kbGUgcmVtb3ZlXG4gICAgICAgIGlmIChvcHRzLnJlbW92ZSkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgZml4ZWQgaGVpZ2h0IGZyb20gYWxsIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgICAgICAgICB0aGlzLmNzcyhvcHRzLnByb3BlcnR5LCAnJyk7XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBzZWxlY3RlZCBlbGVtZW50cyBmcm9tIGFsbCBncm91cHNcbiAgICAgICAgICAgICQuZWFjaChtYXRjaEhlaWdodC5fZ3JvdXBzLCBmdW5jdGlvbihrZXksIGdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAuZWxlbWVudHMgPSBncm91cC5lbGVtZW50cy5ub3QodGhhdCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gVE9ETzogY2xlYW51cCBlbXB0eSBncm91cHNcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPD0gMSAmJiAhb3B0cy50YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiB0aGlzIGdyb3VwIHNvIHdlIGNhbiByZS1hcHBseSBsYXRlciBvbiBsb2FkIGFuZCByZXNpemUgZXZlbnRzXG4gICAgICAgIG1hdGNoSGVpZ2h0Ll9ncm91cHMucHVzaCh7XG4gICAgICAgICAgICBlbGVtZW50czogdGhpcyxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdHNcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbWF0Y2ggZWFjaCBlbGVtZW50J3MgaGVpZ2h0IHRvIHRoZSB0YWxsZXN0IGVsZW1lbnQgaW4gdGhlIHNlbGVjdGlvblxuICAgICAgICBtYXRjaEhlaWdodC5fYXBwbHkodGhpcywgb3B0cyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgcGx1Z2luIGdsb2JhbCBvcHRpb25zXG4gICAgKi9cblxuICAgIG1hdGNoSGVpZ2h0LnZlcnNpb24gPSAnMC43LjInO1xuICAgIG1hdGNoSGVpZ2h0Ll9ncm91cHMgPSBbXTtcbiAgICBtYXRjaEhlaWdodC5fdGhyb3R0bGUgPSA4MDtcbiAgICBtYXRjaEhlaWdodC5fbWFpbnRhaW5TY3JvbGwgPSBmYWxzZTtcbiAgICBtYXRjaEhlaWdodC5fYmVmb3JlVXBkYXRlID0gbnVsbDtcbiAgICBtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUgPSBudWxsO1xuICAgIG1hdGNoSGVpZ2h0Ll9yb3dzID0gX3Jvd3M7XG4gICAgbWF0Y2hIZWlnaHQuX3BhcnNlID0gX3BhcnNlO1xuICAgIG1hdGNoSGVpZ2h0Ll9wYXJzZU9wdGlvbnMgPSBfcGFyc2VPcHRpb25zO1xuXG4gICAgLypcbiAgICAqICBtYXRjaEhlaWdodC5fYXBwbHlcbiAgICAqICBhcHBseSBtYXRjaEhlaWdodCB0byBnaXZlbiBlbGVtZW50c1xuICAgICovXG5cbiAgICBtYXRjaEhlaWdodC5fYXBwbHkgPSBmdW5jdGlvbihlbGVtZW50cywgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3B0cyA9IF9wYXJzZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICAkZWxlbWVudHMgPSAkKGVsZW1lbnRzKSxcbiAgICAgICAgICAgIHJvd3MgPSBbJGVsZW1lbnRzXTtcblxuICAgICAgICAvLyB0YWtlIG5vdGUgb2Ygc2Nyb2xsIHBvc2l0aW9uXG4gICAgICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICBodG1sSGVpZ2h0ID0gJCgnaHRtbCcpLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgIC8vIGdldCBoaWRkZW4gcGFyZW50c1xuICAgICAgICB2YXIgJGhpZGRlblBhcmVudHMgPSAkZWxlbWVudHMucGFyZW50cygpLmZpbHRlcignOmhpZGRlbicpO1xuXG4gICAgICAgIC8vIGNhY2hlIHRoZSBvcmlnaW5hbCBpbmxpbmUgc3R5bGVcbiAgICAgICAgJGhpZGRlblBhcmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICAgICAkdGhhdC5kYXRhKCdzdHlsZS1jYWNoZScsICR0aGF0LmF0dHIoJ3N0eWxlJykpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyB0ZW1wb3JhcmlseSBtdXN0IGZvcmNlIGhpZGRlbiBwYXJlbnRzIHZpc2libGVcbiAgICAgICAgJGhpZGRlblBhcmVudHMuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG5cbiAgICAgICAgLy8gZ2V0IHJvd3MgaWYgdXNpbmcgYnlSb3csIG90aGVyd2lzZSBhc3N1bWUgb25lIHJvd1xuICAgICAgICBpZiAob3B0cy5ieVJvdyAmJiAhb3B0cy50YXJnZXQpIHtcblxuICAgICAgICAgICAgLy8gbXVzdCBmaXJzdCBmb3JjZSBhbiBhcmJpdHJhcnkgZXF1YWwgaGVpZ2h0IHNvIGZsb2F0aW5nIGVsZW1lbnRzIGJyZWFrIGV2ZW5seVxuICAgICAgICAgICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICR0aGF0ID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGVtcG9yYXJpbHkgZm9yY2UgYSB1c2FibGUgZGlzcGxheSB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5ICE9PSAnaW5saW5lLWJsb2NrJyAmJiBkaXNwbGF5ICE9PSAnZmxleCcgJiYgZGlzcGxheSAhPT0gJ2lubGluZS1mbGV4Jykge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBjYWNoZSB0aGUgb3JpZ2luYWwgaW5saW5lIHN0eWxlXG4gICAgICAgICAgICAgICAgJHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnLCAkdGhhdC5hdHRyKCdzdHlsZScpKTtcblxuICAgICAgICAgICAgICAgICR0aGF0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzogZGlzcGxheSxcbiAgICAgICAgICAgICAgICAgICAgJ3BhZGRpbmctdG9wJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1ib3R0b20nOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tdG9wJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci10b3Atd2lkdGgnOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICdib3JkZXItYm90dG9tLXdpZHRoJzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGFycmF5IG9mIHJvd3MgKGJhc2VkIG9uIGVsZW1lbnQgdG9wIHBvc2l0aW9uKVxuICAgICAgICAgICAgcm93cyA9IF9yb3dzKCRlbGVtZW50cyk7XG5cbiAgICAgICAgICAgIC8vIHJldmVydCBvcmlnaW5hbCBpbmxpbmUgc3R5bGVzXG4gICAgICAgICAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICR0aGF0LmF0dHIoJ3N0eWxlJywgJHRoYXQuZGF0YSgnc3R5bGUtY2FjaGUnKSB8fCAnJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQuZWFjaChyb3dzLCBmdW5jdGlvbihrZXksIHJvdykge1xuICAgICAgICAgICAgdmFyICRyb3cgPSAkKHJvdyksXG4gICAgICAgICAgICAgICAgdGFyZ2V0SGVpZ2h0ID0gMDtcblxuICAgICAgICAgICAgaWYgKCFvcHRzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgYXBwbHkgdG8gcm93cyB3aXRoIG9ubHkgb25lIGl0ZW1cbiAgICAgICAgICAgICAgICBpZiAob3B0cy5ieVJvdyAmJiAkcm93Lmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICRyb3cuY3NzKG9wdHMucHJvcGVydHksICcnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgZmluZCB0aGUgbWF4IGhlaWdodFxuICAgICAgICAgICAgICAgICRyb3cuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHRoYXQgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSAkdGhhdC5hdHRyKCdzdHlsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheSA9ICR0aGF0LmNzcygnZGlzcGxheScpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRlbXBvcmFyaWx5IGZvcmNlIGEgdXNhYmxlIGRpc3BsYXkgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3BsYXkgIT09ICdpbmxpbmUtYmxvY2snICYmIGRpc3BsYXkgIT09ICdmbGV4JyAmJiBkaXNwbGF5ICE9PSAnaW5saW5lLWZsZXgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB3ZSBnZXQgdGhlIGNvcnJlY3QgYWN0dWFsIGhlaWdodCAoYW5kIG5vdCBhIHByZXZpb3VzbHkgc2V0IGhlaWdodCB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNzcyA9IHsgJ2Rpc3BsYXknOiBkaXNwbGF5IH07XG4gICAgICAgICAgICAgICAgICAgIGNzc1tvcHRzLnByb3BlcnR5XSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAkdGhhdC5jc3MoY3NzKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBtYXggaGVpZ2h0IChpbmNsdWRpbmcgcGFkZGluZywgYnV0IG5vdCBtYXJnaW4pXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGhhdC5vdXRlckhlaWdodChmYWxzZSkgPiB0YXJnZXRIZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldEhlaWdodCA9ICR0aGF0Lm91dGVySGVpZ2h0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHJldmVydCBzdHlsZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhhdC5hdHRyKCdzdHlsZScsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGF0LmNzcygnZGlzcGxheScsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0YXJnZXQgc2V0LCB1c2UgdGhlIGhlaWdodCBvZiB0aGUgdGFyZ2V0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICB0YXJnZXRIZWlnaHQgPSBvcHRzLnRhcmdldC5vdXRlckhlaWdodChmYWxzZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgdGhlIHJvdyBhbmQgYXBwbHkgdGhlIGhlaWdodCB0byBhbGwgZWxlbWVudHNcbiAgICAgICAgICAgICRyb3cuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBkb24ndCBhcHBseSB0byBhIHRhcmdldFxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnRhcmdldCAmJiAkdGhhdC5pcyhvcHRzLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBwYWRkaW5nIGFuZCBib3JkZXIgY29ycmVjdGx5IChyZXF1aXJlZCB3aGVuIG5vdCB1c2luZyBib3JkZXItYm94KVxuICAgICAgICAgICAgICAgIGlmICgkdGhhdC5jc3MoJ2JveC1zaXppbmcnKSAhPT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyArPSBfcGFyc2UoJHRoYXQuY3NzKCdib3JkZXItdG9wLXdpZHRoJykpICsgX3BhcnNlKCR0aGF0LmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxQYWRkaW5nICs9IF9wYXJzZSgkdGhhdC5jc3MoJ3BhZGRpbmctdG9wJykpICsgX3BhcnNlKCR0aGF0LmNzcygncGFkZGluZy1ib3R0b20nKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBoZWlnaHQgKGFjY291bnRpbmcgZm9yIHBhZGRpbmcgYW5kIGJvcmRlcilcbiAgICAgICAgICAgICAgICAkdGhhdC5jc3Mob3B0cy5wcm9wZXJ0eSwgKHRhcmdldEhlaWdodCAtIHZlcnRpY2FsUGFkZGluZykgKyAncHgnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyByZXZlcnQgaGlkZGVuIHBhcmVudHNcbiAgICAgICAgJGhpZGRlblBhcmVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhhdCA9ICQodGhpcyk7XG4gICAgICAgICAgICAkdGhhdC5hdHRyKCdzdHlsZScsICR0aGF0LmRhdGEoJ3N0eWxlLWNhY2hlJykgfHwgbnVsbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlc3RvcmUgc2Nyb2xsIHBvc2l0aW9uIGlmIGVuYWJsZWRcbiAgICAgICAgaWYgKG1hdGNoSGVpZ2h0Ll9tYWludGFpblNjcm9sbCkge1xuICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgoc2Nyb2xsVG9wIC8gaHRtbEhlaWdodCkgKiAkKCdodG1sJykub3V0ZXJIZWlnaHQodHJ1ZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgbWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaVxuICAgICogIGFwcGxpZXMgbWF0Y2hIZWlnaHQgdG8gYWxsIGVsZW1lbnRzIHdpdGggYSBkYXRhLW1hdGNoLWhlaWdodCBhdHRyaWJ1dGVcbiAgICAqL1xuXG4gICAgbWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZ3JvdXBzID0ge307XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgZ3JvdXBzIGJ5IHRoZWlyIGdyb3VwSWQgc2V0IGJ5IGVsZW1lbnRzIHVzaW5nIGRhdGEtbWF0Y2gtaGVpZ2h0XG4gICAgICAgICQoJ1tkYXRhLW1hdGNoLWhlaWdodF0sIFtkYXRhLW1oXScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIGdyb3VwSWQgPSAkdGhpcy5hdHRyKCdkYXRhLW1oJykgfHwgJHRoaXMuYXR0cignZGF0YS1tYXRjaC1oZWlnaHQnKTtcblxuICAgICAgICAgICAgaWYgKGdyb3VwSWQgaW4gZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzW2dyb3VwSWRdID0gZ3JvdXBzW2dyb3VwSWRdLmFkZCgkdGhpcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdyb3Vwc1tncm91cElkXSA9ICR0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhcHBseSBtYXRjaEhlaWdodCB0byBlYWNoIGdyb3VwXG4gICAgICAgICQuZWFjaChncm91cHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5tYXRjaEhlaWdodCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKiAgbWF0Y2hIZWlnaHQuX3VwZGF0ZVxuICAgICogIHVwZGF0ZXMgbWF0Y2hIZWlnaHQgb24gYWxsIGN1cnJlbnQgZ3JvdXBzIHdpdGggdGhlaXIgY29ycmVjdCBvcHRpb25zXG4gICAgKi9cblxuICAgIHZhciBfdXBkYXRlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKG1hdGNoSGVpZ2h0Ll9iZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgICAgIG1hdGNoSGVpZ2h0Ll9iZWZvcmVVcGRhdGUoZXZlbnQsIG1hdGNoSGVpZ2h0Ll9ncm91cHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgJC5lYWNoKG1hdGNoSGVpZ2h0Ll9ncm91cHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbWF0Y2hIZWlnaHQuX2FwcGx5KHRoaXMuZWxlbWVudHMsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChtYXRjaEhlaWdodC5fYWZ0ZXJVcGRhdGUpIHtcbiAgICAgICAgICAgIG1hdGNoSGVpZ2h0Ll9hZnRlclVwZGF0ZShldmVudCwgbWF0Y2hIZWlnaHQuX2dyb3Vwcyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgbWF0Y2hIZWlnaHQuX3VwZGF0ZSA9IGZ1bmN0aW9uKHRocm90dGxlLCBldmVudCkge1xuICAgICAgICAvLyBwcmV2ZW50IHVwZGF0ZSBpZiBmaXJlZCBmcm9tIGEgcmVzaXplIGV2ZW50XG4gICAgICAgIC8vIHdoZXJlIHRoZSB2aWV3cG9ydCB3aWR0aCBoYXNuJ3QgYWN0dWFsbHkgY2hhbmdlZFxuICAgICAgICAvLyBmaXhlcyBhbiBldmVudCBsb29waW5nIGJ1ZyBpbiBJRThcbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdyZXNpemUnKSB7XG4gICAgICAgICAgICB2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3dXaWR0aCA9PT0gX3ByZXZpb3VzUmVzaXplV2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfcHJldmlvdXNSZXNpemVXaWR0aCA9IHdpbmRvd1dpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhyb3R0bGUgdXBkYXRlc1xuICAgICAgICBpZiAoIXRocm90dGxlKSB7XG4gICAgICAgICAgICBfdXBkYXRlKGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChfdXBkYXRlVGltZW91dCA9PT0gLTEpIHtcbiAgICAgICAgICAgIF91cGRhdGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfdXBkYXRlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICBfdXBkYXRlVGltZW91dCA9IC0xO1xuICAgICAgICAgICAgfSwgbWF0Y2hIZWlnaHQuX3Rocm90dGxlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKlxuICAgICogIGJpbmQgZXZlbnRzXG4gICAgKi9cblxuICAgIC8vIGFwcGx5IG9uIERPTSByZWFkeSBldmVudFxuICAgICQobWF0Y2hIZWlnaHQuX2FwcGx5RGF0YUFwaSk7XG5cbiAgICAvLyB1c2Ugb24gb3IgYmluZCB3aGVyZSBzdXBwb3J0ZWRcbiAgICB2YXIgb24gPSAkLmZuLm9uID8gJ29uJyA6ICdiaW5kJztcblxuICAgIC8vIHVwZGF0ZSBoZWlnaHRzIG9uIGxvYWQgYW5kIHJlc2l6ZSBldmVudHNcbiAgICAkKHdpbmRvdylbb25dKCdsb2FkJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgbWF0Y2hIZWlnaHQuX3VwZGF0ZShmYWxzZSwgZXZlbnQpO1xuICAgIH0pO1xuXG4gICAgLy8gdGhyb3R0bGVkIHVwZGF0ZSBoZWlnaHRzIG9uIHJlc2l6ZSBldmVudHNcbiAgICAkKHdpbmRvdylbb25dKCdyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBtYXRjaEhlaWdodC5fdXBkYXRlKHRydWUsIGV2ZW50KTtcbiAgICB9KTtcblxufSk7XG4iLCIoZnVuY3Rpb24gKHJvb3QpIHsvKmdsb2JhbCBleHBvcnRzLCBJbnRsKi9cbi8qKlxuICogVGhpcyBzY3JpcHQgZ2l2ZXMgeW91IHRoZSB6b25lIGluZm8ga2V5IHJlcHJlc2VudGluZyB5b3VyIGRldmljZSdzIHRpbWUgem9uZSBzZXR0aW5nLlxuICpcbiAqIEBuYW1lIGpzVGltZXpvbmVEZXRlY3RcbiAqIEB2ZXJzaW9uIDEuMC42XG4gKiBAYXV0aG9yIEpvbiBOeWxhbmRlclxuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UgLSBodHRwczovL2JpdGJ1Y2tldC5vcmcvcGVsbGVwaW0vanN0aW1lem9uZWRldGVjdC9zcmMvZGVmYXVsdC9MSUNFTkNFLnR4dFxuICpcbiAqIEZvciB1c2FnZSBhbmQgZXhhbXBsZXMsIHZpc2l0OlxuICogaHR0cDovL3BlbGxlcGltLmJpdGJ1Y2tldC5vcmcvanN0ei9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEpvbiBOeWxhbmRlclxuICovXG5cblxuLyoqXG4gKiBOYW1lc3BhY2UgdG8gaG9sZCBhbGwgdGhlIGNvZGUgZm9yIHRpbWV6b25lIGRldGVjdGlvbi5cbiAqL1xudmFyIGpzdHogPSAoZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgSEVNSVNQSEVSRV9TT1VUSCA9ICdzJyxcblxuICAgICAgICBjb25zdHMgPSB7XG4gICAgICAgICAgICBEQVk6IDg2NDAwMDAwLFxuICAgICAgICAgICAgSE9VUjogMzYwMDAwMCxcbiAgICAgICAgICAgIE1JTlVURTogNjAwMDAsXG4gICAgICAgICAgICBTRUNPTkQ6IDEwMDAsXG4gICAgICAgICAgICBCQVNFTElORV9ZRUFSOiAyMDE0LFxuICAgICAgICAgICAgTUFYX1NDT1JFOiA4NjQwMDAwMDAsIC8vIDEwIGRheXNcbiAgICAgICAgICAgIEFNQklHVUlUSUVTOiB7XG4gICAgICAgICAgICAgICAgJ0FtZXJpY2EvRGVudmVyJzogICAgICAgWydBbWVyaWNhL01hemF0bGFuJ10sXG4gICAgICAgICAgICAgICAgJ0V1cm9wZS9Mb25kb24nOiAgICAgICAgWydBZnJpY2EvQ2FzYWJsYW5jYSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0NoaWNhZ28nOiAgICAgIFsnQW1lcmljYS9NZXhpY29fQ2l0eSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0FzdW5jaW9uJzogICAgIFsnQW1lcmljYS9DYW1wb19HcmFuZGUnLCAnQW1lcmljYS9TYW50aWFnbyddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL01vbnRldmlkZW8nOiAgIFsnQW1lcmljYS9TYW9fUGF1bG8nLCAnQW1lcmljYS9TYW50aWFnbyddLFxuICAgICAgICAgICAgICAgIC8vIEV1cm9wZS9NaW5zayBzaG91bGQgbm90IGJlIGluIHRoaXMgbGlzdC4uLiBidXQgV2luZG93cy5cbiAgICAgICAgICAgICAgICAnQXNpYS9CZWlydXQnOiAgICAgICAgICBbJ0FzaWEvQW1tYW4nLCAnQXNpYS9KZXJ1c2FsZW0nLCAnRXVyb3BlL0hlbHNpbmtpJywgJ0FzaWEvRGFtYXNjdXMnLCAnQWZyaWNhL0NhaXJvJywgJ0FzaWEvR2F6YScsICdFdXJvcGUvTWluc2snXSxcbiAgICAgICAgICAgICAgICAnUGFjaWZpYy9BdWNrbGFuZCc6ICAgICBbJ1BhY2lmaWMvRmlqaSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0xvc19BbmdlbGVzJzogIFsnQW1lcmljYS9TYW50YV9Jc2FiZWwnXSxcbiAgICAgICAgICAgICAgICAnQW1lcmljYS9OZXdfWW9yayc6ICAgICBbJ0FtZXJpY2EvSGF2YW5hJ10sXG4gICAgICAgICAgICAgICAgJ0FtZXJpY2EvSGFsaWZheCc6ICAgICAgWydBbWVyaWNhL0dvb3NlX0JheSddLFxuICAgICAgICAgICAgICAgICdBbWVyaWNhL0dvZHRoYWInOiAgICAgIFsnQW1lcmljYS9NaXF1ZWxvbiddLFxuICAgICAgICAgICAgICAgICdBc2lhL0R1YmFpJzogICAgICAgICAgIFsnQXNpYS9ZZXJldmFuJ10sXG4gICAgICAgICAgICAgICAgJ0FzaWEvSmFrYXJ0YSc6ICAgICAgICAgWydBc2lhL0tyYXNub3lhcnNrJ10sXG4gICAgICAgICAgICAgICAgJ0FzaWEvU2hhbmdoYWknOiAgICAgICAgWydBc2lhL0lya3V0c2snLCAnQXVzdHJhbGlhL1BlcnRoJ10sXG4gICAgICAgICAgICAgICAgJ0F1c3RyYWxpYS9TeWRuZXknOiAgICAgWydBdXN0cmFsaWEvTG9yZF9Ib3dlJ10sXG4gICAgICAgICAgICAgICAgJ0FzaWEvVG9reW8nOiAgICAgICAgICAgWydBc2lhL1lha3V0c2snXSxcbiAgICAgICAgICAgICAgICAnQXNpYS9EaGFrYSc6ICAgICAgICAgICBbJ0FzaWEvT21zayddLFxuICAgICAgICAgICAgICAgIC8vIEluIHRoZSByZWFsIHdvcmxkIFllcmV2YW4gaXMgbm90IGFtYmlnb3VzIGZvciBCYWt1Li4uIGJ1dCBXaW5kb3dzLlxuICAgICAgICAgICAgICAgICdBc2lhL0Jha3UnOiAgICAgICAgICAgIFsnQXNpYS9ZZXJldmFuJ10sXG4gICAgICAgICAgICAgICAgJ0F1c3RyYWxpYS9CcmlzYmFuZSc6ICAgWydBc2lhL1ZsYWRpdm9zdG9rJ10sXG4gICAgICAgICAgICAgICAgJ1BhY2lmaWMvTm91bWVhJzogICAgICAgWydBc2lhL1ZsYWRpdm9zdG9rJ10sXG4gICAgICAgICAgICAgICAgJ1BhY2lmaWMvTWFqdXJvJzogICAgICAgWydBc2lhL0thbWNoYXRrYScsICdQYWNpZmljL0ZpamknXSxcbiAgICAgICAgICAgICAgICAnUGFjaWZpYy9Ub25nYXRhcHUnOiAgICBbJ1BhY2lmaWMvQXBpYSddLFxuICAgICAgICAgICAgICAgICdBc2lhL0JhZ2hkYWQnOiAgICAgICAgIFsnRXVyb3BlL01pbnNrJywgJ0V1cm9wZS9Nb3Njb3cnXSxcbiAgICAgICAgICAgICAgICAnQXNpYS9LYXJhY2hpJzogICAgICAgICBbJ0FzaWEvWWVrYXRlcmluYnVyZyddLFxuICAgICAgICAgICAgICAgICdBZnJpY2EvSm9oYW5uZXNidXJnJzogIFsnQXNpYS9HYXphJywgJ0FmcmljYS9DYWlybyddXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG9mZnNldCBpbiBtaW51dGVzIGZyb20gVVRDIGZvciBhIGNlcnRhaW4gZGF0ZS5cbiAgICAgICAgICogQHBhcmFtIHtEYXRlfSBkYXRlXG4gICAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRfZGF0ZV9vZmZzZXQgPSBmdW5jdGlvbiBnZXRfZGF0ZV9vZmZzZXQoZGF0ZSkge1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IC1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICAgICAgICByZXR1cm4gKG9mZnNldCAhPT0gbnVsbCA/IG9mZnNldCA6IDApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGZ1bmN0aW9uIGRvZXMgc29tZSBiYXNpYyBjYWxjdWxhdGlvbnMgdG8gY3JlYXRlIGluZm9ybWF0aW9uIGFib3V0XG4gICAgICAgICAqIHRoZSB1c2VyJ3MgdGltZXpvbmUuIEl0IHVzZXMgUkVGRVJFTkNFX1lFQVIgYXMgYSBzb2xpZCB5ZWFyIGZvciB3aGljaFxuICAgICAgICAgKiB0aGUgc2NyaXB0IGhhcyBiZWVuIHRlc3RlZCByYXRoZXIgdGhhbiBkZXBlbmQgb24gdGhlIHllYXIgc2V0IGJ5IHRoZVxuICAgICAgICAgKiBjbGllbnQgZGV2aWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm5zIGEga2V5IHRoYXQgY2FuIGJlIHVzZWQgdG8gZG8gbG9va3VwcyBpbiBqc3R6Lm9sc29uLnRpbWV6b25lcy5cbiAgICAgICAgICogZWc6IFwiNzIwLDEsMlwiLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgbG9va3VwX2tleSA9IGZ1bmN0aW9uIGxvb2t1cF9rZXkoKSB7XG4gICAgICAgICAgICB2YXIgamFudWFyeV9vZmZzZXQgPSBnZXRfZGF0ZV9vZmZzZXQobmV3IERhdGUoY29uc3RzLkJBU0VMSU5FX1lFQVIsIDAsIDIpKSxcbiAgICAgICAgICAgICAgICBqdW5lX29mZnNldCA9IGdldF9kYXRlX29mZnNldChuZXcgRGF0ZShjb25zdHMuQkFTRUxJTkVfWUVBUiwgNSwgMikpLFxuICAgICAgICAgICAgICAgIGRpZmYgPSBqYW51YXJ5X29mZnNldCAtIGp1bmVfb2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gamFudWFyeV9vZmZzZXQgKyBcIiwxXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGp1bmVfb2Zmc2V0ICsgXCIsMSxcIiArIEhFTUlTUEhFUkVfU09VVEg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBqYW51YXJ5X29mZnNldCArIFwiLDBcIjtcbiAgICAgICAgfSxcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmllcyB0byBnZXQgdGhlIHRpbWUgem9uZSBrZXkgZGlyZWN0bHkgZnJvbSB0aGUgb3BlcmF0aW5nIHN5c3RlbSBmb3IgdGhvc2VcbiAgICAgICAgICogZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCB0aGUgRUNNQVNjcmlwdCBJbnRlcm5hdGlvbmFsaXphdGlvbiBBUEkuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRfZnJvbV9pbnRlcm5hdGlvbmFsaXphdGlvbl9hcGkgPSBmdW5jdGlvbiBnZXRfZnJvbV9pbnRlcm5hdGlvbmFsaXphdGlvbl9hcGkoKSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0LCB0aW1lem9uZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgSW50bCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgSW50bC5EYXRlVGltZUZvcm1hdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gSW50bC5EYXRlVGltZUZvcm1hdCgpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgZm9ybWF0LnJlc29sdmVkT3B0aW9ucyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGltZXpvbmUgPSBmb3JtYXQucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7XG5cbiAgICAgICAgICAgIGlmICh0aW1lem9uZSAmJiAodGltZXpvbmUuaW5kZXhPZihcIi9cIikgPiAtMSB8fCB0aW1lem9uZSA9PT0gJ1VUQycpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbWV6b25lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0YXJ0aW5nIHBvaW50IGZvciBnZXR0aW5nIGFsbCB0aGUgRFNUIHJ1bGVzIGZvciBhIHNwZWNpZmljIHllYXJcbiAgICAgICAgICogZm9yIHRoZSBjdXJyZW50IHRpbWV6b25lIChhcyBkZXNjcmliZWQgYnkgdGhlIGNsaWVudCBzeXN0ZW0pLlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHN0YXJ0IGFuZCBlbmQgYXR0cmlidXRlcywgb3IgZmFsc2UgaWYgbm9cbiAgICAgICAgICogRFNUIHJ1bGVzIHdlcmUgZm91bmQgZm9yIHRoZSB5ZWFyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geWVhclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSB8fCB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGRzdF9kYXRlcyA9IGZ1bmN0aW9uIGRzdF9kYXRlcyh5ZWFyKSB7XG4gICAgICAgICAgICB2YXIgeWVhcnN0YXJ0ID0gbmV3IERhdGUoeWVhciwgMCwgMSwgMCwgMCwgMSwgMCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIHllYXJlbmQgPSBuZXcgRGF0ZSh5ZWFyLCAxMiwgMzEsIDIzLCA1OSwgNTkpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0geWVhcnN0YXJ0O1xuICAgICAgICAgICAgdmFyIG9mZnNldCA9IChuZXcgRGF0ZShjdXJyZW50KSkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgICAgIHZhciBkc3Rfc3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGRzdF9lbmQgPSBudWxsO1xuXG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCA8IHllYXJlbmQgLSA4NjQwMDAwMCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRlVG9DaGVjayA9IG5ldyBEYXRlKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHZhciBkYXRlVG9DaGVja09mZnNldCA9IGRhdGVUb0NoZWNrLmdldFRpbWV6b25lT2Zmc2V0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0ZVRvQ2hlY2tPZmZzZXQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZVRvQ2hlY2tPZmZzZXQgPCBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRzdF9zdGFydCA9IGRhdGVUb0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRlVG9DaGVja09mZnNldCA+IG9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHN0X2VuZCA9IGRhdGVUb0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IGRhdGVUb0NoZWNrT2Zmc2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGN1cnJlbnQgKz0gODY0MDAwMDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkc3Rfc3RhcnQgJiYgZHN0X2VuZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHM6IGZpbmRfZHN0X2ZvbGQoZHN0X3N0YXJ0KS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgIGU6IGZpbmRfZHN0X2ZvbGQoZHN0X2VuZCkuZ2V0VGltZSgpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcm9iYWJseSBjb21wbGV0ZWx5IHVubmVjZXNzYXJ5IGZ1bmN0aW9uIHRoYXQgcmVjdXJzaXZlbHkgZmluZHMgdGhlXG4gICAgICAgICAqIGV4YWN0ICh0byB0aGUgc2Vjb25kKSB0aW1lIHdoZW4gYSBEU1QgcnVsZSB3YXMgY2hhbmdlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIGFfZGF0ZSAtIFRoZSBjYW5kaWRhdGUgRGF0ZS5cbiAgICAgICAgICogQHBhcmFtIHBhZGRpbmcgLSBpbnRlZ2VyIHNwZWNpZnlpbmcgdGhlIHBhZGRpbmcgdG8gYWxsb3cgYXJvdW5kIHRoZSBjYW5kaWRhdGVcbiAgICAgICAgICogICAgICAgICAgICAgICAgICBkYXRlIGZvciBmaW5kaW5nIHRoZSBmb2xkLlxuICAgICAgICAgKiBAcGFyYW0gaXRlcmF0b3IgLSBpbnRlZ2VyIHNwZWNpZnlpbmcgaG93IG1hbnkgbWlsbGlzZWNvbmRzIHRvIGl0ZXJhdGUgd2hpbGVcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgc2VhcmNoaW5nIGZvciB0aGUgZm9sZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMge0RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICBmaW5kX2RzdF9mb2xkID0gZnVuY3Rpb24gZmluZF9kc3RfZm9sZChhX2RhdGUsIHBhZGRpbmcsIGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhZGRpbmcgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcGFkZGluZyA9IGNvbnN0cy5EQVk7XG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSBjb25zdHMuSE9VUjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRhdGVfc3RhcnQgPSBuZXcgRGF0ZShhX2RhdGUuZ2V0VGltZSgpIC0gcGFkZGluZykuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIGRhdGVfZW5kID0gYV9kYXRlLmdldFRpbWUoKSArIHBhZGRpbmc7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gbmV3IERhdGUoZGF0ZV9zdGFydCkuZ2V0VGltZXpvbmVPZmZzZXQoKTtcblxuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBkYXRlX3N0YXJ0O1xuXG4gICAgICAgICAgICB2YXIgZHN0X2NoYW5nZSA9IG51bGw7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCA8IGRhdGVfZW5kIC0gaXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVRvQ2hlY2sgPSBuZXcgRGF0ZShjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVRvQ2hlY2tPZmZzZXQgPSBkYXRlVG9DaGVjay5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGVUb0NoZWNrT2Zmc2V0ICE9PSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZHN0X2NoYW5nZSA9IGRhdGVUb0NoZWNrO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCArPSBpdGVyYXRvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBhZGRpbmcgPT09IGNvbnN0cy5EQVkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmluZF9kc3RfZm9sZChkc3RfY2hhbmdlLCBjb25zdHMuSE9VUiwgY29uc3RzLk1JTlVURSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYWRkaW5nID09PSBjb25zdHMuSE9VUikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaW5kX2RzdF9mb2xkKGRzdF9jaGFuZ2UsIGNvbnN0cy5NSU5VVEUsIGNvbnN0cy5TRUNPTkQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZHN0X2NoYW5nZTtcbiAgICAgICAgfSxcblxuICAgICAgICB3aW5kb3dzN19hZGFwdGF0aW9ucyA9IGZ1bmN0aW9uIHdpbmRvd3M3X2FkYXB0aW9ucyhydWxlX2xpc3QsIHByZWxpbWluYXJ5X3RpbWV6b25lLCBzY29yZSwgc2FtcGxlKSB7XG4gICAgICAgICAgICBpZiAoc2NvcmUgIT09ICdOL0EnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjb3JlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZWxpbWluYXJ5X3RpbWV6b25lID09PSAnQXNpYS9CZWlydXQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZS5uYW1lID09PSAnQWZyaWNhL0NhaXJvJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDEzOTgzNzY4MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDE0MTE2Nzg4MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUubmFtZSA9PT0gJ0FzaWEvSmVydXNhbGVtJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDEzOTU5NjQ4MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDE0MTE4NTg4MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJlbGltaW5hcnlfdGltZXpvbmUgPT09ICdBbWVyaWNhL1NhbnRpYWdvJykge1xuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUubmFtZSA9PT0gJ0FtZXJpY2EvQXN1bmNpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlX2xpc3RbNl0ucyA9PT0gMTQxMjQ4MTYwMDAwMCAmJiBydWxlX2xpc3RbNl0uZSA9PT0gMTM5NzM1ODAwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZS5uYW1lID09PSAnQW1lcmljYS9DYW1wb19HcmFuZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlX2xpc3RbNl0ucyA9PT0gMTQxMzY5MTIwMDAwMCAmJiBydWxlX2xpc3RbNl0uZSA9PT0gMTM5MjUxOTYwMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByZWxpbWluYXJ5X3RpbWV6b25lID09PSAnQW1lcmljYS9Nb250ZXZpZGVvJykge1xuICAgICAgICAgICAgICAgIGlmIChzYW1wbGUubmFtZSA9PT0gJ0FtZXJpY2EvU2FvX1BhdWxvJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDE0MTM2ODc2MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDEzOTI1MTYwMDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwcmVsaW1pbmFyeV90aW1lem9uZSA9PT0gJ1BhY2lmaWMvQXVja2xhbmQnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhbXBsZS5uYW1lID09PSAnUGFjaWZpYy9GaWppJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZV9saXN0WzZdLnMgPT09IDE0MTQyNDU2MDAwMDAgJiYgcnVsZV9saXN0WzZdLmUgPT09IDEzOTYxMDE2MDAwMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRha2VzIHRoZSBEU1QgcnVsZXMgZm9yIHRoZSBjdXJyZW50IHRpbWV6b25lLCBhbmQgcHJvY2VlZHMgdG8gZmluZCBtYXRjaGVzXG4gICAgICAgICAqIGluIHRoZSBqc3R6Lm9sc29uLmRzdF9ydWxlcy56b25lcyBhcnJheS5cbiAgICAgICAgICpcbiAgICAgICAgICogQ29tcGFyZXMgc2FtcGxlcyB0byB0aGUgY3VycmVudCB0aW1lem9uZSBvbiBhIHNjb3JpbmcgYmFzaXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIENhbmRpZGF0ZXMgYXJlIHJ1bGVkIGltbWVkaWF0ZWx5IGlmIGVpdGhlciB0aGUgY2FuZGlkYXRlIG9yIHRoZSBjdXJyZW50IHpvbmVcbiAgICAgICAgICogaGFzIGEgRFNUIHJ1bGUgd2hlcmUgdGhlIG90aGVyIGRvZXMgbm90LlxuICAgICAgICAgKlxuICAgICAgICAgKiBDYW5kaWRhdGVzIGFyZSBydWxlZCBvdXQgaW1tZWRpYXRlbHkgaWYgdGhlIGN1cnJlbnQgem9uZSBoYXMgYSBydWxlIHRoYXQgaXNcbiAgICAgICAgICogb3V0c2lkZSB0aGUgRFNUIHNjb3BlIG9mIHRoZSBjYW5kaWRhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIENhbmRpZGF0ZXMgYXJlIGluY2x1ZGVkIGZvciBzY29yaW5nIGlmIHRoZSBjdXJyZW50IHpvbmVzIHJ1bGVzIGZhbGwgd2l0aGluIHRoZVxuICAgICAgICAgKiBzcGFuIG9mIHRoZSBzYW1wbGVzIHJ1bGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBMb3cgc2NvcmUgaXMgYmVzdCwgdGhlIHNjb3JlIGlzIGNhbGN1bGF0ZWQgYnkgc3VtbWluZyB1cCB0aGUgZGlmZmVyZW5jZXMgaW4gRFNUXG4gICAgICAgICAqIHJ1bGVzIGFuZCBpZiB0aGUgY29uc3RzLk1BWF9TQ09SRSBpcyBvdmVycmVhY2hlZCB0aGUgY2FuZGlkYXRlIGlzIHJ1bGVkIG91dC5cbiAgICAgICAgICpcbiAgICAgICAgICogWWFoIGZvbGxvdz8gOilcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHJ1bGVfbGlzdFxuICAgICAgICAgKiBAcGFyYW0gcHJlbGltaW5hcnlfdGltZXpvbmVcbiAgICAgICAgICogQHJldHVybnMgeyp9XG4gICAgICAgICAqL1xuICAgICAgICBiZXN0X2RzdF9tYXRjaCA9IGZ1bmN0aW9uIGJlc3RfZHN0X21hdGNoKHJ1bGVfbGlzdCwgcHJlbGltaW5hcnlfdGltZXpvbmUpIHtcbiAgICAgICAgICAgIHZhciBzY29yZV9zYW1wbGUgPSBmdW5jdGlvbiBzY29yZV9zYW1wbGUoc2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjb3JlID0gMDtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcnVsZV9saXN0Lmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQm90aCBzYW1wbGUgYW5kIGN1cnJlbnQgdGltZSB6b25lIHJlcG9ydCBEU1QgZHVyaW5nIHRoZSB5ZWFyLlxuICAgICAgICAgICAgICAgICAgICBpZiAoISFzYW1wbGUucnVsZXNbal0gJiYgISFydWxlX2xpc3Rbal0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGN1cnJlbnQgdGltZSB6b25lJ3MgRFNUIHJ1bGVzIGFyZSBpbnNpZGUgdGhlIHNhbXBsZSdzLiBJbmNsdWRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGVfbGlzdFtqXS5zID49IHNhbXBsZS5ydWxlc1tqXS5zICYmIHJ1bGVfbGlzdFtqXS5lIDw9IHNhbXBsZS5ydWxlc1tqXS5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlICs9IE1hdGguYWJzKHJ1bGVfbGlzdFtqXS5zIC0gc2FtcGxlLnJ1bGVzW2pdLnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3JlICs9IE1hdGguYWJzKHNhbXBsZS5ydWxlc1tqXS5lIC0gcnVsZV9saXN0W2pdLmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY3VycmVudCB0aW1lIHpvbmUncyBEU1QgcnVsZXMgYXJlIG91dHNpZGUgdGhlIHNhbXBsZSdzLiBEaXNjYXJkLlxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29yZSA9ICdOL0EnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbWF4IHNjb3JlIGhhcyBiZWVuIHJlYWNoZWQuIERpc2NhcmQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPiBjb25zdHMuTUFYX1NDT1JFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NvcmUgPSAnTi9BJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3JlID0gd2luZG93czdfYWRhcHRhdGlvbnMocnVsZV9saXN0LCBwcmVsaW1pbmFyeV90aW1lem9uZSwgc2NvcmUsIHNhbXBsZSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHNjb3JlYm9hcmQgPSB7fTtcbiAgICAgICAgICAgIHZhciBkc3Rfem9uZXMgPSBqc3R6Lm9sc29uLmRzdF9ydWxlcy56b25lcztcbiAgICAgICAgICAgIHZhciBkc3Rfem9uZXNfbGVuZ3RoID0gZHN0X3pvbmVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBhbWJpZ3VpdGllcyA9IGNvbnN0cy5BTUJJR1VJVElFU1twcmVsaW1pbmFyeV90aW1lem9uZV07XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZHN0X3pvbmVzX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZSA9IGRzdF96b25lc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgc2NvcmUgPSBzY29yZV9zYW1wbGUoZHN0X3pvbmVzW2ldKTtcblxuICAgICAgICAgICAgICAgIGlmIChzY29yZSAhPT0gJ04vQScpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVib2FyZFtzYW1wbGUubmFtZV0gPSBzY29yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIHR6IGluIHNjb3JlYm9hcmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmVib2FyZC5oYXNPd25Qcm9wZXJ0eSh0eikpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhbWJpZ3VpdGllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtYmlndWl0aWVzW2pdID09PSB0eikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ejtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByZWxpbWluYXJ5X3RpbWV6b25lO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUYWtlcyB0aGUgcHJlbGltaW5hcnlfdGltZXpvbmUgYXMgZGV0ZWN0ZWQgYnkgbG9va3VwX2tleSgpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCdWlsZHMgdXAgdGhlIGN1cnJlbnQgdGltZXpvbmVzIERTVCBydWxlcyBmb3IgdGhlIHllYXJzIGRlZmluZWRcbiAgICAgICAgICogaW4gdGhlIGpzdHoub2xzb24uZHN0X3J1bGVzLnllYXJzIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGVyZSBhcmUgbm8gRFNUIG9jY3VyZW5jZXMgZm9yIHRob3NlIHllYXJzLCBpbW1lZGlhdGVseSByZXR1cm5zXG4gICAgICAgICAqIHRoZSBwcmVsaW1pbmFyeSB0aW1lem9uZS4gT3RoZXJ3aXNlIHByb2NlZWRzIGFuZCB0cmllcyB0byBzb2x2ZVxuICAgICAgICAgKiBhbWJpZ3VpdGllcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHByZWxpbWluYXJ5X3RpbWV6b25lXG4gICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRpbWV6b25lX25hbWVcbiAgICAgICAgICovXG4gICAgICAgIGdldF9ieV9kc3QgPSBmdW5jdGlvbiBnZXRfYnlfZHN0KHByZWxpbWluYXJ5X3RpbWV6b25lKSB7XG4gICAgICAgICAgICB2YXIgZ2V0X3J1bGVzID0gZnVuY3Rpb24gZ2V0X3J1bGVzKCkge1xuICAgICAgICAgICAgICAgIHZhciBydWxlX2xpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGpzdHoub2xzb24uZHN0X3J1bGVzLnllYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyX3J1bGVzID0gZHN0X2RhdGVzKGpzdHoub2xzb24uZHN0X3J1bGVzLnllYXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgcnVsZV9saXN0LnB1c2goeWVhcl9ydWxlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBydWxlX2xpc3Q7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNoZWNrX2hhc19kc3QgPSBmdW5jdGlvbiBjaGVja19oYXNfZHN0KHJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocnVsZXNbaV0gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHJ1bGVzID0gZ2V0X3J1bGVzKCk7XG4gICAgICAgICAgICB2YXIgaGFzX2RzdCA9IGNoZWNrX2hhc19kc3QocnVsZXMpO1xuXG4gICAgICAgICAgICBpZiAoaGFzX2RzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBiZXN0X2RzdF9tYXRjaChydWxlcywgcHJlbGltaW5hcnlfdGltZXpvbmUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcHJlbGltaW5hcnlfdGltZXpvbmU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZXMgZ2V0X3RpbWV6b25lX2luZm8oKSB0byBmb3JtdWxhdGUgYSBrZXkgdG8gdXNlIGluIHRoZSBvbHNvbi50aW1lem9uZXMgZGljdGlvbmFyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBvbmUgZnVuY3Rpb24gXCIubmFtZSgpXCJcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgT2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBkZXRlcm1pbmUgPSBmdW5jdGlvbiBkZXRlcm1pbmUoKSB7XG4gICAgICAgICAgICB2YXIgcHJlbGltaW5hcnlfdHogPSBnZXRfZnJvbV9pbnRlcm5hdGlvbmFsaXphdGlvbl9hcGkoKTtcblxuICAgICAgICAgICAgaWYgKCFwcmVsaW1pbmFyeV90eikge1xuICAgICAgICAgICAgICAgIHByZWxpbWluYXJ5X3R6ID0ganN0ei5vbHNvbi50aW1lem9uZXNbbG9va3VwX2tleSgpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc3RzLkFNQklHVUlUSUVTW3ByZWxpbWluYXJ5X3R6XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlbGltaW5hcnlfdHogPSBnZXRfYnlfZHN0KHByZWxpbWluYXJ5X3R6KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJlbGltaW5hcnlfdHo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGRldGVybWluZTogZGV0ZXJtaW5lXG4gICAgfTtcbn0oKSk7XG5cblxuanN0ei5vbHNvbiA9IGpzdHoub2xzb24gfHwge307XG5cbi8qKlxuICogVGhlIGtleXMgaW4gdGhpcyBkaWN0aW9uYXJ5IGFyZSBjb21tYSBzZXBhcmF0ZWQgYXMgc3VjaDpcbiAqXG4gKiBGaXJzdCB0aGUgb2Zmc2V0IGNvbXBhcmVkIHRvIFVUQyB0aW1lIGluIG1pbnV0ZXMuXG4gKlxuICogVGhlbiBhIGZsYWcgd2hpY2ggaXMgMCBpZiB0aGUgdGltZXpvbmUgZG9lcyBub3QgdGFrZSBkYXlsaWdodCBzYXZpbmdzIGludG8gYWNjb3VudCBhbmQgMSBpZiBpdFxuICogZG9lcy5cbiAqXG4gKiBUaGlyZGx5IGFuIG9wdGlvbmFsICdzJyBzaWduaWZpZXMgdGhhdCB0aGUgdGltZXpvbmUgaXMgaW4gdGhlIHNvdXRoZXJuIGhlbWlzcGhlcmUsXG4gKiBvbmx5IGludGVyZXN0aW5nIGZvciB0aW1lem9uZXMgd2l0aCBEU1QuXG4gKlxuICogVGhlIG1hcHBlZCBhcnJheXMgaXMgdXNlZCBmb3IgY29uc3RydWN0aW5nIHRoZSBqc3R6LlRpbWVab25lIG9iamVjdCBmcm9tIHdpdGhpblxuICoganN0ei5kZXRlcm1pbmUoKTtcbiAqL1xuanN0ei5vbHNvbi50aW1lem9uZXMgPSB7XG4gICAgJy03MjAsMCc6ICdFdGMvR01UKzEyJyxcbiAgICAnLTY2MCwwJzogJ1BhY2lmaWMvUGFnb19QYWdvJyxcbiAgICAnLTY2MCwxLHMnOiAnUGFjaWZpYy9BcGlhJywgLy8gV2h5PyBCZWNhdXNlIHdpbmRvd3MuLi4gY3J5IVxuICAgICctNjAwLDEnOiAnQW1lcmljYS9BZGFrJyxcbiAgICAnLTYwMCwwJzogJ1BhY2lmaWMvSG9ub2x1bHUnLFxuICAgICctNTcwLDAnOiAnUGFjaWZpYy9NYXJxdWVzYXMnLFxuICAgICctNTQwLDAnOiAnUGFjaWZpYy9HYW1iaWVyJyxcbiAgICAnLTU0MCwxJzogJ0FtZXJpY2EvQW5jaG9yYWdlJyxcbiAgICAnLTQ4MCwxJzogJ0FtZXJpY2EvTG9zX0FuZ2VsZXMnLFxuICAgICctNDgwLDAnOiAnUGFjaWZpYy9QaXRjYWlybicsXG4gICAgJy00MjAsMCc6ICdBbWVyaWNhL1Bob2VuaXgnLFxuICAgICctNDIwLDEnOiAnQW1lcmljYS9EZW52ZXInLFxuICAgICctMzYwLDAnOiAnQW1lcmljYS9HdWF0ZW1hbGEnLFxuICAgICctMzYwLDEnOiAnQW1lcmljYS9DaGljYWdvJyxcbiAgICAnLTM2MCwxLHMnOiAnUGFjaWZpYy9FYXN0ZXInLFxuICAgICctMzAwLDAnOiAnQW1lcmljYS9Cb2dvdGEnLFxuICAgICctMzAwLDEnOiAnQW1lcmljYS9OZXdfWW9yaycsXG4gICAgJy0yNzAsMCc6ICdBbWVyaWNhL0NhcmFjYXMnLFxuICAgICctMjQwLDEnOiAnQW1lcmljYS9IYWxpZmF4JyxcbiAgICAnLTI0MCwwJzogJ0FtZXJpY2EvU2FudG9fRG9taW5nbycsXG4gICAgJy0yNDAsMSxzJzogJ0FtZXJpY2EvQXN1bmNpb24nLFxuICAgICctMjEwLDEnOiAnQW1lcmljYS9TdF9Kb2hucycsXG4gICAgJy0xODAsMSc6ICdBbWVyaWNhL0dvZHRoYWInLFxuICAgICctMTgwLDAnOiAnQW1lcmljYS9BcmdlbnRpbmEvQnVlbm9zX0FpcmVzJyxcbiAgICAnLTE4MCwxLHMnOiAnQW1lcmljYS9Nb250ZXZpZGVvJyxcbiAgICAnLTEyMCwwJzogJ0FtZXJpY2EvTm9yb25oYScsXG4gICAgJy0xMjAsMSc6ICdBbWVyaWNhL05vcm9uaGEnLFxuICAgICctNjAsMSc6ICdBdGxhbnRpYy9Bem9yZXMnLFxuICAgICctNjAsMCc6ICdBdGxhbnRpYy9DYXBlX1ZlcmRlJyxcbiAgICAnMCwwJzogJ1VUQycsXG4gICAgJzAsMSc6ICdFdXJvcGUvTG9uZG9uJyxcbiAgICAnNjAsMSc6ICdFdXJvcGUvQmVybGluJyxcbiAgICAnNjAsMCc6ICdBZnJpY2EvTGFnb3MnLFxuICAgICc2MCwxLHMnOiAnQWZyaWNhL1dpbmRob2VrJyxcbiAgICAnMTIwLDEnOiAnQXNpYS9CZWlydXQnLFxuICAgICcxMjAsMCc6ICdBZnJpY2EvSm9oYW5uZXNidXJnJyxcbiAgICAnMTgwLDAnOiAnQXNpYS9CYWdoZGFkJyxcbiAgICAnMTgwLDEnOiAnRXVyb3BlL01vc2NvdycsXG4gICAgJzIxMCwxJzogJ0FzaWEvVGVocmFuJyxcbiAgICAnMjQwLDAnOiAnQXNpYS9EdWJhaScsXG4gICAgJzI0MCwxJzogJ0FzaWEvQmFrdScsXG4gICAgJzI3MCwwJzogJ0FzaWEvS2FidWwnLFxuICAgICczMDAsMSc6ICdBc2lhL1lla2F0ZXJpbmJ1cmcnLFxuICAgICczMDAsMCc6ICdBc2lhL0thcmFjaGknLFxuICAgICczMzAsMCc6ICdBc2lhL0tvbGthdGEnLFxuICAgICczNDUsMCc6ICdBc2lhL0thdGhtYW5kdScsXG4gICAgJzM2MCwwJzogJ0FzaWEvRGhha2EnLFxuICAgICczNjAsMSc6ICdBc2lhL09tc2snLFxuICAgICczOTAsMCc6ICdBc2lhL1Jhbmdvb24nLFxuICAgICc0MjAsMSc6ICdBc2lhL0tyYXNub3lhcnNrJyxcbiAgICAnNDIwLDAnOiAnQXNpYS9KYWthcnRhJyxcbiAgICAnNDgwLDAnOiAnQXNpYS9TaGFuZ2hhaScsXG4gICAgJzQ4MCwxJzogJ0FzaWEvSXJrdXRzaycsXG4gICAgJzUyNSwwJzogJ0F1c3RyYWxpYS9FdWNsYScsXG4gICAgJzUyNSwxLHMnOiAnQXVzdHJhbGlhL0V1Y2xhJyxcbiAgICAnNTQwLDEnOiAnQXNpYS9ZYWt1dHNrJyxcbiAgICAnNTQwLDAnOiAnQXNpYS9Ub2t5bycsXG4gICAgJzU3MCwwJzogJ0F1c3RyYWxpYS9EYXJ3aW4nLFxuICAgICc1NzAsMSxzJzogJ0F1c3RyYWxpYS9BZGVsYWlkZScsXG4gICAgJzYwMCwwJzogJ0F1c3RyYWxpYS9CcmlzYmFuZScsXG4gICAgJzYwMCwxJzogJ0FzaWEvVmxhZGl2b3N0b2snLFxuICAgICc2MDAsMSxzJzogJ0F1c3RyYWxpYS9TeWRuZXknLFxuICAgICc2MzAsMSxzJzogJ0F1c3RyYWxpYS9Mb3JkX0hvd2UnLFxuICAgICc2NjAsMSc6ICdBc2lhL0thbWNoYXRrYScsXG4gICAgJzY2MCwwJzogJ1BhY2lmaWMvTm91bWVhJyxcbiAgICAnNjkwLDAnOiAnUGFjaWZpYy9Ob3Jmb2xrJyxcbiAgICAnNzIwLDEscyc6ICdQYWNpZmljL0F1Y2tsYW5kJyxcbiAgICAnNzIwLDAnOiAnUGFjaWZpYy9NYWp1cm8nLFxuICAgICc3NjUsMSxzJzogJ1BhY2lmaWMvQ2hhdGhhbScsXG4gICAgJzc4MCwwJzogJ1BhY2lmaWMvVG9uZ2F0YXB1JyxcbiAgICAnNzgwLDEscyc6ICdQYWNpZmljL0FwaWEnLFxuICAgICc4NDAsMCc6ICdQYWNpZmljL0tpcml0aW1hdGknXG59O1xuXG4vKiBCdWlsZCB0aW1lOiAyMDE1LTExLTAyIDEzOjAxOjAwWiBCdWlsZCBieSBpbnZva2luZyBweXRob24gdXRpbGl0aWVzL2RzdC5weSBnZW5lcmF0ZSAqL1xuanN0ei5vbHNvbi5kc3RfcnVsZXMgPSB7XG4gICAgXCJ5ZWFyc1wiOiBbXG4gICAgICAgIDIwMDgsXG4gICAgICAgIDIwMDksXG4gICAgICAgIDIwMTAsXG4gICAgICAgIDIwMTEsXG4gICAgICAgIDIwMTIsXG4gICAgICAgIDIwMTMsXG4gICAgICAgIDIwMTRcbiAgICBdLFxuICAgIFwiem9uZXNcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBZnJpY2EvQ2Fpcm9cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMTk5NTcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA5MDc0NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjUwODAyMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI0MDUyNDAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4NTg4MDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyODQwNjk2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTE2Nzg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxNDA2ODQ0MDAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBZnJpY2EvQ2FzYWJsYW5jYVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyMDIyMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMTIyNzg0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTA4MDkyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjQzODE0NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjgxMjIyMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3Mjc1ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxMjA2NjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE3ODg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNDg5NzA0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzQ1NDI4MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODM5MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM3NjEwMDAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDI4ODgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MDY5NDQ4MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvQXN1bmNpb25cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMDUwMzE2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjI0Mzg4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjM2NDgxMjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI1NTgzODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI3MDk1NDgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyODYwNzg0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMDI0MDQ0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzE3NTI4MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzMzODU0MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM0OTU4MjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM2NDA5NDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzODEwMzIwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzOTU1NDM2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxNDEyNDgxNjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL0NhbXBvX0dyYW5kZVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwMzIxNzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjQzODg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMzQ2NjY4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjU1ODM4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjY2NzIxMjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4NzI4ODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI5ODE3MDgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTg3Mzc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMzAyMjUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzUwNzkyMDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzYxMDcwMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4MjI0MTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM5MjUxOTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTM2OTEyMDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvR29vc2VfQmF5XCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI1NTk0ODYwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNTAzNTI2MDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NzA0NDQ2MDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzY0ODQ4NjAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODkwOTg4NjAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY4NTM5MjYwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzIwNTU1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI5OTk4ODg2MDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM1MjAwNTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMzE0NDU2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzODM0NTQ4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzYyODk1MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxNDE0OTA0NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM5NDM0NDgwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQW1lcmljYS9IYXZhbmFcIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjQ5OTcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA1NjQzNjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2NDQ2ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzNjQ4ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODUwMTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjg1NDI4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMjExNjA0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAwNTk3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzUyMDA1MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMzI1NjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MzQ1NDgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjI4OTE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQ5MDQ0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk0MzQxMjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL01hemF0bGFuXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI1MDA4MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNzQ3MjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQ1NzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzg5MjIwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg1MTIwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjcwMzcxNjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzE5OTYxNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMwMTgyMTIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM1MTQxMTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMzMyNzA4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzODI4NjA4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzY1MzI1MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxNDE0MzEwNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM5Njc3NDgwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQW1lcmljYS9NZXhpY29fQ2l0eVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNTAwNDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDc0Njg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0NTQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4OTE4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NTA4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3MDM2ODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTk1ODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE4MTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTE0MDc2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMjY3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODU3MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NTMyMTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDMwNjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTY3NzEyMDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvTWlxdWVsb25cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjU1OTg0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA1MDM4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU3MDQ4MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzNjQ4ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4OTEwMjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjg1NDI4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMjA1NTIwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjk5OTkyNDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzUyMDAxNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMTQ0MjAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MzQ1MTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjI4OTE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQ5MDA4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk0MzQxMjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL1NhbnRhX0lzYWJlbFwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNTAxMTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDc0NzYwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0NjEyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4OTI1NjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NTE1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3MDM3NTIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTk2NTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE4MjQ4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTE0MTQ4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMjc0NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODY0NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NTMyODgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDMxNDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTY3Nzg0MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFtZXJpY2EvU2FudGlhZ29cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMDY4NDYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjIzNzg0MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjM3MDg2MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI1NTIzMzYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI3MDM1MDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyODY2ODMyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMDQ4MjM2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzEzODk5MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzM1NjY4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM0NjU1ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM2NzExODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNzg2MTI4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzOTg1Njc2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxNDEwMDYyNDAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBbWVyaWNhL1Nhb19QYXVsb1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwMzIxMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjQzODUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMzQ2NjMyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjU1ODM0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjY2NzE3NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4NzI4NDQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI5ODE2NzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTg3MzQwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMzAyMjE2MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzUwNzg4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzYxMDY2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4MjIzODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM5MjUxNjAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTM2ODc2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvQW1tYW5cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjU0MDQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2NjU1MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2ODUzNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODEwNDgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODMwMzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk1NTQ0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMTk3NTI4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAxNjA4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxNDE0NzA2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM5NTk1NzYwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9EYW1hc2N1c1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNTQ4NjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDcyNjAwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY4NTAwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MTA0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4Mjk5NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI3MDE1OTIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTc0OTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE2MDg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTExOTg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMDU4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyNjQ4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NDUwODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDcwMjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTU5NTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvRHViYWlcIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvR2F6YVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIxOTk1NzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY2NTUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTIwMTUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MTA0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjgxNDc0MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTY0MDg2MDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxMjE0NjAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDE2MDg4NjAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNDgxNzg0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMzMDU4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgwMjI5MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NDUwODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDA5ODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTU5NTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvSXJrdXRza1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk1NzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MTM2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MDcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjYzMjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDYxNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTcxMjgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9KZXJ1c2FsZW1cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjMxNjEyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2NjYyNDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU0MDA2MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODExMjAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4NDI0NjAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk1NjE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMTc1MTAwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAxNjE2MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzQ4MzU0ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMzA2NTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MjgyODQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjQ1MTUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQyNzgwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk1OTY0ODAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBc2lhL0thbWNoYXRrYVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk0MzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY3OTkyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTYzOTI4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjQ4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDUwODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTY5ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9LcmFzbm95YXJza1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk2MTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MTcyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MTA4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjY2ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDY1MjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTcxNjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9PbXNrXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI0OTY0ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNjgyMDgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQxNDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzgyNzA0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg0Njg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY5NzIwMDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBc2lhL1ZsYWRpdm9zdG9rXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI0OTUwNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNjgwNjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQwMDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzgyNTYwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg0NTQ0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY5NzA1NjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBcIm5hbWVcIjogXCJBc2lhL1lha3V0c2tcIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjQ5NTQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2ODEwMDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2NDAzNjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODI1OTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODQ1ODAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk3MDkyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFzaWEvWWVrYXRlcmluYnVyZ1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk2ODQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MjQ0MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MTgwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4Mjc0MDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDcyNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTcyMzYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXNpYS9ZZXJldmFuXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjI0OTcyMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIwNjgyODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI1NjQyMTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMzgyNzc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyODg0NzYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjY5NzI3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzE5OTI1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMwMTE3NjgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQXVzdHJhbGlhL0xvcmRfSG93ZVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwNzQwNzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjMxMzQyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMzg4NTcyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjU0NTgzODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjcwMzA2ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4NjAzMzQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMwMTc1NjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTc0ODMwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMzMyMDYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzQ5NTM3NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzY1MjYwNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4MDk4NzAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM5NjcxMDAwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTI0MzY2MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkF1c3RyYWxpYS9QZXJ0aFwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIwNjgxMzYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMjQ5NTc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV1cm9wZS9IZWxzaW5raVwiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk4MjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4Mzg4MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MzI0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4Mjg4NDAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDg2ODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTczODAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMxOTkzNjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMDExODc2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTEzODYwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzMyNjM3MjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzgyODM1NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM2NDY5MTYwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQxNDI4NTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzOTYxNDEyMDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV1cm9wZS9NaW5za1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk3OTIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MzUyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0Mjg4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4Mjg0ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDgzMjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTczNDQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRXVyb3BlL01vc2Nvd1wiLFxuICAgICAgICAgICAgXCJydWxlc1wiOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTIyNDk3NTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyMDY4MzE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyNTY0MjUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjM4MjgxMjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjg4NDc5NjAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI2OTczMDgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiUGFjaWZpYy9BcGlhXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzAxNzUyODAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMxNjg3MjgwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMzMzIwMjQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNDg5MjcyMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNjUyNTY4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzgwMzc2ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzk2NzA2NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTQxMTgyNjQwMDAwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgXCJuYW1lXCI6IFwiUGFjaWZpYy9GaWppXCIsXG4gICAgICAgICAgICBcInJ1bGVzXCI6IFtcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjY5Njk4NDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTI4Nzg0MjQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTMyNzE1NDQwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzMTkyOTIwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzNTg2MDQwMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzUwNzQxNjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzkwMDUwMDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTM4Mjc5NjAwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTQyMTUwMzIwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDE0MTQ4NTA0MDAwMDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkV1cm9wZS9Mb25kb25cIixcbiAgICAgICAgICAgIFwicnVsZXNcIjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEyMjQ5ODI4MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMjA2ODM4ODAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMjU2NDMyNDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTIzODI4ODQwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTI4ODQ4NjgwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEyNjk3MzgwMDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDEzMTk5MzY0MDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzAxMTg3NjAwMDAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFwiZVwiOiAxMzUxMzg2MDAwMDAwLFxuICAgICAgICAgICAgICAgICAgICBcInNcIjogMTMzMjYzNzIwMDAwMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBcImVcIjogMTM4MjgzNTYwMDAwMCxcbiAgICAgICAgICAgICAgICAgICAgXCJzXCI6IDEzNjQ2OTE2MDAwMDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgXCJlXCI6IDE0MTQyODUyMDAwMDAsXG4gICAgICAgICAgICAgICAgICAgIFwic1wiOiAxMzk2MTQxMjAwMDAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXVxufTtcbmlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBqc3R6O1xufSBlbHNlIGlmICgodHlwZW9mIGRlZmluZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZGVmaW5lICE9PSBudWxsKSAmJiAoZGVmaW5lLmFtZCAhPSBudWxsKSkge1xuICAgIGRlZmluZShbXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBqc3R6O1xuICAgIH0pO1xufSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIHJvb3QgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdpbmRvdy5qc3R6ID0ganN0ejtcbiAgICB9IGVsc2Uge1xuICAgICAgICByb290LmpzdHogPSBqc3R6O1xuICAgIH1cbn1cbn0oKSk7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbnZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG52YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG52YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyMycsXG4gICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGYwJyxcbiAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xudmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UgKyAnXScsXG4gICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbnZhciByc0xvd2VyTWlzYyA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICByc1VwcGVyTWlzYyA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICByc09wdExvd2VyQ29udHIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICByc09wdFVwcGVyQ29udHIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG52YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICovXG52YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbnZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbnZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdExvd2VyQ29udHIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgcnNVcHBlck1pc2MgKyAnKycgKyByc09wdFVwcGVyQ29udHIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNMb3dlck1pc2MsICckJ10uam9pbignfCcpICsgJyknLFxuICByc1VwcGVyICsgJz8nICsgcnNMb3dlck1pc2MgKyAnKycgKyByc09wdExvd2VyQ29udHIsXG4gIHJzVXBwZXIgKyAnKycgKyByc09wdFVwcGVyQ29udHIsXG4gIHJzRGlnaXRzLFxuICByc0Vtb2ppXG5dLmpvaW4oJ3wnKSwgJ2cnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG52YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xudmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyLH1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbi8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbnZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAnXFx4ZGYnOiAnc3MnLFxuICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAnc3MnXG59O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG59XG5cbi8qKlxuICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqL1xuZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICovXG52YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbn1cblxuLyoqXG4gKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqL1xuZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgfVxuICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlbmd0aDtcbiAgfVxuICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gIHN0YXJ0ID4+Pj0gMDtcblxuICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gKi9cbmZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICogLy8gPT4gJ2Zvb0JhcidcbiAqXG4gKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAqIC8vID0+ICdmb29CYXInXG4gKlxuICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gKiAvLyA9PiAnZm9vQmFyJ1xuICovXG52YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAqIHRvIGxvd2VyIGNhc2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gKiAvLyA9PiAnRnJlZCdcbiAqL1xuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbn1cblxuLyoqXG4gKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAqIC8vID0+ICdkZWphIHZ1J1xuICovXG5mdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAqIC8vID0+ICdGcmVkJ1xuICpcbiAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICogLy8gPT4gJ0ZSRUQnXG4gKi9cbnZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4vKipcbiAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gKlxuICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICovXG5mdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgaWYgKHBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbENhc2U7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICByZUxlYWRpbmdEb3QgPSAvXlxcLi8sXG4gICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0KG9iamVjdCwgcGF0aCkge1xuICBwYXRoID0gaXNLZXkocGF0aCwgb2JqZWN0KSA/IFtwYXRoXSA6IGNhc3RQYXRoKHBhdGgpO1xuXG4gIHZhciBpbmRleCA9IDAsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICB9XG4gIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBzdHJpbmdUb1BhdGgodmFsdWUpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemUoZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAocmVMZWFkaW5nRG90LnRlc3Qoc3RyaW5nKSkge1xuICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgfVxuICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3RyaW5nKSB7XG4gICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbi8vIEFzc2lnbiBjYWNoZSB0byBgXy5tZW1vaXplYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy43LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICogLy8gPT4gJ2RlZmF1bHQnXG4gKi9cbmZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXQ7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbnZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG52YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG52YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyMycsXG4gICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGYwJyxcbiAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xudmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgcnNDb21ibyA9ICdbJyArIHJzQ29tYm9NYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSArICddJyxcbiAgICByc0RpZ2l0cyA9ICdcXFxcZCsnLFxuICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgIHJzTG93ZXIgPSAnWycgKyByc0xvd2VyUmFuZ2UgKyAnXScsXG4gICAgcnNNaXNjID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyByc0JyZWFrUmFuZ2UgKyByc0RpZ2l0cyArIHJzRGluZ2JhdFJhbmdlICsgcnNMb3dlclJhbmdlICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgIHJzTW9kaWZpZXIgPSAnKD86JyArIHJzQ29tYm8gKyAnfCcgKyByc0ZpdHogKyAnKScsXG4gICAgcnNOb25Bc3RyYWwgPSAnW14nICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgIHJzU3VyclBhaXIgPSAnW1xcXFx1ZDgwMC1cXFxcdWRiZmZdW1xcXFx1ZGMwMC1cXFxcdWRmZmZdJyxcbiAgICByc1VwcGVyID0gJ1snICsgcnNVcHBlclJhbmdlICsgJ10nLFxuICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSByZWdleGVzLiAqL1xudmFyIHJzTG93ZXJNaXNjID0gJyg/OicgKyByc0xvd2VyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgIHJzVXBwZXJNaXNjID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgIHJzT3B0TG93ZXJDb250ciA9ICcoPzonICsgcnNBcG9zICsgJyg/OmR8bGx8bXxyZXxzfHR8dmUpKT8nLFxuICAgIHJzT3B0VXBwZXJDb250ciA9ICcoPzonICsgcnNBcG9zICsgJyg/OkR8TEx8TXxSRXxTfFR8VkUpKT8nLFxuICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICByc09wdFZhciA9ICdbJyArIHJzVmFyUmFuZ2UgKyAnXT8nLFxuICAgIHJzT3B0Sm9pbiA9ICcoPzonICsgcnNaV0ogKyAnKD86JyArIFtyc05vbkFzdHJhbCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNPcHRWYXIgKyByZU9wdE1vZCArICcpKicsXG4gICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgIHJzRW1vamkgPSAnKD86JyArIFtyc0RpbmdiYXQsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzU2VxO1xuXG4vKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbnZhciByZUFwb3MgPSBSZWdFeHAocnNBcG9zLCAnZycpO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAqIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3MgZm9yIHN5bWJvbHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrc19mb3JfU3ltYm9scykuXG4gKi9cbnZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xudmFyIHJlVW5pY29kZVdvcmQgPSBSZWdFeHAoW1xuICByc1VwcGVyICsgJz8nICsgcnNMb3dlciArICcrJyArIHJzT3B0TG93ZXJDb250ciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIsICckJ10uam9pbignfCcpICsgJyknLFxuICByc1VwcGVyTWlzYyArICcrJyArIHJzT3B0VXBwZXJDb250ciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc0xvd2VyTWlzYywgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gIHJzVXBwZXIgKyAnPycgKyByc0xvd2VyTWlzYyArICcrJyArIHJzT3B0TG93ZXJDb250cixcbiAgcnNVcHBlciArICcrJyArIHJzT3B0VXBwZXJDb250cixcbiAgcnNEaWdpdHMsXG4gIHJzRW1vamlcbl0uam9pbignfCcpLCAnZycpO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgc3RyaW5ncyB0aGF0IG5lZWQgYSBtb3JlIHJvYnVzdCByZWdleHAgdG8gbWF0Y2ggd29yZHMuICovXG52YXIgcmVIYXNVbmljb2RlV29yZCA9IC9bYS16XVtBLVpdfFtBLVpdezIsfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xudmFyIGRlYnVycmVkTGV0dGVycyA9IHtcbiAgLy8gTGF0aW4tMSBTdXBwbGVtZW50IGJsb2NrLlxuICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgJ1xceGUwJzogJ2EnLCAgJ1xceGUxJzogJ2EnLCAnXFx4ZTInOiAnYScsICdcXHhlMyc6ICdhJywgJ1xceGU0JzogJ2EnLCAnXFx4ZTUnOiAnYScsXG4gICdcXHhjNyc6ICdDJywgICdcXHhlNyc6ICdjJyxcbiAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAnXFx4YzgnOiAnRScsICAnXFx4YzknOiAnRScsICdcXHhjYSc6ICdFJywgJ1xceGNiJzogJ0UnLFxuICAnXFx4ZTgnOiAnZScsICAnXFx4ZTknOiAnZScsICdcXHhlYSc6ICdlJywgJ1xceGViJzogJ2UnLFxuICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAnXFx4ZWMnOiAnaScsICAnXFx4ZWQnOiAnaScsICdcXHhlZSc6ICdpJywgJ1xceGVmJzogJ2knLFxuICAnXFx4ZDEnOiAnTicsICAnXFx4ZjEnOiAnbicsXG4gICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAnXFx4ZjInOiAnbycsICAnXFx4ZjMnOiAnbycsICdcXHhmNCc6ICdvJywgJ1xceGY1JzogJ28nLCAnXFx4ZjYnOiAnbycsICdcXHhmOCc6ICdvJyxcbiAgJ1xceGQ5JzogJ1UnLCAgJ1xceGRhJzogJ1UnLCAnXFx4ZGInOiAnVScsICdcXHhkYyc6ICdVJyxcbiAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgJ1xceGRkJzogJ1knLCAgJ1xceGZkJzogJ3knLCAnXFx4ZmYnOiAneScsXG4gICdcXHhjNic6ICdBZScsICdcXHhlNic6ICdhZScsXG4gICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICdcXHhkZic6ICdzcycsXG4gIC8vIExhdGluIEV4dGVuZGVkLUEgYmxvY2suXG4gICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAnXFx1MDEwMSc6ICdhJywgICdcXHUwMTAzJzogJ2EnLCAnXFx1MDEwNSc6ICdhJyxcbiAgJ1xcdTAxMDYnOiAnQycsICAnXFx1MDEwOCc6ICdDJywgJ1xcdTAxMGEnOiAnQycsICdcXHUwMTBjJzogJ0MnLFxuICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICdcXHUwMTBlJzogJ0QnLCAgJ1xcdTAxMTAnOiAnRCcsICdcXHUwMTBmJzogJ2QnLCAnXFx1MDExMSc6ICdkJyxcbiAgJ1xcdTAxMTInOiAnRScsICAnXFx1MDExNCc6ICdFJywgJ1xcdTAxMTYnOiAnRScsICdcXHUwMTE4JzogJ0UnLCAnXFx1MDExYSc6ICdFJyxcbiAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgJ1xcdTAxMWMnOiAnRycsICAnXFx1MDExZSc6ICdHJywgJ1xcdTAxMjAnOiAnRycsICdcXHUwMTIyJzogJ0cnLFxuICAnXFx1MDExZCc6ICdnJywgICdcXHUwMTFmJzogJ2cnLCAnXFx1MDEyMSc6ICdnJywgJ1xcdTAxMjMnOiAnZycsXG4gICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgJ1xcdTAxMjgnOiAnSScsICAnXFx1MDEyYSc6ICdJJywgJ1xcdTAxMmMnOiAnSScsICdcXHUwMTJlJzogJ0knLCAnXFx1MDEzMCc6ICdJJyxcbiAgJ1xcdTAxMjknOiAnaScsICAnXFx1MDEyYic6ICdpJywgJ1xcdTAxMmQnOiAnaScsICdcXHUwMTJmJzogJ2knLCAnXFx1MDEzMSc6ICdpJyxcbiAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgJ1xcdTAxMzYnOiAnSycsICAnXFx1MDEzNyc6ICdrJywgJ1xcdTAxMzgnOiAnaycsXG4gICdcXHUwMTM5JzogJ0wnLCAgJ1xcdTAxM2InOiAnTCcsICdcXHUwMTNkJzogJ0wnLCAnXFx1MDEzZic6ICdMJywgJ1xcdTAxNDEnOiAnTCcsXG4gICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICdcXHUwMTQzJzogJ04nLCAgJ1xcdTAxNDUnOiAnTicsICdcXHUwMTQ3JzogJ04nLCAnXFx1MDE0YSc6ICdOJyxcbiAgJ1xcdTAxNDQnOiAnbicsICAnXFx1MDE0Nic6ICduJywgJ1xcdTAxNDgnOiAnbicsICdcXHUwMTRiJzogJ24nLFxuICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgJ1xcdTAxNGQnOiAnbycsICAnXFx1MDE0Zic6ICdvJywgJ1xcdTAxNTEnOiAnbycsXG4gICdcXHUwMTU0JzogJ1InLCAgJ1xcdTAxNTYnOiAnUicsICdcXHUwMTU4JzogJ1InLFxuICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgJ1xcdTAxNWEnOiAnUycsICAnXFx1MDE1Yyc6ICdTJywgJ1xcdTAxNWUnOiAnUycsICdcXHUwMTYwJzogJ1MnLFxuICAnXFx1MDE1Yic6ICdzJywgICdcXHUwMTVkJzogJ3MnLCAnXFx1MDE1Zic6ICdzJywgJ1xcdTAxNjEnOiAncycsXG4gICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAnXFx1MDE2Myc6ICd0JywgICdcXHUwMTY1JzogJ3QnLCAnXFx1MDE2Nyc6ICd0JyxcbiAgJ1xcdTAxNjgnOiAnVScsICAnXFx1MDE2YSc6ICdVJywgJ1xcdTAxNmMnOiAnVScsICdcXHUwMTZlJzogJ1UnLCAnXFx1MDE3MCc6ICdVJywgJ1xcdTAxNzInOiAnVScsXG4gICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAnXFx1MDE3NCc6ICdXJywgICdcXHUwMTc1JzogJ3cnLFxuICAnXFx1MDE3Nic6ICdZJywgICdcXHUwMTc3JzogJ3knLCAnXFx1MDE3OCc6ICdZJyxcbiAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICdcXHUwMTdhJzogJ3onLCAgJ1xcdTAxN2MnOiAneicsICdcXHUwMTdlJzogJ3onLFxuICAnXFx1MDEzMic6ICdJSicsICdcXHUwMTMzJzogJ2lqJyxcbiAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICdcXHUwMTQ5JzogXCInblwiLCAnXFx1MDE3Zic6ICdzcydcbn07XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ucmVkdWNlYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBhcnJheVJlZHVjZShhcnJheSwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yLCBpbml0QWNjdW0pIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgaWYgKGluaXRBY2N1bSAmJiBsZW5ndGgpIHtcbiAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICB9XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICB9XG4gIHJldHVybiBhY2N1bXVsYXRvcjtcbn1cblxuLyoqXG4gKiBTcGxpdHMgYW4gQVNDSUkgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICovXG5mdW5jdGlvbiBhc2NpaVdvcmRzKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wcm9wZXJ0eU9mYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUHJvcGVydHlPZihvYmplY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICB9O1xufVxuXG4vKipcbiAqIFVzZWQgYnkgYF8uZGVidXJyYCB0byBjb252ZXJ0IExhdGluLTEgU3VwcGxlbWVudCBhbmQgTGF0aW4gRXh0ZW5kZWQtQVxuICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBsZXR0ZXIuXG4gKi9cbnZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgc3RyaW5nYCBjb250YWlucyBhIHdvcmQgY29tcG9zZWQgb2YgVW5pY29kZSBzeW1ib2xzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSB7XG4gIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqL1xuZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9TdHJpbmdgIHdoaWNoIGRvZXNuJ3QgY29udmVydCBudWxsaXNoXG4gKiB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5ncy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRvU3RyaW5nKHZhbHVlKSB7XG4gIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBzeW1ib2xUb1N0cmluZyA/IHN5bWJvbFRvU3RyaW5nLmNhbGwodmFsdWUpIDogJyc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgcmV0dXJuIChyZXN1bHQgPT0gJzAnICYmICgxIC8gdmFsdWUpID09IC1JTkZJTklUWSkgPyAnLTAnIDogcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvdW5kZXIgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgIHJldHVybiBhcnJheVJlZHVjZSh3b3JkcyhkZWJ1cnIoc3RyaW5nKS5yZXBsYWNlKHJlQXBvcywgJycpKSwgY2FsbGJhY2ssICcnKTtcbiAgfTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gISF2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBTeW1ib2xgIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzeW1ib2wsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1N5bWJvbChTeW1ib2wuaXRlcmF0b3IpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNTeW1ib2woJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTeW1ib2wodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgIChpc09iamVjdExpa2UodmFsdWUpICYmIG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN5bWJvbFRhZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZy4gQW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkIGZvciBgbnVsbGBcbiAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvU3RyaW5nKG51bGwpO1xuICogLy8gPT4gJydcbiAqXG4gKiBfLnRvU3RyaW5nKC0wKTtcbiAqIC8vID0+ICctMCdcbiAqXG4gKiBfLnRvU3RyaW5nKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiAnMSwyLDMnXG4gKi9cbmZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xufVxuXG4vKipcbiAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICogW0xhdGluLTEgU3VwcGxlbWVudF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW4tMV9TdXBwbGVtZW50XyhVbmljb2RlX2Jsb2NrKSNDaGFyYWN0ZXJfdGFibGUpXG4gKiBhbmQgW0xhdGluIEV4dGVuZGVkLUFdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluX0V4dGVuZGVkLUEpXG4gKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3MpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGRlYnVyci5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWJ1cnIoJ2TDqWrDoCB2dScpO1xuICogLy8gPT4gJ2RlamEgdnUnXG4gKi9cbmZ1bmN0aW9uIGRlYnVycihzdHJpbmcpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgcmV0dXJuIHN0cmluZyAmJiBzdHJpbmcucmVwbGFjZShyZUxhdGluLCBkZWJ1cnJMZXR0ZXIpLnJlcGxhY2UocmVDb21ib01hcmssICcnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICogW2tlYmFiIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldHRlcl9jYXNlI1NwZWNpYWxfY2FzZV9zdHlsZXMpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBrZWJhYiBjYXNlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8ua2ViYWJDYXNlKCdGb28gQmFyJyk7XG4gKiAvLyA9PiAnZm9vLWJhcidcbiAqXG4gKiBfLmtlYmFiQ2FzZSgnZm9vQmFyJyk7XG4gKiAvLyA9PiAnZm9vLWJhcidcbiAqXG4gKiBfLmtlYmFiQ2FzZSgnX19GT09fQkFSX18nKTtcbiAqIC8vID0+ICdmb28tYmFyJ1xuICovXG52YXIga2ViYWJDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG59KTtcblxuLyoqXG4gKiBTcGxpdHMgYHN0cmluZ2AgaW50byBhbiBhcnJheSBvZiBpdHMgd29yZHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW3BhdHRlcm5dIFRoZSBwYXR0ZXJuIHRvIG1hdGNoIHdvcmRzLlxuICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnXVxuICpcbiAqIF8ud29yZHMoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJywgL1teLCBdKy9nKTtcbiAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAnJicsICdwZWJibGVzJ11cbiAqL1xuZnVuY3Rpb24gd29yZHMoc3RyaW5nLCBwYXR0ZXJuLCBndWFyZCkge1xuICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gIGlmIChwYXR0ZXJuID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZVdvcmQoc3RyaW5nKSA/IHVuaWNvZGVXb3JkcyhzdHJpbmcpIDogYXNjaWlXb3JkcyhzdHJpbmcpO1xuICB9XG4gIHJldHVybiBzdHJpbmcubWF0Y2gocGF0dGVybikgfHwgW107XG59XG5cbm1vZHVsZS5leHBvcnRzID0ga2ViYWJDYXNlO1xuIiwiLyoqXG4gKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+XG4gKiBCdWlsZDogYGxvZGFzaCBtb2R1bGFyaXplIGV4cG9ydHM9XCJucG1cIiAtbyAuL2BcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqL1xudmFyIElORklOSVRZID0gMSAvIDA7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG52YXIgcmVBc2NpaVdvcmQgPSAvW15cXHgwMC1cXHgyZlxceDNhLVxceDQwXFx4NWItXFx4NjBcXHg3Yi1cXHg3Zl0rL2c7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIExhdGluIFVuaWNvZGUgbGV0dGVycyAoZXhjbHVkaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRvcnMpLiAqL1xudmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xudmFyIHJzQXN0cmFsUmFuZ2UgPSAnXFxcXHVkODAwLVxcXFx1ZGZmZicsXG4gICAgcnNDb21ib01hcmtzUmFuZ2UgPSAnXFxcXHUwMzAwLVxcXFx1MDM2ZlxcXFx1ZmUyMC1cXFxcdWZlMjMnLFxuICAgIHJzQ29tYm9TeW1ib2xzUmFuZ2UgPSAnXFxcXHUyMGQwLVxcXFx1MjBmMCcsXG4gICAgcnNEaW5nYmF0UmFuZ2UgPSAnXFxcXHUyNzAwLVxcXFx1MjdiZicsXG4gICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgcnNNYXRoT3BSYW5nZSA9ICdcXFxceGFjXFxcXHhiMVxcXFx4ZDdcXFxceGY3JyxcbiAgICByc05vbkNoYXJSYW5nZSA9ICdcXFxceDAwLVxcXFx4MmZcXFxceDNhLVxcXFx4NDBcXFxceDViLVxcXFx4NjBcXFxceDdiLVxcXFx4YmYnLFxuICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICByc1NwYWNlUmFuZ2UgPSAnIFxcXFx0XFxcXHgwYlxcXFxmXFxcXHhhMFxcXFx1ZmVmZlxcXFxuXFxcXHJcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdTE2ODBcXFxcdTE4MGVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMGFcXFxcdTIwMmZcXFxcdTIwNWZcXFxcdTMwMDAnLFxuICAgIHJzVXBwZXJSYW5nZSA9ICdBLVpcXFxceGMwLVxcXFx4ZDZcXFxceGQ4LVxcXFx4ZGUnLFxuICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICByc0JyZWFrUmFuZ2UgPSByc01hdGhPcFJhbmdlICsgcnNOb25DaGFyUmFuZ2UgKyByc1B1bmN0dWF0aW9uUmFuZ2UgKyByc1NwYWNlUmFuZ2U7XG5cbi8qKiBVc2VkIHRvIGNvbXBvc2UgdW5pY29kZSBjYXB0dXJlIGdyb3Vwcy4gKi9cbnZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UgKyAnXScsXG4gICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbnZhciByc0xvd2VyTWlzYyA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICByc1VwcGVyTWlzYyA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICByc09wdExvd2VyQ29udHIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICByc09wdFVwcGVyQ29udHIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG52YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICovXG52YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbnZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdExvd2VyQ29udHIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgcnNVcHBlck1pc2MgKyAnKycgKyByc09wdFVwcGVyQ29udHIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNMb3dlck1pc2MsICckJ10uam9pbignfCcpICsgJyknLFxuICByc1VwcGVyICsgJz8nICsgcnNMb3dlck1pc2MgKyAnKycgKyByc09wdExvd2VyQ29udHIsXG4gIHJzVXBwZXIgKyAnKycgKyByc09wdFVwcGVyQ29udHIsXG4gIHJzRGlnaXRzLFxuICByc0Vtb2ppXG5dLmpvaW4oJ3wnKSwgJ2cnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xudmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyLH1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbi8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbnZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAnXFx4ZGYnOiAnc3MnLFxuICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAnc3MnXG59O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbi8qKlxuICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqL1xuZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICovXG52YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG59XG5cbi8qKlxuICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgd29yZHMgb2YgYHN0cmluZ2AuXG4gKi9cbmZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5tYXRjaChyZVVuaWNvZGVXb3JkKSB8fCBbXTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAqIC8vID0+ICdkZWphIHZ1J1xuICovXG5mdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG9cbiAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUga2ViYWIgY2FzZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmtlYmFiQ2FzZSgnRm9vIEJhcicpO1xuICogLy8gPT4gJ2Zvby1iYXInXG4gKlxuICogXy5rZWJhYkNhc2UoJ2Zvb0JhcicpO1xuICogLy8gPT4gJ2Zvby1iYXInXG4gKlxuICogXy5rZWJhYkNhc2UoJ19fRk9PX0JBUl9fJyk7XG4gKiAvLyA9PiAnZm9vLWJhcidcbiAqL1xudmFyIGtlYmFiQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICByZXR1cm4gcmVzdWx0ICsgKGluZGV4ID8gJy0nIDogJycpICsgd29yZC50b0xvd2VyQ2FzZSgpO1xufSk7XG5cbi8qKlxuICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IFtwYXR0ZXJuXSBUaGUgcGF0dGVybiB0byBtYXRjaCB3b3Jkcy5cbiAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICdwZWJibGVzJ11cbiAqXG4gKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gKiAvLyA9PiBbJ2ZyZWQnLCAnYmFybmV5JywgJyYnLCAncGViYmxlcyddXG4gKi9cbmZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgcGF0dGVybiA9IGd1YXJkID8gdW5kZWZpbmVkIDogcGF0dGVybjtcblxuICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGhhc1VuaWNvZGVXb3JkKHN0cmluZykgPyB1bmljb2RlV29yZHMoc3RyaW5nKSA6IGFzY2lpV29yZHMoc3RyaW5nKTtcbiAgfVxuICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGtlYmFiQ2FzZTtcbiIsIi8qKlxuICogTG9kYXNoIChDdXN0b20gQnVpbGQpIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPVwibnBtXCIgLW8gLi9gXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pzLmZvdW5kYXRpb24vPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG5cbi8qKiBVc2VkIGFzIHRoZSBzaXplIHRvIGVuYWJsZSBsYXJnZSBhcnJheSBvcHRpbWl6YXRpb25zLiAqL1xudmFyIExBUkdFX0FSUkFZX1NJWkUgPSAyMDA7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGhvdCBmdW5jdGlvbnMgYnkgbnVtYmVyIG9mIGNhbGxzIHdpdGhpbiBhIHNwYW4gb2YgbWlsbGlzZWNvbmRzLiAqL1xudmFyIEhPVF9DT1VOVCA9IDgwMCxcbiAgICBIT1RfU1BBTiA9IDE2O1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgYXN5bmNUYWcgPSAnW29iamVjdCBBc3luY0Z1bmN0aW9uXScsXG4gICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJyxcbiAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgIGVycm9yVGFnID0gJ1tvYmplY3QgRXJyb3JdJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIG1hcFRhZyA9ICdbb2JqZWN0IE1hcF0nLFxuICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nLFxuICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgIHNldFRhZyA9ICdbb2JqZWN0IFNldF0nLFxuICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLFxuICAgIHVuZGVmaW5lZFRhZyA9ICdbb2JqZWN0IFVuZGVmaW5lZF0nLFxuICAgIHdlYWtNYXBUYWcgPSAnW29iamVjdCBXZWFrTWFwXSc7XG5cbnZhciBhcnJheUJ1ZmZlclRhZyA9ICdbb2JqZWN0IEFycmF5QnVmZmVyXScsXG4gICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgIGZsb2F0MzJUYWcgPSAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICBmbG9hdDY0VGFnID0gJ1tvYmplY3QgRmxvYXQ2NEFycmF5XScsXG4gICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgIGludDE2VGFnID0gJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgIGludDMyVGFnID0gJ1tvYmplY3QgSW50MzJBcnJheV0nLFxuICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgIHVpbnQ4Q2xhbXBlZFRhZyA9ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScsXG4gICAgdWludDE2VGFnID0gJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4vKipcbiAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICovXG52YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovXG52YXIgcmVJc0hvc3RDdG9yID0gL15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHVuc2lnbmVkIGludGVnZXIgdmFsdWVzLiAqL1xudmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgb2YgdHlwZWQgYXJyYXlzLiAqL1xudmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG50eXBlZEFycmF5VGFnc1tmbG9hdDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Zsb2F0NjRUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDhUYWddID0gdHlwZWRBcnJheVRhZ3NbaW50MTZUYWddID1cbnR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50OENsYW1wZWRUYWddID0gdHlwZWRBcnJheVRhZ3NbdWludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1t1aW50MzJUYWddID0gdHJ1ZTtcbnR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbnR5cGVkQXJyYXlUYWdzW2FycmF5QnVmZmVyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Jvb2xUYWddID1cbnR5cGVkQXJyYXlUYWdzW2RhdGFWaWV3VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2RhdGVUYWddID1cbnR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbnR5cGVkQXJyYXlUYWdzW21hcFRhZ10gPSB0eXBlZEFycmF5VGFnc1tudW1iZXJUYWddID1cbnR5cGVkQXJyYXlUYWdzW29iamVjdFRhZ10gPSB0eXBlZEFycmF5VGFnc1tyZWdleHBUYWddID1cbnR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbnR5cGVkQXJyYXlUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi9cbnZhciBmcmVlRXhwb3J0cyA9IHR5cGVvZiBleHBvcnRzID09ICdvYmplY3QnICYmIGV4cG9ydHMgJiYgIWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xudmFyIGZyZWVNb2R1bGUgPSBmcmVlRXhwb3J0cyAmJiB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJiAhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblxuLyoqIERldGVjdCB0aGUgcG9wdWxhciBDb21tb25KUyBleHRlbnNpb24gYG1vZHVsZS5leHBvcnRzYC4gKi9cbnZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHByb2Nlc3NgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlUHJvY2VzcyA9IG1vZHVsZUV4cG9ydHMgJiYgZnJlZUdsb2JhbC5wcm9jZXNzO1xuXG4vKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbnZhciBub2RlVXRpbCA9IChmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZnJlZVByb2Nlc3MgJiYgZnJlZVByb2Nlc3MuYmluZGluZyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nKCd1dGlsJyk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59KCkpO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHByb3BlcnR5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmplY3QsIGtleSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgdW5hcnkgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGl0cyBhcmd1bWVudCB0cmFuc2Zvcm1lZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gIHJldHVybiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gZnVuYyh0cmFuc2Zvcm0oYXJnKSk7XG4gIH07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAsIHVubGVzcyBga2V5YCBpcyBcIl9fcHJvdG9fX1wiLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICByZXR1cm4ga2V5ID09ICdfX3Byb3RvX18nXG4gICAgPyB1bmRlZmluZWRcbiAgICA6IG9iamVjdFtrZXldO1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBpbmZlciB0aGUgYE9iamVjdGAgY29uc3RydWN0b3IuICovXG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBpZiBhIG1ldGhvZCBpcyBuYXRpdmUuICovXG52YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICBmdW5jVG9TdHJpbmcuY2FsbChoYXNPd25Qcm9wZXJ0eSkucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgJyQxLio/JykgKyAnJCdcbik7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBVaW50OEFycmF5ID0gcm9vdC5VaW50OEFycmF5LFxuICAgIGFsbG9jVW5zYWZlID0gQnVmZmVyID8gQnVmZmVyLmFsbG9jVW5zYWZlIDogdW5kZWZpbmVkLFxuICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgIG9iamVjdENyZWF0ZSA9IE9iamVjdC5jcmVhdGUsXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVJc0J1ZmZlciA9IEJ1ZmZlciA/IEJ1ZmZlci5pc0J1ZmZlciA6IHVuZGVmaW5lZCxcbiAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVOb3cgPSBEYXRlLm5vdztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG8gVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG52YXIgYmFzZUNyZWF0ZSA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gb2JqZWN0KCkge31cbiAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgaWYgKCFpc09iamVjdChwcm90bykpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgaWYgKG9iamVjdENyZWF0ZSkge1xuICAgICAgcmV0dXJuIG9iamVjdENyZWF0ZShwcm90byk7XG4gICAgfVxuICAgIG9iamVjdC5wcm90b3R5cGUgPSBwcm90bztcbiAgICB2YXIgcmVzdWx0ID0gbmV3IG9iamVjdDtcbiAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59KCkpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgdmFyIHJlc3VsdCA9IHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbiAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGhhc2ggdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAobmF0aXZlQ3JlYXRlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0ID09PSBIQVNIX1VOREVGSU5FRCA/IHVuZGVmaW5lZCA6IHJlc3VsdDtcbiAgfVxuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hIYXMoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgcmV0dXJuIG5hdGl2ZUNyZWF0ZSA/IChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIC0tdGhpcy5zaXplO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgKyt0aGlzLnNpemU7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5zaXplID0gMDtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIG1hcCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIG1hcCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSksXG4gICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgKz0gZGF0YS5zaXplID09IHNpemUgPyAwIDogMTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuXG5NYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlO1xuTWFwQ2FjaGUucHJvdG90eXBlLmdldCA9IG1hcENhY2hlR2V0O1xuTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7XG4gIHRoaXMuc2l6ZSA9IGRhdGEuc2l6ZTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBzdGFjay5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBTdGFja1xuICovXG5mdW5jdGlvbiBzdGFja0NsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIFN0YWNrXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIHJlc3VsdCA9IGRhdGFbJ2RlbGV0ZSddKGtleSk7XG5cbiAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgU3RhY2tcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgc3RhY2sgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIHN0YWNrU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgIHZhciBwYWlycyA9IGRhdGEuX19kYXRhX187XG4gICAgaWYgKCFNYXAgfHwgKHBhaXJzLmxlbmd0aCA8IExBUkdFX0FSUkFZX1NJWkUgLSAxKSkge1xuICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgdGhpcy5zaXplID0gKytkYXRhLnNpemU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpO1xuICB9XG4gIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICB0aGlzLnNpemUgPSBkYXRhLnNpemU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU3RhY2tgLlxuU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjtcblN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcblN0YWNrLnByb3RvdHlwZS5nZXQgPSBzdGFja0dldDtcblN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhcztcblN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIHRoZSBhcnJheS1saWtlIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpLFxuICAgICAgaXNBcmcgPSAhaXNBcnIgJiYgaXNBcmd1bWVudHModmFsdWUpLFxuICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICBpc1R5cGUgPSAhaXNBcnIgJiYgIWlzQXJnICYmICFpc0J1ZmYgJiYgaXNUeXBlZEFycmF5KHZhbHVlKSxcbiAgICAgIHNraXBJbmRleGVzID0gaXNBcnIgfHwgaXNBcmcgfHwgaXNCdWZmIHx8IGlzVHlwZSxcbiAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAhKHNraXBJbmRleGVzICYmIChcbiAgICAgICAgICAgLy8gU2FmYXJpIDkgaGFzIGVudW1lcmFibGUgYGFyZ3VtZW50cy5sZW5ndGhgIGluIHN0cmljdCBtb2RlLlxuICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgLy8gTm9kZS5qcyAwLjEwIGhhcyBlbnVtZXJhYmxlIG5vbi1pbmRleCBwcm9wZXJ0aWVzIG9uIGJ1ZmZlcnMuXG4gICAgICAgICAgIChpc0J1ZmYgJiYgKGtleSA9PSAnb2Zmc2V0JyB8fCBrZXkgPT0gJ3BhcmVudCcpKSB8fFxuICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgIChpc1R5cGUgJiYgKGtleSA9PSAnYnVmZmVyJyB8fCBrZXkgPT0gJ2J5dGVMZW5ndGgnIHx8IGtleSA9PSAnYnl0ZU9mZnNldCcpKSB8fFxuICAgICAgICAgICAvLyBTa2lwIGluZGV4IHByb3BlcnRpZXMuXG4gICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXNzaWduVmFsdWVgIGV4Y2VwdCB0aGF0IGl0IGRvZXNuJ3QgYXNzaWduXG4gKiBgdW5kZWZpbmVkYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgaWYgKCh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmICFlcShvYmplY3Rba2V5XSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEFzc2lnbnMgYHZhbHVlYCB0byBga2V5YCBvZiBgb2JqZWN0YCBpZiB0aGUgZXhpc3RpbmcgdmFsdWUgaXMgbm90IGVxdWl2YWxlbnRcbiAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldO1xuICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgKHZhbHVlID09PSB1bmRlZmluZWQgJiYgIShrZXkgaW4gb2JqZWN0KSkpIHtcbiAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICovXG5mdW5jdGlvbiBhc3NvY0luZGV4T2YoYXJyYXksIGtleSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkge1xuICAgICAgcmV0dXJuIGxlbmd0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gKiBwcm9wZXJ0aWVzIHJldHVybmVkIGJ5IGBrZXlzRnVuY2AgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xudmFyIGJhc2VGb3IgPSBjcmVhdGVCYXNlRm9yKCk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNUeXBlZEFycmF5YCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VJc1R5cGVkQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICEhdHlwZWRBcnJheVRhZ3NbYmFzZUdldFRhZyh2YWx1ZSldO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyLCBzdGFjaykge1xuICBpZiAob2JqZWN0ID09PSBzb3VyY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYmFzZUZvcihzb3VyY2UsIGZ1bmN0aW9uKHNyY1ZhbHVlLCBrZXkpIHtcbiAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICA/IGN1c3RvbWl6ZXIoc2FmZUdldChvYmplY3QsIGtleSksIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfSwga2V5c0luKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VNZXJnZWAgZm9yIGFycmF5cyBhbmQgb2JqZWN0cyB3aGljaCBwZXJmb3Jtc1xuICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAqIHJlZmVyZW5jZXMgdG8gYmUgbWVyZ2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBtZXJnZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1lcmdlIHZhbHVlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgc291cmNlIHZhbHVlcyBhbmQgdGhlaXIgbWVyZ2VkXG4gKiAgY291bnRlcnBhcnRzLlxuICovXG5mdW5jdGlvbiBiYXNlTWVyZ2VEZWVwKG9iamVjdCwgc291cmNlLCBrZXksIHNyY0luZGV4LCBtZXJnZUZ1bmMsIGN1c3RvbWl6ZXIsIHN0YWNrKSB7XG4gIHZhciBvYmpWYWx1ZSA9IHNhZmVHZXQob2JqZWN0LCBrZXkpLFxuICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgIHN0YWNrZWQgPSBzdGFjay5nZXQoc3JjVmFsdWUpO1xuXG4gIGlmIChzdGFja2VkKSB7XG4gICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICA/IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCAoa2V5ICsgJycpLCBvYmplY3QsIHNvdXJjZSwgc3RhY2spXG4gICAgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICBpZiAoaXNDb21tb24pIHtcbiAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHNyY1ZhbHVlKSxcbiAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgaXNUeXBlZCA9ICFpc0FyciAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheShzcmNWYWx1ZSk7XG5cbiAgICBuZXdWYWx1ZSA9IHNyY1ZhbHVlO1xuICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgaWYgKGlzQXJyYXkob2JqVmFsdWUpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0FycmF5TGlrZU9iamVjdChvYmpWYWx1ZSkpIHtcbiAgICAgICAgbmV3VmFsdWUgPSBjb3B5QXJyYXkob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNCdWZmKSB7XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaXNUeXBlZCkge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBuZXdWYWx1ZSA9IGNsb25lVHlwZWRBcnJheShzcmNWYWx1ZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3VmFsdWUgPSBbXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaXNQbGFpbk9iamVjdChzcmNWYWx1ZSkgfHwgaXNBcmd1bWVudHMoc3JjVmFsdWUpKSB7XG4gICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlO1xuICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICBuZXdWYWx1ZSA9IHRvUGxhaW5PYmplY3Qob2JqVmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCAoc3JjSW5kZXggJiYgaXNGdW5jdGlvbihvYmpWYWx1ZSkpKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gaW5pdENsb25lT2JqZWN0KHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoaXNDb21tb24pIHtcbiAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICBzdGFjay5zZXQoc3JjVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgIHN0YWNrWydkZWxldGUnXShzcmNWYWx1ZSk7XG4gIH1cbiAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlc3RgIHdoaWNoIGRvZXNuJ3QgdmFsaWRhdGUgb3IgY29lcmNlIGFyZ3VtZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9ZnVuYy5sZW5ndGgtMV0gVGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoZSByZXN0IHBhcmFtZXRlci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBiYXNlUmVzdChmdW5jLCBzdGFydCkge1xuICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgc2V0VG9TdHJpbmdgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICovXG52YXIgYmFzZVNldFRvU3RyaW5nID0gIWRlZmluZVByb3BlcnR5ID8gaWRlbnRpdHkgOiBmdW5jdGlvbihmdW5jLCBzdHJpbmcpIHtcbiAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAnY29uZmlndXJhYmxlJzogdHJ1ZSxcbiAgICAnZW51bWVyYWJsZSc6IGZhbHNlLFxuICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgJ3dyaXRhYmxlJzogdHJ1ZVxuICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAqIEByZXR1cm5zIHtCdWZmZXJ9IFJldHVybnMgdGhlIGNsb25lZCBidWZmZXIuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQnVmZmVyKGJ1ZmZlciwgaXNEZWVwKSB7XG4gIGlmIChpc0RlZXApIHtcbiAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gIH1cbiAgdmFyIGxlbmd0aCA9IGJ1ZmZlci5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgYnVmZmVyLmNvcHkocmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGFycmF5QnVmZmVyYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyYXlCdWZmZXIgVGhlIGFycmF5IGJ1ZmZlciB0byBjbG9uZS5cbiAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAqL1xuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikge1xuICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICBuZXcgVWludDhBcnJheShyZXN1bHQpLnNldChuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlcikpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgdHlwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGNsb25lVHlwZWRBcnJheSh0eXBlZEFycmF5LCBpc0RlZXApIHtcbiAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7XG4gIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xufVxuXG4vKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBDb3BpZXMgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb3BpZWQgdmFsdWVzLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHtcbiAgdmFyIGlzTmV3ID0gIW9iamVjdDtcbiAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG5cbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuXG4gICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKG5ld1ZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgfVxuICAgIGlmIChpc05ldykge1xuICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uYXNzaWduYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gYXNzaWduZXIgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhc3NpZ25lciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQXNzaWduZXIoYXNzaWduZXIpIHtcbiAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgc291cmNlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aCxcbiAgICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA+IDEgPyBzb3VyY2VzW2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkLFxuICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgY3VzdG9taXplciA9IChhc3NpZ25lci5sZW5ndGggPiAzICYmIHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicpXG4gICAgICA/IChsZW5ndGgtLSwgY3VzdG9taXplcilcbiAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHNvdXJjZXNbMF0sIHNvdXJjZXNbMV0sIGd1YXJkKSkge1xuICAgICAgY3VzdG9taXplciA9IGxlbmd0aCA8IDMgPyB1bmRlZmluZWQgOiBjdXN0b21pemVyO1xuICAgICAgbGVuZ3RoID0gMTtcbiAgICB9XG4gICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGJhc2UgZnVuY3Rpb24gZm9yIG1ldGhvZHMgbGlrZSBgXy5mb3JJbmAgYW5kIGBfLmZvck93bmAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmFzZUZvcihmcm9tUmlnaHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgaXRlcmF0ZWUsIGtleXNGdW5jKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGl0ZXJhYmxlID0gT2JqZWN0KG9iamVjdCksXG4gICAgICAgIHByb3BzID0ga2V5c0Z1bmMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbZnJvbVJpZ2h0ID8gbGVuZ3RoIDogKytpbmRleF07XG4gICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9O1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAqL1xuZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBvYmplY3QuY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNQcm90b3R5cGUob2JqZWN0KSlcbiAgICA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpXG4gICAgOiB7fTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgaW5kZXguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBpbmRleCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcblxuICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAodHlwZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgKHR5cGUgIT0gJ3N5bWJvbCcgJiYgcmVJc1VpbnQudGVzdCh2YWx1ZSkpKSAmJlxuICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICogQHBhcmFtIHsqfSBpbmRleCBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIGluZGV4IG9yIGtleSBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBwb3RlbnRpYWwgaXRlcmF0ZWUgb2JqZWN0IGFyZ3VtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiBpbmRleDtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcidcbiAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgOiAodHlwZSA9PSAnc3RyaW5nJyAmJiBpbmRleCBpbiBvYmplY3QpXG4gICAgICApIHtcbiAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSBmb3IgdXNlIGFzIHVuaXF1ZSBvYmplY3Qga2V5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICA/ICh2YWx1ZSAhPT0gJ19fcHJvdG9fXycpXG4gICAgOiAodmFsdWUgPT09IG51bGwpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgZnVuY2AgaXMgbWFza2VkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgcmV0dXJuICEhbWFza1NyY0tleSAmJiAobWFza1NyY0tleSBpbiBmdW5jKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvdG90eXBlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsXG4gICAgICBwcm90byA9ICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmIEN0b3IucHJvdG90eXBlKSB8fCBvYmplY3RQcm90bztcblxuICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICogW2BPYmplY3Qua2V5c2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZXhjZXB0IHRoYXQgaXQgaW5jbHVkZXMgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydGllcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqL1xuZnVuY3Rpb24gbmF0aXZlS2V5c0luKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGlmIChvYmplY3QgIT0gbnVsbCkge1xuICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VSZXN0YCB3aGljaCB0cmFuc2Zvcm1zIHRoZSByZXN0IGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHRoaXMsIG90aGVyQXJncyk7XG4gIH07XG59XG5cbi8qKlxuICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gKi9cbnZhciBzZXRUb1N0cmluZyA9IHNob3J0T3V0KGJhc2VTZXRUb1N0cmluZyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQnbGwgc2hvcnQgb3V0IGFuZCBpbnZva2UgYGlkZW50aXR5YCBpbnN0ZWFkXG4gKiBvZiBgZnVuY2Agd2hlbiBpdCdzIGNhbGxlZCBgSE9UX0NPVU5UYCBvciBtb3JlIHRpbWVzIGluIGBIT1RfU1BBTmBcbiAqIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzaG9ydGFibGUgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgdmFyIGNvdW50ID0gMCxcbiAgICAgIGxhc3RDYWxsZWQgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhbXAgPSBuYXRpdmVOb3coKSxcbiAgICAgICAgcmVtYWluaW5nID0gSE9UX1NQQU4gLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKTtcblxuICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgaWYgKCsrY291bnQgPj0gSE9UX0NPVU5UKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGBmdW5jYCB0byBpdHMgc291cmNlIGNvZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS5cbiAqL1xuZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykge1xuICBpZiAoZnVuYyAhPSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gKGZ1bmMgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICogIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcmd1bWVudHMgPSBiYXNlSXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPyBiYXNlSXNBcmd1bWVudHMgOiBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAhcHJvcGVydHlJc0VudW1lcmFibGUuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjMuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0J1ZmZlciA9IG5hdGl2ZUlzQnVmZmVyIHx8IHN0dWJGYWxzZTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwbGFpbiBvYmplY3QsIHRoYXQgaXMsIGFuIG9iamVjdCBjcmVhdGVkIGJ5IHRoZVxuICogYE9iamVjdGAgY29uc3RydWN0b3Igb3Igb25lIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC44LjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqIH1cbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QobmV3IEZvbyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNQbGFpbk9iamVjdChbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoeyAneCc6IDAsICd5JzogMCB9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzUGxhaW5PYmplY3QoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdExpa2UodmFsdWUpIHx8IGJhc2VHZXRUYWcodmFsdWUpICE9IG9iamVjdFRhZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG8gPSBnZXRQcm90b3R5cGUodmFsdWUpO1xuICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJlxuICAgIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcGxhaW4gb2JqZWN0IGZsYXR0ZW5pbmcgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nXG4gKiBrZXllZCBwcm9wZXJ0aWVzIG9mIGB2YWx1ZWAgdG8gb3duIHByb3BlcnRpZXMgb2YgdGhlIHBsYWluIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gKlxuICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9XG4gKi9cbmZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNvcHlPYmplY3QodmFsdWUsIGtleXNJbih2YWx1ZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gKlxuICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy5rZXlzSW4obmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqL1xuZnVuY3Rpb24ga2V5c0luKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbn1cblxuLyoqXG4gKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1lcmdlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaFxuICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBtZXJnZWQgdmFsdWVzIG9mIHRoZSBkZXN0aW5hdGlvbiBhbmQgc291cmNlXG4gKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICogbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHNpeCBhcmd1bWVudHM6XG4gKiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjaykuXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gKiAgIGlmIChfLmlzQXJyYXkob2JqVmFsdWUpKSB7XG4gKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFsxXSwgJ2InOiBbMl0gfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiBbM10sICdiJzogWzRdIH07XG4gKlxuICogXy5tZXJnZVdpdGgob2JqZWN0LCBvdGhlciwgY3VzdG9taXplcik7XG4gKiAvLyA9PiB7ICdhJzogWzEsIDNdLCAnYic6IFsyLCA0XSB9XG4gKi9cbnZhciBtZXJnZVdpdGggPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgsIGN1c3RvbWl6ZXIpIHtcbiAgYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplcik7XG59KTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB2YWx1ZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJldHVybiBmcm9tIHRoZSBuZXcgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICpcbiAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gKlxuICogY29uc29sZS5sb2cob2JqZWN0c1swXSA9PT0gb2JqZWN0c1sxXSk7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGNvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4xMy4wXG4gKiBAY2F0ZWdvcnkgVXRpbFxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gKiAvLyA9PiBbZmFsc2UsIGZhbHNlXVxuICovXG5mdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gIHJldHVybiBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtZXJnZVdpdGg7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG52YXIgTEFSR0VfQVJSQVlfU0laRSA9IDIwMDtcblxuLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xudmFyIEhBU0hfVU5ERUZJTkVEID0gJ19fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18nO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogQSBmYXN0ZXIgYWx0ZXJuYXRpdmUgdG8gYEZ1bmN0aW9uI2FwcGx5YCwgdGhpcyBmdW5jdGlvbiBpbnZva2VzIGBmdW5jYFxuICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCB0aGUgYXJndW1lbnRzIG9mIGBhcmdzYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuXG4gKi9cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMsIHRoaXNBcmcsIGFyZ3MpIHtcbiAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgfVxuICByZXR1cm4gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICogc3BlY2lmeWluZyBhbiBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gIHJldHVybiAhIWxlbmd0aCAmJiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIDApID4gLTE7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBhcnJheUluY2x1ZGVzYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyYXRvciBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5jbHVkZXNXaXRoKGFycmF5LCB2YWx1ZSwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBBcHBlbmRzIHRoZSBlbGVtZW50cyBvZiBgdmFsdWVzYCB0byBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbmRJbmRleGAgYW5kIGBfLmZpbmRMYXN0SW5kZXhgIHdpdGhvdXRcbiAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUZpbmRJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgsIGZyb21SaWdodCkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgaW5kZXggPSBmcm9tSW5kZXggKyAoZnJvbVJpZ2h0ID8gMSA6IC0xKTtcblxuICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pbmRleE9mYCB3aXRob3V0IGBmcm9tSW5kZXhgIGJvdW5kcyBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgaWYgKHZhbHVlICE9PSB2YWx1ZSkge1xuICAgIHJldHVybiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGZyb21JbmRleCk7XG4gIH1cbiAgdmFyIGluZGV4ID0gZnJvbUluZGV4IC0gMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hTmAgd2l0aG91dCBzdXBwb3J0IGZvciBudW1iZXIgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUaW1lcyhuLCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIHJlc3VsdCA9IEFycmF5KG4pO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbikge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmModmFsdWUpO1xuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gY2FjaGVIYXMoY2FjaGUsIGtleSkge1xuICByZXR1cm4gY2FjaGUuaGFzKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsXG4gICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG92ZXJyZWFjaGluZyBjb3JlLWpzIHNoaW1zLiAqL1xudmFyIGNvcmVKc0RhdGEgPSByb290WydfX2NvcmUtanNfc2hhcmVkX18nXTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG1ldGhvZHMgbWFzcXVlcmFkaW5nIGFzIG5hdGl2ZS4gKi9cbnZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdWlkID0gL1teLl0rJC8uZXhlYyhjb3JlSnNEYXRhICYmIGNvcmVKc0RhdGEua2V5cyAmJiBjb3JlSnNEYXRhLmtleXMuSUVfUFJPVE8gfHwgJycpO1xuICByZXR1cm4gdWlkID8gKCdTeW1ib2woc3JjKV8xLicgKyB1aWQpIDogJyc7XG59KCkpO1xuXG4vKiogVXNlZCB0byByZXNvbHZlIHRoZSBkZWNvbXBpbGVkIHNvdXJjZSBvZiBmdW5jdGlvbnMuICovXG52YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2wsXG4gICAgZ2V0UHJvdG90eXBlID0gb3ZlckFyZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsIE9iamVjdCksXG4gICAgcHJvcGVydHlJc0VudW1lcmFibGUgPSBvYmplY3RQcm90by5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICBzcHJlYWRhYmxlU3ltYm9sID0gU3ltYm9sID8gU3ltYm9sLmlzQ29uY2F0U3ByZWFkYWJsZSA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4O1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG52YXIgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSxcbiAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBIYXNoKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKi9cbmZ1bmN0aW9uIGhhc2hDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBoYXNoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHtcbiAgcmV0dXJuIHRoaXMuaGFzKGtleSkgJiYgZGVsZXRlIHRoaXMuX19kYXRhX19ba2V5XTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgaWYgKG5hdGl2ZUNyZWF0ZSkge1xuICAgIHZhciByZXN1bHQgPSBkYXRhW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KSA/IGRhdGFba2V5XSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyBkYXRhW2tleV0gIT09IHVuZGVmaW5lZCA6IGhhc093blByb3BlcnR5LmNhbGwoZGF0YSwga2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgSGFzaGAuXG5IYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbkhhc2gucHJvdG90eXBlWydkZWxldGUnXSA9IGhhc2hEZWxldGU7XG5IYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0O1xuSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbkhhc2gucHJvdG90eXBlLnNldCA9IGhhc2hTZXQ7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBbXTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlRGVsZXRlKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIGxhc3RJbmRleCA9IGRhdGEubGVuZ3RoIC0gMTtcbiAgaWYgKGluZGV4ID09IGxhc3RJbmRleCkge1xuICAgIGRhdGEucG9wKCk7XG4gIH0gZWxzZSB7XG4gICAgc3BsaWNlLmNhbGwoZGF0YSwgaW5kZXgsIDEpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBhIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlSGFzKGtleSkge1xuICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBsaXN0IGNhY2hlIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgfSBlbHNlIHtcbiAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC5cbkxpc3RDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBsaXN0Q2FjaGVDbGVhcjtcbkxpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuTGlzdENhY2hlLnByb3RvdHlwZS5nZXQgPSBsaXN0Q2FjaGVHZXQ7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmhhcyA9IGxpc3RDYWNoZUhhcztcbkxpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7XG5cbiAgdGhpcy5jbGVhcigpO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IHtcbiAgICAnaGFzaCc6IG5ldyBIYXNoLFxuICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICdzdHJpbmcnOiBuZXcgSGFzaFxuICB9O1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaGFzXG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIGdldE1hcERhdGEodGhpcywga2V5KS5zZXQoa2V5LCB2YWx1ZSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuLyoqXG4gKlxuICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGNhY2hlLlxuICovXG5mdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSB2YWx1ZXMgPyB2YWx1ZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlO1xuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHRoaXMuYWRkKHZhbHVlc1tpbmRleF0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBgdmFsdWVgIHRvIHRoZSBhcnJheSBjYWNoZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgYWRkXG4gKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAqIEBhbGlhcyBwdXNoXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjYWNoZS5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUFkZCh2YWx1ZSkge1xuICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBpbiB0aGUgYXJyYXkgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIFNldENhY2hlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXModmFsdWUpO1xufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuU2V0Q2FjaGUucHJvdG90eXBlLmFkZCA9IFNldENhY2hlLnByb3RvdHlwZS5wdXNoID0gc2V0Q2FjaGVBZGQ7XG5TZXRDYWNoZS5wcm90b3R5cGUuaGFzID0gc2V0Q2FjaGVIYXM7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICAvLyBTYWZhcmkgOC4xIG1ha2VzIGBhcmd1bWVudHMuY2FsbGVlYCBlbnVtZXJhYmxlIGluIHN0cmljdCBtb2RlLlxuICAvLyBTYWZhcmkgOSBtYWtlcyBgYXJndW1lbnRzLmxlbmd0aGAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgdmFyIHJlc3VsdCA9IChpc0FycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpXG4gICAgPyBiYXNlVGltZXModmFsdWUubGVuZ3RoLCBTdHJpbmcpXG4gICAgOiBbXTtcblxuICB2YXIgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aCxcbiAgICAgIHNraXBJbmRleGVzID0gISFsZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoa2V5ID09ICdsZW5ndGgnIHx8IGlzSW5kZXgoa2V5LCBsZW5ndGgpKSkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgbWV0aG9kcyBsaWtlIGBfLmRpZmZlcmVuY2VgIHdpdGhvdXQgc3VwcG9ydFxuICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICovXG5mdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlcyxcbiAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IFtdLFxuICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICBpZiAoIWxlbmd0aCkge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgaWYgKGl0ZXJhdGVlKSB7XG4gICAgdmFsdWVzID0gYXJyYXlNYXAodmFsdWVzLCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgfVxuICBpZiAoY29tcGFyYXRvcikge1xuICAgIGluY2x1ZGVzID0gYXJyYXlJbmNsdWRlc1dpdGg7XG4gICAgaXNDb21tb24gPSBmYWxzZTtcbiAgfVxuICBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgdmFsdWVzID0gbmV3IFNldENhY2hlKHZhbHVlcyk7XG4gIH1cbiAgb3V0ZXI6XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICBpZiAoaXNDb21tb24gJiYgY29tcHV0ZWQgPT09IGNvbXB1dGVkKSB7XG4gICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICB3aGlsZSAodmFsdWVzSW5kZXgtLSkge1xuICAgICAgICBpZiAodmFsdWVzW3ZhbHVlc0luZGV4XSA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmICghaW5jbHVkZXModmFsdWVzLCBjb21wdXRlZCwgY29tcGFyYXRvcikpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlcHRoIFRoZSBtYXhpbXVtIHJlY3Vyc2lvbiBkZXB0aC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ByZWRpY2F0ZT1pc0ZsYXR0ZW5hYmxlXSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdD1bXV0gVGhlIGluaXRpYWwgcmVzdWx0IHZhbHVlLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICovXG5mdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgZGVwdGgsIHByZWRpY2F0ZSwgaXNTdHJpY3QsIHJlc3VsdCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IGlzRmxhdHRlbmFibGUpO1xuICByZXN1bHQgfHwgKHJlc3VsdCA9IFtdKTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICBpZiAoZGVwdGggPiAwICYmIHByZWRpY2F0ZSh2YWx1ZSkpIHtcbiAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgZmxhdHRlbiBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgYmFzZUZsYXR0ZW4odmFsdWUsIGRlcHRoIC0gMSwgcHJlZGljYXRlLCBpc1N0cmljdCwgcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFycmF5UHVzaChyZXN1bHQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGhdID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzXG4gKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7XG4gIHJldHVybiBpc0FycmF5KG9iamVjdCkgPyByZXN1bHQgOiBhcnJheVB1c2gocmVzdWx0LCBzeW1ib2xzRnVuYyhvYmplY3QpKTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gbmF0aXZlS2V5c0luKG9iamVjdCk7XG4gIH1cbiAgdmFyIGlzUHJvdG8gPSBpc1Byb3RvdHlwZShvYmplY3QpLFxuICAgICAgcmVzdWx0ID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIGlmICghKGtleSA9PSAnY29uc3RydWN0b3InICYmIChpc1Byb3RvIHx8ICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnBpY2tgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICogcHJvcGVydHkgaWRlbnRpZmllcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gcGljay5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcHJvcHMpIHtcbiAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICByZXR1cm4ga2V5IGluIG9iamVjdDtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIHBpY2sgZnJvbS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcHJvcHMsIHByZWRpY2F0ZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IHt9O1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHByb3BzW2luZGV4XSxcbiAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGtleSkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVzdGAgd2hpY2ggZG9lc24ndCB2YWxpZGF0ZSBvciBjb2VyY2UgYXJndW1lbnRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhcHBseSBhIHJlc3QgcGFyYW1ldGVyIHRvLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0ID09PSB1bmRlZmluZWQgPyAoZnVuYy5sZW5ndGggLSAxKSA6IHN0YXJ0LCAwKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoYXJncy5sZW5ndGggLSBzdGFydCwgMCksXG4gICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtpbmRleF0gPSBhcmdzW3N0YXJ0ICsgaW5kZXhdO1xuICAgIH1cbiAgICBpbmRleCA9IC0xO1xuICAgIHZhciBvdGhlckFyZ3MgPSBBcnJheShzdGFydCArIDEpO1xuICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgIG90aGVyQXJnc1tpbmRleF0gPSBhcmdzW2luZGV4XTtcbiAgICB9XG4gICAgb3RoZXJBcmdzW3N0YXJ0XSA9IGFycmF5O1xuICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICB9O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAqIHN5bWJvbHMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gKi9cbmZ1bmN0aW9uIGdldEFsbEtleXNJbihvYmplY3QpIHtcbiAgcmV0dXJuIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0luLCBnZXRTeW1ib2xzSW4pO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9sIHByb3BlcnRpZXMgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAqL1xudmFyIGdldFN5bWJvbHMgPSBuYXRpdmVHZXRTeW1ib2xzID8gb3ZlckFyZyhuYXRpdmVHZXRTeW1ib2xzLCBPYmplY3QpIDogc3R1YkFycmF5O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9sIHByb3BlcnRpZXNcbiAqIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHN5bWJvbHMuXG4gKi9cbnZhciBnZXRTeW1ib2xzSW4gPSAhbmF0aXZlR2V0U3ltYm9scyA/IHN0dWJBcnJheSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHdoaWxlIChvYmplY3QpIHtcbiAgICBhcnJheVB1c2gocmVzdWx0LCBnZXRTeW1ib2xzKG9iamVjdCkpO1xuICAgIG9iamVjdCA9IGdldFByb3RvdHlwZShvYmplY3QpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmxhdHRlbmFibGUgYGFyZ3VtZW50c2Agb2JqZWN0IG9yIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGZsYXR0ZW5hYmxlLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzRmxhdHRlbmFibGUodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSB8fFxuICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aD1NQVhfU0FGRV9JTlRFR0VSXSBUaGUgdXBwZXIgYm91bmRzIG9mIGEgdmFsaWQgaW5kZXguXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkge1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG4gIHJldHVybiAhIWxlbmd0aCAmJlxuICAgICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgcmVJc1VpbnQudGVzdCh2YWx1ZSkpICYmXG4gICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciB1c2UgYXMgdW5pcXVlIG9iamVjdCBrZXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXlhYmxlKHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gKHR5cGUgPT0gJ3N0cmluZycgfHwgdHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nKVxuICAgID8gKHZhbHVlICE9PSAnX19wcm90b19fJylcbiAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBwcm90b3R5cGUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGUodmFsdWUpIHtcbiAgdmFyIEN0b3IgPSB2YWx1ZSAmJiB2YWx1ZS5jb25zdHJ1Y3RvcixcbiAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gIHJldHVybiB2YWx1ZSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlXG4gKiBbYE9iamVjdC5rZXlzYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpXG4gKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgaWYgKG9iamVjdCAhPSBudWxsKSB7XG4gICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIFBlcmZvcm1zIGFcbiAqIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07XG4gKlxuICogXy5lcShvYmplY3QsIG9iamVjdCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcShvYmplY3QsIG90aGVyKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcSgnYScsICdhJyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5lcSgnYScsIE9iamVjdCgnYScpKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5lcShOYU4sIE5hTik7XG4gKiAvLyA9PiB0cnVlXG4gKi9cbmZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikge1xuICByZXR1cm4gdmFsdWUgPT09IG90aGVyIHx8ICh2YWx1ZSAhPT0gdmFsdWUgJiYgb3RoZXIgIT09IG90aGVyKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoZnVuY3Rpb24oKSB7IHJldHVybiBhcmd1bWVudHM7IH0oKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0FyZ3VtZW50cyhbMSwgMiwgM10pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcmd1bWVudHModmFsdWUpIHtcbiAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS5cbiAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzVGFnKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAqIGlzIGFuIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCxcbiAqICBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc0Z1bmN0aW9uKF8pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIC8vIFRoZSB1c2Ugb2YgYE9iamVjdCN0b1N0cmluZ2AgYXZvaWRzIGlzc3VlcyB3aXRoIHRoZSBgdHlwZW9mYCBvcGVyYXRvclxuICAvLyBpbiBTYWZhcmkgOC05IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5IGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICByZXR1cm4gdGFnID09IGZ1bmNUYWcgfHwgdGFnID09IGdlblRhZztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICpcbiAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKiBAZXhhbXBsZVxuICpcbiAqIGZ1bmN0aW9uIEZvbygpIHtcbiAqICAgdGhpcy5hID0gMTtcbiAqICAgdGhpcy5iID0gMjtcbiAqIH1cbiAqXG4gKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICpcbiAqIF8ua2V5c0luKG5ldyBGb28pO1xuICogLy8gPT4gWydhJywgJ2InLCAnYyddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKi9cbmZ1bmN0aW9uIGtleXNJbihvYmplY3QpIHtcbiAgcmV0dXJuIGlzQXJyYXlMaWtlKG9iamVjdCkgPyBhcnJheUxpa2VLZXlzKG9iamVjdCwgdHJ1ZSkgOiBiYXNlS2V5c0luKG9iamVjdCk7XG59XG5cbi8qKlxuICogVGhlIG9wcG9zaXRlIG9mIGBfLnBpY2tgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGVcbiAqIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYG9iamVjdGAgdGhhdCBhcmVcbiAqIG5vdCBvbWl0dGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcHJvcHNdIFRoZSBwcm9wZXJ0eSBpZGVudGlmaWVycyB0byBvbWl0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6ICcyJywgJ2MnOiAzIH07XG4gKlxuICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gKiAvLyA9PiB7ICdiJzogJzInIH1cbiAqL1xudmFyIG9taXQgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHByb3BzKSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICBwcm9wcyA9IGFycmF5TWFwKGJhc2VGbGF0dGVuKHByb3BzLCAxKSwgdG9LZXkpO1xuICByZXR1cm4gYmFzZVBpY2sob2JqZWN0LCBiYXNlRGlmZmVyZW5jZShnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcHJvcHMpKTtcbn0pO1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpO1xuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5cyk7XG4gKiAvLyA9PiBbW10sIFtdXVxuICpcbiAqIGNvbnNvbGUubG9nKGFycmF5c1swXSA9PT0gYXJyYXlzWzFdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIHN0dWJBcnJheSgpIHtcbiAgcmV0dXJuIFtdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9taXQ7XG4iLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgdGhlIGBUeXBlRXJyb3JgIG1lc3NhZ2UgZm9yIFwiRnVuY3Rpb25zXCIgbWV0aG9kcy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMCxcbiAgICBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXSc7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLyxcbiAgICByZUxlYWRpbmdEb3QgPSAvXlxcLi8sXG4gICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAqL1xudmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYmFja3NsYXNoZXMgaW4gcHJvcGVydHkgcGF0aHMuICovXG52YXIgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuICovXG52YXIgcmVJc1VpbnQgPSAvXig/OjB8WzEtOV1cXGQqKSQvO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QgaW4gSUUgPCA5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgaG9zdCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNIb3N0T2JqZWN0KHZhbHVlKSB7XG4gIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzXG4gIC8vIGRlc3BpdGUgaGF2aW5nIGltcHJvcGVybHkgZGVmaW5lZCBgdG9TdHJpbmdgIG1ldGhvZHMuXG4gIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvU3RyaW5nICE9ICdmdW5jdGlvbicpIHtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gISEodmFsdWUgKyAnJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSxcbiAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovXG52YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqL1xudmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICtcbiAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csICckMS4qPycpICsgJyQnXG4pO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbCxcbiAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIE1hcCA9IGdldE5hdGl2ZShyb290LCAnTWFwJyksXG4gICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbnZhciBzeW1ib2xQcm90byA9IFN5bWJvbCA/IFN5bWJvbC5wcm90b3R5cGUgOiB1bmRlZmluZWQsXG4gICAgc3ltYm9sVG9TdHJpbmcgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnRvU3RyaW5nIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG59XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgaGFzaCB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBoYXNcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fO1xuICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgaGFzaCBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBIYXNoXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGRhdGFba2V5XSA9IChuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkgPyBIQVNIX1VOREVGSU5FRCA6IHZhbHVlO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLlxuSGFzaC5wcm90b3R5cGUuY2xlYXIgPSBoYXNoQ2xlYXI7XG5IYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuSGFzaC5wcm90b3R5cGUuZ2V0ID0gaGFzaEdldDtcbkhhc2gucHJvdG90eXBlLmhhcyA9IGhhc2hIYXM7XG5IYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUNsZWFyKCkge1xuICB0aGlzLl9fZGF0YV9fID0gW107XG59XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZ2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gIHJldHVybiBpbmRleCA8IDAgPyB1bmRlZmluZWQgOiBkYXRhW2luZGV4XVsxXTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBzZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbGlzdCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbGlzdENhY2hlU2V0KGtleSwgdmFsdWUpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH0gZWxzZSB7XG4gICAgZGF0YVtpbmRleF1bMV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG5MaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7XG5MaXN0Q2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IGxpc3RDYWNoZURlbGV0ZTtcbkxpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7XG5MaXN0Q2FjaGUucHJvdG90eXBlLnNldCA9IGxpc3RDYWNoZVNldDtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbWFwIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIE1hcENhY2hlKGVudHJpZXMpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSB7XG4gICAgJ2hhc2gnOiBuZXcgSGFzaCxcbiAgICAnbWFwJzogbmV3IChNYXAgfHwgTGlzdENhY2hlKSxcbiAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgfTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgbWFwLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBkZWxldGVcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpWydkZWxldGUnXShrZXkpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIG1hcCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVHZXQoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbWFwIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVTZXQoa2V5LCB2YWx1ZSkge1xuICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbk1hcENhY2hlLnByb3RvdHlwZS5jbGVhciA9IG1hcENhY2hlQ2xlYXI7XG5NYXBDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbWFwQ2FjaGVEZWxldGU7XG5NYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG5NYXBDYWNoZS5wcm90b3R5cGUuaGFzID0gbWFwQ2FjaGVIYXM7XG5NYXBDYWNoZS5wcm90b3R5cGUuc2V0ID0gbWFwQ2FjaGVTZXQ7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAqL1xuZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgIHJldHVybiBsZW5ndGg7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gKGlzRnVuY3Rpb24odmFsdWUpIHx8IGlzSG9zdE9iamVjdCh2YWx1ZSkpID8gcmVJc05hdGl2ZSA6IHJlSXNIb3N0Q3RvcjtcbiAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNldGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgcGF0aCBjcmVhdGlvbi5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSwgY3VzdG9taXplcikge1xuICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG4gIHBhdGggPSBpc0tleShwYXRoLCBvYmplY3QpID8gW3BhdGhdIDogY2FzdFBhdGgocGF0aCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICogdmFsdWVzIHRvIGVtcHR5IHN0cmluZ3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGJhc2VUb1N0cmluZyh2YWx1ZSkge1xuICAvLyBFeGl0IGVhcmx5IGZvciBzdHJpbmdzIHRvIGF2b2lkIGEgcGVyZm9ybWFuY2UgaGl0IGluIHNvbWUgZW52aXJvbm1lbnRzLlxuICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYXN0cyBgdmFsdWVgIHRvIGEgcGF0aCBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUpIHtcbiAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBzdHJpbmdUb1BhdGgodmFsdWUpO1xufVxuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZnVuY3Rpb24gaWYgaXQncyBuYXRpdmUsIGVsc2UgYHVuZGVmaW5lZGAuXG4gKi9cbmZ1bmN0aW9uIGdldE5hdGl2ZShvYmplY3QsIGtleSkge1xuICB2YXIgdmFsdWUgPSBnZXRWYWx1ZShvYmplY3QsIGtleSk7XG4gIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDtcbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiZcbiAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBwcm9wZXJ0eSBuYW1lIGFuZCBub3QgYSBwcm9wZXJ0eSBwYXRoLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNLZXkodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgfHxcbiAgICAgIHZhbHVlID09IG51bGwgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIHJlSXNQbGFpblByb3AudGVzdCh2YWx1ZSkgfHwgIXJlSXNEZWVwUHJvcC50ZXN0KHZhbHVlKSB8fFxuICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYGZ1bmNgIGhhcyBpdHMgc291cmNlIG1hc2tlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7XG4gIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xudmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemUoZnVuY3Rpb24oc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAocmVMZWFkaW5nRG90LnRlc3Qoc3RyaW5nKSkge1xuICAgIHJlc3VsdC5wdXNoKCcnKTtcbiAgfVxuICBzdHJpbmcucmVwbGFjZShyZVByb3BOYW1lLCBmdW5jdGlvbihtYXRjaCwgbnVtYmVyLCBxdW90ZSwgc3RyaW5nKSB7XG4gICAgcmVzdWx0LnB1c2gocXVvdGUgPyBzdHJpbmcucmVwbGFjZShyZUVzY2FwZUNoYXIsICckMScpIDogKG51bWJlciB8fCBtYXRjaCkpO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc291cmNlIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgaWYgKGZ1bmMgIT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gKiBwcm92aWRlZCwgaXQgZGV0ZXJtaW5lcyB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHQgYmFzZWQgb24gdGhlXG4gKiBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uLiBCeSBkZWZhdWx0LCB0aGUgZmlyc3QgYXJndW1lbnRcbiAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gKiBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gKiBmdW5jdGlvbi4gSXRzIGNyZWF0aW9uIG1heSBiZSBjdXN0b21pemVkIGJ5IHJlcGxhY2luZyB0aGUgYF8ubWVtb2l6ZS5DYWNoZWBcbiAqIGNvbnN0cnVjdG9yIHdpdGggb25lIHdob3NlIGluc3RhbmNlcyBpbXBsZW1lbnQgdGhlXG4gKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICogbWV0aG9kIGludGVyZmFjZSBvZiBgZGVsZXRlYCwgYGdldGAsIGBoYXNgLCBhbmQgYHNldGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmVzb2x2ZXJdIFRoZSBmdW5jdGlvbiB0byByZXNvbHZlIHRoZSBjYWNoZSBrZXkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAqIHZhciBvdGhlciA9IHsgJ2MnOiAzLCAnZCc6IDQgfTtcbiAqXG4gKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogdmFsdWVzKG90aGVyKTtcbiAqIC8vID0+IFszLCA0XVxuICpcbiAqIG9iamVjdC5hID0gMjtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWzEsIDJdXG4gKlxuICogLy8gTW9kaWZ5IHRoZSByZXN1bHQgY2FjaGUuXG4gKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiB2YWx1ZXMob2JqZWN0KTtcbiAqIC8vID0+IFsnYScsICdiJ11cbiAqXG4gKiAvLyBSZXBsYWNlIGBfLm1lbW9pemUuQ2FjaGVgLlxuICogXy5tZW1vaXplLkNhY2hlID0gV2Vha01hcDtcbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZShmdW5jLCByZXNvbHZlcikge1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJyB8fCAocmVzb2x2ZXIgJiYgdHlwZW9mIHJlc29sdmVyICE9ICdmdW5jdGlvbicpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHZhciBtZW1vaXplZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgY2FjaGUgPSBtZW1vaXplZC5jYWNoZTtcblxuICAgIGlmIChjYWNoZS5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59XG5cbi8vIEFzc2lnbiBjYWNoZSB0byBgXy5tZW1vaXplYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuLyoqXG4gKiBQZXJmb3JtcyBhXG4gKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICogY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWl2YWxlbnQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKiB2YXIgb3RoZXIgPSB7ICdhJzogMSB9O1xuICpcbiAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoJ2EnLCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uZXEoTmFOLCBOYU4pO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBvdGhlciB8fCAodmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcik7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gaXNPYmplY3QodmFsdWUpID8gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICogYW5kIGB1bmRlZmluZWRgIHZhbHVlcy4gVGhlIHNpZ24gb2YgYC0wYCBpcyBwcmVzZXJ2ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gKiBpdCdzIGNyZWF0ZWQuIEFycmF5cyBhcmUgY3JlYXRlZCBmb3IgbWlzc2luZyBpbmRleCBwcm9wZXJ0aWVzIHdoaWxlIG9iamVjdHNcbiAqIGFyZSBjcmVhdGVkIGZvciBhbGwgb3RoZXIgbWlzc2luZyBwcm9wZXJ0aWVzLiBVc2UgYF8uc2V0V2l0aGAgdG8gY3VzdG9taXplXG4gKiBgcGF0aGAgY3JlYXRpb24uXG4gKlxuICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjcuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICpcbiAqIF8uc2V0KG9iamVjdCwgJ2FbMF0uYi5jJywgNCk7XG4gKiBjb25zb2xlLmxvZyhvYmplY3QuYVswXS5iLmMpO1xuICogLy8gPT4gNFxuICpcbiAqIF8uc2V0KG9iamVjdCwgWyd4JywgJzAnLCAneScsICd6J10sIDUpO1xuICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAqIC8vID0+IDVcbiAqL1xuZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXQ7XG4iLCIvLyEgbW9tZW50LmpzXG5cbjsoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoZmFjdG9yeSkgOlxuICAgIGdsb2JhbC5tb21lbnQgPSBmYWN0b3J5KClcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGhvb2tDYWxsYmFjaztcblxuICAgIGZ1bmN0aW9uIGhvb2tzICgpIHtcbiAgICAgICAgcmV0dXJuIGhvb2tDYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgaXMgZG9uZSB0byByZWdpc3RlciB0aGUgbWV0aG9kIGNhbGxlZCB3aXRoIG1vbWVudCgpXG4gICAgLy8gd2l0aG91dCBjcmVhdGluZyBjaXJjdWxhciBkZXBlbmRlbmNpZXMuXG4gICAgZnVuY3Rpb24gc2V0SG9va0NhbGxiYWNrIChjYWxsYmFjaykge1xuICAgICAgICBob29rQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0FycmF5KGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIEFycmF5IHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICAgICAgLy8gSUU4IHdpbGwgdHJlYXQgdW5kZWZpbmVkIGFuZCBudWxsIGFzIG9iamVjdCBpZiBpdCB3YXNuJ3QgZm9yXG4gICAgICAgIC8vIGlucHV0ICE9IG51bGxcbiAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikubGVuZ3RoID09PSAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBrO1xuICAgICAgICAgICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09PSB2b2lkIDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNOdW1iZXIoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ251bWJlcicgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG4gICAgICAgIHZhciByZXMgPSBbXSwgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgICAgICBmb3IgKHZhciBpIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuICAgICAgICAgICAgdW51c2VkSW5wdXQgICAgIDogW10sXG4gICAgICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcbiAgICAgICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG4gICAgICAgICAgICBudWxsSW5wdXQgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG4gICAgICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZXJJbnZhbGlkYXRlZCA6IGZhbHNlLFxuICAgICAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBwYXJzZWREYXRlUGFydHMgOiBbXSxcbiAgICAgICAgICAgIG1lcmlkaWVtICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICByZmMyODIyICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHdlZWtkYXlNaXNtYXRjaCA6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2luZ0ZsYWdzKG0pIHtcbiAgICAgICAgaWYgKG0uX3BmID09IG51bGwpIHtcbiAgICAgICAgICAgIG0uX3BmID0gZGVmYXVsdFBhcnNpbmdGbGFncygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtLl9wZjtcbiAgICB9XG5cbiAgICB2YXIgc29tZTtcbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLnNvbWUpIHtcbiAgICAgICAgc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNvbWUgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgICAgICAgICB2YXIgdCA9IE9iamVjdCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0Lmxlbmd0aCA+Pj4gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpIGluIHQgJiYgZnVuLmNhbGwodGhpcywgdFtpXSwgaSwgdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNWYWxpZChtKSB7XG4gICAgICAgIGlmIChtLl9pc1ZhbGlkID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBmbGFncyA9IGdldFBhcnNpbmdGbGFncyhtKTtcbiAgICAgICAgICAgIHZhciBwYXJzZWRQYXJ0cyA9IHNvbWUuY2FsbChmbGFncy5wYXJzZWREYXRlUGFydHMsIGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgIT0gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGlzTm93VmFsaWQgPSAhaXNOYU4obS5fZC5nZXRUaW1lKCkpICYmXG4gICAgICAgICAgICAgICAgZmxhZ3Mub3ZlcmZsb3cgPCAwICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmVtcHR5ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRNb250aCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkV2Vla2RheSAmJlxuICAgICAgICAgICAgICAgICFmbGFncy53ZWVrZGF5TWlzbWF0Y2ggJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MubnVsbElucHV0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRGb3JtYXQgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MudXNlckludmFsaWRhdGVkICYmXG4gICAgICAgICAgICAgICAgKCFmbGFncy5tZXJpZGllbSB8fCAoZmxhZ3MubWVyaWRpZW0gJiYgcGFyc2VkUGFydHMpKTtcblxuICAgICAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgICAgIGlzTm93VmFsaWQgPSBpc05vd1ZhbGlkICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5iaWdIb3VyID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4gPT0gbnVsbCB8fCAhT2JqZWN0LmlzRnJvemVuKG0pKSB7XG4gICAgICAgICAgICAgICAgbS5faXNWYWxpZCA9IGlzTm93VmFsaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNOb3dWYWxpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbS5faXNWYWxpZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkIChmbGFncykge1xuICAgICAgICB2YXIgbSA9IGNyZWF0ZVVUQyhOYU4pO1xuICAgICAgICBpZiAoZmxhZ3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgZXh0ZW5kKGdldFBhcnNpbmdGbGFncyhtKSwgZmxhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLnVzZXJJbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG5cbiAgICAvLyBQbHVnaW5zIHRoYXQgYWRkIHByb3BlcnRpZXMgc2hvdWxkIGFsc28gYWRkIHRoZSBrZXkgaGVyZSAobnVsbCB2YWx1ZSksXG4gICAgLy8gc28gd2UgY2FuIHByb3Blcmx5IGNsb25lIG91cnNlbHZlcy5cbiAgICB2YXIgbW9tZW50UHJvcGVydGllcyA9IGhvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNvcHlDb25maWcodG8sIGZyb20pIHtcbiAgICAgICAgdmFyIGksIHByb3AsIHZhbDtcblxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzQU1vbWVudE9iamVjdCkpIHtcbiAgICAgICAgICAgIHRvLl9pc0FNb21lbnRPYmplY3QgPSBmcm9tLl9pc0FNb21lbnRPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9pKSkge1xuICAgICAgICAgICAgdG8uX2kgPSBmcm9tLl9pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fZikpIHtcbiAgICAgICAgICAgIHRvLl9mID0gZnJvbS5fZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2wpKSB7XG4gICAgICAgICAgICB0by5fbCA9IGZyb20uX2w7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9zdHJpY3QpKSB7XG4gICAgICAgICAgICB0by5fc3RyaWN0ID0gZnJvbS5fc3RyaWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fdHptKSkge1xuICAgICAgICAgICAgdG8uX3R6bSA9IGZyb20uX3R6bTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKGZyb20uX2lzVVRDKSkge1xuICAgICAgICAgICAgdG8uX2lzVVRDID0gZnJvbS5faXNVVEM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9vZmZzZXQpKSB7XG4gICAgICAgICAgICB0by5fb2Zmc2V0ID0gZnJvbS5fb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWQoZnJvbS5fcGYpKSB7XG4gICAgICAgICAgICB0by5fcGYgPSBnZXRQYXJzaW5nRmxhZ3MoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZChmcm9tLl9sb2NhbGUpKSB7XG4gICAgICAgICAgICB0by5fbG9jYWxlID0gZnJvbS5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1vbWVudFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICghaXNVbmRlZmluZWQodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgIC8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG4gICAgZnVuY3Rpb24gTW9tZW50KGNvbmZpZykge1xuICAgICAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3AgaW4gY2FzZSB1cGRhdGVPZmZzZXQgY3JlYXRlcyBuZXcgbW9tZW50XG4gICAgICAgIC8vIG9iamVjdHMuXG4gICAgICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICBob29rcy51cGRhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB1cGRhdGVJblByb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc01vbWVudCAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBNb21lbnQgfHwgKG9iaiAhPSBudWxsICYmIG9iai5faXNBTW9tZW50T2JqZWN0ICE9IG51bGwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0Zsb29yIChudW1iZXIpIHtcbiAgICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgICAgIC8vIC0wIC0+IDBcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKSB8fCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvSW50KGFyZ3VtZW50Rm9yQ29lcmNpb24pIHtcbiAgICAgICAgdmFyIGNvZXJjZWROdW1iZXIgPSArYXJndW1lbnRGb3JDb2VyY2lvbixcbiAgICAgICAgICAgIHZhbHVlID0gMDtcblxuICAgICAgICBpZiAoY29lcmNlZE51bWJlciAhPT0gMCAmJiBpc0Zpbml0ZShjb2VyY2VkTnVtYmVyKSkge1xuICAgICAgICAgICAgdmFsdWUgPSBhYnNGbG9vcihjb2VyY2VkTnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvLyBjb21wYXJlIHR3byBhcnJheXMsIHJldHVybiB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzXG4gICAgZnVuY3Rpb24gY29tcGFyZUFycmF5cyhhcnJheTEsIGFycmF5MiwgZG9udENvbnZlcnQpIHtcbiAgICAgICAgdmFyIGxlbiA9IE1hdGgubWluKGFycmF5MS5sZW5ndGgsIGFycmF5Mi5sZW5ndGgpLFxuICAgICAgICAgICAgbGVuZ3RoRGlmZiA9IE1hdGguYWJzKGFycmF5MS5sZW5ndGggLSBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGRpZmZzID0gMCxcbiAgICAgICAgICAgIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgaWYgKChkb250Q29udmVydCAmJiBhcnJheTFbaV0gIT09IGFycmF5MltpXSkgfHxcbiAgICAgICAgICAgICAgICAoIWRvbnRDb252ZXJ0ICYmIHRvSW50KGFycmF5MVtpXSkgIT09IHRvSW50KGFycmF5MltpXSkpKSB7XG4gICAgICAgICAgICAgICAgZGlmZnMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGlmZnMgKyBsZW5ndGhEaWZmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgICAgIGlmIChob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPT09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgKHR5cGVvZiBjb25zb2xlICE9PSAgJ3VuZGVmaW5lZCcpICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGhvb2tzLmRlcHJlY2F0aW9uSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG51bGwsIG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYXJnO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFyZ3VtZW50c1tpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyArPSAnXFxuWycgKyBpICsgJ10gJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmcgKz0ga2V5ICsgJzogJyArIGFyZ3VtZW50c1swXVtrZXldICsgJywgJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy5zbGljZSgwLCAtMik7IC8vIFJlbW92ZSB0cmFpbGluZyBjb21tYSBhbmQgc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2Fybihtc2cgKyAnXFxuQXJndW1lbnRzOiAnICsgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncykuam9pbignJykgKyAnXFxuJyArIChuZXcgRXJyb3IoKSkuc3RhY2spO1xuICAgICAgICAgICAgICAgIGZpcnN0VGltZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0sIGZuKTtcbiAgICB9XG5cbiAgICB2YXIgZGVwcmVjYXRpb25zID0ge307XG5cbiAgICBmdW5jdGlvbiBkZXByZWNhdGVTaW1wbGUobmFtZSwgbXNnKSB7XG4gICAgICAgIGlmIChob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgaG9va3MuZGVwcmVjYXRpb25IYW5kbGVyKG5hbWUsIG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZXByZWNhdGlvbnNbbmFtZV0pIHtcbiAgICAgICAgICAgIHdhcm4obXNnKTtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcbiAgICBob29rcy5kZXByZWNhdGlvbkhhbmRsZXIgPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gaXNGdW5jdGlvbihpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgaW5zdGFuY2VvZiBGdW5jdGlvbiB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldCAoY29uZmlnKSB7XG4gICAgICAgIHZhciBwcm9wLCBpO1xuICAgICAgICBmb3IgKGkgaW4gY29uZmlnKSB7XG4gICAgICAgICAgICBwcm9wID0gY29uZmlnW2ldO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvcCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW2ldID0gcHJvcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc1snXycgKyBpXSA9IHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAgICAgLy8gbnVtYmVyICsgKHBvc3NpYmx5KSBzdHVmZiBjb21pbmcgZnJvbSBfZGF5T2ZNb250aE9yZGluYWxQYXJzZS5cbiAgICAgICAgLy8gVE9ETzogUmVtb3ZlIFwib3JkaW5hbFBhcnNlXCIgZmFsbGJhY2sgaW4gbmV4dCBtYWpvciByZWxlYXNlLlxuICAgICAgICB0aGlzLl9kYXlPZk1vbnRoT3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAodGhpcy5fZGF5T2ZNb250aE9yZGluYWxQYXJzZS5zb3VyY2UgfHwgdGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSkgK1xuICAgICAgICAgICAgICAgICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNoaWxkQ29uZmlnKSB7XG4gICAgICAgIHZhciByZXMgPSBleHRlbmQoe30sIHBhcmVudENvbmZpZyksIHByb3A7XG4gICAgICAgIGZvciAocHJvcCBpbiBjaGlsZENvbmZpZykge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkgJiYgaXNPYmplY3QoY2hpbGRDb25maWdbcHJvcF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBwYXJlbnRDb25maWdbcHJvcF0pO1xuICAgICAgICAgICAgICAgICAgICBleHRlbmQocmVzW3Byb3BdLCBjaGlsZENvbmZpZ1twcm9wXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGlsZENvbmZpZ1twcm9wXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1twcm9wXSA9IGNoaWxkQ29uZmlnW3Byb3BdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNbcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAocHJvcCBpbiBwYXJlbnRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKHBhcmVudENvbmZpZywgcHJvcCkgJiZcbiAgICAgICAgICAgICAgICAgICAgIWhhc093blByb3AoY2hpbGRDb25maWcsIHByb3ApICYmXG4gICAgICAgICAgICAgICAgICAgIGlzT2JqZWN0KHBhcmVudENvbmZpZ1twcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgY2hhbmdlcyB0byBwcm9wZXJ0aWVzIGRvbid0IG1vZGlmeSBwYXJlbnQgY29uZmlnXG4gICAgICAgICAgICAgICAgcmVzW3Byb3BdID0gZXh0ZW5kKHt9LCByZXNbcHJvcF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTG9jYWxlKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5cztcblxuICAgIGlmIChPYmplY3Qua2V5cykge1xuICAgICAgICBrZXlzID0gT2JqZWN0LmtleXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAga2V5cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHZhciBpLCByZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcChvYmosIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRDYWxlbmRhciA9IHtcbiAgICAgICAgc2FtZURheSA6ICdbVG9kYXkgYXRdIExUJyxcbiAgICAgICAgbmV4dERheSA6ICdbVG9tb3Jyb3cgYXRdIExUJyxcbiAgICAgICAgbmV4dFdlZWsgOiAnZGRkZCBbYXRdIExUJyxcbiAgICAgICAgbGFzdERheSA6ICdbWWVzdGVyZGF5IGF0XSBMVCcsXG4gICAgICAgIGxhc3RXZWVrIDogJ1tMYXN0XSBkZGRkIFthdF0gTFQnLFxuICAgICAgICBzYW1lRWxzZSA6ICdMJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxlbmRhciAoa2V5LCBtb20sIG5vdykge1xuICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5fY2FsZW5kYXJba2V5XSB8fCB0aGlzLl9jYWxlbmRhclsnc2FtZUVsc2UnXTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob3V0cHV0KSA/IG91dHB1dC5jYWxsKG1vbSwgbm93KSA6IG91dHB1dDtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvbmdEYXRlRm9ybWF0ID0ge1xuICAgICAgICBMVFMgIDogJ2g6bW06c3MgQScsXG4gICAgICAgIExUICAgOiAnaDptbSBBJyxcbiAgICAgICAgTCAgICA6ICdNTS9ERC9ZWVlZJyxcbiAgICAgICAgTEwgICA6ICdNTU1NIEQsIFlZWVknLFxuICAgICAgICBMTEwgIDogJ01NTU0gRCwgWVlZWSBoOm1tIEEnLFxuICAgICAgICBMTExMIDogJ2RkZGQsIE1NTU0gRCwgWVlZWSBoOm1tIEEnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvbmdEYXRlRm9ybWF0IChrZXkpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0sXG4gICAgICAgICAgICBmb3JtYXRVcHBlciA9IHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleS50b1VwcGVyQ2FzZSgpXTtcblxuICAgICAgICBpZiAoZm9ybWF0IHx8ICFmb3JtYXRVcHBlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV0gPSBmb3JtYXRVcHBlci5yZXBsYWNlKC9NTU1NfE1NfEREfGRkZGQvZywgZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbC5zbGljZSgxKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvbmdEYXRlRm9ybWF0W2tleV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRJbnZhbGlkRGF0ZSA9ICdJbnZhbGlkIGRhdGUnO1xuXG4gICAgZnVuY3Rpb24gaW52YWxpZERhdGUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW52YWxpZERhdGU7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRPcmRpbmFsID0gJyVkJztcbiAgICB2YXIgZGVmYXVsdERheU9mTW9udGhPcmRpbmFsUGFyc2UgPSAvXFxkezEsMn0vO1xuXG4gICAgZnVuY3Rpb24gb3JkaW5hbCAobnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoJyVkJywgbnVtYmVyKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcbiAgICAgICAgZnV0dXJlIDogJ2luICVzJyxcbiAgICAgICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxuICAgICAgICBzcyA6ICclZCBzZWNvbmRzJyxcbiAgICAgICAgbSAgOiAnYSBtaW51dGUnLFxuICAgICAgICBtbSA6ICclZCBtaW51dGVzJyxcbiAgICAgICAgaCAgOiAnYW4gaG91cicsXG4gICAgICAgIGhoIDogJyVkIGhvdXJzJyxcbiAgICAgICAgZCAgOiAnYSBkYXknLFxuICAgICAgICBkZCA6ICclZCBkYXlzJyxcbiAgICAgICAgTSAgOiAnYSBtb250aCcsXG4gICAgICAgIE1NIDogJyVkIG1vbnRocycsXG4gICAgICAgIHkgIDogJ2EgeWVhcicsXG4gICAgICAgIHl5IDogJyVkIHllYXJzJ1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWxhdGl2ZVRpbWUgKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgICAgIHJldHVybiAoaXNGdW5jdGlvbihvdXRwdXQpKSA/XG4gICAgICAgICAgICBvdXRwdXQobnVtYmVyLCB3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKSA6XG4gICAgICAgICAgICBvdXRwdXQucmVwbGFjZSgvJWQvaSwgbnVtYmVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXN0RnV0dXJlIChkaWZmLCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IHRoaXMuX3JlbGF0aXZlVGltZVtkaWZmID4gMCA/ICdmdXR1cmUnIDogJ3Bhc3QnXTtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oZm9ybWF0KSA/IGZvcm1hdChvdXRwdXQpIDogZm9ybWF0LnJlcGxhY2UoLyVzL2ksIG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIGFsaWFzZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG4gICAgICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuICAgICAgICAgICAgcHJvcDtcblxuICAgICAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xuICAgIH1cblxuICAgIHZhciBwcmlvcml0aWVzID0ge307XG5cbiAgICBmdW5jdGlvbiBhZGRVbml0UHJpb3JpdHkodW5pdCwgcHJpb3JpdHkpIHtcbiAgICAgICAgcHJpb3JpdGllc1t1bml0XSA9IHByaW9yaXR5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFByaW9yaXRpemVkVW5pdHModW5pdHNPYmopIHtcbiAgICAgICAgdmFyIHVuaXRzID0gW107XG4gICAgICAgIGZvciAodmFyIHUgaW4gdW5pdHNPYmopIHtcbiAgICAgICAgICAgIHVuaXRzLnB1c2goe3VuaXQ6IHUsIHByaW9yaXR5OiBwcmlvcml0aWVzW3VdfSk7XG4gICAgICAgIH1cbiAgICAgICAgdW5pdHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEucHJpb3JpdHkgLSBiLnByaW9yaXR5O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVuaXRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHplcm9GaWxsKG51bWJlciwgdGFyZ2V0TGVuZ3RoLCBmb3JjZVNpZ24pIHtcbiAgICAgICAgdmFyIGFic051bWJlciA9ICcnICsgTWF0aC5hYnMobnVtYmVyKSxcbiAgICAgICAgICAgIHplcm9zVG9GaWxsID0gdGFyZ2V0TGVuZ3RoIC0gYWJzTnVtYmVyLmxlbmd0aCxcbiAgICAgICAgICAgIHNpZ24gPSBudW1iZXIgPj0gMDtcbiAgICAgICAgcmV0dXJuIChzaWduID8gKGZvcmNlU2lnbiA/ICcrJyA6ICcnKSA6ICctJykgK1xuICAgICAgICAgICAgTWF0aC5wb3coMTAsIE1hdGgubWF4KDAsIHplcm9zVG9GaWxsKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkgKyBhYnNOdW1iZXI7XG4gICAgfVxuXG4gICAgdmFyIGZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oW0hoXW1tKHNzKT98TW98TU0/TT9NP3xEb3xERERvfEREP0Q/RD98ZGRkP2Q/fGRvP3x3W298d10/fFdbb3xXXT98UW8/fFlZWVlZWXxZWVlZWXxZWVlZfFlZfGdnKGdnZz8pP3xHRyhHR0c/KT98ZXxFfGF8QXxoaD98SEg/fGtrP3xtbT98c3M/fFN7MSw5fXx4fFh8eno/fFpaP3wuKS9nO1xuXG4gICAgdmFyIGxvY2FsRm9ybWF0dGluZ1Rva2VucyA9IC8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVFN8TFR8TEw/TD9MP3xsezEsNH0pL2c7XG5cbiAgICB2YXIgZm9ybWF0RnVuY3Rpb25zID0ge307XG5cbiAgICB2YXIgZm9ybWF0VG9rZW5GdW5jdGlvbnMgPSB7fTtcblxuICAgIC8vIHRva2VuOiAgICAnTSdcbiAgICAvLyBwYWRkZWQ6ICAgWydNTScsIDJdXG4gICAgLy8gb3JkaW5hbDogICdNbydcbiAgICAvLyBjYWxsYmFjazogZnVuY3Rpb24gKCkgeyB0aGlzLm1vbnRoKCkgKyAxIH1cbiAgICBmdW5jdGlvbiBhZGRGb3JtYXRUb2tlbiAodG9rZW4sIHBhZGRlZCwgb3JkaW5hbCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBjYWxsYmFjaztcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbY2FsbGJhY2tdKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFkZGVkKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1twYWRkZWRbMF1dID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB6ZXJvRmlsbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHBhZGRlZFsxXSwgcGFkZGVkWzJdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yZGluYWwpIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW29yZGluYWxdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5vcmRpbmFsKGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgdG9rZW4pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0Lm1hdGNoKC9cXFtbXFxzXFxTXS8pKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXlxcW3xcXF0kL2csICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvXFxcXC9nLCAnJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCkge1xuICAgICAgICB2YXIgYXJyYXkgPSBmb3JtYXQubWF0Y2goZm9ybWF0dGluZ1Rva2VucyksIGksIGxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXSkge1xuICAgICAgICAgICAgICAgIGFycmF5W2ldID0gZm9ybWF0VG9rZW5GdW5jdGlvbnNbYXJyYXlbaV1dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IHJlbW92ZUZvcm1hdHRpbmdUb2tlbnMoYXJyYXlbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChtb20pIHtcbiAgICAgICAgICAgIHZhciBvdXRwdXQgPSAnJywgaTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSBpc0Z1bmN0aW9uKGFycmF5W2ldKSA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuICAgIGZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgICAgICB2YXIgaSA9IDU7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxuICAgIHZhciBtYXRjaDIgICAgICAgICA9IC9cXGRcXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG4gICAgdmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbiAgICB2YXIgbWF0Y2g2ICAgICAgICAgPSAvWystXT9cXGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgdmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxuICAgIHZhciBtYXRjaDN0bzQgICAgICA9IC9cXGRcXGRcXGRcXGQ/LzsgICAgIC8vICAgICA5OTkgLSA5OTk5XG4gICAgdmFyIG1hdGNoNXRvNiAgICAgID0gL1xcZFxcZFxcZFxcZFxcZFxcZD8vOyAvLyAgIDk5OTk5IC0gOTk5OTk5XG4gICAgdmFyIG1hdGNoMXRvMyAgICAgID0gL1xcZHsxLDN9LzsgICAgICAgLy8gICAgICAgMCAtIDk5OVxuICAgIHZhciBtYXRjaDF0bzQgICAgICA9IC9cXGR7MSw0fS87ICAgICAgIC8vICAgICAgIDAgLSA5OTk5XG4gICAgdmFyIG1hdGNoMXRvNiAgICAgID0gL1srLV0/XFxkezEsNn0vOyAgLy8gLTk5OTk5OSAtIDk5OTk5OVxuXG4gICAgdmFyIG1hdGNoVW5zaWduZWQgID0gL1xcZCsvOyAgICAgICAgICAgLy8gICAgICAgMCAtIGluZlxuICAgIHZhciBtYXRjaFNpZ25lZCAgICA9IC9bKy1dP1xcZCsvOyAgICAgIC8vICAgIC1pbmYgLSBpbmZcblxuICAgIHZhciBtYXRjaE9mZnNldCAgICA9IC9afFsrLV1cXGRcXGQ6P1xcZFxcZC9naTsgLy8gKzAwOjAwIC0wMDowMCArMDAwMCAtMDAwMCBvciBaXG4gICAgdmFyIG1hdGNoU2hvcnRPZmZzZXQgPSAvWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naTsgLy8gKzAwIC0wMCArMDA6MDAgLTAwOjAwICswMDAwIC0wMDAwIG9yIFpcblxuICAgIHZhciBtYXRjaFRpbWVzdGFtcCA9IC9bKy1dP1xcZCsoXFwuXFxkezEsM30pPy87IC8vIDEyMzQ1Njc4OSAxMjM0NTY3ODkuMTIzXG5cbiAgICAvLyBhbnkgd29yZCAob3IgdHdvKSBjaGFyYWN0ZXJzIG9yIG51bWJlcnMgaW5jbHVkaW5nIHR3by90aHJlZSB3b3JkIG1vbnRoIGluIGFyYWJpYy5cbiAgICAvLyBpbmNsdWRlcyBzY290dGlzaCBnYWVsaWMgdHdvIHdvcmQgYW5kIGh5cGhlbmF0ZWQgbW9udGhzXG4gICAgdmFyIG1hdGNoV29yZCA9IC9bMC05XXswLDI1Nn1bJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkYwN1xcdUZGMTAtXFx1RkZFRl17MSwyNTZ9fFtcXHUwNjAwLVxcdTA2RkZcXC9dezEsMjU2fShcXHMqP1tcXHUwNjAwLVxcdTA2RkZdezEsMjU2fSl7MSwyfS9pO1xuXG4gICAgdmFyIHJlZ2V4ZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFJlZ2V4VG9rZW4gKHRva2VuLCByZWdleCwgc3RyaWN0UmVnZXgpIHtcbiAgICAgICAgcmVnZXhlc1t0b2tlbl0gPSBpc0Z1bmN0aW9uKHJlZ2V4KSA/IHJlZ2V4IDogZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGVEYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gKGlzU3RyaWN0ICYmIHN0cmljdFJlZ2V4KSA/IHN0cmljdFJlZ2V4IDogcmVnZXg7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGFyc2VSZWdleEZvclRva2VuICh0b2tlbiwgY29uZmlnKSB7XG4gICAgICAgIGlmICghaGFzT3duUHJvcChyZWdleGVzLCB0b2tlbikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHVuZXNjYXBlRm9ybWF0KHRva2VuKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVnZXhlc1t0b2tlbl0oY29uZmlnLl9zdHJpY3QsIGNvbmZpZy5fbG9jYWxlKTtcbiAgICB9XG5cbiAgICAvLyBDb2RlIGZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNTYxNDkzL2lzLXRoZXJlLWEtcmVnZXhwLWVzY2FwZS1mdW5jdGlvbi1pbi1qYXZhc2NyaXB0XG4gICAgZnVuY3Rpb24gdW5lc2NhcGVGb3JtYXQocykge1xuICAgICAgICByZXR1cm4gcmVnZXhFc2NhcGUocy5yZXBsYWNlKCdcXFxcJywgJycpLnJlcGxhY2UoL1xcXFwoXFxbKXxcXFxcKFxcXSl8XFxbKFteXFxdXFxbXSopXFxdfFxcXFwoLikvZywgZnVuY3Rpb24gKG1hdGNoZWQsIHAxLCBwMiwgcDMsIHA0KSB7XG4gICAgICAgICAgICByZXR1cm4gcDEgfHwgcDIgfHwgcDMgfHwgcDQ7XG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWdleEVzY2FwZShzKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuICAgIH1cblxuICAgIHZhciB0b2tlbnMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFBhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgaSwgZnVuYyA9IGNhbGxiYWNrO1xuICAgICAgICBpZiAodHlwZW9mIHRva2VuID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdG9rZW4gPSBbdG9rZW5dO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc051bWJlcihjYWxsYmFjaykpIHtcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG4gICAgICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBZRUFSID0gMDtcbiAgICB2YXIgTU9OVEggPSAxO1xuICAgIHZhciBEQVRFID0gMjtcbiAgICB2YXIgSE9VUiA9IDM7XG4gICAgdmFyIE1JTlVURSA9IDQ7XG4gICAgdmFyIFNFQ09ORCA9IDU7XG4gICAgdmFyIE1JTExJU0VDT05EID0gNjtcbiAgICB2YXIgV0VFSyA9IDc7XG4gICAgdmFyIFdFRUtEQVkgPSA4O1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1knLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB5ID0gdGhpcy55ZWFyKCk7XG4gICAgICAgIHJldHVybiB5IDw9IDk5OTkgPyAnJyArIHkgOiAnKycgKyB5O1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWScsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnllYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWScsICAgNF0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWScsICA1XSwgICAgICAgMCwgJ3llYXInKTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVlZWScsIDYsIHRydWVdLCAwLCAneWVhcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCd5ZWFyJywgJ3knKTtcblxuICAgIC8vIFBSSU9SSVRJRVNcblxuICAgIGFkZFVuaXRQcmlvcml0eSgneWVhcicsIDEpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignWScsICAgICAgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWVknLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVlZWScsIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydZWVlZWScsICdZWVlZWVknXSwgWUVBUik7XG4gICAgYWRkUGFyc2VUb2tlbignWVlZWScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbWUVBUl0gPSBpbnB1dC5sZW5ndGggPT09IDIgPyBob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gaG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1knLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIGZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xuICAgIH1cblxuICAgIC8vIEhPT0tTXG5cbiAgICBob29rcy5wYXJzZVR3b0RpZ2l0WWVhciA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gdG9JbnQoaW5wdXQpICsgKHRvSW50KGlucHV0KSA+IDY4ID8gMTkwMCA6IDIwMDApO1xuICAgIH07XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0WWVhciA9IG1ha2VHZXRTZXQoJ0Z1bGxZZWFyJywgdHJ1ZSk7XG5cbiAgICBmdW5jdGlvbiBnZXRJc0xlYXBZZWFyICgpIHtcbiAgICAgICAgcmV0dXJuIGlzTGVhcFllYXIodGhpcy55ZWFyKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0JDEodGhpcywgdW5pdCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCBrZWVwVGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXQodGhpcywgdW5pdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0IChtb20sIHVuaXQpIHtcbiAgICAgICAgcmV0dXJuIG1vbS5pc1ZhbGlkKCkgP1xuICAgICAgICAgICAgbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKCkgOiBOYU47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0JDEgKG1vbSwgdW5pdCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKG1vbS5pc1ZhbGlkKCkgJiYgIWlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgaWYgKHVuaXQgPT09ICdGdWxsWWVhcicgJiYgaXNMZWFwWWVhcihtb20ueWVhcigpKSAmJiBtb20ubW9udGgoKSA9PT0gMSAmJiBtb20uZGF0ZSgpID09PSAyOSkge1xuICAgICAgICAgICAgICAgIG1vbS5fZFsnc2V0JyArIChtb20uX2lzVVRDID8gJ1VUQycgOiAnJykgKyB1bml0XSh2YWx1ZSwgbW9tLm1vbnRoKCksIGRheXNJbk1vbnRoKHZhbHVlLCBtb20ubW9udGgoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIHN0cmluZ0dldCAodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXNbdW5pdHNdKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBzdHJpbmdTZXQgKHVuaXRzLCB2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVPYmplY3RVbml0cyh1bml0cyk7XG4gICAgICAgICAgICB2YXIgcHJpb3JpdGl6ZWQgPSBnZXRQcmlvcml0aXplZFVuaXRzKHVuaXRzKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJpb3JpdGl6ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzW3ByaW9yaXRpemVkW2ldLnVuaXRdKHVuaXRzW3ByaW9yaXRpemVkW2ldLnVuaXRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpc1t1bml0c10pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb2QobiwgeCkge1xuICAgICAgICByZXR1cm4gKChuICUgeCkgKyB4KSAlIHg7XG4gICAgfVxuXG4gICAgdmFyIGluZGV4T2Y7XG5cbiAgICBpZiAoQXJyYXkucHJvdG90eXBlLmluZGV4T2YpIHtcbiAgICAgICAgaW5kZXhPZiA9IEFycmF5LnByb3RvdHlwZS5pbmRleE9mO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4T2YgPSBmdW5jdGlvbiAobykge1xuICAgICAgICAgICAgLy8gSSBrbm93XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IG8pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIGlmIChpc05hTih5ZWFyKSB8fCBpc05hTihtb250aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1vZE1vbnRoID0gbW9kKG1vbnRoLCAxMik7XG4gICAgICAgIHllYXIgKz0gKG1vbnRoIC0gbW9kTW9udGgpIC8gMTI7XG4gICAgICAgIHJldHVybiBtb2RNb250aCA9PT0gMSA/IChpc0xlYXBZZWFyKHllYXIpID8gMjkgOiAyOCkgOiAoMzEgLSBtb2RNb250aCAlIDcgJSAyKTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignTScsIFsnTU0nLCAyXSwgJ01vJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb250aCgpICsgMTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHNTaG9ydCh0aGlzLCBmb3JtYXQpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ01NTU0nLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnbW9udGgnLCAnTScpO1xuXG4gICAgLy8gUFJJT1JJVFlcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnbW9udGgnLCA4KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NJywgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzU2hvcnRSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NTScsIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUubW9udGhzUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ00nLCAnTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSB0b0ludChpbnB1dCkgLSAxO1xuICAgIH0pO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ01NTScsICdNTU1NJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgdmFyIG1vbnRoID0gY29uZmlnLl9sb2NhbGUubW9udGhzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBmaW5kIGEgbW9udGggbmFtZSwgbWFyayB0aGUgZGF0ZSBhcyBpbnZhbGlkLlxuICAgICAgICBpZiAobW9udGggIT0gbnVsbCkge1xuICAgICAgICAgICAgYXJyYXlbTU9OVEhdID0gbW9udGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5pbnZhbGlkTW9udGggPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgdmFyIE1PTlRIU19JTl9GT1JNQVQgPSAvRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKStNTU1NPy87XG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHMgPSAnSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlcicuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHMgKG0sIGZvcm1hdCkge1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHMgOlxuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1snc3RhbmRhbG9uZSddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX21vbnRocykgPyB0aGlzLl9tb250aHNbbS5tb250aCgpXSA6XG4gICAgICAgICAgICB0aGlzLl9tb250aHNbKHRoaXMuX21vbnRocy5pc0Zvcm1hdCB8fCBNT05USFNfSU5fRk9STUFUKS50ZXN0KGZvcm1hdCkgPyAnZm9ybWF0JyA6ICdzdGFuZGFsb25lJ11bbS5tb250aCgpXTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0ID0gJ0phbl9GZWJfTWFyX0Fwcl9NYXlfSnVuX0p1bF9BdWdfU2VwX09jdF9Ob3ZfRGVjJy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRoc1Nob3J0IChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydCA6XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRbJ3N0YW5kYWxvbmUnXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBcnJheSh0aGlzLl9tb250aHNTaG9ydCkgPyB0aGlzLl9tb250aHNTaG9ydFttLm1vbnRoKCldIDpcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0W01PTlRIU19JTl9GT1JNQVQudGVzdChmb3JtYXQpID8gJ2Zvcm1hdCcgOiAnc3RhbmRhbG9uZSddW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgaWksIG1vbSwgbGxjID0gbW9udGhOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghdGhpcy5fbW9udGhzUGFyc2UpIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHVzZWRcbiAgICAgICAgICAgIHRoaXMuX21vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3Nob3J0TW9udGhzUGFyc2UgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgKytpKSB7XG4gICAgICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2hvcnRNb250aHNQYXJzZVtpXSA9IHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0gPSB0aGlzLm1vbnRocyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ01NTScpIHtcbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVN0cmljdFBhcnNlLmNhbGwodGhpcywgbW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPOiBhZGQgc29ydGluZ1xuICAgICAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyXG4gICAgICAgIC8vIHNlZSBzb3J0aW5nIGluIGNvbXB1dGVNb250aHNQYXJzZVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgICAgICB2YXIgZGF5T2ZNb250aDtcblxuICAgICAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIC8vIE5vIG9wXG4gICAgICAgICAgICByZXR1cm4gbW9tO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICgvXlxcZCskLy50ZXN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdG9JbnQodmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IEFub3RoZXIgc2lsZW50IGZhaWx1cmU/XG4gICAgICAgICAgICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkYXlPZk1vbnRoID0gTWF0aC5taW4obW9tLmRhdGUoKSwgZGF5c0luTW9udGgobW9tLnllYXIoKSwgdmFsdWUpKTtcbiAgICAgICAgbW9tLl9kWydzZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArICdNb250aCddKHZhbHVlLCBkYXlPZk1vbnRoKTtcbiAgICAgICAgcmV0dXJuIG1vbTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRNb250aCAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHNldE1vbnRoKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldCh0aGlzLCAnTW9udGgnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICAgICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TW9udGhzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiBtb250aHNTaG9ydFJlZ2V4IChpc1N0cmljdCkge1xuICAgICAgICBpZiAodGhpcy5fbW9udGhzUGFyc2VFeGFjdCkge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVNb250aHNQYXJzZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzU2hvcnRSZWdleCcpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRSZWdleCA9IGRlZmF1bHRNb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggJiYgaXNTdHJpY3QgP1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXggOiB0aGlzLl9tb250aHNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRNb250aHNSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiBtb250aHNSZWdleCAoaXNTdHJpY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vbnRoc1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX21vbnRoc1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlTW9udGhzUGFyc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1N0cmljdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tb250aHNTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfbW9udGhzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vbnRoc1JlZ2V4ID0gZGVmYXVsdE1vbnRoc1JlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4ICYmIGlzU3RyaWN0ID9cbiAgICAgICAgICAgICAgICB0aGlzLl9tb250aHNTdHJpY3RSZWdleCA6IHRoaXMuX21vbnRoc1JlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29tcHV0ZU1vbnRoc1BhcnNlICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNob3J0UGllY2VzID0gW10sIGxvbmdQaWVjZXMgPSBbXSwgbWl4ZWRQaWVjZXMgPSBbXSxcbiAgICAgICAgICAgIGksIG1vbTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCBpXSk7XG4gICAgICAgICAgICBzaG9ydFBpZWNlcy5wdXNoKHRoaXMubW9udGhzU2hvcnQobW9tLCAnJykpO1xuICAgICAgICAgICAgbG9uZ1BpZWNlcy5wdXNoKHRoaXMubW9udGhzKG1vbSwgJycpKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzLnB1c2godGhpcy5tb250aHMobW9tLCAnJykpO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaCh0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTb3J0aW5nIG1ha2VzIHN1cmUgaWYgb25lIG1vbnRoIChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICAgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgc2hvcnRQaWVjZXNbaV0gPSByZWdleEVzY2FwZShzaG9ydFBpZWNlc1tpXSk7XG4gICAgICAgICAgICBsb25nUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobG9uZ1BpZWNlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbW9udGhzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaXhlZFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX21vbnRoc1Nob3J0UmVnZXggPSB0aGlzLl9tb250aHNSZWdleDtcbiAgICAgICAgdGhpcy5fbW9udGhzU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBsb25nUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIHNob3J0UGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEYXRlICh5LCBtLCBkLCBoLCBNLCBzLCBtcykge1xuICAgICAgICAvLyBjYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzE4MTM0OFxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHksIG0sIGQsIGgsIE0sIHMsIG1zKTtcblxuICAgICAgICAvLyB0aGUgZGF0ZSBjb25zdHJ1Y3RvciByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0RnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlVVRDRGF0ZSAoeSkge1xuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKERhdGUuVVRDLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIC8vIHRoZSBEYXRlLlVUQyBmdW5jdGlvbiByZW1hcHMgeWVhcnMgMC05OSB0byAxOTAwLTE5OTlcbiAgICAgICAgaWYgKHkgPCAxMDAgJiYgeSA+PSAwICYmIGlzRmluaXRlKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSkpIHtcbiAgICAgICAgICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuXG4gICAgLy8gc3RhcnQtb2YtZmlyc3Qtd2VlayAtIHN0YXJ0LW9mLXllYXJcbiAgICBmdW5jdGlvbiBmaXJzdFdlZWtPZmZzZXQoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIC8vIGZpcnN0LXdlZWsgZGF5IC0tIHdoaWNoIGphbnVhcnkgaXMgYWx3YXlzIGluIHRoZSBmaXJzdCB3ZWVrICg0IGZvciBpc28sIDEgZm9yIG90aGVyKVxuICAgICAgICAgICAgZndkID0gNyArIGRvdyAtIGRveSxcbiAgICAgICAgICAgIC8vIGZpcnN0LXdlZWsgZGF5IGxvY2FsIHdlZWtkYXkgLS0gd2hpY2ggbG9jYWwgd2Vla2RheSBpcyBmd2RcbiAgICAgICAgICAgIGZ3ZGx3ID0gKDcgKyBjcmVhdGVVVENEYXRlKHllYXIsIDAsIGZ3ZCkuZ2V0VVRDRGF5KCkgLSBkb3cpICUgNztcblxuICAgICAgICByZXR1cm4gLWZ3ZGx3ICsgZndkIC0gMTtcbiAgICB9XG5cbiAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fd2Vla19kYXRlI0NhbGN1bGF0aW5nX2FfZGF0ZV9naXZlbl90aGVfeWVhci4yQ193ZWVrX251bWJlcl9hbmRfd2Vla2RheVxuICAgIGZ1bmN0aW9uIGRheU9mWWVhckZyb21XZWVrcyh5ZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3csIGRveSkge1xuICAgICAgICB2YXIgbG9jYWxXZWVrZGF5ID0gKDcgKyB3ZWVrZGF5IC0gZG93KSAlIDcsXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0ID0gZmlyc3RXZWVrT2Zmc2V0KHllYXIsIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRheU9mWWVhciA9IDEgKyA3ICogKHdlZWsgLSAxKSArIGxvY2FsV2Vla2RheSArIHdlZWtPZmZzZXQsXG4gICAgICAgICAgICByZXNZZWFyLCByZXNEYXlPZlllYXI7XG5cbiAgICAgICAgaWYgKGRheU9mWWVhciA8PSAwKSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhciAtIDE7XG4gICAgICAgICAgICByZXNEYXlPZlllYXIgPSBkYXlzSW5ZZWFyKHJlc1llYXIpICsgZGF5T2ZZZWFyO1xuICAgICAgICB9IGVsc2UgaWYgKGRheU9mWWVhciA+IGRheXNJblllYXIoeWVhcikpIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSB5ZWFyICsgMTtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhciAtIGRheXNJblllYXIoeWVhcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNZZWFyID0geWVhcjtcbiAgICAgICAgICAgIHJlc0RheU9mWWVhciA9IGRheU9mWWVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyOiByZXNZZWFyLFxuICAgICAgICAgICAgZGF5T2ZZZWFyOiByZXNEYXlPZlllYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrT2ZZZWFyKG1vbSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtPZmZzZXQgPSBmaXJzdFdlZWtPZmZzZXQobW9tLnllYXIoKSwgZG93LCBkb3kpLFxuICAgICAgICAgICAgd2VlayA9IE1hdGguZmxvb3IoKG1vbS5kYXlPZlllYXIoKSAtIHdlZWtPZmZzZXQgLSAxKSAvIDcpICsgMSxcbiAgICAgICAgICAgIHJlc1dlZWssIHJlc1llYXI7XG5cbiAgICAgICAgaWYgKHdlZWsgPCAxKSB7XG4gICAgICAgICAgICByZXNZZWFyID0gbW9tLnllYXIoKSAtIDE7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayArIHdlZWtzSW5ZZWFyKHJlc1llYXIsIGRvdywgZG95KTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZWVrID4gd2Vla3NJblllYXIobW9tLnllYXIoKSwgZG93LCBkb3kpKSB7XG4gICAgICAgICAgICByZXNXZWVrID0gd2VlayAtIHdlZWtzSW5ZZWFyKG1vbS55ZWFyKCksIGRvdywgZG95KTtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc1llYXIgPSBtb20ueWVhcigpO1xuICAgICAgICAgICAgcmVzV2VlayA9IHdlZWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2VlazogcmVzV2VlayxcbiAgICAgICAgICAgIHllYXI6IHJlc1llYXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3ZWVrc0luWWVhcih5ZWFyLCBkb3csIGRveSkge1xuICAgICAgICB2YXIgd2Vla09mZnNldCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyLCBkb3csIGRveSksXG4gICAgICAgICAgICB3ZWVrT2Zmc2V0TmV4dCA9IGZpcnN0V2Vla09mZnNldCh5ZWFyICsgMSwgZG93LCBkb3kpO1xuICAgICAgICByZXR1cm4gKGRheXNJblllYXIoeWVhcikgLSB3ZWVrT2Zmc2V0ICsgd2Vla09mZnNldE5leHQpIC8gNztcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigndycsIFsnd3cnLCAyXSwgJ3dvJywgJ3dlZWsnKTtcbiAgICBhZGRGb3JtYXRUb2tlbignVycsIFsnV1cnLCAyXSwgJ1dvJywgJ2lzb1dlZWsnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2VlaycsICd3Jyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrJywgJ1cnKTtcblxuICAgIC8vIFBSSU9SSVRJRVNcblxuICAgIGFkZFVuaXRQcmlvcml0eSgnd2VlaycsIDUpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2VlaycsIDUpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigndycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ3d3JywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1cnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdXVycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsndycsICd3dycsICdXJywgJ1dXJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAxKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrIChtb20pIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobW9tLCB0aGlzLl93ZWVrLmRvdywgdGhpcy5fd2Vlay5kb3kpLndlZWs7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrID0ge1xuICAgICAgICBkb3cgOiAwLCAvLyBTdW5kYXkgaXMgdGhlIGZpcnN0IGRheSBvZiB0aGUgd2Vlay5cbiAgICAgICAgZG95IDogNiAgLy8gVGhlIHdlZWsgdGhhdCBjb250YWlucyBKYW4gMXN0IGlzIHRoZSBmaXJzdCB3ZWVrIG9mIHRoZSB5ZWFyLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mV2VlayAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVGaXJzdERheU9mWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrLmRveTtcbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHRoaXMubG9jYWxlRGF0YSgpLndlZWsodGhpcyk7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09XZWVrIChpbnB1dCkge1xuICAgICAgICB2YXIgd2VlayA9IHdlZWtPZlllYXIodGhpcywgMSwgNCkud2VlaztcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB3ZWVrIDogdGhpcy5hZGQoKGlucHV0IC0gd2VlaykgKiA3LCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuICAgIGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXknLCAxMSk7XG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrZGF5JywgMTEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla2RheScsIDExKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLndlZWtkYXlzTWluUmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZCcsICAgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1Nob3J0UmVnZXgoaXNTdHJpY3QpO1xuICAgIH0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCAgIGZ1bmN0aW9uIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXNSZWdleChpc1N0cmljdCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2RkJywgJ2RkZCcsICdkZGRkJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQsIHRva2VuLCBjb25maWcuX3N0cmljdCk7XG4gICAgICAgIC8vIGlmIHdlIGRpZG4ndCBnZXQgYSB3ZWVrZGF5IG5hbWUsIG1hcmsgdGhlIGRhdGUgYXMgaW52YWxpZFxuICAgICAgICBpZiAod2Vla2RheSAhPSBudWxsKSB7XG4gICAgICAgICAgICB3ZWVrLmQgPSB3ZWVrZGF5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZFdlZWtkYXkgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkJywgJ2UnLCAnRSddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICBmdW5jdGlvbiBwYXJzZVdlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc05hTihpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpbnB1dCwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5wdXQgPSBsb2NhbGUud2Vla2RheXNQYXJzZShpbnB1dCk7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIGxvY2FsZSkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5c1BhcnNlKGlucHV0KSAlIDcgfHwgNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNOYU4oaW5wdXQpID8gbnVsbCA6IGlucHV0O1xuICAgIH1cblxuICAgIC8vIExPQ0FMRVNcblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXMgPSAnU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXknLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXMgKG0sIGZvcm1hdCkge1xuICAgICAgICBpZiAoIW0pIHtcbiAgICAgICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzIDpcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1snc3RhbmRhbG9uZSddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0FycmF5KHRoaXMuX3dlZWtkYXlzKSA/IHRoaXMuX3dlZWtkYXlzW20uZGF5KCldIDpcbiAgICAgICAgICAgIHRoaXMuX3dlZWtkYXlzW3RoaXMuX3dlZWtkYXlzLmlzRm9ybWF0LnRlc3QoZm9ybWF0KSA/ICdmb3JtYXQnIDogJ3N0YW5kYWxvbmUnXVttLmRheSgpXTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZVdlZWtkYXlzU2hvcnQgPSAnU3VuX01vbl9UdWVfV2VkX1RodV9GcmlfU2F0Jy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzU2hvcnQgKG0pIHtcbiAgICAgICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzU2hvcnRbbS5kYXkoKV0gOiB0aGlzLl93ZWVrZGF5c1Nob3J0O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICAgICAgcmV0dXJuIChtKSA/IHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldIDogdGhpcy5fd2Vla2RheXNNaW47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlU3RyaWN0UGFyc2UkMSh3ZWVrZGF5TmFtZSwgZm9ybWF0LCBzdHJpY3QpIHtcbiAgICAgICAgdmFyIGksIGlpLCBtb20sIGxsYyA9IHdlZWtkYXlOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9taW5XZWVrZGF5c1BhcnNlID0gW107XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyArK2kpIHtcbiAgICAgICAgICAgICAgICBtb20gPSBjcmVhdGVVVEMoWzIwMDAsIDFdKS5kYXkoaSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXSA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gdGhpcy53ZWVrZGF5cyhtb20sICcnKS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2RkZGQnKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fd2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlpICE9PSAtMSA/IGlpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdkZGRkJykge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICBpZiAoaWkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQgPT09ICdkZGQnKSB7XG4gICAgICAgICAgICAgICAgaWkgPSBpbmRleE9mLmNhbGwodGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIGlmIChpaSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpaSA9IGluZGV4T2YuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLCBsbGMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpaSAhPT0gLTEgPyBpaSA6IG51bGw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX21pbldlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsIGxsYyk7XG4gICAgICAgICAgICAgICAgaWYgKGlpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlpID0gaW5kZXhPZi5jYWxsKHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZSwgbGxjKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWkgIT09IC0xID8gaWkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNQYXJzZSAod2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KSB7XG4gICAgICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVTdHJpY3RQYXJzZSQxLmNhbGwodGhpcywgd2Vla2RheU5hbWUsIGZvcm1hdCwgc3RyaWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZSkge1xuICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbWluV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9mdWxsV2Vla2RheXNQYXJzZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG5cbiAgICAgICAgICAgIG1vbSA9IGNyZWF0ZVVUQyhbMjAwMCwgMV0pLmRheShpKTtcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXMobW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNTaG9ydChtb20sICcnKS5yZXBsYWNlKCcuJywgJ1xcXFwuPycpICsgJyQnLCAnaScpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pbldlZWtkYXlzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKCdeJyArIHRoaXMud2Vla2RheXNNaW4obW9tLCAnJykucmVwbGFjZSgnLicsICdcXFxcLj8nKSArICckJywgJ2knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fd2Vla2RheXNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgZm9ybWF0ID09PSAnZGRkZCcgJiYgdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaWN0ICYmIGZvcm1hdCA9PT0gJ2RkZCcgJiYgdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdkZCcgJiYgdGhpcy5fbWluV2Vla2RheXNQYXJzZVtpXS50ZXN0KHdlZWtkYXlOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc3RyaWN0ICYmIHRoaXMuX3dlZWtkYXlzUGFyc2VbaV0udGVzdCh3ZWVrZGF5TmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mV2VlayAoaW5wdXQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0ICE9IG51bGwgPyB0aGlzIDogTmFOO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dCAhPSBudWxsID8gdGhpcyA6IE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2Vla2RheSA9ICh0aGlzLmRheSgpICsgNyAtIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdykgJSA3O1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWtkYXkgOiB0aGlzLmFkZChpbnB1dCAtIHdlZWtkYXksICdkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0SVNPRGF5T2ZXZWVrIChpbnB1dCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiZWhhdmVzIHRoZSBzYW1lIGFzIG1vbWVudCNkYXkgZXhjZXB0XG4gICAgICAgIC8vIGFzIGEgZ2V0dGVyLCByZXR1cm5zIDcgaW5zdGVhZCBvZiAwICgxLTcgcmFuZ2UgaW5zdGVhZCBvZiAwLTYpXG4gICAgICAgIC8vIGFzIGEgc2V0dGVyLCBzdW5kYXkgc2hvdWxkIGJlbG9uZyB0byB0aGUgcHJldmlvdXMgd2Vlay5cblxuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHdlZWtkYXkgPSBwYXJzZUlzb1dlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRheSh0aGlzLmRheSgpICUgNyA/IHdlZWtkYXkgOiB3ZWVrZGF5IC0gNyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXkoKSB8fCA3O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c1JlZ2V4ID0gbWF0Y2hXb3JkO1xuICAgIGZ1bmN0aW9uIHdlZWtkYXlzUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c1JlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1JlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFdlZWtkYXlzU2hvcnRSZWdleCA9IG1hdGNoV29yZDtcbiAgICBmdW5jdGlvbiB3ZWVrZGF5c1Nob3J0UmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHRoaXMsICdfd2Vla2RheXNTaG9ydFJlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXggPSBkZWZhdWx0V2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4IDogdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRXZWVrZGF5c01pblJlZ2V4ID0gbWF0Y2hXb3JkO1xuICAgIGZ1bmN0aW9uIHdlZWtkYXlzTWluUmVnZXggKGlzU3RyaWN0KSB7XG4gICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3QpIHtcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcCh0aGlzLCAnX3dlZWtkYXlzUmVnZXgnKSkge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVXZWVrZGF5c1BhcnNlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWhhc093blByb3AodGhpcywgJ193ZWVrZGF5c01pblJlZ2V4JykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c01pblJlZ2V4ID0gZGVmYXVsdFdlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCAmJiBpc1N0cmljdCA/XG4gICAgICAgICAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleCA6IHRoaXMuX3dlZWtkYXlzTWluUmVnZXg7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIGNvbXB1dGVXZWVrZGF5c1BhcnNlICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY21wTGVuUmV2KGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1pblBpZWNlcyA9IFtdLCBzaG9ydFBpZWNlcyA9IFtdLCBsb25nUGllY2VzID0gW10sIG1peGVkUGllY2VzID0gW10sXG4gICAgICAgICAgICBpLCBtb20sIG1pbnAsIHNob3J0cCwgbG9uZ3A7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgbW9tID0gY3JlYXRlVVRDKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgbWlucCA9IHRoaXMud2Vla2RheXNNaW4obW9tLCAnJyk7XG4gICAgICAgICAgICBzaG9ydHAgPSB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICBsb25ncCA9IHRoaXMud2Vla2RheXMobW9tLCAnJyk7XG4gICAgICAgICAgICBtaW5QaWVjZXMucHVzaChtaW5wKTtcbiAgICAgICAgICAgIHNob3J0UGllY2VzLnB1c2goc2hvcnRwKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgICAgICBtaXhlZFBpZWNlcy5wdXNoKG1pbnApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChzaG9ydHApO1xuICAgICAgICAgICAgbWl4ZWRQaWVjZXMucHVzaChsb25ncCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU29ydGluZyBtYWtlcyBzdXJlIGlmIG9uZSB3ZWVrZGF5IChvciBhYmJyKSBpcyBhIHByZWZpeCBvZiBhbm90aGVyIGl0XG4gICAgICAgIC8vIHdpbGwgbWF0Y2ggdGhlIGxvbmdlciBwaWVjZS5cbiAgICAgICAgbWluUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgc2hvcnRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBsb25nUGllY2VzLnNvcnQoY21wTGVuUmV2KTtcbiAgICAgICAgbWl4ZWRQaWVjZXMuc29ydChjbXBMZW5SZXYpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICBzaG9ydFBpZWNlc1tpXSA9IHJlZ2V4RXNjYXBlKHNob3J0UGllY2VzW2ldKTtcbiAgICAgICAgICAgIGxvbmdQaWVjZXNbaV0gPSByZWdleEVzY2FwZShsb25nUGllY2VzW2ldKTtcbiAgICAgICAgICAgIG1peGVkUGllY2VzW2ldID0gcmVnZXhFc2NhcGUobWl4ZWRQaWVjZXNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fd2Vla2RheXNSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIG1peGVkUGllY2VzLmpvaW4oJ3wnKSArICcpJywgJ2knKTtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4ID0gdGhpcy5fd2Vla2RheXNSZWdleDtcbiAgICAgICAgdGhpcy5fd2Vla2RheXNNaW5SZWdleCA9IHRoaXMuX3dlZWtkYXlzUmVnZXg7XG5cbiAgICAgICAgdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIGxvbmdQaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgICAgICB0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBzaG9ydFBpZWNlcy5qb2luKCd8JykgKyAnKScsICdpJyk7XG4gICAgICAgIHRoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBtaW5QaWVjZXMuam9pbignfCcpICsgJyknLCAnaScpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGZ1bmN0aW9uIGhGb3JtYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrRm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3VycygpIHx8IDI0O1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBoRm9ybWF0KTtcbiAgICBhZGRGb3JtYXRUb2tlbignaycsIFsna2snLCAyXSwgMCwga0Zvcm1hdCk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignaG1tJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2htbXNzJywgMCwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJycgKyBoRm9ybWF0LmFwcGx5KHRoaXMpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdIbW0nLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnJyArIHRoaXMuaG91cnMoKSArIHplcm9GaWxsKHRoaXMubWludXRlcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdIbW1zcycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICcnICsgdGhpcy5ob3VycygpICsgemVyb0ZpbGwodGhpcy5taW51dGVzKCksIDIpICtcbiAgICAgICAgICAgIHplcm9GaWxsKHRoaXMuc2Vjb25kcygpLCAyKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWVyaWRpZW0oJ2EnLCB0cnVlKTtcbiAgICBtZXJpZGllbSgnQScsIGZhbHNlKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbiAgICAvLyBQUklPUklUWVxuICAgIGFkZFVuaXRQcmlvcml0eSgnaG91cicsIDEzKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGZ1bmN0aW9uIG1hdGNoTWVyaWRpZW0gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5fbWVyaWRpZW1QYXJzZTtcbiAgICB9XG5cbiAgICBhZGRSZWdleFRva2VuKCdhJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0EnLCAgbWF0Y2hNZXJpZGllbSk7XG4gICAgYWRkUmVnZXhUb2tlbignSCcsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdrJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbigna2snLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbiAgICBhZGRSZWdleFRva2VuKCdobW0nLCBtYXRjaDN0bzQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2htbXNzJywgbWF0Y2g1dG82KTtcbiAgICBhZGRSZWdleFRva2VuKCdIbW0nLCBtYXRjaDN0bzQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0htbXNzJywgbWF0Y2g1dG82KTtcblxuICAgIGFkZFBhcnNlVG9rZW4oWydIJywgJ0hIJ10sIEhPVVIpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydrJywgJ2trJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIga0lucHV0ID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICBhcnJheVtIT1VSXSA9IGtJbnB1dCA9PT0gMjQgPyAwIDoga0lucHV0O1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oWydhJywgJ0EnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5faXNQbSA9IGNvbmZpZy5fbG9jYWxlLmlzUE0oaW5wdXQpO1xuICAgICAgICBjb25maWcuX21lcmlkaWVtID0gaW5wdXQ7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ2gnLCAnaGgnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdobW0nLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvcyA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvcykpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvcykpO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBhZGRQYXJzZVRva2VuKCdobW1zcycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zMSA9IGlucHV0Lmxlbmd0aCAtIDQ7XG4gICAgICAgIHZhciBwb3MyID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zMSkpO1xuICAgICAgICBhcnJheVtNSU5VVEVdID0gdG9JbnQoaW5wdXQuc3Vic3RyKHBvczEsIDIpKTtcbiAgICAgICAgYXJyYXlbU0VDT05EXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MyKSk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB0cnVlO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ0htbScsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICB2YXIgcG9zID0gaW5wdXQubGVuZ3RoIC0gMjtcbiAgICAgICAgYXJyYXlbSE9VUl0gPSB0b0ludChpbnB1dC5zdWJzdHIoMCwgcG9zKSk7XG4gICAgICAgIGFycmF5W01JTlVURV0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zKSk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignSG1tc3MnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgdmFyIHBvczEgPSBpbnB1dC5sZW5ndGggLSA0O1xuICAgICAgICB2YXIgcG9zMiA9IGlucHV0Lmxlbmd0aCAtIDI7XG4gICAgICAgIGFycmF5W0hPVVJdID0gdG9JbnQoaW5wdXQuc3Vic3RyKDAsIHBvczEpKTtcbiAgICAgICAgYXJyYXlbTUlOVVRFXSA9IHRvSW50KGlucHV0LnN1YnN0cihwb3MxLCAyKSk7XG4gICAgICAgIGFycmF5W1NFQ09ORF0gPSB0b0ludChpbnB1dC5zdWJzdHIocG9zMikpO1xuICAgIH0pO1xuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlSXNQTSAoaW5wdXQpIHtcbiAgICAgICAgLy8gSUU4IFF1aXJrcyBNb2RlICYgSUU3IFN0YW5kYXJkcyBNb2RlIGRvIG5vdCBhbGxvdyBhY2Nlc3Npbmcgc3RyaW5ncyBsaWtlIGFycmF5c1xuICAgICAgICAvLyBVc2luZyBjaGFyQXQgc2hvdWxkIGJlIG1vcmUgY29tcGF0aWJsZS5cbiAgICAgICAgcmV0dXJuICgoaW5wdXQgKyAnJykudG9Mb3dlckNhc2UoKS5jaGFyQXQoMCkgPT09ICdwJyk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlID0gL1thcF1cXC4/bT9cXC4/L2k7XG4gICAgZnVuY3Rpb24gbG9jYWxlTWVyaWRpZW0gKGhvdXJzLCBtaW51dGVzLCBpc0xvd2VyKSB7XG4gICAgICAgIGlmIChob3VycyA+IDExKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdwbScgOiAnUE0nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGlzTG93ZXIgPyAnYW0nIDogJ0FNJztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgLy8gU2V0dGluZyB0aGUgaG91ciBzaG91bGQga2VlcCB0aGUgdGltZSwgYmVjYXVzZSB0aGUgdXNlciBleHBsaWNpdGx5XG4gICAgLy8gc3BlY2lmaWVkIHdoaWNoIGhvdXIgdGhleSB3YW50LiBTbyB0cnlpbmcgdG8gbWFpbnRhaW4gdGhlIHNhbWUgaG91ciAoaW5cbiAgICAvLyBhIG5ldyB0aW1lem9uZSkgbWFrZXMgc2Vuc2UuIEFkZGluZy9zdWJ0cmFjdGluZyBob3VycyBkb2VzIG5vdCBmb2xsb3dcbiAgICAvLyB0aGlzIHJ1bGUuXG4gICAgdmFyIGdldFNldEhvdXIgPSBtYWtlR2V0U2V0KCdIb3VycycsIHRydWUpO1xuXG4gICAgdmFyIGJhc2VDb25maWcgPSB7XG4gICAgICAgIGNhbGVuZGFyOiBkZWZhdWx0Q2FsZW5kYXIsXG4gICAgICAgIGxvbmdEYXRlRm9ybWF0OiBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQsXG4gICAgICAgIGludmFsaWREYXRlOiBkZWZhdWx0SW52YWxpZERhdGUsXG4gICAgICAgIG9yZGluYWw6IGRlZmF1bHRPcmRpbmFsLFxuICAgICAgICBkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOiBkZWZhdWx0RGF5T2ZNb250aE9yZGluYWxQYXJzZSxcbiAgICAgICAgcmVsYXRpdmVUaW1lOiBkZWZhdWx0UmVsYXRpdmVUaW1lLFxuXG4gICAgICAgIG1vbnRoczogZGVmYXVsdExvY2FsZU1vbnRocyxcbiAgICAgICAgbW9udGhzU2hvcnQ6IGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCxcblxuICAgICAgICB3ZWVrOiBkZWZhdWx0TG9jYWxlV2VlayxcblxuICAgICAgICB3ZWVrZGF5czogZGVmYXVsdExvY2FsZVdlZWtkYXlzLFxuICAgICAgICB3ZWVrZGF5c01pbjogZGVmYXVsdExvY2FsZVdlZWtkYXlzTWluLFxuICAgICAgICB3ZWVrZGF5c1Nob3J0OiBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydCxcblxuICAgICAgICBtZXJpZGllbVBhcnNlOiBkZWZhdWx0TG9jYWxlTWVyaWRpZW1QYXJzZVxuICAgIH07XG5cbiAgICAvLyBpbnRlcm5hbCBzdG9yYWdlIGZvciBsb2NhbGUgY29uZmlnIGZpbGVzXG4gICAgdmFyIGxvY2FsZXMgPSB7fTtcbiAgICB2YXIgbG9jYWxlRmFtaWxpZXMgPSB7fTtcbiAgICB2YXIgZ2xvYmFsTG9jYWxlO1xuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG4gICAgfVxuXG4gICAgLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4gICAgLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcbiAgICAvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG4gICAgZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDtcblxuICAgICAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBqID0gc3BsaXQubGVuZ3RoO1xuICAgICAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICAgICAgd2hpbGUgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2FkTG9jYWxlKG5hbWUpIHtcbiAgICAgICAgdmFyIG9sZExvY2FsZSA9IG51bGw7XG4gICAgICAgIC8vIFRPRE86IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIHJlZ2lzdGVyIGFuZCBsb2FkIGFsbCB0aGUgbG9jYWxlcyBpbiBOb2RlXG4gICAgICAgIGlmICghbG9jYWxlc1tuYW1lXSAmJiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpICYmXG4gICAgICAgICAgICAgICAgbW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9sZExvY2FsZSA9IGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICAgICAgICAgICAgICB2YXIgYWxpYXNlZFJlcXVpcmUgPSByZXF1aXJlO1xuICAgICAgICAgICAgICAgIGFsaWFzZWRSZXF1aXJlKCcuL2xvY2FsZS8nICsgbmFtZSk7XG4gICAgICAgICAgICAgICAgZ2V0U2V0R2xvYmFsTG9jYWxlKG9sZExvY2FsZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbGVzW25hbWVdO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBsb2FkIGxvY2FsZSBhbmQgdGhlbiBzZXQgdGhlIGdsb2JhbCBsb2NhbGUuICBJZlxuICAgIC8vIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIGluLCBpdCB3aWxsIHNpbXBseSByZXR1cm4gdGhlIGN1cnJlbnQgZ2xvYmFsXG4gICAgLy8gbG9jYWxlIGtleS5cbiAgICBmdW5jdGlvbiBnZXRTZXRHbG9iYWxMb2NhbGUgKGtleSwgdmFsdWVzKSB7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWVzKSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBkZWZpbmVMb2NhbGUoa2V5LCB2YWx1ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIC8vIG1vbWVudC5kdXJhdGlvbi5fbG9jYWxlID0gbW9tZW50Ll9sb2NhbGUgPSBkYXRhO1xuICAgICAgICAgICAgICAgIGdsb2JhbExvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBjb25zb2xlICE9PSAgJ3VuZGVmaW5lZCcpICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgICAgICAgICAvL3dhcm4gdXNlciBpZiBhcmd1bWVudHMgYXJlIHBhc3NlZCBidXQgdGhlIGxvY2FsZSBjb3VsZCBub3QgYmUgc2V0XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTG9jYWxlICcgKyBrZXkgKyAgJyBub3QgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIGxvYWQgaXQ/Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZS5fYWJicjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVMb2NhbGUgKG5hbWUsIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxlLCBwYXJlbnRDb25maWcgPSBiYXNlQ29uZmlnO1xuICAgICAgICAgICAgY29uZmlnLmFiYnIgPSBuYW1lO1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlcHJlY2F0ZVNpbXBsZSgnZGVmaW5lTG9jYWxlT3ZlcnJpZGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZSBtb21lbnQudXBkYXRlTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgdG8gY2hhbmdlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2FuIGV4aXN0aW5nIGxvY2FsZS4gbW9tZW50LmRlZmluZUxvY2FsZShsb2NhbGVOYW1lLCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb25maWcpIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNyZWF0aW5nIGEgbmV3IGxvY2FsZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kZWZpbmUtbG9jYWxlLyBmb3IgbW9yZSBpbmZvLicpO1xuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IGxvY2FsZXNbbmFtZV0uX2NvbmZpZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsZXNbY29uZmlnLnBhcmVudExvY2FsZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGVzW2NvbmZpZy5wYXJlbnRMb2NhbGVdLl9jb25maWc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShjb25maWcucGFyZW50TG9jYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb25maWcgPSBsb2NhbGUuX2NvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tjb25maWcucGFyZW50TG9jYWxlXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlRmFtaWxpZXNbY29uZmlnLnBhcmVudExvY2FsZV0ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBuZXcgTG9jYWxlKG1lcmdlQ29uZmlncyhwYXJlbnRDb25maWcsIGNvbmZpZykpO1xuXG4gICAgICAgICAgICBpZiAobG9jYWxlRmFtaWxpZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsb2NhbGVGYW1pbGllc1tuYW1lXS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZmluZUxvY2FsZSh4Lm5hbWUsIHguY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgICAgICAvLyBtYWtlIHN1cmUgd2Ugc2V0IHRoZSBsb2NhbGUgQUZURVIgYWxsIGNoaWxkIGxvY2FsZXMgaGF2ZSBiZWVuXG4gICAgICAgICAgICAvLyBjcmVhdGVkLCBzbyB3ZSB3b24ndCBlbmQgdXAgd2l0aCB0aGUgY2hpbGQgbG9jYWxlIHNldC5cbiAgICAgICAgICAgIGdldFNldEdsb2JhbExvY2FsZShuYW1lKTtcblxuXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUxvY2FsZShuYW1lLCBjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxlLCB0bXBMb2NhbGUsIHBhcmVudENvbmZpZyA9IGJhc2VDb25maWc7XG4gICAgICAgICAgICAvLyBNRVJHRVxuICAgICAgICAgICAgdG1wTG9jYWxlID0gbG9hZExvY2FsZShuYW1lKTtcbiAgICAgICAgICAgIGlmICh0bXBMb2NhbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudENvbmZpZyA9IHRtcExvY2FsZS5fY29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uZmlnID0gbWVyZ2VDb25maWdzKHBhcmVudENvbmZpZywgY29uZmlnKTtcbiAgICAgICAgICAgIGxvY2FsZSA9IG5ldyBMb2NhbGUoY29uZmlnKTtcbiAgICAgICAgICAgIGxvY2FsZS5wYXJlbnRMb2NhbGUgPSBsb2NhbGVzW25hbWVdO1xuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZTtcblxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgICAgICBnZXRTZXRHbG9iYWxMb2NhbGUobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBwYXNzIG51bGwgZm9yIGNvbmZpZyB0byB1bnVwZGF0ZSwgdXNlZnVsIGZvciB0ZXN0c1xuICAgICAgICAgICAgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsZXNbbmFtZV0gPSBsb2NhbGVzW25hbWVdLnBhcmVudExvY2FsZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZXNbbmFtZV0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfVxuXG4gICAgLy8gcmV0dXJucyBsb2NhbGUgZGF0YVxuICAgIGZ1bmN0aW9uIGdldExvY2FsZSAoa2V5KSB7XG4gICAgICAgIHZhciBsb2NhbGU7XG5cbiAgICAgICAgaWYgKGtleSAmJiBrZXkuX2xvY2FsZSAmJiBrZXkuX2xvY2FsZS5fYWJicikge1xuICAgICAgICAgICAga2V5ID0ga2V5Ll9sb2NhbGUuX2FiYnI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGdsb2JhbExvY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNBcnJheShrZXkpKSB7XG4gICAgICAgICAgICAvL3Nob3J0LWNpcmN1aXQgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgICAgICBsb2NhbGUgPSBsb2FkTG9jYWxlKGtleSk7XG4gICAgICAgICAgICBpZiAobG9jYWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleSA9IFtrZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNob29zZUxvY2FsZShrZXkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RMb2NhbGVzKCkge1xuICAgICAgICByZXR1cm4ga2V5cyhsb2NhbGVzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja092ZXJmbG93IChtKSB7XG4gICAgICAgIHZhciBvdmVyZmxvdztcbiAgICAgICAgdmFyIGEgPSBtLl9hO1xuXG4gICAgICAgIGlmIChhICYmIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9PT0gLTIpIHtcbiAgICAgICAgICAgIG92ZXJmbG93ID1cbiAgICAgICAgICAgICAgICBhW01PTlRIXSAgICAgICA8IDAgfHwgYVtNT05USF0gICAgICAgPiAxMSAgPyBNT05USCA6XG4gICAgICAgICAgICAgICAgYVtEQVRFXSAgICAgICAgPCAxIHx8IGFbREFURV0gICAgICAgID4gZGF5c0luTW9udGgoYVtZRUFSXSwgYVtNT05USF0pID8gREFURSA6XG4gICAgICAgICAgICAgICAgYVtIT1VSXSAgICAgICAgPCAwIHx8IGFbSE9VUl0gICAgICAgID4gMjQgfHwgKGFbSE9VUl0gPT09IDI0ICYmIChhW01JTlVURV0gIT09IDAgfHwgYVtTRUNPTkRdICE9PSAwIHx8IGFbTUlMTElTRUNPTkRdICE9PSAwKSkgPyBIT1VSIDpcbiAgICAgICAgICAgICAgICBhW01JTlVURV0gICAgICA8IDAgfHwgYVtNSU5VVEVdICAgICAgPiA1OSAgPyBNSU5VVEUgOlxuICAgICAgICAgICAgICAgIGFbU0VDT05EXSAgICAgIDwgMCB8fCBhW1NFQ09ORF0gICAgICA+IDU5ICA/IFNFQ09ORCA6XG4gICAgICAgICAgICAgICAgYVtNSUxMSVNFQ09ORF0gPCAwIHx8IGFbTUlMTElTRUNPTkRdID4gOTk5ID8gTUlMTElTRUNPTkQgOlxuICAgICAgICAgICAgICAgIC0xO1xuXG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd0RheU9mWWVhciAmJiAob3ZlcmZsb3cgPCBZRUFSIHx8IG92ZXJmbG93ID4gREFURSkpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IERBVEU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2V0UGFyc2luZ0ZsYWdzKG0pLl9vdmVyZmxvd1dlZWtzICYmIG92ZXJmbG93ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gV0VFSztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93V2Vla2RheSAmJiBvdmVyZmxvdyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IFdFRUtEQVk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhtKS5vdmVyZmxvdyA9IG92ZXJmbG93O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG07XG4gICAgfVxuXG4gICAgLy8gUGljayB0aGUgZmlyc3QgZGVmaW5lZCBvZiB0d28gb3IgdGhyZWUgYXJndW1lbnRzLlxuICAgIGZ1bmN0aW9uIGRlZmF1bHRzKGEsIGIsIGMpIHtcbiAgICAgICAgaWYgKGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3VycmVudERhdGVBcnJheShjb25maWcpIHtcbiAgICAgICAgLy8gaG9va3MgaXMgYWN0dWFsbHkgdGhlIGV4cG9ydGVkIG1vbWVudCBvYmplY3RcbiAgICAgICAgdmFyIG5vd1ZhbHVlID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgICAgIHJldHVybiBbbm93VmFsdWUuZ2V0VVRDRnVsbFllYXIoKSwgbm93VmFsdWUuZ2V0VVRDTW9udGgoKSwgbm93VmFsdWUuZ2V0VVRDRGF0ZSgpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW25vd1ZhbHVlLmdldEZ1bGxZZWFyKCksIG5vd1ZhbHVlLmdldE1vbnRoKCksIG5vd1ZhbHVlLmdldERhdGUoKV07XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG4gICAgLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbiAgICAvLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cbiAgICAvLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuICAgICAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIGV4cGVjdGVkV2Vla2RheSwgeWVhclRvVXNlO1xuXG4gICAgICAgIGlmIChjb25maWcuX2QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnREYXRlID0gY3VycmVudERhdGVBcnJheShjb25maWcpO1xuXG4gICAgICAgIC8vY29tcHV0ZSBkYXkgb2YgdGhlIHllYXIgZnJvbSB3ZWVrcyBhbmQgd2Vla2RheXNcbiAgICAgICAgaWYgKGNvbmZpZy5fdyAmJiBjb25maWcuX2FbREFURV0gPT0gbnVsbCAmJiBjb25maWcuX2FbTU9OVEhdID09IG51bGwpIHtcbiAgICAgICAgICAgIGRheU9mWWVhckZyb21XZWVrSW5mbyhjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9pZiB0aGUgZGF5IG9mIHRoZSB5ZWFyIGlzIHNldCwgZmlndXJlIG91dCB3aGF0IGl0IGlzXG4gICAgICAgIGlmIChjb25maWcuX2RheU9mWWVhciAhPSBudWxsKSB7XG4gICAgICAgICAgICB5ZWFyVG9Vc2UgPSBkZWZhdWx0cyhjb25maWcuX2FbWUVBUl0sIGN1cnJlbnREYXRlW1lFQVJdKTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5fZGF5T2ZZZWFyID4gZGF5c0luWWVhcih5ZWFyVG9Vc2UpIHx8IGNvbmZpZy5fZGF5T2ZZZWFyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93RGF5T2ZZZWFyID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGF0ZSA9IGNyZWF0ZVVUQ0RhdGUoeWVhclRvVXNlLCAwLCBjb25maWcuX2RheU9mWWVhcik7XG4gICAgICAgICAgICBjb25maWcuX2FbTU9OVEhdID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICAgICAgY29uZmlnLl9hW0RBVEVdID0gZGF0ZS5nZXRVVENEYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEZWZhdWx0IHRvIGN1cnJlbnQgZGF0ZS5cbiAgICAgICAgLy8gKiBpZiBubyB5ZWFyLCBtb250aCwgZGF5IG9mIG1vbnRoIGFyZSBnaXZlbiwgZGVmYXVsdCB0byB0b2RheVxuICAgICAgICAvLyAqIGlmIGRheSBvZiBtb250aCBpcyBnaXZlbiwgZGVmYXVsdCBtb250aCBhbmQgeWVhclxuICAgICAgICAvLyAqIGlmIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG9ubHkgeWVhclxuICAgICAgICAvLyAqIGlmIHllYXIgaXMgZ2l2ZW4sIGRvbid0IGRlZmF1bHQgYW55dGhpbmdcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDMgJiYgY29uZmlnLl9hW2ldID09IG51bGw7ICsraSkge1xuICAgICAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSBjdXJyZW50RGF0ZVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFplcm8gb3V0IHdoYXRldmVyIHdhcyBub3QgZGVmYXVsdGVkLCBpbmNsdWRpbmcgdGltZVxuICAgICAgICBmb3IgKDsgaSA8IDc7IGkrKykge1xuICAgICAgICAgICAgY29uZmlnLl9hW2ldID0gaW5wdXRbaV0gPSAoY29uZmlnLl9hW2ldID09IG51bGwpID8gKGkgPT09IDIgPyAxIDogMCkgOiBjb25maWcuX2FbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDaGVjayBmb3IgMjQ6MDA6MDAuMDAwXG4gICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPT09IDI0ICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW01JTlVURV0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbU0VDT05EXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtNSUxMSVNFQ09ORF0gPT09IDApIHtcbiAgICAgICAgICAgIGNvbmZpZy5fbmV4dERheSA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnLl9kID0gKGNvbmZpZy5fdXNlVVRDID8gY3JlYXRlVVRDRGF0ZSA6IGNyZWF0ZURhdGUpLmFwcGx5KG51bGwsIGlucHV0KTtcbiAgICAgICAgZXhwZWN0ZWRXZWVrZGF5ID0gY29uZmlnLl91c2VVVEMgPyBjb25maWcuX2QuZ2V0VVRDRGF5KCkgOiBjb25maWcuX2QuZ2V0RGF5KCk7XG5cbiAgICAgICAgLy8gQXBwbHkgdGltZXpvbmUgb2Zmc2V0IGZyb20gaW5wdXQuIFRoZSBhY3R1YWwgdXRjT2Zmc2V0IGNhbiBiZSBjaGFuZ2VkXG4gICAgICAgIC8vIHdpdGggcGFyc2Vab25lLlxuICAgICAgICBpZiAoY29uZmlnLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9kLnNldFVUQ01pbnV0ZXMoY29uZmlnLl9kLmdldFVUQ01pbnV0ZXMoKSAtIGNvbmZpZy5fdHptKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb25maWcuX25leHREYXkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDI0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgZm9yIG1pc21hdGNoaW5nIGRheSBvZiB3ZWVrXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgdHlwZW9mIGNvbmZpZy5fdy5kICE9PSAndW5kZWZpbmVkJyAmJiBjb25maWcuX3cuZCAhPT0gZXhwZWN0ZWRXZWVrZGF5KSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS53ZWVrZGF5TWlzbWF0Y2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtJbmZvKGNvbmZpZykge1xuICAgICAgICB2YXIgdywgd2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95LCB0ZW1wLCB3ZWVrZGF5T3ZlcmZsb3c7XG5cbiAgICAgICAgdyA9IGNvbmZpZy5fdztcbiAgICAgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG93ID0gMTtcbiAgICAgICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LkdHLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIoY3JlYXRlTG9jYWwoKSwgMSwgNCkueWVhcik7XG4gICAgICAgICAgICB3ZWVrID0gZGVmYXVsdHMody5XLCAxKTtcbiAgICAgICAgICAgIHdlZWtkYXkgPSBkZWZhdWx0cyh3LkUsIDEpO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXkgPCAxIHx8IHdlZWtkYXkgPiA3KSB7XG4gICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICAgICAgdmFyIGN1cldlZWsgPSB3ZWVrT2ZZZWFyKGNyZWF0ZUxvY2FsKCksIGRvdywgZG95KTtcblxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIGN1cldlZWsueWVhcik7XG5cbiAgICAgICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCB3ZWVrLlxuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcudywgY3VyV2Vlay53ZWVrKTtcblxuICAgICAgICAgICAgaWYgKHcuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Vla2RheSAtLSBsb3cgZGF5IG51bWJlcnMgYXJlIGNvbnNpZGVyZWQgbmV4dCB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZDtcbiAgICAgICAgICAgICAgICBpZiAod2Vla2RheSA8IDAgfHwgd2Vla2RheSA+IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgd2Vla2RheU92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgICAgICBpZiAody5lIDwgMCB8fCB3LmUgPiA2KSB7XG4gICAgICAgICAgICAgICAgICAgIHdlZWtkYXlPdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IHRvIGJlZ2luaW5nIG9mIHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3ZWVrIDwgMSB8fCB3ZWVrID4gd2Vla3NJblllYXIod2Vla1llYXIsIGRvdywgZG95KSkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuX292ZXJmbG93V2Vla3MgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdlZWtkYXlPdmVyZmxvdyAhPSBudWxsKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dXZWVrZGF5ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXAgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtZRUFSXSA9IHRlbXAueWVhcjtcbiAgICAgICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdGVtcC5kYXlPZlllYXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpc28gODYwMSByZWdleFxuICAgIC8vIDAwMDAtMDAtMDAgMDAwMC1XMDAgb3IgMDAwMC1XMDAtMCArIFQgKyAwMCBvciAwMDowMCBvciAwMDowMDowMCBvciAwMDowMDowMC4wMDAgKyArMDA6MDAgb3IgKzAwMDAgb3IgKzAwKVxuICAgIHZhciBleHRlbmRlZElzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuICAgIHZhciBiYXNpY0lzb1JlZ2V4ID0gL15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KSg/OlxcZFxcZFxcZFxcZHxXXFxkXFxkXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86XFxkXFxkKD86XFxkXFxkKD86Wy4sXVxcZCspPyk/KT8pKFtcXCtcXC1dXFxkXFxkKD86Oj9cXGRcXGQpP3xcXHMqWik/KT8kLztcblxuICAgIHZhciB0elJlZ2V4ID0gL1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vO1xuXG4gICAgdmFyIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZFxcZC1cXGRcXGQvXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGRcXGQtXFxkXFxkL10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkXFxkLVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGRcXGQvLCBmYWxzZV0sXG4gICAgICAgIFsnWVlZWS1EREQnLCAvXFxkezR9LVxcZHszfS9dLFxuICAgICAgICBbJ1lZWVktTU0nLCAvXFxkezR9LVxcZFxcZC8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZWVlNTUREJywgL1srLV1cXGR7MTB9L10sXG4gICAgICAgIFsnWVlZWU1NREQnLCAvXFxkezh9L10sXG4gICAgICAgIC8vIFlZWVlNTSBpcyBOT1QgYWxsb3dlZCBieSB0aGUgc3RhbmRhcmRcbiAgICAgICAgWydHR0dHW1ddV1dFJywgL1xcZHs0fVdcXGR7M30vXSxcbiAgICAgICAgWydHR0dHW1ddV1cnLCAvXFxkezR9V1xcZHsyfS8sIGZhbHNlXSxcbiAgICAgICAgWydZWVlZREREJywgL1xcZHs3fS9dXG4gICAgXTtcblxuICAgIC8vIGlzbyB0aW1lIGZvcm1hdHMgYW5kIHJlZ2V4ZXNcbiAgICB2YXIgaXNvVGltZXMgPSBbXG4gICAgICAgIFsnSEg6bW06c3MuU1NTUycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZFxcLlxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcyxTU1NTJywgL1xcZFxcZDpcXGRcXGQ6XFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISDptbTpzcycsIC9cXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIOm1tJywgL1xcZFxcZDpcXGRcXGQvXSxcbiAgICAgICAgWydISG1tc3MuU1NTUycsIC9cXGRcXGRcXGRcXGRcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEhtbXNzLFNTU1MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkLFxcZCsvXSxcbiAgICAgICAgWydISG1tc3MnLCAvXFxkXFxkXFxkXFxkXFxkXFxkL10sXG4gICAgICAgIFsnSEhtbScsIC9cXGRcXGRcXGRcXGQvXSxcbiAgICAgICAgWydISCcsIC9cXGRcXGQvXVxuICAgIF07XG5cbiAgICB2YXIgYXNwTmV0SnNvblJlZ2V4ID0gL15cXC8/RGF0ZVxcKChcXC0/XFxkKykvaTtcblxuICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0XG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbUlTTyhjb25maWcpIHtcbiAgICAgICAgdmFyIGksIGwsXG4gICAgICAgICAgICBzdHJpbmcgPSBjb25maWcuX2ksXG4gICAgICAgICAgICBtYXRjaCA9IGV4dGVuZGVkSXNvUmVnZXguZXhlYyhzdHJpbmcpIHx8IGJhc2ljSXNvUmVnZXguZXhlYyhzdHJpbmcpLFxuICAgICAgICAgICAgYWxsb3dUaW1lLCBkYXRlRm9ybWF0LCB0aW1lRm9ybWF0LCB0ekZvcm1hdDtcblxuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmlzbyA9IHRydWU7XG5cbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhtYXRjaFsxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1RpbWUgPSBpc29EYXRlc1tpXVsyXSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc29UaW1lc1tpXVsxXS5leGVjKG1hdGNoWzNdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWF0Y2hbMl0gc2hvdWxkIGJlICdUJyBvciBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZUZvcm1hdCA9IChtYXRjaFsyXSB8fCAnICcpICsgaXNvVGltZXNbaV1bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZUZvcm1hdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhbGxvd1RpbWUgJiYgdGltZUZvcm1hdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR6UmVnZXguZXhlYyhtYXRjaFs0XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHpGb3JtYXQgPSAnWic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWcuX2YgPSBkYXRlRm9ybWF0ICsgKHRpbWVGb3JtYXQgfHwgJycpICsgKHR6Rm9ybWF0IHx8ICcnKTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUkZDIDI4MjIgcmVnZXg6IEZvciBkZXRhaWxzIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjgyMiNzZWN0aW9uLTMuM1xuICAgIHZhciByZmMyODIyID0gL14oPzooTW9ufFR1ZXxXZWR8VGh1fEZyaXxTYXR8U3VuKSw/XFxzKT8oXFxkezEsMn0pXFxzKEphbnxGZWJ8TWFyfEFwcnxNYXl8SnVufEp1bHxBdWd8U2VwfE9jdHxOb3Z8RGVjKVxccyhcXGR7Miw0fSlcXHMoXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKSk/XFxzKD86KFVUfEdNVHxbRUNNUF1bU0RdVCl8KFtael0pfChbKy1dXFxkezR9KSkkLztcblxuICAgIGZ1bmN0aW9uIGV4dHJhY3RGcm9tUkZDMjgyMlN0cmluZ3MoeWVhclN0ciwgbW9udGhTdHIsIGRheVN0ciwgaG91clN0ciwgbWludXRlU3RyLCBzZWNvbmRTdHIpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtcbiAgICAgICAgICAgIHVudHJ1bmNhdGVZZWFyKHllYXJTdHIpLFxuICAgICAgICAgICAgZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0LmluZGV4T2YobW9udGhTdHIpLFxuICAgICAgICAgICAgcGFyc2VJbnQoZGF5U3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChob3VyU3RyLCAxMCksXG4gICAgICAgICAgICBwYXJzZUludChtaW51dGVTdHIsIDEwKVxuICAgICAgICBdO1xuXG4gICAgICAgIGlmIChzZWNvbmRTdHIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHBhcnNlSW50KHNlY29uZFN0ciwgMTApKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW50cnVuY2F0ZVllYXIoeWVhclN0cikge1xuICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KHllYXJTdHIsIDEwKTtcbiAgICAgICAgaWYgKHllYXIgPD0gNDkpIHtcbiAgICAgICAgICAgIHJldHVybiAyMDAwICsgeWVhcjtcbiAgICAgICAgfSBlbHNlIGlmICh5ZWFyIDw9IDk5OSkge1xuICAgICAgICAgICAgcmV0dXJuIDE5MDAgKyB5ZWFyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5ZWFyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByZXByb2Nlc3NSRkMyODIyKHMpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGNvbW1lbnRzIGFuZCBmb2xkaW5nIHdoaXRlc3BhY2UgYW5kIHJlcGxhY2UgbXVsdGlwbGUtc3BhY2VzIHdpdGggYSBzaW5nbGUgc3BhY2VcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXFwoW14pXSpcXCl8W1xcblxcdF0vZywgJyAnKS5yZXBsYWNlKC8oXFxzXFxzKykvZywgJyAnKS5yZXBsYWNlKC9eXFxzXFxzKi8sICcnKS5yZXBsYWNlKC9cXHNcXHMqJC8sICcnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja1dlZWtkYXkod2Vla2RheVN0ciwgcGFyc2VkSW5wdXQsIGNvbmZpZykge1xuICAgICAgICBpZiAod2Vla2RheVN0cikge1xuICAgICAgICAgICAgLy8gVE9ETzogUmVwbGFjZSB0aGUgdmFuaWxsYSBKUyBEYXRlIG9iamVjdCB3aXRoIGFuIGluZGVwZW50ZW50IGRheS1vZi13ZWVrIGNoZWNrLlxuICAgICAgICAgICAgdmFyIHdlZWtkYXlQcm92aWRlZCA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0LmluZGV4T2Yod2Vla2RheVN0ciksXG4gICAgICAgICAgICAgICAgd2Vla2RheUFjdHVhbCA9IG5ldyBEYXRlKHBhcnNlZElucHV0WzBdLCBwYXJzZWRJbnB1dFsxXSwgcGFyc2VkSW5wdXRbMl0pLmdldERheSgpO1xuICAgICAgICAgICAgaWYgKHdlZWtkYXlQcm92aWRlZCAhPT0gd2Vla2RheUFjdHVhbCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLndlZWtkYXlNaXNtYXRjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHZhciBvYnNPZmZzZXRzID0ge1xuICAgICAgICBVVDogMCxcbiAgICAgICAgR01UOiAwLFxuICAgICAgICBFRFQ6IC00ICogNjAsXG4gICAgICAgIEVTVDogLTUgKiA2MCxcbiAgICAgICAgQ0RUOiAtNSAqIDYwLFxuICAgICAgICBDU1Q6IC02ICogNjAsXG4gICAgICAgIE1EVDogLTYgKiA2MCxcbiAgICAgICAgTVNUOiAtNyAqIDYwLFxuICAgICAgICBQRFQ6IC03ICogNjAsXG4gICAgICAgIFBTVDogLTggKiA2MFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVPZmZzZXQob2JzT2Zmc2V0LCBtaWxpdGFyeU9mZnNldCwgbnVtT2Zmc2V0KSB7XG4gICAgICAgIGlmIChvYnNPZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNPZmZzZXRzW29ic09mZnNldF07XG4gICAgICAgIH0gZWxzZSBpZiAobWlsaXRhcnlPZmZzZXQpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvbmx5IGFsbG93ZWQgbWlsaXRhcnkgdHogaXMgWlxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaG0gPSBwYXJzZUludChudW1PZmZzZXQsIDEwKTtcbiAgICAgICAgICAgIHZhciBtID0gaG0gJSAxMDAsIGggPSAoaG0gLSBtKSAvIDEwMDtcbiAgICAgICAgICAgIHJldHVybiBoICogNjAgKyBtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gZGF0ZSBhbmQgdGltZSBmcm9tIHJlZiAyODIyIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZykge1xuICAgICAgICB2YXIgbWF0Y2ggPSByZmMyODIyLmV4ZWMocHJlcHJvY2Vzc1JGQzI4MjIoY29uZmlnLl9pKSk7XG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgdmFyIHBhcnNlZEFycmF5ID0gZXh0cmFjdEZyb21SRkMyODIyU3RyaW5ncyhtYXRjaFs0XSwgbWF0Y2hbM10sIG1hdGNoWzJdLCBtYXRjaFs1XSwgbWF0Y2hbNl0sIG1hdGNoWzddKTtcbiAgICAgICAgICAgIGlmICghY2hlY2tXZWVrZGF5KG1hdGNoWzFdLCBwYXJzZWRBcnJheSwgY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uZmlnLl9hID0gcGFyc2VkQXJyYXk7XG4gICAgICAgICAgICBjb25maWcuX3R6bSA9IGNhbGN1bGF0ZU9mZnNldChtYXRjaFs4XSwgbWF0Y2hbOV0sIG1hdGNoWzEwXSk7XG5cbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IGNyZWF0ZVVUQ0RhdGUuYXBwbHkobnVsbCwgY29uZmlnLl9hKTtcbiAgICAgICAgICAgIGNvbmZpZy5fZC5zZXRVVENNaW51dGVzKGNvbmZpZy5fZC5nZXRVVENNaW51dGVzKCkgLSBjb25maWcuX3R6bSk7XG5cbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnJmYzI4MjIgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uZmlnLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdCBvciBmYWxsYmFja1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmcoY29uZmlnKSB7XG4gICAgICAgIHZhciBtYXRjaGVkID0gYXNwTmV0SnNvblJlZ2V4LmV4ZWMoY29uZmlnLl9pKTtcblxuICAgICAgICBpZiAobWF0Y2hlZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK21hdGNoZWRbMV0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICBpZiAoY29uZmlnLl9pc1ZhbGlkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgZGVsZXRlIGNvbmZpZy5faXNWYWxpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZ0Zyb21SRkMyODIyKGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluYWwgYXR0ZW1wdCwgdXNlIElucHV0IEZhbGxiYWNrXG4gICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgfVxuXG4gICAgaG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgICAgICd2YWx1ZSBwcm92aWRlZCBpcyBub3QgaW4gYSByZWNvZ25pemVkIFJGQzI4MjIgb3IgSVNPIGZvcm1hdC4gbW9tZW50IGNvbnN0cnVjdGlvbiBmYWxscyBiYWNrIHRvIGpzIERhdGUoKSwgJyArXG4gICAgICAgICd3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlICcgK1xuICAgICAgICAnZGlzY291cmFnZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhbiB1cGNvbWluZyBtYWpvciByZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgICAgICdodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2pzLWRhdGUvIGZvciBtb3JlIGluZm8uJyxcbiAgICAgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoY29uZmlnLl9pICsgKGNvbmZpZy5fdXNlVVRDID8gJyBVVEMnIDogJycpKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBjb25zdGFudCB0aGF0IHJlZmVycyB0byB0aGUgSVNPIHN0YW5kYXJkXG4gICAgaG9va3MuSVNPXzg2MDEgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGNvbnN0YW50IHRoYXQgcmVmZXJzIHRvIHRoZSBSRkMgMjgyMiBmb3JtXG4gICAgaG9va3MuUkZDXzI4MjIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIGRhdGUgZnJvbSBzdHJpbmcgYW5kIGZvcm1hdCBzdHJpbmdcbiAgICBmdW5jdGlvbiBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZykge1xuICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBjcmVhdGlvbiBmbG93IHRvIHByZXZlbnQgY2lyY3VsYXIgZGVwc1xuICAgICAgICBpZiAoY29uZmlnLl9mID09PSBob29rcy5JU09fODYwMSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcuX2YgPT09IGhvb2tzLlJGQ18yODIyKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tUkZDMjgyMihjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5fYSA9IFtdO1xuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IHRydWU7XG5cbiAgICAgICAgLy8gVGhpcyBhcnJheSBpcyB1c2VkIHRvIG1ha2UgYSBEYXRlLCBlaXRoZXIgd2l0aCBgbmV3IERhdGVgIG9yIGBEYXRlLlVUQ2BcbiAgICAgICAgdmFyIHN0cmluZyA9ICcnICsgY29uZmlnLl9pLFxuICAgICAgICAgICAgaSwgcGFyc2VkSW5wdXQsIHRva2VucywgdG9rZW4sIHNraXBwZWQsXG4gICAgICAgICAgICBzdHJpbmdMZW5ndGggPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCA9IDA7XG5cbiAgICAgICAgdG9rZW5zID0gZXhwYW5kRm9ybWF0KGNvbmZpZy5fZiwgY29uZmlnLl9sb2NhbGUpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpIHx8IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5zW2ldO1xuICAgICAgICAgICAgcGFyc2VkSW5wdXQgPSAoc3RyaW5nLm1hdGNoKGdldFBhcnNlUmVnZXhGb3JUb2tlbih0b2tlbiwgY29uZmlnKSkgfHwgW10pWzBdO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuJywgdG9rZW4sICdwYXJzZWRJbnB1dCcsIHBhcnNlZElucHV0LFxuICAgICAgICAgICAgLy8gICAgICAgICAncmVnZXgnLCBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4odG9rZW4sIGNvbmZpZykpO1xuICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgc2tpcHBlZCA9IHN0cmluZy5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YocGFyc2VkSW5wdXQpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc2tpcHBlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkgKyBwYXJzZWRJbnB1dC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGggKz0gcGFyc2VkSW5wdXQubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgaWYgaXQncyBub3QgYSBrbm93biB0b2tlblxuICAgICAgICAgICAgaWYgKGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5lbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkVG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhZGRUaW1lVG9BcnJheUZyb21Ub2tlbih0b2tlbiwgcGFyc2VkSW5wdXQsIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb25maWcuX3N0cmljdCAmJiAhcGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgcmVtYWluaW5nIHVucGFyc2VkIGlucHV0IGxlbmd0aCB0byB0aGUgc3RyaW5nXG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmNoYXJzTGVmdE92ZXIgPSBzdHJpbmdMZW5ndGggLSB0b3RhbFBhcnNlZElucHV0TGVuZ3RoO1xuICAgICAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZElucHV0LnB1c2goc3RyaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNsZWFyIF8xMmggZmxhZyBpZiBob3VyIGlzIDw9IDEyXG4gICAgICAgIGlmIChjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA+IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5wYXJzZWREYXRlUGFydHMgPSBjb25maWcuX2Euc2xpY2UoMCk7XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLm1lcmlkaWVtID0gY29uZmlnLl9tZXJpZGllbTtcbiAgICAgICAgLy8gaGFuZGxlIG1lcmlkaWVtXG4gICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IG1lcmlkaWVtRml4V3JhcChjb25maWcuX2xvY2FsZSwgY29uZmlnLl9hW0hPVVJdLCBjb25maWcuX21lcmlkaWVtKTtcblxuICAgICAgICBjb25maWdGcm9tQXJyYXkoY29uZmlnKTtcbiAgICAgICAgY2hlY2tPdmVyZmxvdyhjb25maWcpO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbWVyaWRpZW1GaXhXcmFwIChsb2NhbGUsIGhvdXIsIG1lcmlkaWVtKSB7XG4gICAgICAgIHZhciBpc1BtO1xuXG4gICAgICAgIGlmIChtZXJpZGllbSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYWxlLm1lcmlkaWVtSG91ciAhPSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLm1lcmlkaWVtSG91cihob3VyLCBtZXJpZGllbSk7XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxlLmlzUE0gIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2tcbiAgICAgICAgICAgIGlzUG0gPSBsb2NhbGUuaXNQTShtZXJpZGllbSk7XG4gICAgICAgICAgICBpZiAoaXNQbSAmJiBob3VyIDwgMTIpIHtcbiAgICAgICAgICAgICAgICBob3VyICs9IDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1BtICYmIGhvdXIgPT09IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaG91cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbm90IHN1cHBvc2VkIHRvIGhhcHBlblxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkYXRlIGZyb20gc3RyaW5nIGFuZCBhcnJheSBvZiBmb3JtYXQgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRBcnJheShjb25maWcpIHtcbiAgICAgICAgdmFyIHRlbXBDb25maWcsXG4gICAgICAgICAgICBiZXN0TW9tZW50LFxuXG4gICAgICAgICAgICBzY29yZVRvQmVhdCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBjdXJyZW50U2NvcmU7XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fZi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRGb3JtYXQgPSB0cnVlO1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoTmFOKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb25maWcuX2YubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZSA9IDA7XG4gICAgICAgICAgICB0ZW1wQ29uZmlnID0gY29weUNvbmZpZyh7fSwgY29uZmlnKTtcbiAgICAgICAgICAgIGlmIChjb25maWcuX3VzZVVUQyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGVtcENvbmZpZy5fdXNlVVRDID0gY29uZmlnLl91c2VVVEM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZW1wQ29uZmlnLl9mID0gY29uZmlnLl9mW2ldO1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZ0FuZEZvcm1hdCh0ZW1wQ29uZmlnKTtcblxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgICAgIGNvbmZpZy5fYSA9IG1hcChbaS55ZWFyLCBpLm1vbnRoLCBpLmRheSB8fCBpLmRhdGUsIGkuaG91ciwgaS5taW51dGUsIGkuc2Vjb25kLCBpLm1pbGxpc2Vjb25kXSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iaiAmJiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRnJvbUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciByZXMgPSBuZXcgTW9tZW50KGNoZWNrT3ZlcmZsb3cocHJlcGFyZUNvbmZpZyhjb25maWcpKSk7XG4gICAgICAgIGlmIChyZXMuX25leHREYXkpIHtcbiAgICAgICAgICAgIC8vIEFkZGluZyBpcyBzbWFydCBlbm91Z2ggYXJvdW5kIERTVFxuICAgICAgICAgICAgcmVzLmFkZCgxLCAnZCcpO1xuICAgICAgICAgICAgcmVzLl9uZXh0RGF5ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnIChjb25maWcpIHtcbiAgICAgICAgdmFyIGlucHV0ID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgZm9ybWF0ID0gY29uZmlnLl9mO1xuXG4gICAgICAgIGNvbmZpZy5fbG9jYWxlID0gY29uZmlnLl9sb2NhbGUgfHwgZ2V0TG9jYWxlKGNvbmZpZy5fbCk7XG5cbiAgICAgICAgaWYgKGlucHV0ID09PSBudWxsIHx8IChmb3JtYXQgPT09IHVuZGVmaW5lZCAmJiBpbnB1dCA9PT0gJycpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gaW5wdXQ7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSAgZWxzZSB7XG4gICAgICAgICAgICBjb25maWdGcm9tSW5wdXQoY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNWYWxpZChjb25maWcpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoaG9va3Mubm93KCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGF0ZShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0LnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnRnJvbVN0cmluZyhjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2EgPSBtYXAoaW5wdXQuc2xpY2UoMCksIGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQob2JqLCAxMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbU9iamVjdChjb25maWcpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2NhbE9yVVRDIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgaXNVVEMpIHtcbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBpZiAobG9jYWxlID09PSB0cnVlIHx8IGxvY2FsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoaXNPYmplY3QoaW5wdXQpICYmIGlzT2JqZWN0RW1wdHkoaW5wdXQpKSB8fFxuICAgICAgICAgICAgICAgIChpc0FycmF5KGlucHV0KSAmJiBpbnB1dC5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICBpbnB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWwgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvdHlwZU1pbiA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvJyxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW52YWxpZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHZhciBwcm90b3R5cGVNYXggPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4LycsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUxvY2FsLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1ZhbGlkKCkgJiYgb3RoZXIuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUludmFsaWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbiAgICAvL1xuICAgIC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2VcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuICAgIGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgICAgICB2YXIgcmVzLCBpO1xuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUxvY2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzID0gbW9tZW50c1swXTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IG1vbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmICghbW9tZW50c1tpXS5pc1ZhbGlkKCkgfHwgbW9tZW50c1tpXVtmbl0ocmVzKSkge1xuICAgICAgICAgICAgICAgIHJlcyA9IG1vbWVudHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBVc2UgW10uc29ydCBpbnN0ZWFkP1xuICAgIGZ1bmN0aW9uIG1pbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQmVmb3JlJywgYXJncyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWF4ICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG5cbiAgICAgICAgcmV0dXJuIHBpY2tCeSgnaXNBZnRlcicsIGFyZ3MpO1xuICAgIH1cblxuICAgIHZhciBub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBEYXRlLm5vdyA/IERhdGUubm93KCkgOiArKG5ldyBEYXRlKCkpO1xuICAgIH07XG5cbiAgICB2YXIgb3JkZXJpbmcgPSBbJ3llYXInLCAncXVhcnRlcicsICdtb250aCcsICd3ZWVrJywgJ2RheScsICdob3VyJywgJ21pbnV0ZScsICdzZWNvbmQnLCAnbWlsbGlzZWNvbmQnXTtcblxuICAgIGZ1bmN0aW9uIGlzRHVyYXRpb25WYWxpZChtKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBtKSB7XG4gICAgICAgICAgICBpZiAoIShpbmRleE9mLmNhbGwob3JkZXJpbmcsIGtleSkgIT09IC0xICYmIChtW2tleV0gPT0gbnVsbCB8fCAhaXNOYU4obVtrZXldKSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHVuaXRIYXNEZWNpbWFsID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChtW29yZGVyaW5nW2ldXSkge1xuICAgICAgICAgICAgICAgIGlmICh1bml0SGFzRGVjaW1hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG9ubHkgYWxsb3cgbm9uLWludGVnZXJzIGZvciBzbWFsbGVzdCB1bml0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KG1bb3JkZXJpbmdbaV1dKSAhPT0gdG9JbnQobVtvcmRlcmluZ1tpXV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXRIYXNEZWNpbWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1ZhbGlkJDEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1ZhbGlkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUludmFsaWQkMSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKE5hTik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRHVyYXRpb24gKGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSBub3JtYWxpemVPYmplY3RVbml0cyhkdXJhdGlvbiksXG4gICAgICAgICAgICB5ZWFycyA9IG5vcm1hbGl6ZWRJbnB1dC55ZWFyIHx8IDAsXG4gICAgICAgICAgICBxdWFydGVycyA9IG5vcm1hbGl6ZWRJbnB1dC5xdWFydGVyIHx8IDAsXG4gICAgICAgICAgICBtb250aHMgPSBub3JtYWxpemVkSW5wdXQubW9udGggfHwgMCxcbiAgICAgICAgICAgIHdlZWtzID0gbm9ybWFsaXplZElucHV0LndlZWsgfHwgMCxcbiAgICAgICAgICAgIGRheXMgPSBub3JtYWxpemVkSW5wdXQuZGF5IHx8IDAsXG4gICAgICAgICAgICBob3VycyA9IG5vcm1hbGl6ZWRJbnB1dC5ob3VyIHx8IDAsXG4gICAgICAgICAgICBtaW51dGVzID0gbm9ybWFsaXplZElucHV0Lm1pbnV0ZSB8fCAwLFxuICAgICAgICAgICAgc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5zZWNvbmQgfHwgMCxcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyA9IG5vcm1hbGl6ZWRJbnB1dC5taWxsaXNlY29uZCB8fCAwO1xuXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBpc0R1cmF0aW9uVmFsaWQobm9ybWFsaXplZElucHV0KTtcblxuICAgICAgICAvLyByZXByZXNlbnRhdGlvbiBmb3IgZGF0ZUFkZFJlbW92ZVxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSArbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHNlY29uZHMgKiAxZTMgKyAvLyAxMDAwXG4gICAgICAgICAgICBtaW51dGVzICogNmU0ICsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBob3VycyAqIDEwMDAgKiA2MCAqIDYwOyAvL3VzaW5nIDEwMDAgKiA2MCAqIDYwIGluc3RlYWQgb2YgMzZlNSB0byBhdm9pZCBmbG9hdGluZyBwb2ludCByb3VuZGluZyBlcnJvcnMgaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzI5NzhcbiAgICAgICAgLy8gQmVjYXVzZSBvZiBkYXRlQWRkUmVtb3ZlIHRyZWF0cyAyNCBob3VycyBhcyBkaWZmZXJlbnQgZnJvbSBhXG4gICAgICAgIC8vIGRheSB3aGVuIHdvcmtpbmcgYXJvdW5kIERTVCwgd2UgbmVlZCB0byBzdG9yZSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgdGhpcy5fZGF5cyA9ICtkYXlzICtcbiAgICAgICAgICAgIHdlZWtzICogNztcbiAgICAgICAgLy8gSXQgaXMgaW1wb3NzaWJsZSB0byB0cmFuc2xhdGUgbW9udGhzIGludG8gZGF5cyB3aXRob3V0IGtub3dpbmdcbiAgICAgICAgLy8gd2hpY2ggbW9udGhzIHlvdSBhcmUgYXJlIHRhbGtpbmcgYWJvdXQsIHNvIHdlIGhhdmUgdG8gc3RvcmVcbiAgICAgICAgLy8gaXQgc2VwYXJhdGVseS5cbiAgICAgICAgdGhpcy5fbW9udGhzID0gK21vbnRocyArXG4gICAgICAgICAgICBxdWFydGVycyAqIDMgK1xuICAgICAgICAgICAgeWVhcnMgKiAxMjtcblxuICAgICAgICB0aGlzLl9kYXRhID0ge307XG5cbiAgICAgICAgdGhpcy5fbG9jYWxlID0gZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNSb3VuZCAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgtMSAqIG51bWJlcikgKiAtMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hTaG9ydE9mZnNldCk7XG4gICAgYWRkUmVnZXhUb2tlbignWlonLCBtYXRjaFNob3J0T2Zmc2V0KTtcbiAgICBhZGRQYXJzZVRva2VuKFsnWicsICdaWiddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl91c2VVVEMgPSB0cnVlO1xuICAgICAgICBjb25maWcuX3R6bSA9IG9mZnNldEZyb21TdHJpbmcobWF0Y2hTaG9ydE9mZnNldCwgaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy8gdGltZXpvbmUgY2h1bmtlclxuICAgIC8vICcrMTA6MDAnID4gWycxMCcsICAnMDAnXVxuICAgIC8vICctMTUzMCcgID4gWyctMTUnLCAnMzAnXVxuICAgIHZhciBjaHVua09mZnNldCA9IC8oW1xcK1xcLV18XFxkXFxkKS9naTtcblxuICAgIGZ1bmN0aW9uIG9mZnNldEZyb21TdHJpbmcobWF0Y2hlciwgc3RyaW5nKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hlcik7XG5cbiAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBtaW51dGVzID09PSAwID9cbiAgICAgICAgICAwIDpcbiAgICAgICAgICBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgICAgICB2YXIgcmVzLCBkaWZmO1xuICAgICAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/IGlucHV0LnZhbHVlT2YoKSA6IGNyZWF0ZUxvY2FsKGlucHV0KS52YWx1ZU9mKCkpIC0gcmVzLnZhbHVlT2YoKTtcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgICAgIHJlcy5fZC5zZXRUaW1lKHJlcy5fZC52YWx1ZU9mKCkgKyBkaWZmKTtcbiAgICAgICAgICAgIGhvb2tzLnVwZGF0ZU9mZnNldChyZXMsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQpLmxvY2FsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXREYXRlT2Zmc2V0IChtKSB7XG4gICAgICAgIC8vIE9uIEZpcmVmb3guMjQgRGF0ZSNnZXRUaW1lem9uZU9mZnNldCByZXR1cm5zIGEgZmxvYXRpbmcgcG9pbnQuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L3B1bGwvMTg3MVxuICAgICAgICByZXR1cm4gLU1hdGgucm91bmQobS5fZC5nZXRUaW1lem9uZU9mZnNldCgpIC8gMTUpICogMTU7XG4gICAgfVxuXG4gICAgLy8gSE9PS1NcblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbmV2ZXIgYSBtb21lbnQgaXMgbXV0YXRlZC5cbiAgICAvLyBJdCBpcyBpbnRlbmRlZCB0byBrZWVwIHRoZSBvZmZzZXQgaW4gc3luYyB3aXRoIHRoZSB0aW1lem9uZS5cbiAgICBob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4gICAgLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuICAgIC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbiAgICAvL1xuICAgIC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuICAgIC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbiAgICAvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUsIGtlZXBNaW51dGVzKSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLl9vZmZzZXQgfHwgMCxcbiAgICAgICAgICAgIGxvY2FsQWRqdXN0O1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQgIT0gbnVsbCA/IHRoaXMgOiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoU2hvcnRPZmZzZXQsIGlucHV0KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbnB1dCkgPCAxNiAmJiAha2VlcE1pbnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFN1YnRyYWN0KHRoaXMsIGNyZWF0ZUR1cmF0aW9uKGlucHV0IC0gb2Zmc2V0LCAnbScpLCAxLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGFuZ2VJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/IG9mZnNldCA6IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRab25lIChpbnB1dCwga2VlcExvY2FsVGltZSkge1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IC1pbnB1dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoaW5wdXQsIGtlZXBMb2NhbFRpbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtdGhpcy51dGNPZmZzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvVVRDIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb0xvY2FsIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1VUQykge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwga2VlcExvY2FsVGltZSk7XG4gICAgICAgICAgICB0aGlzLl9pc1VUQyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoa2VlcExvY2FsVGltZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3VidHJhY3QoZ2V0RGF0ZU9mZnNldCh0aGlzKSwgJ20nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldCAoKSB7XG4gICAgICAgIGlmICh0aGlzLl90em0gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuX2kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdFpvbmUgPSBvZmZzZXRGcm9tU3RyaW5nKG1hdGNoT2Zmc2V0LCB0aGlzLl9pKTtcbiAgICAgICAgICAgIGlmICh0Wm9uZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodFpvbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoMCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzQWxpZ25lZEhvdXJPZmZzZXQgKGlucHV0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbnB1dCA9IGlucHV0ID8gY3JlYXRlTG9jYWwoaW5wdXQpLnV0Y09mZnNldCgpIDogMDtcblxuICAgICAgICByZXR1cm4gKHRoaXMudXRjT2Zmc2V0KCkgLSBpbnB1dCkgJSA2MCA9PT0gMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0RheWxpZ2h0U2F2aW5nVGltZSAoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDApLnV0Y09mZnNldCgpIHx8XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgpID4gdGhpcy5jbG9uZSgpLm1vbnRoKDUpLnV0Y09mZnNldCgpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWVTaGlmdGVkICgpIHtcbiAgICAgICAgaWYgKCFpc1VuZGVmaW5lZCh0aGlzLl9pc0RTVFNoaWZ0ZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGMgPSB7fTtcblxuICAgICAgICBjb3B5Q29uZmlnKGMsIHRoaXMpO1xuICAgICAgICBjID0gcHJlcGFyZUNvbmZpZyhjKTtcblxuICAgICAgICBpZiAoYy5fYSkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gYy5faXNVVEMgPyBjcmVhdGVVVEMoYy5fYSkgOiBjcmVhdGVMb2NhbChjLl9hKTtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZUFycmF5cyhjLl9hLCBvdGhlci50b0FycmF5KCkpID4gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lzRFNUU2hpZnRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xvY2FsICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gIXRoaXMuX2lzVVRDIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNVdGNPZmZzZXQgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9pc1VUQyA6IGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCgpID8gdGhpcy5faXNVVEMgJiYgdGhpcy5fb2Zmc2V0ID09PSAwIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gQVNQLk5FVCBqc29uIGRhdGUgZm9ybWF0IHJlZ2V4XG4gICAgdmFyIGFzcE5ldFJlZ2V4ID0gL14oXFwtfFxcKyk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC87XG5cbiAgICAvLyBmcm9tIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvY2xvc3VyZV9nb29nX2RhdGVfZGF0ZS5qcy5zb3VyY2UuaHRtbFxuICAgIC8vIHNvbWV3aGF0IG1vcmUgaW4gbGluZSB3aXRoIDQuNC4zLjIgMjAwNCBzcGVjLCBidXQgYWxsb3dzIGRlY2ltYWwgYW55d2hlcmVcbiAgICAvLyBhbmQgZnVydGhlciBtb2RpZmllZCB0byBhbGxvdyBmb3Igc3RyaW5ncyBjb250YWluaW5nIGJvdGggd2VlayBhbmQgZGF5XG4gICAgdmFyIGlzb1JlZ2V4ID0gL14oLXxcXCspP1AoPzooWy0rXT9bMC05LC5dKilZKT8oPzooWy0rXT9bMC05LC5dKilNKT8oPzooWy0rXT9bMC05LC5dKilXKT8oPzooWy0rXT9bMC05LC5dKilEKT8oPzpUKD86KFstK10/WzAtOSwuXSopSCk/KD86KFstK10/WzAtOSwuXSopTSk/KD86KFstK10/WzAtOSwuXSopUyk/KT8kLztcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUR1cmF0aW9uIChpbnB1dCwga2V5KSB7XG4gICAgICAgIHZhciBkdXJhdGlvbiA9IGlucHV0LFxuICAgICAgICAgICAgLy8gbWF0Y2hpbmcgYWdhaW5zdCByZWdleHAgaXMgZXhwZW5zaXZlLCBkbyBpdCBvbiBkZW1hbmRcbiAgICAgICAgICAgIG1hdGNoID0gbnVsbCxcbiAgICAgICAgICAgIHNpZ24sXG4gICAgICAgICAgICByZXQsXG4gICAgICAgICAgICBkaWZmUmVzO1xuXG4gICAgICAgIGlmIChpc0R1cmF0aW9uKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbXMgOiBpbnB1dC5fbWlsbGlzZWNvbmRzLFxuICAgICAgICAgICAgICAgIGQgIDogaW5wdXQuX2RheXMsXG4gICAgICAgICAgICAgICAgTSAgOiBpbnB1dC5fbW9udGhzXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGlucHV0KSkge1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7fTtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbltrZXldID0gaW5wdXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uLm1pbGxpc2Vjb25kcyA9IGlucHV0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gYXNwTmV0UmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAxO1xuICAgICAgICAgICAgZHVyYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgeSAgOiAwLFxuICAgICAgICAgICAgICAgIGQgIDogdG9JbnQobWF0Y2hbREFURV0pICAgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgICAgICAgICAgICAgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgbSAgOiB0b0ludChtYXRjaFtNSU5VVEVdKSAgICAgICAgICAgICAgICAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIHMgIDogdG9JbnQobWF0Y2hbU0VDT05EXSkgICAgICAgICAgICAgICAgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBtcyA6IHRvSW50KGFic1JvdW5kKG1hdGNoW01JTExJU0VDT05EXSAqIDEwMDApKSAqIHNpZ24gLy8gdGhlIG1pbGxpc2Vjb25kIGRlY2ltYWwgcG9pbnQgaXMgaW5jbHVkZWQgaW4gdGhlIG1hdGNoXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gaXNvUmVnZXguZXhlYyhpbnB1dCkpKSB7XG4gICAgICAgICAgICBzaWduID0gKG1hdGNoWzFdID09PSAnLScpID8gLTEgOiAobWF0Y2hbMV0gPT09ICcrJykgPyAxIDogMTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIHkgOiBwYXJzZUlzbyhtYXRjaFsyXSwgc2lnbiksXG4gICAgICAgICAgICAgICAgTSA6IHBhcnNlSXNvKG1hdGNoWzNdLCBzaWduKSxcbiAgICAgICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbNF0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIGQgOiBwYXJzZUlzbyhtYXRjaFs1XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgaCA6IHBhcnNlSXNvKG1hdGNoWzZdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBtIDogcGFyc2VJc28obWF0Y2hbN10sIHNpZ24pLFxuICAgICAgICAgICAgICAgIHMgOiBwYXJzZUlzbyhtYXRjaFs4XSwgc2lnbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoZHVyYXRpb24gPT0gbnVsbCkgey8vIGNoZWNrcyBmb3IgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGR1cmF0aW9uID09PSAnb2JqZWN0JyAmJiAoJ2Zyb20nIGluIGR1cmF0aW9uIHx8ICd0bycgaW4gZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBkaWZmUmVzID0gbW9tZW50c0RpZmZlcmVuY2UoY3JlYXRlTG9jYWwoZHVyYXRpb24uZnJvbSksIGNyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBjcmVhdGVEdXJhdGlvbi5mbiA9IER1cmF0aW9uLnByb3RvdHlwZTtcbiAgICBjcmVhdGVEdXJhdGlvbi5pbnZhbGlkID0gY3JlYXRlSW52YWxpZCQxO1xuXG4gICAgZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuICAgICAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgICAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAgICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgICAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAgICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgICAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzID0ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblxuICAgICAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzO1xuICAgICAgICBpZiAoIShiYXNlLmlzVmFsaWQoKSAmJiBvdGhlci5pc1ZhbGlkKCkpKSB7XG4gICAgICAgICAgICByZXR1cm4ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyID0gY2xvbmVXaXRoT2Zmc2V0KG90aGVyLCBiYXNlKTtcbiAgICAgICAgaWYgKGJhc2UuaXNCZWZvcmUob3RoZXIpKSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKGJhc2UsIG90aGVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcyA9IHBvc2l0aXZlTW9tZW50c0RpZmZlcmVuY2Uob3RoZXIsIGJhc2UpO1xuICAgICAgICAgICAgcmVzLm1pbGxpc2Vjb25kcyA9IC1yZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgcmVzLm1vbnRocyA9IC1yZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvLyBUT0RPOiByZW1vdmUgJ25hbWUnIGFyZyBhZnRlciBkZXByZWNhdGlvbiBpcyByZW1vdmVkXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4gJyArXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2FkZC1pbnZlcnRlZC1wYXJhbS8gZm9yIG1vcmUgaW5mby4nKTtcbiAgICAgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgICAgICBkdXIgPSBjcmVhdGVEdXJhdGlvbih2YWwsIHBlcmlvZCk7XG4gICAgICAgICAgICBhZGRTdWJ0cmFjdCh0aGlzLCBkdXIsIGRpcmVjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSBhYnNSb3VuZChkdXJhdGlvbi5fZGF5cyksXG4gICAgICAgICAgICBtb250aHMgPSBhYnNSb3VuZChkdXJhdGlvbi5fbW9udGhzKTtcblxuICAgICAgICBpZiAoIW1vbS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIC8vIE5vIG9wXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB1cGRhdGVPZmZzZXQgPSB1cGRhdGVPZmZzZXQgPT0gbnVsbCA/IHRydWUgOiB1cGRhdGVPZmZzZXQ7XG5cbiAgICAgICAgaWYgKG1vbnRocykge1xuICAgICAgICAgICAgc2V0TW9udGgobW9tLCBnZXQobW9tLCAnTW9udGgnKSArIG1vbnRocyAqIGlzQWRkaW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF5cykge1xuICAgICAgICAgICAgc2V0JDEobW9tLCAnRGF0ZScsIGdldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaWxsaXNlY29uZHMpIHtcbiAgICAgICAgICAgIG1vbS5fZC5zZXRUaW1lKG1vbS5fZC52YWx1ZU9mKCkgKyBtaWxsaXNlY29uZHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICAgICAgaG9va3MudXBkYXRlT2Zmc2V0KG1vbSwgZGF5cyB8fCBtb250aHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGFkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuICAgIHZhciBzdWJ0cmFjdCA9IGNyZWF0ZUFkZGVyKC0xLCAnc3VidHJhY3QnKTtcblxuICAgIGZ1bmN0aW9uIGdldENhbGVuZGFyRm9ybWF0KG15TW9tZW50LCBub3cpIHtcbiAgICAgICAgdmFyIGRpZmYgPSBteU1vbWVudC5kaWZmKG5vdywgJ2RheXMnLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGRpZmYgPCAtNiA/ICdzYW1lRWxzZScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAtMSA/ICdsYXN0V2VlaycgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAwID8gJ2xhc3REYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMSA/ICdzYW1lRGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDIgPyAnbmV4dERheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCA3ID8gJ25leHRXZWVrJyA6ICdzYW1lRWxzZSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsZW5kYXIkMSAodGltZSwgZm9ybWF0cykge1xuICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgICAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICAgICAgdmFyIG5vdyA9IHRpbWUgfHwgY3JlYXRlTG9jYWwoKSxcbiAgICAgICAgICAgIHNvZCA9IGNsb25lV2l0aE9mZnNldChub3csIHRoaXMpLnN0YXJ0T2YoJ2RheScpLFxuICAgICAgICAgICAgZm9ybWF0ID0gaG9va3MuY2FsZW5kYXJGb3JtYXQodGhpcywgc29kKSB8fCAnc2FtZUVsc2UnO1xuXG4gICAgICAgIHZhciBvdXRwdXQgPSBmb3JtYXRzICYmIChpc0Z1bmN0aW9uKGZvcm1hdHNbZm9ybWF0XSkgPyBmb3JtYXRzW2Zvcm1hdF0uY2FsbCh0aGlzLCBub3cpIDogZm9ybWF0c1tmb3JtYXRdKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQob3V0cHV0IHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgY3JlYXRlTG9jYWwobm93KSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsb25lICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNb21lbnQodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNBZnRlciAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgIGlmICghKHRoaXMuaXNWYWxpZCgpICYmIGxvY2FsSW5wdXQuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHMoIWlzVW5kZWZpbmVkKHVuaXRzKSA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVPZigpID4gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxJbnB1dC52YWx1ZU9mKCkgPCB0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykudmFsdWVPZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZWZvcmUgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgbG9jYWxJbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKCFpc1VuZGVmaW5lZCh1bml0cykgPyB1bml0cyA6ICdtaWxsaXNlY29uZCcpO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA8IGxvY2FsSW5wdXQudmFsdWVPZigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykudmFsdWVPZigpIDwgbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0JldHdlZW4gKGZyb20sIHRvLCB1bml0cywgaW5jbHVzaXZpdHkpIHtcbiAgICAgICAgaW5jbHVzaXZpdHkgPSBpbmNsdXNpdml0eSB8fCAnKCknO1xuICAgICAgICByZXR1cm4gKGluY2x1c2l2aXR5WzBdID09PSAnKCcgPyB0aGlzLmlzQWZ0ZXIoZnJvbSwgdW5pdHMpIDogIXRoaXMuaXNCZWZvcmUoZnJvbSwgdW5pdHMpKSAmJlxuICAgICAgICAgICAgKGluY2x1c2l2aXR5WzFdID09PSAnKScgPyB0aGlzLmlzQmVmb3JlKHRvLCB1bml0cykgOiAhdGhpcy5pc0FmdGVyKHRvLCB1bml0cykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBsb2NhbElucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBjcmVhdGVMb2NhbChpbnB1dCksXG4gICAgICAgICAgICBpbnB1dE1zO1xuICAgICAgICBpZiAoISh0aGlzLmlzVmFsaWQoKSAmJiBsb2NhbElucHV0LmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKSA9PT0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gbG9jYWxJbnB1dC52YWx1ZU9mKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLnN0YXJ0T2YodW5pdHMpLnZhbHVlT2YoKSA8PSBpbnB1dE1zICYmIGlucHV0TXMgPD0gdGhpcy5jbG9uZSgpLmVuZE9mKHVuaXRzKS52YWx1ZU9mKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWVPckFmdGVyIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lKGlucHV0LCB1bml0cykgfHwgdGhpcy5pc0FmdGVyKGlucHV0LHVuaXRzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NhbWVPckJlZm9yZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzU2FtZShpbnB1dCwgdW5pdHMpIHx8IHRoaXMuaXNCZWZvcmUoaW5wdXQsdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRpZmYgKGlucHV0LCB1bml0cywgYXNGbG9hdCkge1xuICAgICAgICB2YXIgdGhhdCxcbiAgICAgICAgICAgIHpvbmVEZWx0YSxcbiAgICAgICAgICAgIG91dHB1dDtcblxuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhhdCA9IGNsb25lV2l0aE9mZnNldChpbnB1dCwgdGhpcyk7XG5cbiAgICAgICAgaWYgKCF0aGF0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQ7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgY2FzZSAneWVhcic6IG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KSAvIDEyOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vbnRoJzogb3V0cHV0ID0gbW9udGhEaWZmKHRoaXMsIHRoYXQpOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3F1YXJ0ZXInOiBvdXRwdXQgPSBtb250aERpZmYodGhpcywgdGhhdCkgLyAzOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3NlY29uZCc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCkgLyAxZTM7IGJyZWFrOyAvLyAxMDAwXG4gICAgICAgICAgICBjYXNlICdtaW51dGUnOiBvdXRwdXQgPSAodGhpcyAtIHRoYXQpIC8gNmU0OyBicmVhazsgLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICBjYXNlICdob3VyJzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0KSAvIDM2ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MFxuICAgICAgICAgICAgY2FzZSAnZGF5Jzogb3V0cHV0ID0gKHRoaXMgLSB0aGF0IC0gem9uZURlbHRhKSAvIDg2NGU1OyBicmVhazsgLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICAgICAgY2FzZSAnd2Vlayc6IG91dHB1dCA9ICh0aGlzIC0gdGhhdCAtIHpvbmVEZWx0YSkgLyA2MDQ4ZTU7IGJyZWFrOyAvLyAxMDAwICogNjAgKiA2MCAqIDI0ICogNywgbmVnYXRlIGRzdFxuICAgICAgICAgICAgZGVmYXVsdDogb3V0cHV0ID0gdGhpcyAtIHRoYXQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG4gICAgICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICAgICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NoZWNrIGZvciBuZWdhdGl2ZSB6ZXJvLCByZXR1cm4gemVybyBpZiBuZWdhdGl2ZSB6ZXJvXG4gICAgICAgIHJldHVybiAtKHdob2xlTW9udGhEaWZmICsgYWRqdXN0KSB8fCAwO1xuICAgIH1cblxuICAgIGhvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuICAgIGhvb2tzLmRlZmF1bHRGb3JtYXRVdGMgPSAnWVlZWS1NTS1ERFRISDptbTpzc1taXSc7XG5cbiAgICBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKCkubG9jYWxlKCdlbicpLmZvcm1hdCgnZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlonKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0lTT1N0cmluZyhrZWVwT2Zmc2V0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1dGMgPSBrZWVwT2Zmc2V0ICE9PSB0cnVlO1xuICAgICAgICB2YXIgbSA9IHV0YyA/IHRoaXMuY2xvbmUoKS51dGMoKSA6IHRoaXM7XG4gICAgICAgIGlmIChtLnllYXIoKSA8IDAgfHwgbS55ZWFyKCkgPiA5OTk5KSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sIHV0YyA/ICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nIDogJ1lZWVlZWS1NTS1ERFtUXUhIOm1tOnNzLlNTU1onKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNGdW5jdGlvbihEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZykpIHtcbiAgICAgICAgICAgIC8vIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBpcyB+NTB4IGZhc3RlciwgdXNlIGl0IHdoZW4gd2UgY2FuXG4gICAgICAgICAgICBpZiAodXRjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpICsgdGhpcy51dGNPZmZzZXQoKSAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdaJywgZm9ybWF0TW9tZW50KG0sICdaJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXRNb21lbnQobSwgdXRjID8gJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nIDogJ1lZWVktTU0tRERbVF1ISDptbTpzcy5TU1NaJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgaHVtYW4gcmVhZGFibGUgcmVwcmVzZW50YXRpb24gb2YgYSBtb21lbnQgdGhhdCBjYW5cbiAgICAgKiBhbHNvIGJlIGV2YWx1YXRlZCB0byBnZXQgYSBuZXcgbW9tZW50IHdoaWNoIGlzIHRoZSBzYW1lXG4gICAgICpcbiAgICAgKiBAbGluayBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QvZG9jcy9hcGkvdXRpbC5odG1sI3V0aWxfY3VzdG9tX2luc3BlY3RfZnVuY3Rpb25fb25fb2JqZWN0c1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21vbWVudC5pbnZhbGlkKC8qICcgKyB0aGlzLl9pICsgJyAqLyknO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmdW5jID0gJ21vbWVudCc7XG4gICAgICAgIHZhciB6b25lID0gJyc7XG4gICAgICAgIGlmICghdGhpcy5pc0xvY2FsKCkpIHtcbiAgICAgICAgICAgIGZ1bmMgPSB0aGlzLnV0Y09mZnNldCgpID09PSAwID8gJ21vbWVudC51dGMnIDogJ21vbWVudC5wYXJzZVpvbmUnO1xuICAgICAgICAgICAgem9uZSA9ICdaJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJlZml4ID0gJ1snICsgZnVuYyArICcoXCJdJztcbiAgICAgICAgdmFyIHllYXIgPSAoMCA8PSB0aGlzLnllYXIoKSAmJiB0aGlzLnllYXIoKSA8PSA5OTk5KSA/ICdZWVlZJyA6ICdZWVlZWVknO1xuICAgICAgICB2YXIgZGF0ZXRpbWUgPSAnLU1NLUREW1RdSEg6bW06c3MuU1NTJztcbiAgICAgICAgdmFyIHN1ZmZpeCA9IHpvbmUgKyAnW1wiKV0nO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdChwcmVmaXggKyB5ZWFyICsgZGF0ZXRpbWUgKyBzdWZmaXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgaWYgKCFpbnB1dFN0cmluZykge1xuICAgICAgICAgICAgaW5wdXRTdHJpbmcgPSB0aGlzLmlzVXRjKCkgPyBob29rcy5kZWZhdWx0Rm9ybWF0VXRjIDogaG9va3MuZGVmYXVsdEZvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3V0cHV0ID0gZm9ybWF0TW9tZW50KHRoaXMsIGlucHV0U3RyaW5nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmcm9tICh0aW1lLCB3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSAmJlxuICAgICAgICAgICAgICAgICgoaXNNb21lbnQodGltZSkgJiYgdGltZS5pc1ZhbGlkKCkpIHx8XG4gICAgICAgICAgICAgICAgIGNyZWF0ZUxvY2FsKHRpbWUpLmlzVmFsaWQoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmcm9tTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyb20oY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZCgpICYmXG4gICAgICAgICAgICAgICAgKChpc01vbWVudCh0aW1lKSAmJiB0aW1lLmlzVmFsaWQoKSkgfHxcbiAgICAgICAgICAgICAgICAgY3JlYXRlTG9jYWwodGltZSkuaXNWYWxpZCgpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUR1cmF0aW9uKHtmcm9tOiB0aGlzLCB0bzogdGltZX0pLmxvY2FsZSh0aGlzLmxvY2FsZSgpKS5odW1hbml6ZSghd2l0aG91dFN1ZmZpeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvTm93ICh3aXRob3V0U3VmZml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvKGNyZWF0ZUxvY2FsKCksIHdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIC8vIElmIHBhc3NlZCBhIGxvY2FsZSBrZXksIGl0IHdpbGwgc2V0IHRoZSBsb2NhbGUgZm9yIHRoaXNcbiAgICAvLyBpbnN0YW5jZS4gIE90aGVyd2lzZSwgaXQgd2lsbCByZXR1cm4gdGhlIGxvY2FsZSBjb25maWd1cmF0aW9uXG4gICAgLy8gdmFyaWFibGVzIGZvciB0aGlzIGluc3RhbmNlLlxuICAgIGZ1bmN0aW9uIGxvY2FsZSAoa2V5KSB7XG4gICAgICAgIHZhciBuZXdMb2NhbGVEYXRhO1xuXG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZS5fYWJicjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0xvY2FsZURhdGEgPSBnZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICAgICAgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuICAgICAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgIHRoaXMubW9udGgoMCk7XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAncXVhcnRlcic6XG4gICAgICAgICAgICBjYXNlICdtb250aCc6XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlKDEpO1xuICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGNhc2UgJ3dlZWsnOlxuICAgICAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgICAgICBjYXNlICdkYXknOlxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5ob3VycygwKTtcbiAgICAgICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1pbnV0ZXMoMCk7XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNlY29uZHMoMCk7XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1pbGxpc2Vjb25kcygwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdlZWtzIGFyZSBhIHNwZWNpYWwgY2FzZVxuICAgICAgICBpZiAodW5pdHMgPT09ICd3ZWVrJykge1xuICAgICAgICAgICAgdGhpcy53ZWVrZGF5KDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ2lzb1dlZWsnKSB7XG4gICAgICAgICAgICB0aGlzLmlzb1dlZWtkYXkoMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBxdWFydGVycyBhcmUgYWxzbyBzcGVjaWFsXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgICAgICB0aGlzLm1vbnRoKE1hdGguZmxvb3IodGhpcy5tb250aCgpIC8gMykgKiAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuZE9mICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgaWYgKHVuaXRzID09PSB1bmRlZmluZWQgfHwgdW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gJ2RhdGUnIGlzIGFuIGFsaWFzIGZvciAnZGF5Jywgc28gaXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYXMgc3VjaC5cbiAgICAgICAgaWYgKHVuaXRzID09PSAnZGF0ZScpIHtcbiAgICAgICAgICAgIHVuaXRzID0gJ2RheSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zdGFydE9mKHVuaXRzKS5hZGQoMSwgKHVuaXRzID09PSAnaXNvV2VlaycgPyAnd2VlaycgOiB1bml0cykpLnN1YnRyYWN0KDEsICdtcycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbHVlT2YgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZC52YWx1ZU9mKCkgLSAoKHRoaXMuX29mZnNldCB8fCAwKSAqIDYwMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1bml4ICgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IodGhpcy52YWx1ZU9mKCkgLyAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0RhdGUgKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy52YWx1ZU9mKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvQXJyYXkgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBbbS55ZWFyKCksIG0ubW9udGgoKSwgbS5kYXRlKCksIG0uaG91cigpLCBtLm1pbnV0ZSgpLCBtLnNlY29uZCgpLCBtLm1pbGxpc2Vjb25kKCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvT2JqZWN0ICgpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcnM6IG0ueWVhcigpLFxuICAgICAgICAgICAgbW9udGhzOiBtLm1vbnRoKCksXG4gICAgICAgICAgICBkYXRlOiBtLmRhdGUoKSxcbiAgICAgICAgICAgIGhvdXJzOiBtLmhvdXJzKCksXG4gICAgICAgICAgICBtaW51dGVzOiBtLm1pbnV0ZXMoKSxcbiAgICAgICAgICAgIHNlY29uZHM6IG0uc2Vjb25kcygpLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzOiBtLm1pbGxpc2Vjb25kcygpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9KU09OICgpIHtcbiAgICAgICAgLy8gbmV3IERhdGUoTmFOKS50b0pTT04oKSA9PT0gbnVsbFxuICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLnRvSVNPU3RyaW5nKCkgOiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVmFsaWQkMiAoKSB7XG4gICAgICAgIHJldHVybiBpc1ZhbGlkKHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNpbmdGbGFncyAoKSB7XG4gICAgICAgIHJldHVybiBleHRlbmQoe30sIGdldFBhcnNpbmdGbGFncyh0aGlzKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW52YWxpZEF0ICgpIHtcbiAgICAgICAgcmV0dXJuIGdldFBhcnNpbmdGbGFncyh0aGlzKS5vdmVyZmxvdztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGlvbkRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbnB1dDogdGhpcy5faSxcbiAgICAgICAgICAgIGZvcm1hdDogdGhpcy5fZixcbiAgICAgICAgICAgIGxvY2FsZTogdGhpcy5fbG9jYWxlLFxuICAgICAgICAgICAgaXNVVEM6IHRoaXMuX2lzVVRDLFxuICAgICAgICAgICAgc3RyaWN0OiB0aGlzLl9zdHJpY3RcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ2dnJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2Vla1llYXIoKSAlIDEwMDtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnR0cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc29XZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1llYXJGb3JtYXRUb2tlbiAodG9rZW4sIGdldHRlcikge1xuICAgICAgICBhZGRGb3JtYXRUb2tlbigwLCBbdG9rZW4sIHRva2VuLmxlbmd0aF0sIDAsIGdldHRlcik7XG4gICAgfVxuXG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignZ2dnZycsICAgICAnd2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnZycsICAgICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ0dHR0cnLCAgJ2lzb1dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHR0cnLCAnaXNvV2Vla1llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnd2Vla1llYXInLCAnZ2cnKTtcbiAgICBhZGRVbml0QWxpYXMoJ2lzb1dlZWtZZWFyJywgJ0dHJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCd3ZWVrWWVhcicsIDEpO1xuICAgIGFkZFVuaXRQcmlvcml0eSgnaXNvV2Vla1llYXInLCAxKTtcblxuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRycsICAgICAgbWF0Y2hTaWduZWQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdHRycsICAgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignZ2cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0cnLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0dHR0cnLCAgbWF0Y2gxdG82LCBtYXRjaDYpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnZ2dnJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZ2dnZycsICdnZ2dnZycsICdHR0dHJywgJ0dHR0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuLnN1YnN0cigwLCAyKV0gPSB0b0ludChpbnB1dCk7XG4gICAgfSk7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnJywgJ0dHJ10sIGZ1bmN0aW9uIChpbnB1dCwgd2VlaywgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB3ZWVrW3Rva2VuXSA9IGhvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldFdlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIHRoaXMud2VlaygpLFxuICAgICAgICAgICAgICAgIHRoaXMud2Vla2RheSgpLFxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyxcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3kpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldElTT1dlZWtZZWFyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0U2V0V2Vla1llYXJIZWxwZXIuY2FsbCh0aGlzLFxuICAgICAgICAgICAgICAgIGlucHV0LCB0aGlzLmlzb1dlZWsoKSwgdGhpcy5pc29XZWVrZGF5KCksIDEsIDQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldElTT1dlZWtzSW5ZZWFyICgpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCAxLCA0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRXZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHZhciB3ZWVrSW5mbyA9IHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO1xuICAgICAgICByZXR1cm4gd2Vla3NJblllYXIodGhpcy55ZWFyKCksIHdlZWtJbmZvLmRvdywgd2Vla0luZm8uZG95KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRXZWVrWWVhckhlbHBlcihpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIHdlZWtzVGFyZ2V0O1xuICAgICAgICBpZiAoaW5wdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIodGhpcywgZG93LCBkb3kpLnllYXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3ZWVrc1RhcmdldCA9IHdlZWtzSW5ZZWFyKGlucHV0LCBkb3csIGRveSk7XG4gICAgICAgICAgICBpZiAod2VlayA+IHdlZWtzVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgd2VlayA9IHdlZWtzVGFyZ2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNldFdlZWtBbGwuY2FsbCh0aGlzLCBpbnB1dCwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0V2Vla0FsbCh3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3kpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhckRhdGEgPSBkYXlPZlllYXJGcm9tV2Vla3Mod2Vla1llYXIsIHdlZWssIHdlZWtkYXksIGRvdywgZG95KSxcbiAgICAgICAgICAgIGRhdGUgPSBjcmVhdGVVVENEYXRlKGRheU9mWWVhckRhdGEueWVhciwgMCwgZGF5T2ZZZWFyRGF0YS5kYXlPZlllYXIpO1xuXG4gICAgICAgIHRoaXMueWVhcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkpO1xuICAgICAgICB0aGlzLm1vbnRoKGRhdGUuZ2V0VVRDTW9udGgoKSk7XG4gICAgICAgIHRoaXMuZGF0ZShkYXRlLmdldFVUQ0RhdGUoKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdRJywgMCwgJ1FvJywgJ3F1YXJ0ZXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygncXVhcnRlcicsICdRJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdxdWFydGVyJywgNyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdRJywgbWF0Y2gxKTtcbiAgICBhZGRQYXJzZVRva2VuKCdRJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtNT05USF0gPSAodG9JbnQoaW5wdXQpIC0gMSkgKiAzO1xuICAgIH0pO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0UXVhcnRlciAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBNYXRoLmNlaWwoKHRoaXMubW9udGgoKSArIDEpIC8gMykgOiB0aGlzLm1vbnRoKChpbnB1dCAtIDEpICogMyArIHRoaXMubW9udGgoKSAlIDMpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdEJywgWydERCcsIDJdLCAnRG8nLCAnZGF0ZScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXRlJywgJ0QnKTtcblxuICAgIC8vIFBSSU9SSVRZXG4gICAgYWRkVW5pdFByaW9yaXR5KCdkYXRlJywgOSk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignREQnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignRG8nLCBmdW5jdGlvbiAoaXNTdHJpY3QsIGxvY2FsZSkge1xuICAgICAgICAvLyBUT0RPOiBSZW1vdmUgXCJvcmRpbmFsUGFyc2VcIiBmYWxsYmFjayBpbiBuZXh0IG1ham9yIHJlbGVhc2UuXG4gICAgICAgIHJldHVybiBpc1N0cmljdCA/XG4gICAgICAgICAgKGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZSB8fCBsb2NhbGUuX29yZGluYWxQYXJzZSkgOlxuICAgICAgICAgIGxvY2FsZS5fZGF5T2ZNb250aE9yZGluYWxQYXJzZUxlbmllbnQ7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbiAgICBhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdKTtcbiAgICB9KTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXREYXlPZk1vbnRoID0gbWFrZUdldFNldCgnRGF0ZScsIHRydWUpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0RERCcsIFsnRERERCcsIDNdLCAnREREbycsICdkYXlPZlllYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnZGF5T2ZZZWFyJywgJ0RERCcpO1xuXG4gICAgLy8gUFJJT1JJVFlcbiAgICBhZGRVbml0UHJpb3JpdHkoJ2RheU9mWWVhcicsIDQpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignREREJywgIG1hdGNoMXRvMyk7XG4gICAgYWRkUmVnZXhUb2tlbignRERERCcsIG1hdGNoMyk7XG4gICAgYWRkUGFyc2VUb2tlbihbJ0RERCcsICdEREREJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuICAgIH1cblxuICAgIC8vIEZPUk1BVFRJTkdcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaW51dGUnLCAxNCk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBSSU9SSVRZXG5cbiAgICBhZGRVbml0UHJpb3JpdHkoJ3NlY29uZCcsIDE1KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQUklPUklUWVxuXG4gICAgYWRkVW5pdFByaW9yaXR5KCdtaWxsaXNlY29uZCcsIDE2KTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1MnLCAgICBtYXRjaDF0bzMsIG1hdGNoMSk7XG4gICAgYWRkUmVnZXhUb2tlbignU1MnLCAgIG1hdGNoMXRvMywgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdTU1MnLCAgbWF0Y2gxdG8zLCBtYXRjaDMpO1xuXG4gICAgdmFyIHRva2VuO1xuICAgIGZvciAodG9rZW4gPSAnU1NTUyc7IHRva2VuLmxlbmd0aCA8PSA5OyB0b2tlbiArPSAnUycpIHtcbiAgICAgICAgYWRkUmVnZXhUb2tlbih0b2tlbiwgbWF0Y2hVbnNpZ25lZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNcyhpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbTUlMTElTRUNPTkRdID0gdG9JbnQoKCcwLicgKyBpbnB1dCkgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmb3IgKHRva2VuID0gJ1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFBhcnNlVG9rZW4odG9rZW4sIHBhcnNlTXMpO1xuICAgIH1cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0TWlsbGlzZWNvbmQgPSBtYWtlR2V0U2V0KCdNaWxsaXNlY29uZHMnLCBmYWxzZSk7XG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbigneicsICAwLCAwLCAnem9uZUFiYnInKTtcbiAgICBhZGRGb3JtYXRUb2tlbignenonLCAwLCAwLCAnem9uZU5hbWUnKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFpvbmVBYmJyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gJ1VUQycgOiAnJztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRab25lTmFtZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZScgOiAnJztcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG4gICAgcHJvdG8uYWRkICAgICAgICAgICAgICAgPSBhZGQ7XG4gICAgcHJvdG8uY2FsZW5kYXIgICAgICAgICAgPSBjYWxlbmRhciQxO1xuICAgIHByb3RvLmNsb25lICAgICAgICAgICAgID0gY2xvbmU7XG4gICAgcHJvdG8uZGlmZiAgICAgICAgICAgICAgPSBkaWZmO1xuICAgIHByb3RvLmVuZE9mICAgICAgICAgICAgID0gZW5kT2Y7XG4gICAgcHJvdG8uZm9ybWF0ICAgICAgICAgICAgPSBmb3JtYXQ7XG4gICAgcHJvdG8uZnJvbSAgICAgICAgICAgICAgPSBmcm9tO1xuICAgIHByb3RvLmZyb21Ob3cgICAgICAgICAgID0gZnJvbU5vdztcbiAgICBwcm90by50byAgICAgICAgICAgICAgICA9IHRvO1xuICAgIHByb3RvLnRvTm93ICAgICAgICAgICAgID0gdG9Ob3c7XG4gICAgcHJvdG8uZ2V0ICAgICAgICAgICAgICAgPSBzdHJpbmdHZXQ7XG4gICAgcHJvdG8uaW52YWxpZEF0ICAgICAgICAgPSBpbnZhbGlkQXQ7XG4gICAgcHJvdG8uaXNBZnRlciAgICAgICAgICAgPSBpc0FmdGVyO1xuICAgIHByb3RvLmlzQmVmb3JlICAgICAgICAgID0gaXNCZWZvcmU7XG4gICAgcHJvdG8uaXNCZXR3ZWVuICAgICAgICAgPSBpc0JldHdlZW47XG4gICAgcHJvdG8uaXNTYW1lICAgICAgICAgICAgPSBpc1NhbWU7XG4gICAgcHJvdG8uaXNTYW1lT3JBZnRlciAgICAgPSBpc1NhbWVPckFmdGVyO1xuICAgIHByb3RvLmlzU2FtZU9yQmVmb3JlICAgID0gaXNTYW1lT3JCZWZvcmU7XG4gICAgcHJvdG8uaXNWYWxpZCAgICAgICAgICAgPSBpc1ZhbGlkJDI7XG4gICAgcHJvdG8ubGFuZyAgICAgICAgICAgICAgPSBsYW5nO1xuICAgIHByb3RvLmxvY2FsZSAgICAgICAgICAgID0gbG9jYWxlO1xuICAgIHByb3RvLmxvY2FsZURhdGEgICAgICAgID0gbG9jYWxlRGF0YTtcbiAgICBwcm90by5tYXggICAgICAgICAgICAgICA9IHByb3RvdHlwZU1heDtcbiAgICBwcm90by5taW4gICAgICAgICAgICAgICA9IHByb3RvdHlwZU1pbjtcbiAgICBwcm90by5wYXJzaW5nRmxhZ3MgICAgICA9IHBhcnNpbmdGbGFncztcbiAgICBwcm90by5zZXQgICAgICAgICAgICAgICA9IHN0cmluZ1NldDtcbiAgICBwcm90by5zdGFydE9mICAgICAgICAgICA9IHN0YXJ0T2Y7XG4gICAgcHJvdG8uc3VidHJhY3QgICAgICAgICAgPSBzdWJ0cmFjdDtcbiAgICBwcm90by50b0FycmF5ICAgICAgICAgICA9IHRvQXJyYXk7XG4gICAgcHJvdG8udG9PYmplY3QgICAgICAgICAgPSB0b09iamVjdDtcbiAgICBwcm90by50b0RhdGUgICAgICAgICAgICA9IHRvRGF0ZTtcbiAgICBwcm90by50b0lTT1N0cmluZyAgICAgICA9IHRvSVNPU3RyaW5nO1xuICAgIHByb3RvLmluc3BlY3QgICAgICAgICAgID0gaW5zcGVjdDtcbiAgICBwcm90by50b0pTT04gICAgICAgICAgICA9IHRvSlNPTjtcbiAgICBwcm90by50b1N0cmluZyAgICAgICAgICA9IHRvU3RyaW5nO1xuICAgIHByb3RvLnVuaXggICAgICAgICAgICAgID0gdW5peDtcbiAgICBwcm90by52YWx1ZU9mICAgICAgICAgICA9IHZhbHVlT2Y7XG4gICAgcHJvdG8uY3JlYXRpb25EYXRhICAgICAgPSBjcmVhdGlvbkRhdGE7XG4gICAgcHJvdG8ueWVhciAgICAgICA9IGdldFNldFllYXI7XG4gICAgcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG4gICAgcHJvdG8ud2Vla1llYXIgICAgPSBnZXRTZXRXZWVrWWVhcjtcbiAgICBwcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuICAgIHByb3RvLnF1YXJ0ZXIgPSBwcm90by5xdWFydGVycyA9IGdldFNldFF1YXJ0ZXI7XG4gICAgcHJvdG8ubW9udGggICAgICAgPSBnZXRTZXRNb250aDtcbiAgICBwcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuICAgIHByb3RvLndlZWsgICAgICAgICAgID0gcHJvdG8ud2Vla3MgICAgICAgID0gZ2V0U2V0V2VlaztcbiAgICBwcm90by5pc29XZWVrICAgICAgICA9IHByb3RvLmlzb1dlZWtzICAgICA9IGdldFNldElTT1dlZWs7XG4gICAgcHJvdG8ud2Vla3NJblllYXIgICAgPSBnZXRXZWVrc0luWWVhcjtcbiAgICBwcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuICAgIHByb3RvLmRhdGUgICAgICAgPSBnZXRTZXREYXlPZk1vbnRoO1xuICAgIHByb3RvLmRheSAgICAgICAgPSBwcm90by5kYXlzICAgICAgICAgICAgID0gZ2V0U2V0RGF5T2ZXZWVrO1xuICAgIHByb3RvLndlZWtkYXkgICAgPSBnZXRTZXRMb2NhbGVEYXlPZldlZWs7XG4gICAgcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBwcm90by5kYXlPZlllYXIgID0gZ2V0U2V0RGF5T2ZZZWFyO1xuICAgIHByb3RvLmhvdXIgPSBwcm90by5ob3VycyA9IGdldFNldEhvdXI7XG4gICAgcHJvdG8ubWludXRlID0gcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcbiAgICBwcm90by5zZWNvbmQgPSBwcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuICAgIHByb3RvLm1pbGxpc2Vjb25kID0gcHJvdG8ubWlsbGlzZWNvbmRzID0gZ2V0U2V0TWlsbGlzZWNvbmQ7XG4gICAgcHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG4gICAgcHJvdG8udXRjICAgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1VUQztcbiAgICBwcm90by5sb2NhbCAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvTG9jYWw7XG4gICAgcHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbiAgICBwcm90by5oYXNBbGlnbmVkSG91ck9mZnNldCA9IGhhc0FsaWduZWRIb3VyT2Zmc2V0O1xuICAgIHByb3RvLmlzRFNUICAgICAgICAgICAgICAgID0gaXNEYXlsaWdodFNhdmluZ1RpbWU7XG4gICAgcHJvdG8uaXNMb2NhbCAgICAgICAgICAgICAgPSBpc0xvY2FsO1xuICAgIHByb3RvLmlzVXRjT2Zmc2V0ICAgICAgICAgID0gaXNVdGNPZmZzZXQ7XG4gICAgcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBwcm90by5pc1VUQyAgICAgICAgICAgICAgICA9IGlzVXRjO1xuICAgIHByb3RvLnpvbmVBYmJyID0gZ2V0Wm9uZUFiYnI7XG4gICAgcHJvdG8uem9uZU5hbWUgPSBnZXRab25lTmFtZTtcbiAgICBwcm90by5kYXRlcyAgPSBkZXByZWNhdGUoJ2RhdGVzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBkYXRlIGluc3RlYWQuJywgZ2V0U2V0RGF5T2ZNb250aCk7XG4gICAgcHJvdG8ubW9udGhzID0gZGVwcmVjYXRlKCdtb250aHMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbnRoIGluc3RlYWQnLCBnZXRTZXRNb250aCk7XG4gICAgcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG4gICAgcHJvdG8uem9uZSAgID0gZGVwcmVjYXRlKCdtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lLycsIGdldFNldFpvbmUpO1xuICAgIHByb3RvLmlzRFNUU2hpZnRlZCA9IGRlcHJlY2F0ZSgnaXNEU1RTaGlmdGVkIGlzIGRlcHJlY2F0ZWQuIFNlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RzdC1zaGlmdGVkLyBmb3IgbW9yZSBpbmZvcm1hdGlvbicsIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCk7XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVVbml4IChpbnB1dCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJblpvbmUgKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcmVQYXJzZVBvc3RGb3JtYXQgKHN0cmluZykge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH1cblxuICAgIHZhciBwcm90byQxID0gTG9jYWxlLnByb3RvdHlwZTtcblxuICAgIHByb3RvJDEuY2FsZW5kYXIgICAgICAgID0gY2FsZW5kYXI7XG4gICAgcHJvdG8kMS5sb25nRGF0ZUZvcm1hdCAgPSBsb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90byQxLmludmFsaWREYXRlICAgICA9IGludmFsaWREYXRlO1xuICAgIHByb3RvJDEub3JkaW5hbCAgICAgICAgID0gb3JkaW5hbDtcbiAgICBwcm90byQxLnByZXBhcnNlICAgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnBvc3Rmb3JtYXQgICAgICA9IHByZVBhcnNlUG9zdEZvcm1hdDtcbiAgICBwcm90byQxLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlVGltZTtcbiAgICBwcm90byQxLnBhc3RGdXR1cmUgICAgICA9IHBhc3RGdXR1cmU7XG4gICAgcHJvdG8kMS5zZXQgICAgICAgICAgICAgPSBzZXQ7XG5cbiAgICBwcm90byQxLm1vbnRocyAgICAgICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRocztcbiAgICBwcm90byQxLm1vbnRoc1Nob3J0ICAgICAgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvJDEubW9udGhzUGFyc2UgICAgICAgPSAgICAgICAgbG9jYWxlTW9udGhzUGFyc2U7XG4gICAgcHJvdG8kMS5tb250aHNSZWdleCAgICAgICA9IG1vbnRoc1JlZ2V4O1xuICAgIHByb3RvJDEubW9udGhzU2hvcnRSZWdleCAgPSBtb250aHNTaG9ydFJlZ2V4O1xuICAgIHByb3RvJDEud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG8kMS5maXJzdERheU9mWWVhciA9IGxvY2FsZUZpcnN0RGF5T2ZZZWFyO1xuICAgIHByb3RvJDEuZmlyc3REYXlPZldlZWsgPSBsb2NhbGVGaXJzdERheU9mV2VlaztcblxuICAgIHByb3RvJDEud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG8kMS53ZWVrZGF5c01pbiAgICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c01pbjtcbiAgICBwcm90byQxLndlZWtkYXlzU2hvcnQgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzU2hvcnQ7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1BhcnNlICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1BhcnNlO1xuXG4gICAgcHJvdG8kMS53ZWVrZGF5c1JlZ2V4ICAgICAgID0gICAgICAgIHdlZWtkYXlzUmVnZXg7XG4gICAgcHJvdG8kMS53ZWVrZGF5c1Nob3J0UmVnZXggID0gICAgICAgIHdlZWtkYXlzU2hvcnRSZWdleDtcbiAgICBwcm90byQxLndlZWtkYXlzTWluUmVnZXggICAgPSAgICAgICAgd2Vla2RheXNNaW5SZWdleDtcblxuICAgIHByb3RvJDEuaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG8kMS5tZXJpZGllbSA9IGxvY2FsZU1lcmlkaWVtO1xuXG4gICAgZnVuY3Rpb24gZ2V0JDEgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpO1xuICAgICAgICB2YXIgdXRjID0gY3JlYXRlVVRDKCkuc2V0KHNldHRlciwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gbG9jYWxlW2ZpZWxkXSh1dGMsIGZvcm1hdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRoc0ltcGwgKGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnJztcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAxMjsgaSsrKSB7XG4gICAgICAgICAgICBvdXRbaV0gPSBnZXQkMShmb3JtYXQsIGksIGZpZWxkLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIC8vICgpXG4gICAgLy8gKDUpXG4gICAgLy8gKGZtdCwgNSlcbiAgICAvLyAoZm10KVxuICAgIC8vICh0cnVlKVxuICAgIC8vICh0cnVlLCA1KVxuICAgIC8vICh0cnVlLCBmbXQsIDUpXG4gICAgLy8gKHRydWUsIGZtdClcbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNJbXBsIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsIGZpZWxkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxlU29ydGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIGlmIChpc051bWJlcihmb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICAgICAgZm9ybWF0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBsb2NhbGVTb3J0ZWQ7XG4gICAgICAgICAgICBpbmRleCA9IGZvcm1hdDtcbiAgICAgICAgICAgIGxvY2FsZVNvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAoaXNOdW1iZXIoZm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gZm9ybWF0O1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IGdldExvY2FsZSgpLFxuICAgICAgICAgICAgc2hpZnQgPSBsb2NhbGVTb3J0ZWQgPyBsb2NhbGUuX3dlZWsuZG93IDogMDtcblxuICAgICAgICBpZiAoaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldCQxKGZvcm1hdCwgKGluZGV4ICsgc2hpZnQpICUgNywgZmllbGQsICdkYXknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IGdldCQxKGZvcm1hdCwgKGkgKyBzaGlmdCkgJSA3LCBmaWVsZCwgJ2RheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdE1vbnRocyAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRocycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdE1vbnRoc0ltcGwoZm9ybWF0LCBpbmRleCwgJ21vbnRoc1Nob3J0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdFdlZWtkYXlzIChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3RXZWVrZGF5c0ltcGwobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNTaG9ydCAobG9jYWxlU29ydGVkLCBmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0V2Vla2RheXNJbXBsKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzU2hvcnQnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaXN0V2Vla2RheXNNaW4gKGxvY2FsZVNvcnRlZCwgZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdFdlZWtkYXlzSW1wbChsb2NhbGVTb3J0ZWQsIGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c01pbicpO1xuICAgIH1cblxuICAgIGdldFNldEdsb2JhbExvY2FsZSgnZW4nLCB7XG4gICAgICAgIGRheU9mTW9udGhPcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgaG9va3MubGFuZyA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmcgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGUgaW5zdGVhZC4nLCBnZXRTZXRHbG9iYWxMb2NhbGUpO1xuICAgIGhvb2tzLmxhbmdEYXRhID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuJywgZ2V0TG9jYWxlKTtcblxuICAgIHZhciBtYXRoQWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBhYnMgKCkge1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgICAgPSB0aGlzLl9kYXRhO1xuXG4gICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyA9IG1hdGhBYnModGhpcy5fbWlsbGlzZWNvbmRzKTtcbiAgICAgICAgdGhpcy5fZGF5cyAgICAgICAgID0gbWF0aEFicyh0aGlzLl9kYXlzKTtcbiAgICAgICAgdGhpcy5fbW9udGhzICAgICAgID0gbWF0aEFicyh0aGlzLl9tb250aHMpO1xuXG4gICAgICAgIGRhdGEubWlsbGlzZWNvbmRzICA9IG1hdGhBYnMoZGF0YS5taWxsaXNlY29uZHMpO1xuICAgICAgICBkYXRhLnNlY29uZHMgICAgICAgPSBtYXRoQWJzKGRhdGEuc2Vjb25kcyk7XG4gICAgICAgIGRhdGEubWludXRlcyAgICAgICA9IG1hdGhBYnMoZGF0YS5taW51dGVzKTtcbiAgICAgICAgZGF0YS5ob3VycyAgICAgICAgID0gbWF0aEFicyhkYXRhLmhvdXJzKTtcbiAgICAgICAgZGF0YS5tb250aHMgICAgICAgID0gbWF0aEFicyhkYXRhLm1vbnRocyk7XG4gICAgICAgIGRhdGEueWVhcnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS55ZWFycyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkU3VidHJhY3QkMSAoZHVyYXRpb24sIGlucHV0LCB2YWx1ZSwgZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciBvdGhlciA9IGNyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICAgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gYWRkJDEgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYWRkU3VidHJhY3QkMSh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gc3VidHJhY3QkMSAoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBhZGRTdWJ0cmFjdCQxKHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgICAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICAgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICAgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF5cztcbiAgICAgICAgdmFyIG1vbnRocztcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IHRoaXMuX21pbGxpc2Vjb25kcztcblxuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcblxuICAgICAgICBpZiAodW5pdHMgPT09ICdtb250aCcgfHwgdW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgZGF5cyAgID0gdGhpcy5fZGF5cyAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICBtb250aHMgPSB0aGlzLl9tb250aHMgKyBkYXlzVG9Nb250aHMoZGF5cyk7XG4gICAgICAgICAgICByZXR1cm4gdW5pdHMgPT09ICdtb250aCcgPyBtb250aHMgOiBtb250aHMgLyAxMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBtaWxsaXNlY29uZHMgc2VwYXJhdGVseSBiZWNhdXNlIG9mIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIChpc3N1ZSAjMTg2NylcbiAgICAgICAgICAgIGRheXMgPSB0aGlzLl9kYXlzICsgTWF0aC5yb3VuZChtb250aHNUb0RheXModGhpcy5fbW9udGhzKSk7XG4gICAgICAgICAgICBzd2l0Y2ggKHVuaXRzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2VlaycgICA6IHJldHVybiBkYXlzIC8gNyAgICAgKyBtaWxsaXNlY29uZHMgLyA2MDQ4ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF5JyAgICA6IHJldHVybiBkYXlzICAgICAgICAgKyBtaWxsaXNlY29uZHMgLyA4NjRlNTtcbiAgICAgICAgICAgICAgICBjYXNlICdob3VyJyAgIDogcmV0dXJuIGRheXMgKiAyNCAgICArIG1pbGxpc2Vjb25kcyAvIDM2ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWludXRlJyA6IHJldHVybiBkYXlzICogMTQ0MCAgKyBtaWxsaXNlY29uZHMgLyA2ZTQ7XG4gICAgICAgICAgICAgICAgY2FzZSAnc2Vjb25kJyA6IHJldHVybiBkYXlzICogODY0MDAgKyBtaWxsaXNlY29uZHMgLyAxMDAwO1xuICAgICAgICAgICAgICAgIC8vIE1hdGguZmxvb3IgcHJldmVudHMgZmxvYXRpbmcgcG9pbnQgbWF0aCBlcnJvcnMgaGVyZVxuICAgICAgICAgICAgICAgIGNhc2UgJ21pbGxpc2Vjb25kJzogcmV0dXJuIE1hdGguZmxvb3IoZGF5cyAqIDg2NGU1KSArIG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gdW5pdCAnICsgdW5pdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXNlIHRoaXMuYXMoJ21zJyk/XG4gICAgZnVuY3Rpb24gdmFsdWVPZiQxICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzICtcbiAgICAgICAgICAgIHRoaXMuX2RheXMgKiA4NjRlNSArXG4gICAgICAgICAgICAodGhpcy5fbW9udGhzICUgMTIpICogMjU5MmU2ICtcbiAgICAgICAgICAgIHRvSW50KHRoaXMuX21vbnRocyAvIDEyKSAqIDMxNTM2ZTZcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtYWtlQXMgKGFsaWFzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcyhhbGlhcyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIGFzTWlsbGlzZWNvbmRzID0gbWFrZUFzKCdtcycpO1xuICAgIHZhciBhc1NlY29uZHMgICAgICA9IG1ha2VBcygncycpO1xuICAgIHZhciBhc01pbnV0ZXMgICAgICA9IG1ha2VBcygnbScpO1xuICAgIHZhciBhc0hvdXJzICAgICAgICA9IG1ha2VBcygnaCcpO1xuICAgIHZhciBhc0RheXMgICAgICAgICA9IG1ha2VBcygnZCcpO1xuICAgIHZhciBhc1dlZWtzICAgICAgICA9IG1ha2VBcygndycpO1xuICAgIHZhciBhc01vbnRocyAgICAgICA9IG1ha2VBcygnTScpO1xuICAgIHZhciBhc1llYXJzICAgICAgICA9IG1ha2VBcygneScpO1xuXG4gICAgZnVuY3Rpb24gY2xvbmUkMSAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVEdXJhdGlvbih0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXQkMiAodW5pdHMpIHtcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgIHJldHVybiB0aGlzLmlzVmFsaWQoKSA/IHRoaXNbdW5pdHMgKyAncyddKCkgOiBOYU47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKCkgPyB0aGlzLl9kYXRhW25hbWVdIDogTmFOO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBtaWxsaXNlY29uZHMgPSBtYWtlR2V0dGVyKCdtaWxsaXNlY29uZHMnKTtcbiAgICB2YXIgc2Vjb25kcyAgICAgID0gbWFrZUdldHRlcignc2Vjb25kcycpO1xuICAgIHZhciBtaW51dGVzICAgICAgPSBtYWtlR2V0dGVyKCdtaW51dGVzJyk7XG4gICAgdmFyIGhvdXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ2hvdXJzJyk7XG4gICAgdmFyIGRheXMgICAgICAgICA9IG1ha2VHZXR0ZXIoJ2RheXMnKTtcbiAgICB2YXIgbW9udGhzICAgICAgID0gbWFrZUdldHRlcignbW9udGhzJyk7XG4gICAgdmFyIHllYXJzICAgICAgICA9IG1ha2VHZXR0ZXIoJ3llYXJzJyk7XG5cbiAgICBmdW5jdGlvbiB3ZWVrcyAoKSB7XG4gICAgICAgIHJldHVybiBhYnNGbG9vcih0aGlzLmRheXMoKSAvIDcpO1xuICAgIH1cblxuICAgIHZhciByb3VuZCA9IE1hdGgucm91bmQ7XG4gICAgdmFyIHRocmVzaG9sZHMgPSB7XG4gICAgICAgIHNzOiA0NCwgICAgICAgICAvLyBhIGZldyBzZWNvbmRzIHRvIHNlY29uZHNcbiAgICAgICAgcyA6IDQ1LCAgICAgICAgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgICAgIG0gOiA0NSwgICAgICAgICAvLyBtaW51dGVzIHRvIGhvdXJcbiAgICAgICAgaCA6IDIyLCAgICAgICAgIC8vIGhvdXJzIHRvIGRheVxuICAgICAgICBkIDogMjYsICAgICAgICAgLy8gZGF5cyB0byBtb250aFxuICAgICAgICBNIDogMTEgICAgICAgICAgLy8gbW9udGhzIHRvIHllYXJcbiAgICB9O1xuXG4gICAgLy8gaGVscGVyIGZ1bmN0aW9uIGZvciBtb21lbnQuZm4uZnJvbSwgbW9tZW50LmZuLmZyb21Ob3csIGFuZCBtb21lbnQuZHVyYXRpb24uZm4uaHVtYW5pemVcbiAgICBmdW5jdGlvbiBzdWJzdGl0dXRlVGltZUFnbyhzdHJpbmcsIG51bWJlciwgd2l0aG91dFN1ZmZpeCwgaXNGdXR1cmUsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLnJlbGF0aXZlVGltZShudW1iZXIgfHwgMSwgISF3aXRob3V0U3VmZml4LCBzdHJpbmcsIGlzRnV0dXJlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWxhdGl2ZVRpbWUkMSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVEdXJhdGlvbihwb3NOZWdEdXJhdGlvbikuYWJzKCk7XG4gICAgICAgIHZhciBzZWNvbmRzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdzJykpO1xuICAgICAgICB2YXIgbWludXRlcyAgPSByb3VuZChkdXJhdGlvbi5hcygnbScpKTtcbiAgICAgICAgdmFyIGhvdXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2gnKSk7XG4gICAgICAgIHZhciBkYXlzICAgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdkJykpO1xuICAgICAgICB2YXIgbW9udGhzICAgPSByb3VuZChkdXJhdGlvbi5hcygnTScpKTtcbiAgICAgICAgdmFyIHllYXJzICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ3knKSk7XG5cbiAgICAgICAgdmFyIGEgPSBzZWNvbmRzIDw9IHRocmVzaG9sZHMuc3MgJiYgWydzJywgc2Vjb25kc10gIHx8XG4gICAgICAgICAgICAgICAgc2Vjb25kcyA8IHRocmVzaG9sZHMucyAgICYmIFsnc3MnLCBzZWNvbmRzXSB8fFxuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPD0gMSAgICAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICAgJiYgWydtbScsIG1pbnV0ZXNdIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8PSAxICAgICAgICAgICAgICYmIFsnaCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIGhvdXJzICAgPCB0aHJlc2hvbGRzLmggICAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgIDw9IDEgICAgICAgICAgICAgJiYgWydkJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgZGF5cyAgICA8IHRocmVzaG9sZHMuZCAgICYmIFsnZGQnLCBkYXlzXSAgICB8fFxuICAgICAgICAgICAgICAgIG1vbnRocyAgPD0gMSAgICAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICAgJiYgWydNTScsIG1vbnRoc10gIHx8XG4gICAgICAgICAgICAgICAgeWVhcnMgICA8PSAxICAgICAgICAgICAgICYmIFsneSddICAgICAgICAgICB8fCBbJ3l5JywgeWVhcnNdO1xuXG4gICAgICAgIGFbMl0gPSB3aXRob3V0U3VmZml4O1xuICAgICAgICBhWzNdID0gK3Bvc05lZ0R1cmF0aW9uID4gMDtcbiAgICAgICAgYVs0XSA9IGxvY2FsZTtcbiAgICAgICAgcmV0dXJuIHN1YnN0aXR1dGVUaW1lQWdvLmFwcGx5KG51bGwsIGEpO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgdGhlIHJvdW5kaW5nIGZ1bmN0aW9uIGZvciByZWxhdGl2ZSB0aW1lIHN0cmluZ3NcbiAgICBmdW5jdGlvbiBnZXRTZXRSZWxhdGl2ZVRpbWVSb3VuZGluZyAocm91bmRpbmdGdW5jdGlvbikge1xuICAgICAgICBpZiAocm91bmRpbmdGdW5jdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91bmQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZihyb3VuZGluZ0Z1bmN0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcm91bmQgPSByb3VuZGluZ0Z1bmN0aW9uO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFRoaXMgZnVuY3Rpb24gYWxsb3dzIHlvdSB0byBzZXQgYSB0aHJlc2hvbGQgZm9yIHJlbGF0aXZlIHRpbWUgc3RyaW5nc1xuICAgIGZ1bmN0aW9uIGdldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICAgICAgaWYgKHRocmVzaG9sZCA9PT0gJ3MnKSB7XG4gICAgICAgICAgICB0aHJlc2hvbGRzLnNzID0gbGltaXQgLSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGh1bWFuaXplICh3aXRoU3VmZml4KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB2YXIgb3V0cHV0ID0gcmVsYXRpdmVUaW1lJDEodGhpcywgIXdpdGhTdWZmaXgsIGxvY2FsZSk7XG5cbiAgICAgICAgaWYgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IGxvY2FsZS5wYXN0RnV0dXJlKCt0aGlzLCBvdXRwdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxvY2FsZS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIGFicyQxID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBzaWduKHgpIHtcbiAgICAgICAgcmV0dXJuICgoeCA+IDApIC0gKHggPCAwKSkgfHwgK3g7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JU09TdHJpbmckMSgpIHtcbiAgICAgICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgICAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlY29uZHMgPSBhYnMkMSh0aGlzLl9taWxsaXNlY29uZHMpIC8gMTAwMDtcbiAgICAgICAgdmFyIGRheXMgICAgICAgICA9IGFicyQxKHRoaXMuX2RheXMpO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gYWJzJDEodGhpcy5fbW9udGhzKTtcbiAgICAgICAgdmFyIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycztcblxuICAgICAgICAvLyAzNjAwIHNlY29uZHMgLT4gNjAgbWludXRlcyAtPiAxIGhvdXJcbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIHNlY29uZHMgJT0gNjA7XG4gICAgICAgIG1pbnV0ZXMgJT0gNjA7XG5cbiAgICAgICAgLy8gMTIgbW9udGhzIC0+IDEgeWVhclxuICAgICAgICB5ZWFycyAgPSBhYnNGbG9vcihtb250aHMgLyAxMik7XG4gICAgICAgIG1vbnRocyAlPSAxMjtcblxuXG4gICAgICAgIC8vIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9kb3JkaWxsZS9tb21lbnQtaXNvZHVyYXRpb24vYmxvYi9tYXN0ZXIvbW9tZW50Lmlzb2R1cmF0aW9uLmpzXG4gICAgICAgIHZhciBZID0geWVhcnM7XG4gICAgICAgIHZhciBNID0gbW9udGhzO1xuICAgICAgICB2YXIgRCA9IGRheXM7XG4gICAgICAgIHZhciBoID0gaG91cnM7XG4gICAgICAgIHZhciBtID0gbWludXRlcztcbiAgICAgICAgdmFyIHMgPSBzZWNvbmRzID8gc2Vjb25kcy50b0ZpeGVkKDMpLnJlcGxhY2UoL1xcLj8wKyQvLCAnJykgOiAnJztcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblxuICAgICAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG90YWxTaWduID0gdG90YWwgPCAwID8gJy0nIDogJyc7XG4gICAgICAgIHZhciB5bVNpZ24gPSBzaWduKHRoaXMuX21vbnRocykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG4gICAgICAgIHZhciBkYXlzU2lnbiA9IHNpZ24odGhpcy5fZGF5cykgIT09IHNpZ24odG90YWwpID8gJy0nIDogJyc7XG4gICAgICAgIHZhciBobXNTaWduID0gc2lnbih0aGlzLl9taWxsaXNlY29uZHMpICE9PSBzaWduKHRvdGFsKSA/ICctJyA6ICcnO1xuXG4gICAgICAgIHJldHVybiB0b3RhbFNpZ24gKyAnUCcgK1xuICAgICAgICAgICAgKFkgPyB5bVNpZ24gKyBZICsgJ1knIDogJycpICtcbiAgICAgICAgICAgIChNID8geW1TaWduICsgTSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAoRCA/IGRheXNTaWduICsgRCArICdEJyA6ICcnKSArXG4gICAgICAgICAgICAoKGggfHwgbSB8fCBzKSA/ICdUJyA6ICcnKSArXG4gICAgICAgICAgICAoaCA/IGhtc1NpZ24gKyBoICsgJ0gnIDogJycpICtcbiAgICAgICAgICAgIChtID8gaG1zU2lnbiArIG0gKyAnTScgOiAnJykgK1xuICAgICAgICAgICAgKHMgPyBobXNTaWduICsgcyArICdTJyA6ICcnKTtcbiAgICB9XG5cbiAgICB2YXIgcHJvdG8kMiA9IER1cmF0aW9uLnByb3RvdHlwZTtcblxuICAgIHByb3RvJDIuaXNWYWxpZCAgICAgICAgPSBpc1ZhbGlkJDE7XG4gICAgcHJvdG8kMi5hYnMgICAgICAgICAgICA9IGFicztcbiAgICBwcm90byQyLmFkZCAgICAgICAgICAgID0gYWRkJDE7XG4gICAgcHJvdG8kMi5zdWJ0cmFjdCAgICAgICA9IHN1YnRyYWN0JDE7XG4gICAgcHJvdG8kMi5hcyAgICAgICAgICAgICA9IGFzO1xuICAgIHByb3RvJDIuYXNNaWxsaXNlY29uZHMgPSBhc01pbGxpc2Vjb25kcztcbiAgICBwcm90byQyLmFzU2Vjb25kcyAgICAgID0gYXNTZWNvbmRzO1xuICAgIHByb3RvJDIuYXNNaW51dGVzICAgICAgPSBhc01pbnV0ZXM7XG4gICAgcHJvdG8kMi5hc0hvdXJzICAgICAgICA9IGFzSG91cnM7XG4gICAgcHJvdG8kMi5hc0RheXMgICAgICAgICA9IGFzRGF5cztcbiAgICBwcm90byQyLmFzV2Vla3MgICAgICAgID0gYXNXZWVrcztcbiAgICBwcm90byQyLmFzTW9udGhzICAgICAgID0gYXNNb250aHM7XG4gICAgcHJvdG8kMi5hc1llYXJzICAgICAgICA9IGFzWWVhcnM7XG4gICAgcHJvdG8kMi52YWx1ZU9mICAgICAgICA9IHZhbHVlT2YkMTtcbiAgICBwcm90byQyLl9idWJibGUgICAgICAgID0gYnViYmxlO1xuICAgIHByb3RvJDIuY2xvbmUgICAgICAgICAgPSBjbG9uZSQxO1xuICAgIHByb3RvJDIuZ2V0ICAgICAgICAgICAgPSBnZXQkMjtcbiAgICBwcm90byQyLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xuICAgIHByb3RvJDIuc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xuICAgIHByb3RvJDIubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xuICAgIHByb3RvJDIuaG91cnMgICAgICAgICAgPSBob3VycztcbiAgICBwcm90byQyLmRheXMgICAgICAgICAgID0gZGF5cztcbiAgICBwcm90byQyLndlZWtzICAgICAgICAgID0gd2Vla3M7XG4gICAgcHJvdG8kMi5tb250aHMgICAgICAgICA9IG1vbnRocztcbiAgICBwcm90byQyLnllYXJzICAgICAgICAgID0geWVhcnM7XG4gICAgcHJvdG8kMi5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xuICAgIHByb3RvJDIudG9JU09TdHJpbmcgICAgPSB0b0lTT1N0cmluZyQxO1xuICAgIHByb3RvJDIudG9TdHJpbmcgICAgICAgPSB0b0lTT1N0cmluZyQxO1xuICAgIHByb3RvJDIudG9KU09OICAgICAgICAgPSB0b0lTT1N0cmluZyQxO1xuICAgIHByb3RvJDIubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG4gICAgcHJvdG8kMi5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbiAgICBwcm90byQyLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKCd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsIHRvSVNPU3RyaW5nJDEpO1xuICAgIHByb3RvJDIubGFuZyA9IGxhbmc7XG5cbiAgICAvLyBTaWRlIGVmZmVjdCBpbXBvcnRzXG5cbiAgICAvLyBGT1JNQVRUSU5HXG5cbiAgICBhZGRGb3JtYXRUb2tlbignWCcsIDAsIDAsICd1bml4Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3gnLCAwLCAwLCAndmFsdWVPZicpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbigneCcsIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdYJywgbWF0Y2hUaW1lc3RhbXApO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUocGFyc2VGbG9hdChpbnB1dCwgMTApICogMTAwMCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbigneCcsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSh0b0ludChpbnB1dCkpO1xuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG5cbiAgICBob29rcy52ZXJzaW9uID0gJzIuMjIuMic7XG5cbiAgICBzZXRIb29rQ2FsbGJhY2soY3JlYXRlTG9jYWwpO1xuXG4gICAgaG9va3MuZm4gICAgICAgICAgICAgICAgICAgID0gcHJvdG87XG4gICAgaG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuICAgIGhvb2tzLm1heCAgICAgICAgICAgICAgICAgICA9IG1heDtcbiAgICBob29rcy5ub3cgICAgICAgICAgICAgICAgICAgPSBub3c7XG4gICAgaG9va3MudXRjICAgICAgICAgICAgICAgICAgID0gY3JlYXRlVVRDO1xuICAgIGhvb2tzLnVuaXggICAgICAgICAgICAgICAgICA9IGNyZWF0ZVVuaXg7XG4gICAgaG9va3MubW9udGhzICAgICAgICAgICAgICAgID0gbGlzdE1vbnRocztcbiAgICBob29rcy5pc0RhdGUgICAgICAgICAgICAgICAgPSBpc0RhdGU7XG4gICAgaG9va3MubG9jYWxlICAgICAgICAgICAgICAgID0gZ2V0U2V0R2xvYmFsTG9jYWxlO1xuICAgIGhvb2tzLmludmFsaWQgICAgICAgICAgICAgICA9IGNyZWF0ZUludmFsaWQ7XG4gICAgaG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlRHVyYXRpb247XG4gICAgaG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG4gICAgaG9va3Mud2Vla2RheXMgICAgICAgICAgICAgID0gbGlzdFdlZWtkYXlzO1xuICAgIGhvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IGNyZWF0ZUluWm9uZTtcbiAgICBob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBnZXRMb2NhbGU7XG4gICAgaG9va3MuaXNEdXJhdGlvbiAgICAgICAgICAgID0gaXNEdXJhdGlvbjtcbiAgICBob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0TW9udGhzU2hvcnQ7XG4gICAgaG9va3Mud2Vla2RheXNNaW4gICAgICAgICAgID0gbGlzdFdlZWtkYXlzTWluO1xuICAgIGhvb2tzLmRlZmluZUxvY2FsZSAgICAgICAgICA9IGRlZmluZUxvY2FsZTtcbiAgICBob29rcy51cGRhdGVMb2NhbGUgICAgICAgICAgPSB1cGRhdGVMb2NhbGU7XG4gICAgaG9va3MubG9jYWxlcyAgICAgICAgICAgICAgID0gbGlzdExvY2FsZXM7XG4gICAgaG9va3Mud2Vla2RheXNTaG9ydCAgICAgICAgID0gbGlzdFdlZWtkYXlzU2hvcnQ7XG4gICAgaG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG4gICAgaG9va3MucmVsYXRpdmVUaW1lUm91bmRpbmcgID0gZ2V0U2V0UmVsYXRpdmVUaW1lUm91bmRpbmc7XG4gICAgaG9va3MucmVsYXRpdmVUaW1lVGhyZXNob2xkID0gZ2V0U2V0UmVsYXRpdmVUaW1lVGhyZXNob2xkO1xuICAgIGhvb2tzLmNhbGVuZGFyRm9ybWF0ICAgICAgICA9IGdldENhbGVuZGFyRm9ybWF0O1xuICAgIGhvb2tzLnByb3RvdHlwZSAgICAgICAgICAgICA9IHByb3RvO1xuXG4gICAgLy8gY3VycmVudGx5IEhUTUw1IGlucHV0IHR5cGUgb25seSBzdXBwb3J0cyAyNC1ob3VyIGZvcm1hdHNcbiAgICBob29rcy5IVE1MNV9GTVQgPSB7XG4gICAgICAgIERBVEVUSU1FX0xPQ0FMOiAnWVlZWS1NTS1ERFRISDptbScsICAgICAgICAgICAgIC8vIDxpbnB1dCB0eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIiAvPlxuICAgICAgICBEQVRFVElNRV9MT0NBTF9TRUNPTkRTOiAnWVlZWS1NTS1ERFRISDptbTpzcycsICAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjFcIiAvPlxuICAgICAgICBEQVRFVElNRV9MT0NBTF9NUzogJ1lZWVktTU0tRERUSEg6bW06c3MuU1NTJywgICAvLyA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgc3RlcD1cIjAuMDAxXCIgLz5cbiAgICAgICAgREFURTogJ1lZWVktTU0tREQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJkYXRlXCIgLz5cbiAgICAgICAgVElNRTogJ0hIOm1tJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5cbiAgICAgICAgVElNRV9TRUNPTkRTOiAnSEg6bW06c3MnLCAgICAgICAgICAgICAgICAgICAgICAgLy8gPGlucHV0IHR5cGU9XCJ0aW1lXCIgc3RlcD1cIjFcIiAvPlxuICAgICAgICBUSU1FX01TOiAnSEg6bW06c3MuU1NTJywgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cInRpbWVcIiBzdGVwPVwiMC4wMDFcIiAvPlxuICAgICAgICBXRUVLOiAnWVlZWS1bV11XVycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cIndlZWtcIiAvPlxuICAgICAgICBNT05USDogJ1lZWVktTU0nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyA8aW5wdXQgdHlwZT1cIm1vbnRoXCIgLz5cbiAgICB9O1xuXG4gICAgcmV0dXJuIGhvb2tzO1xuXG59KSkpO1xuIiwiLy8gICAgIChjKSAyMDEyLTIwMTYgQWlyYm5iLCBJbmMuXG4vL1xuLy8gICAgIHBvbHlnbG90LmpzIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBCU0Rcbi8vICAgICBsaWNlbnNlLiBGb3IgYWxsIGxpY2Vuc2luZyBpbmZvcm1hdGlvbiwgZGV0YWlscywgYW5kIGRvY3VtZW50aW9uOlxuLy8gICAgIGh0dHA6Ly9haXJibmIuZ2l0aHViLmNvbS9wb2x5Z2xvdC5qc1xuLy9cbi8vXG4vLyBQb2x5Z2xvdC5qcyBpcyBhbiBJMThuIGhlbHBlciBsaWJyYXJ5IHdyaXR0ZW4gaW4gSmF2YVNjcmlwdCwgbWFkZSB0b1xuLy8gd29yayBib3RoIGluIHRoZSBicm93c2VyIGFuZCBpbiBOb2RlLiBJdCBwcm92aWRlcyBhIHNpbXBsZSBzb2x1dGlvbiBmb3Jcbi8vIGludGVycG9sYXRpb24gYW5kIHBsdXJhbGl6YXRpb24sIGJhc2VkIG9mZiBvZiBBaXJibmInc1xuLy8gZXhwZXJpZW5jZSBhZGRpbmcgSTE4biBmdW5jdGlvbmFsaXR5IHRvIGl0cyBCYWNrYm9uZS5qcyBhbmQgTm9kZSBhcHBzLlxuLy9cbi8vIFBvbHlsZ2xvdCBpcyBhZ25vc3RpYyB0byB5b3VyIHRyYW5zbGF0aW9uIGJhY2tlbmQuIEl0IGRvZXNuJ3QgcGVyZm9ybSBhbnlcbi8vIHRyYW5zbGF0aW9uOyBpdCBzaW1wbHkgZ2l2ZXMgeW91IGEgd2F5IHRvIG1hbmFnZSB0cmFuc2xhdGVkIHBocmFzZXMgZnJvbVxuLy8geW91ciBjbGllbnQtIG9yIHNlcnZlci1zaWRlIEphdmFTY3JpcHQgYXBwbGljYXRpb24uXG4vL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBmb3JFYWNoID0gcmVxdWlyZSgnZm9yLWVhY2gnKTtcbnZhciB3YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xudmFyIGhhcyA9IHJlcXVpcmUoJ2hhcycpO1xudmFyIHRyaW0gPSByZXF1aXJlKCdzdHJpbmcucHJvdG90eXBlLnRyaW0nKTtcblxudmFyIHdhcm4gPSBmdW5jdGlvbiB3YXJuKG1lc3NhZ2UpIHtcbiAgd2FybmluZyhmYWxzZSwgbWVzc2FnZSk7XG59O1xuXG52YXIgcmVwbGFjZSA9IFN0cmluZy5wcm90b3R5cGUucmVwbGFjZTtcbnZhciBzcGxpdCA9IFN0cmluZy5wcm90b3R5cGUuc3BsaXQ7XG5cbi8vICMjIyMgUGx1cmFsaXphdGlvbiBtZXRob2RzXG4vLyBUaGUgc3RyaW5nIHRoYXQgc2VwYXJhdGVzIHRoZSBkaWZmZXJlbnQgcGhyYXNlIHBvc3NpYmlsaXRpZXMuXG52YXIgZGVsaW1ldGVyID0gJ3x8fHwnO1xuXG4vLyBNYXBwaW5nIGZyb20gcGx1cmFsaXphdGlvbiBncm91cCBwbHVyYWwgbG9naWMuXG52YXIgcGx1cmFsVHlwZXMgPSB7XG4gIGFyYWJpYzogZnVuY3Rpb24gKG4pIHtcbiAgICAvLyBodHRwOi8vd3d3LmFyYWJleWVzLm9yZy9QbHVyYWxfRm9ybXNcbiAgICBpZiAobiA8IDMpIHsgcmV0dXJuIG47IH1cbiAgICBpZiAobiAlIDEwMCA+PSAzICYmIG4gJSAxMDAgPD0gMTApIHJldHVybiAzO1xuICAgIHJldHVybiBuICUgMTAwID49IDExID8gNCA6IDU7XG4gIH0sXG4gIGNoaW5lc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDA7IH0sXG4gIGdlcm1hbjogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4gIT09IDEgPyAxIDogMDsgfSxcbiAgZnJlbmNoOiBmdW5jdGlvbiAobikgeyByZXR1cm4gbiA+IDEgPyAxIDogMDsgfSxcbiAgcnVzc2lhbjogZnVuY3Rpb24gKG4pIHtcbiAgICBpZiAobiAlIDEwID09PSAxICYmIG4gJSAxMDAgIT09IDExKSB7IHJldHVybiAwOyB9XG4gICAgcmV0dXJuIG4gJSAxMCA+PSAyICYmIG4gJSAxMCA8PSA0ICYmIChuICUgMTAwIDwgMTAgfHwgbiAlIDEwMCA+PSAyMCkgPyAxIDogMjtcbiAgfSxcbiAgY3plY2g6IGZ1bmN0aW9uIChuKSB7XG4gICAgaWYgKG4gPT09IDEpIHsgcmV0dXJuIDA7IH1cbiAgICByZXR1cm4gKG4gPj0gMiAmJiBuIDw9IDQpID8gMSA6IDI7XG4gIH0sXG4gIHBvbGlzaDogZnVuY3Rpb24gKG4pIHtcbiAgICBpZiAobiA9PT0gMSkgeyByZXR1cm4gMDsgfVxuICAgIHJldHVybiBuICUgMTAgPj0gMiAmJiBuICUgMTAgPD0gNCAmJiAobiAlIDEwMCA8IDEwIHx8IG4gJSAxMDAgPj0gMjApID8gMSA6IDI7XG4gIH0sXG4gIGljZWxhbmRpYzogZnVuY3Rpb24gKG4pIHsgcmV0dXJuIChuICUgMTAgIT09IDEgfHwgbiAlIDEwMCA9PT0gMTEpID8gMSA6IDA7IH1cbn07XG5cbi8vIE1hcHBpbmcgZnJvbSBwbHVyYWxpemF0aW9uIGdyb3VwIHRvIGluZGl2aWR1YWwgbG9jYWxlcy5cbnZhciBwbHVyYWxUeXBlVG9MYW5ndWFnZXMgPSB7XG4gIGFyYWJpYzogWydhciddLFxuICBjaGluZXNlOiBbJ2ZhJywgJ2lkJywgJ2phJywgJ2tvJywgJ2xvJywgJ21zJywgJ3RoJywgJ3RyJywgJ3poJ10sXG4gIGdlcm1hbjogWydkYScsICdkZScsICdlbicsICdlcycsICdmaScsICdlbCcsICdoZScsICdodScsICdpdCcsICdubCcsICdubycsICdwdCcsICdzdiddLFxuICBmcmVuY2g6IFsnZnInLCAndGwnLCAncHQtYnInXSxcbiAgcnVzc2lhbjogWydocicsICdydScsICdsdCddLFxuICBjemVjaDogWydjcycsICdzayddLFxuICBwb2xpc2g6IFsncGwnXSxcbiAgaWNlbGFuZGljOiBbJ2lzJ11cbn07XG5cbmZ1bmN0aW9uIGxhbmdUb1R5cGVNYXAobWFwcGluZykge1xuICB2YXIgcmV0ID0ge307XG4gIGZvckVhY2gobWFwcGluZywgZnVuY3Rpb24gKGxhbmdzLCB0eXBlKSB7XG4gICAgZm9yRWFjaChsYW5ncywgZnVuY3Rpb24gKGxhbmcpIHtcbiAgICAgIHJldFtsYW5nXSA9IHR5cGU7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBwbHVyYWxUeXBlTmFtZShsb2NhbGUpIHtcbiAgdmFyIGxhbmdUb1BsdXJhbFR5cGUgPSBsYW5nVG9UeXBlTWFwKHBsdXJhbFR5cGVUb0xhbmd1YWdlcyk7XG4gIHJldHVybiBsYW5nVG9QbHVyYWxUeXBlW2xvY2FsZV1cbiAgICB8fCBsYW5nVG9QbHVyYWxUeXBlW3NwbGl0LmNhbGwobG9jYWxlLCAvLS8sIDEpWzBdXVxuICAgIHx8IGxhbmdUb1BsdXJhbFR5cGUuZW47XG59XG5cbmZ1bmN0aW9uIHBsdXJhbFR5cGVJbmRleChsb2NhbGUsIGNvdW50KSB7XG4gIHJldHVybiBwbHVyYWxUeXBlc1twbHVyYWxUeXBlTmFtZShsb2NhbGUpXShjb3VudCk7XG59XG5cbnZhciBkb2xsYXJSZWdleCA9IC9cXCQvZztcbnZhciBkb2xsYXJCaWxsc1lhbGwgPSAnJCQnO1xudmFyIHRva2VuUmVnZXggPSAvJVxceyguKj8pXFx9L2c7XG5cbi8vICMjIyB0cmFuc2Zvcm1QaHJhc2UocGhyYXNlLCBzdWJzdGl0dXRpb25zLCBsb2NhbGUpXG4vL1xuLy8gVGFrZXMgYSBwaHJhc2Ugc3RyaW5nIGFuZCB0cmFuc2Zvcm1zIGl0IGJ5IGNob29zaW5nIHRoZSBjb3JyZWN0XG4vLyBwbHVyYWwgZm9ybSBhbmQgaW50ZXJwb2xhdGluZyBpdC5cbi8vXG4vLyAgICAgdHJhbnNmb3JtUGhyYXNlKCdIZWxsbywgJXtuYW1lfSEnLCB7bmFtZTogJ1NwaWtlJ30pO1xuLy8gICAgIC8vIFwiSGVsbG8sIFNwaWtlIVwiXG4vL1xuLy8gVGhlIGNvcnJlY3QgcGx1cmFsIGZvcm0gaXMgc2VsZWN0ZWQgaWYgc3Vic3RpdHV0aW9ucy5zbWFydF9jb3VudFxuLy8gaXMgc2V0LiBZb3UgY2FuIHBhc3MgaW4gYSBudW1iZXIgaW5zdGVhZCBvZiBhbiBPYmplY3QgYXMgYHN1YnN0aXR1dGlvbnNgXG4vLyBhcyBhIHNob3J0Y3V0IGZvciBgc21hcnRfY291bnRgLlxuLy9cbi8vICAgICB0cmFuc2Zvcm1QaHJhc2UoJyV7c21hcnRfY291bnR9IG5ldyBtZXNzYWdlcyB8fHx8IDEgbmV3IG1lc3NhZ2UnLCB7c21hcnRfY291bnQ6IDF9LCAnZW4nKTtcbi8vICAgICAvLyBcIjEgbmV3IG1lc3NhZ2VcIlxuLy9cbi8vICAgICB0cmFuc2Zvcm1QaHJhc2UoJyV7c21hcnRfY291bnR9IG5ldyBtZXNzYWdlcyB8fHx8IDEgbmV3IG1lc3NhZ2UnLCB7c21hcnRfY291bnQ6IDJ9LCAnZW4nKTtcbi8vICAgICAvLyBcIjIgbmV3IG1lc3NhZ2VzXCJcbi8vXG4vLyAgICAgdHJhbnNmb3JtUGhyYXNlKCcle3NtYXJ0X2NvdW50fSBuZXcgbWVzc2FnZXMgfHx8fCAxIG5ldyBtZXNzYWdlJywgNSwgJ2VuJyk7XG4vLyAgICAgLy8gXCI1IG5ldyBtZXNzYWdlc1wiXG4vL1xuLy8gWW91IHNob3VsZCBwYXNzIGluIGEgdGhpcmQgYXJndW1lbnQsIHRoZSBsb2NhbGUsIHRvIHNwZWNpZnkgdGhlIGNvcnJlY3QgcGx1cmFsIHR5cGUuXG4vLyBJdCBkZWZhdWx0cyB0byBgJ2VuJ2Agd2l0aCAyIHBsdXJhbCBmb3Jtcy5cbmZ1bmN0aW9uIHRyYW5zZm9ybVBocmFzZShwaHJhc2UsIHN1YnN0aXR1dGlvbnMsIGxvY2FsZSkge1xuICBpZiAodHlwZW9mIHBocmFzZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQb2x5Z2xvdC50cmFuc2Zvcm1QaHJhc2UgZXhwZWN0cyBhcmd1bWVudCAjMSB0byBiZSBzdHJpbmcnKTtcbiAgfVxuXG4gIGlmIChzdWJzdGl0dXRpb25zID09IG51bGwpIHtcbiAgICByZXR1cm4gcGhyYXNlO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IHBocmFzZTtcblxuICAvLyBhbGxvdyBudW1iZXIgYXMgYSBwbHVyYWxpemF0aW9uIHNob3J0Y3V0XG4gIHZhciBvcHRpb25zID0gdHlwZW9mIHN1YnN0aXR1dGlvbnMgPT09ICdudW1iZXInID8geyBzbWFydF9jb3VudDogc3Vic3RpdHV0aW9ucyB9IDogc3Vic3RpdHV0aW9ucztcblxuICAvLyBTZWxlY3QgcGx1cmFsIGZvcm06IGJhc2VkIG9uIGEgcGhyYXNlIHRleHQgdGhhdCBjb250YWlucyBgbmBcbiAgLy8gcGx1cmFsIGZvcm1zIHNlcGFyYXRlZCBieSBgZGVsaW1ldGVyYCwgYSBgbG9jYWxlYCwgYW5kIGEgYHN1YnN0aXR1dGlvbnMuc21hcnRfY291bnRgLFxuICAvLyBjaG9vc2UgdGhlIGNvcnJlY3QgcGx1cmFsIGZvcm0uIFRoaXMgaXMgb25seSBkb25lIGlmIGBjb3VudGAgaXMgc2V0LlxuICBpZiAob3B0aW9ucy5zbWFydF9jb3VudCAhPSBudWxsICYmIHJlc3VsdCkge1xuICAgIHZhciB0ZXh0cyA9IHNwbGl0LmNhbGwocmVzdWx0LCBkZWxpbWV0ZXIpO1xuICAgIHJlc3VsdCA9IHRyaW0odGV4dHNbcGx1cmFsVHlwZUluZGV4KGxvY2FsZSB8fCAnZW4nLCBvcHRpb25zLnNtYXJ0X2NvdW50KV0gfHwgdGV4dHNbMF0pO1xuICB9XG5cbiAgLy8gSW50ZXJwb2xhdGU6IENyZWF0ZXMgYSBgUmVnRXhwYCBvYmplY3QgZm9yIGVhY2ggaW50ZXJwb2xhdGlvbiBwbGFjZWhvbGRlci5cbiAgcmVzdWx0ID0gcmVwbGFjZS5jYWxsKHJlc3VsdCwgdG9rZW5SZWdleCwgZnVuY3Rpb24gKGV4cHJlc3Npb24sIGFyZ3VtZW50KSB7XG4gICAgaWYgKCFoYXMob3B0aW9ucywgYXJndW1lbnQpIHx8IG9wdGlvbnNbYXJndW1lbnRdID09IG51bGwpIHsgcmV0dXJuIGV4cHJlc3Npb247IH1cbiAgICAvLyBFbnN1cmUgcmVwbGFjZW1lbnQgdmFsdWUgaXMgZXNjYXBlZCB0byBwcmV2ZW50IHNwZWNpYWwgJC1wcmVmaXhlZCByZWdleCByZXBsYWNlIHRva2Vucy5cbiAgICByZXR1cm4gcmVwbGFjZS5jYWxsKG9wdGlvbnNbYXJndW1lbnRdLCBkb2xsYXJSZWdleCwgZG9sbGFyQmlsbHNZYWxsKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gIyMjIFBvbHlnbG90IGNsYXNzIGNvbnN0cnVjdG9yXG5mdW5jdGlvbiBQb2x5Z2xvdChvcHRpb25zKSB7XG4gIHZhciBvcHRzID0gb3B0aW9ucyB8fCB7fTtcbiAgdGhpcy5waHJhc2VzID0ge307XG4gIHRoaXMuZXh0ZW5kKG9wdHMucGhyYXNlcyB8fCB7fSk7XG4gIHRoaXMuY3VycmVudExvY2FsZSA9IG9wdHMubG9jYWxlIHx8ICdlbic7XG4gIHZhciBhbGxvd01pc3NpbmcgPSBvcHRzLmFsbG93TWlzc2luZyA/IHRyYW5zZm9ybVBocmFzZSA6IG51bGw7XG4gIHRoaXMub25NaXNzaW5nS2V5ID0gdHlwZW9mIG9wdHMub25NaXNzaW5nS2V5ID09PSAnZnVuY3Rpb24nID8gb3B0cy5vbk1pc3NpbmdLZXkgOiBhbGxvd01pc3Npbmc7XG4gIHRoaXMud2FybiA9IG9wdHMud2FybiB8fCB3YXJuO1xufVxuXG4vLyAjIyMgcG9seWdsb3QubG9jYWxlKFtsb2NhbGVdKVxuLy9cbi8vIEdldCBvciBzZXQgbG9jYWxlLiBJbnRlcm5hbGx5LCBQb2x5Z2xvdCBvbmx5IHVzZXMgbG9jYWxlIGZvciBwbHVyYWxpemF0aW9uLlxuUG9seWdsb3QucHJvdG90eXBlLmxvY2FsZSA9IGZ1bmN0aW9uIChuZXdMb2NhbGUpIHtcbiAgaWYgKG5ld0xvY2FsZSkgdGhpcy5jdXJyZW50TG9jYWxlID0gbmV3TG9jYWxlO1xuICByZXR1cm4gdGhpcy5jdXJyZW50TG9jYWxlO1xufTtcblxuLy8gIyMjIHBvbHlnbG90LmV4dGVuZChwaHJhc2VzKVxuLy9cbi8vIFVzZSBgZXh0ZW5kYCB0byB0ZWxsIFBvbHlnbG90IGhvdyB0byB0cmFuc2xhdGUgYSBnaXZlbiBrZXkuXG4vL1xuLy8gICAgIHBvbHlnbG90LmV4dGVuZCh7XG4vLyAgICAgICBcImhlbGxvXCI6IFwiSGVsbG9cIixcbi8vICAgICAgIFwiaGVsbG9fbmFtZVwiOiBcIkhlbGxvLCAle25hbWV9XCJcbi8vICAgICB9KTtcbi8vXG4vLyBUaGUga2V5IGNhbiBiZSBhbnkgc3RyaW5nLiAgRmVlbCBmcmVlIHRvIGNhbGwgYGV4dGVuZGAgbXVsdGlwbGUgdGltZXM7XG4vLyBpdCB3aWxsIG92ZXJyaWRlIGFueSBwaHJhc2VzIHdpdGggdGhlIHNhbWUga2V5LCBidXQgbGVhdmUgZXhpc3RpbmcgcGhyYXNlc1xuLy8gdW50b3VjaGVkLlxuLy9cbi8vIEl0IGlzIGFsc28gcG9zc2libGUgdG8gcGFzcyBuZXN0ZWQgcGhyYXNlIG9iamVjdHMsIHdoaWNoIGdldCBmbGF0dGVuZWRcbi8vIGludG8gYW4gb2JqZWN0IHdpdGggdGhlIG5lc3RlZCBrZXlzIGNvbmNhdGVuYXRlZCB1c2luZyBkb3Qgbm90YXRpb24uXG4vL1xuLy8gICAgIHBvbHlnbG90LmV4dGVuZCh7XG4vLyAgICAgICBcIm5hdlwiOiB7XG4vLyAgICAgICAgIFwiaGVsbG9cIjogXCJIZWxsb1wiLFxuLy8gICAgICAgICBcImhlbGxvX25hbWVcIjogXCJIZWxsbywgJXtuYW1lfVwiLFxuLy8gICAgICAgICBcInNpZGViYXJcIjoge1xuLy8gICAgICAgICAgIFwid2VsY29tZVwiOiBcIldlbGNvbWVcIlxuLy8gICAgICAgICB9XG4vLyAgICAgICB9XG4vLyAgICAgfSk7XG4vL1xuLy8gICAgIGNvbnNvbGUubG9nKHBvbHlnbG90LnBocmFzZXMpO1xuLy8gICAgIC8vIHtcbi8vICAgICAvLyAgICduYXYuaGVsbG8nOiAnSGVsbG8nLFxuLy8gICAgIC8vICAgJ25hdi5oZWxsb19uYW1lJzogJ0hlbGxvLCAle25hbWV9Jyxcbi8vICAgICAvLyAgICduYXYuc2lkZWJhci53ZWxjb21lJzogJ1dlbGNvbWUnXG4vLyAgICAgLy8gfVxuLy9cbi8vIGBleHRlbmRgIGFjY2VwdHMgYW4gb3B0aW9uYWwgc2Vjb25kIGFyZ3VtZW50LCBgcHJlZml4YCwgd2hpY2ggY2FuIGJlIHVzZWRcbi8vIHRvIHByZWZpeCBldmVyeSBrZXkgaW4gdGhlIHBocmFzZXMgb2JqZWN0IHdpdGggc29tZSBzdHJpbmcsIHVzaW5nIGRvdFxuLy8gbm90YXRpb24uXG4vL1xuLy8gICAgIHBvbHlnbG90LmV4dGVuZCh7XG4vLyAgICAgICBcImhlbGxvXCI6IFwiSGVsbG9cIixcbi8vICAgICAgIFwiaGVsbG9fbmFtZVwiOiBcIkhlbGxvLCAle25hbWV9XCJcbi8vICAgICB9LCBcIm5hdlwiKTtcbi8vXG4vLyAgICAgY29uc29sZS5sb2cocG9seWdsb3QucGhyYXNlcyk7XG4vLyAgICAgLy8ge1xuLy8gICAgIC8vICAgJ25hdi5oZWxsbyc6ICdIZWxsbycsXG4vLyAgICAgLy8gICAnbmF2LmhlbGxvX25hbWUnOiAnSGVsbG8sICV7bmFtZX0nXG4vLyAgICAgLy8gfVxuLy9cbi8vIFRoaXMgZmVhdHVyZSBpcyB1c2VkIGludGVybmFsbHkgdG8gc3VwcG9ydCBuZXN0ZWQgcGhyYXNlIG9iamVjdHMuXG5Qb2x5Z2xvdC5wcm90b3R5cGUuZXh0ZW5kID0gZnVuY3Rpb24gKG1vcmVQaHJhc2VzLCBwcmVmaXgpIHtcbiAgZm9yRWFjaChtb3JlUGhyYXNlcywgZnVuY3Rpb24gKHBocmFzZSwga2V5KSB7XG4gICAgdmFyIHByZWZpeGVkS2V5ID0gcHJlZml4ID8gcHJlZml4ICsgJy4nICsga2V5IDoga2V5O1xuICAgIGlmICh0eXBlb2YgcGhyYXNlID09PSAnb2JqZWN0Jykge1xuICAgICAgdGhpcy5leHRlbmQocGhyYXNlLCBwcmVmaXhlZEtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGhyYXNlc1twcmVmaXhlZEtleV0gPSBwaHJhc2U7XG4gICAgfVxuICB9LCB0aGlzKTtcbn07XG5cbi8vICMjIyBwb2x5Z2xvdC51bnNldChwaHJhc2VzKVxuLy8gVXNlIGB1bnNldGAgdG8gc2VsZWN0aXZlbHkgcmVtb3ZlIGtleXMgZnJvbSBhIHBvbHlnbG90IGluc3RhbmNlLlxuLy9cbi8vICAgICBwb2x5Z2xvdC51bnNldChcInNvbWVfa2V5XCIpO1xuLy8gICAgIHBvbHlnbG90LnVuc2V0KHtcbi8vICAgICAgIFwiaGVsbG9cIjogXCJIZWxsb1wiLFxuLy8gICAgICAgXCJoZWxsb19uYW1lXCI6IFwiSGVsbG8sICV7bmFtZX1cIlxuLy8gICAgIH0pO1xuLy9cbi8vIFRoZSB1bnNldCBtZXRob2QgY2FuIHRha2UgZWl0aGVyIGEgc3RyaW5nIChmb3IgdGhlIGtleSksIG9yIGFuIG9iamVjdCBoYXNoIHdpdGhcbi8vIHRoZSBrZXlzIHRoYXQgeW91IHdvdWxkIGxpa2UgdG8gdW5zZXQuXG5Qb2x5Z2xvdC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAobW9yZVBocmFzZXMsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG1vcmVQaHJhc2VzID09PSAnc3RyaW5nJykge1xuICAgIGRlbGV0ZSB0aGlzLnBocmFzZXNbbW9yZVBocmFzZXNdO1xuICB9IGVsc2Uge1xuICAgIGZvckVhY2gobW9yZVBocmFzZXMsIGZ1bmN0aW9uIChwaHJhc2UsIGtleSkge1xuICAgICAgdmFyIHByZWZpeGVkS2V5ID0gcHJlZml4ID8gcHJlZml4ICsgJy4nICsga2V5IDoga2V5O1xuICAgICAgaWYgKHR5cGVvZiBwaHJhc2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRoaXMudW5zZXQocGhyYXNlLCBwcmVmaXhlZEtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgdGhpcy5waHJhc2VzW3ByZWZpeGVkS2V5XTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcbiAgfVxufTtcblxuLy8gIyMjIHBvbHlnbG90LmNsZWFyKClcbi8vXG4vLyBDbGVhcnMgYWxsIHBocmFzZXMuIFVzZWZ1bCBmb3Igc3BlY2lhbCBjYXNlcywgc3VjaCBhcyBmcmVlaW5nXG4vLyB1cCBtZW1vcnkgaWYgeW91IGhhdmUgbG90cyBvZiBwaHJhc2VzIGJ1dCBubyBsb25nZXIgbmVlZCB0b1xuLy8gcGVyZm9ybSBhbnkgdHJhbnNsYXRpb24uIEFsc28gdXNlZCBpbnRlcm5hbGx5IGJ5IGByZXBsYWNlYC5cblBvbHlnbG90LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5waHJhc2VzID0ge307XG59O1xuXG4vLyAjIyMgcG9seWdsb3QucmVwbGFjZShwaHJhc2VzKVxuLy9cbi8vIENvbXBsZXRlbHkgcmVwbGFjZSB0aGUgZXhpc3RpbmcgcGhyYXNlcyB3aXRoIGEgbmV3IHNldCBvZiBwaHJhc2VzLlxuLy8gTm9ybWFsbHksIGp1c3QgdXNlIGBleHRlbmRgIHRvIGFkZCBtb3JlIHBocmFzZXMsIGJ1dCB1bmRlciBjZXJ0YWluXG4vLyBjaXJjdW1zdGFuY2VzLCB5b3UgbWF5IHdhbnQgdG8gbWFrZSBzdXJlIG5vIG9sZCBwaHJhc2VzIGFyZSBseWluZyBhcm91bmQuXG5Qb2x5Z2xvdC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChuZXdQaHJhc2VzKSB7XG4gIHRoaXMuY2xlYXIoKTtcbiAgdGhpcy5leHRlbmQobmV3UGhyYXNlcyk7XG59O1xuXG5cbi8vICMjIyBwb2x5Z2xvdC50KGtleSwgb3B0aW9ucylcbi8vXG4vLyBUaGUgbW9zdC11c2VkIG1ldGhvZC4gUHJvdmlkZSBhIGtleSwgYW5kIGB0YCB3aWxsIHJldHVybiB0aGVcbi8vIHBocmFzZS5cbi8vXG4vLyAgICAgcG9seWdsb3QudChcImhlbGxvXCIpO1xuLy8gICAgID0+IFwiSGVsbG9cIlxuLy9cbi8vIFRoZSBwaHJhc2UgdmFsdWUgaXMgcHJvdmlkZWQgZmlyc3QgYnkgYSBjYWxsIHRvIGBwb2x5Z2xvdC5leHRlbmQoKWAgb3Jcbi8vIGBwb2x5Z2xvdC5yZXBsYWNlKClgLlxuLy9cbi8vIFBhc3MgaW4gYW4gb2JqZWN0IGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gcGVyZm9ybSBpbnRlcnBvbGF0aW9uLlxuLy9cbi8vICAgICBwb2x5Z2xvdC50KFwiaGVsbG9fbmFtZVwiLCB7bmFtZTogXCJTcGlrZVwifSk7XG4vLyAgICAgPT4gXCJIZWxsbywgU3Bpa2VcIlxuLy9cbi8vIElmIHlvdSBsaWtlLCB5b3UgY2FuIHByb3ZpZGUgYSBkZWZhdWx0IHZhbHVlIGluIGNhc2UgdGhlIHBocmFzZSBpcyBtaXNzaW5nLlxuLy8gVXNlIHRoZSBzcGVjaWFsIG9wdGlvbiBrZXkgXCJfXCIgdG8gc3BlY2lmeSBhIGRlZmF1bHQuXG4vL1xuLy8gICAgIHBvbHlnbG90LnQoXCJpX2xpa2VfdG9fd3JpdGVfaW5fbGFuZ3VhZ2VcIiwge1xuLy8gICAgICAgXzogXCJJIGxpa2UgdG8gd3JpdGUgaW4gJXtsYW5ndWFnZX0uXCIsXG4vLyAgICAgICBsYW5ndWFnZTogXCJKYXZhU2NyaXB0XCJcbi8vICAgICB9KTtcbi8vICAgICA9PiBcIkkgbGlrZSB0byB3cml0ZSBpbiBKYXZhU2NyaXB0LlwiXG4vL1xuUG9seWdsb3QucHJvdG90eXBlLnQgPSBmdW5jdGlvbiAoa2V5LCBvcHRpb25zKSB7XG4gIHZhciBwaHJhc2UsIHJlc3VsdDtcbiAgdmFyIG9wdHMgPSBvcHRpb25zID09IG51bGwgPyB7fSA6IG9wdGlvbnM7XG4gIGlmICh0eXBlb2YgdGhpcy5waHJhc2VzW2tleV0gPT09ICdzdHJpbmcnKSB7XG4gICAgcGhyYXNlID0gdGhpcy5waHJhc2VzW2tleV07XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdHMuXyA9PT0gJ3N0cmluZycpIHtcbiAgICBwaHJhc2UgPSBvcHRzLl87XG4gIH0gZWxzZSBpZiAodGhpcy5vbk1pc3NpbmdLZXkpIHtcbiAgICB2YXIgb25NaXNzaW5nS2V5ID0gdGhpcy5vbk1pc3NpbmdLZXk7XG4gICAgcmVzdWx0ID0gb25NaXNzaW5nS2V5KGtleSwgb3B0cywgdGhpcy5jdXJyZW50TG9jYWxlKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLndhcm4oJ01pc3NpbmcgdHJhbnNsYXRpb24gZm9yIGtleTogXCInICsga2V5ICsgJ1wiJyk7XG4gICAgcmVzdWx0ID0ga2V5O1xuICB9XG4gIGlmICh0eXBlb2YgcGhyYXNlID09PSAnc3RyaW5nJykge1xuICAgIHJlc3VsdCA9IHRyYW5zZm9ybVBocmFzZShwaHJhc2UsIG9wdHMsIHRoaXMuY3VycmVudExvY2FsZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblxuLy8gIyMjIHBvbHlnbG90LmhhcyhrZXkpXG4vL1xuLy8gQ2hlY2sgaWYgcG9seWdsb3QgaGFzIGEgdHJhbnNsYXRpb24gZm9yIGdpdmVuIGtleVxuUG9seWdsb3QucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIGhhcyh0aGlzLnBocmFzZXMsIGtleSk7XG59O1xuXG4vLyBleHBvcnQgdHJhbnNmb3JtUGhyYXNlXG5Qb2x5Z2xvdC50cmFuc2Zvcm1QaHJhc2UgPSB0cmFuc2Zvcm1QaHJhc2U7XG5cbm1vZHVsZS5leHBvcnRzID0gUG9seWdsb3Q7XG4iLCIvKiFcbiAqIFBpa2FkYXlcbiAqXG4gKiBDb3B5cmlnaHQgwqkgMjAxNCBEYXZpZCBCdXNoZWxsIHwgQlNEICYgTUlUIGxpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vZGJ1c2hlbGwvUGlrYWRheVxuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSlcbntcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbW9tZW50O1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gQ29tbW9uSlMgbW9kdWxlXG4gICAgICAgIC8vIExvYWQgbW9tZW50LmpzIGFzIGFuIG9wdGlvbmFsIGRlcGVuZGVuY3lcbiAgICAgICAgdHJ5IHsgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7IH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShtb21lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uIChyZXEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExvYWQgbW9tZW50LmpzIGFzIGFuIG9wdGlvbmFsIGRlcGVuZGVuY3lcbiAgICAgICAgICAgIHZhciBpZCA9ICdtb21lbnQnO1xuICAgICAgICAgICAgdHJ5IHsgbW9tZW50ID0gcmVxKGlkKTsgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KG1vbWVudCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJvb3QuUGlrYWRheSA9IGZhY3Rvcnkocm9vdC5tb21lbnQpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24gKG1vbWVudClcbntcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBmZWF0dXJlIGRldGVjdGlvbiBhbmQgaGVscGVyIGZ1bmN0aW9uc1xuICAgICAqL1xuICAgIHZhciBoYXNNb21lbnQgPSB0eXBlb2YgbW9tZW50ID09PSAnZnVuY3Rpb24nLFxuXG4gICAgaGFzRXZlbnRMaXN0ZW5lcnMgPSAhIXdpbmRvdy5hZGRFdmVudExpc3RlbmVyLFxuXG4gICAgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQsXG5cbiAgICBzdG8gPSB3aW5kb3cuc2V0VGltZW91dCxcblxuICAgIGFkZEV2ZW50ID0gZnVuY3Rpb24oZWwsIGUsIGNhbGxiYWNrLCBjYXB0dXJlKVxuICAgIHtcbiAgICAgICAgaWYgKGhhc0V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGUsIGNhbGxiYWNrLCAhIWNhcHR1cmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwuYXR0YWNoRXZlbnQoJ29uJyArIGUsIGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICByZW1vdmVFdmVudCA9IGZ1bmN0aW9uKGVsLCBlLCBjYWxsYmFjaywgY2FwdHVyZSlcbiAgICB7XG4gICAgICAgIGlmIChoYXNFdmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBjYWxsYmFjaywgISFjYXB0dXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsLmRldGFjaEV2ZW50KCdvbicgKyBlLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdHJpbSA9IGZ1bmN0aW9uKHN0cilcbiAgICB7XG4gICAgICAgIHJldHVybiBzdHIudHJpbSA/IHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXlxccyt8XFxzKyQvZywnJyk7XG4gICAgfSxcblxuICAgIGhhc0NsYXNzID0gZnVuY3Rpb24oZWwsIGNuKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLmluZGV4T2YoJyAnICsgY24gKyAnICcpICE9PSAtMTtcbiAgICB9LFxuXG4gICAgYWRkQ2xhc3MgPSBmdW5jdGlvbihlbCwgY24pXG4gICAge1xuICAgICAgICBpZiAoIWhhc0NsYXNzKGVsLCBjbikpIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9IChlbC5jbGFzc05hbWUgPT09ICcnKSA/IGNuIDogZWwuY2xhc3NOYW1lICsgJyAnICsgY247XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbihlbCwgY24pXG4gICAge1xuICAgICAgICBlbC5jbGFzc05hbWUgPSB0cmltKCgnICcgKyBlbC5jbGFzc05hbWUgKyAnICcpLnJlcGxhY2UoJyAnICsgY24gKyAnICcsICcgJykpO1xuICAgIH0sXG5cbiAgICBpc0FycmF5ID0gZnVuY3Rpb24ob2JqKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgvQXJyYXkvKS50ZXN0KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKTtcbiAgICB9LFxuXG4gICAgaXNEYXRlID0gZnVuY3Rpb24ob2JqKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgvRGF0ZS8pLnRlc3QoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpICYmICFpc05hTihvYmouZ2V0VGltZSgpKTtcbiAgICB9LFxuXG4gICAgaXNXZWVrZW5kID0gZnVuY3Rpb24oZGF0ZSlcbiAgICB7XG4gICAgICAgIHZhciBkYXkgPSBkYXRlLmdldERheSgpO1xuICAgICAgICByZXR1cm4gZGF5ID09PSAwIHx8IGRheSA9PT0gNjtcbiAgICB9LFxuXG4gICAgaXNMZWFwWWVhciA9IGZ1bmN0aW9uKHllYXIpXG4gICAge1xuICAgICAgICAvLyBzb2x1dGlvbiBieSBNYXR0aSBWaXJra3VuZW46IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4ODE5NTFcbiAgICAgICAgcmV0dXJuIHllYXIgJSA0ID09PSAwICYmIHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMDtcbiAgICB9LFxuXG4gICAgZ2V0RGF5c0luTW9udGggPSBmdW5jdGlvbih5ZWFyLCBtb250aClcbiAgICB7XG4gICAgICAgIHJldHVybiBbMzEsIGlzTGVhcFllYXIoeWVhcikgPyAyOSA6IDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV1bbW9udGhdO1xuICAgIH0sXG5cbiAgICBzZXRUb1N0YXJ0T2ZEYXkgPSBmdW5jdGlvbihkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKGlzRGF0ZShkYXRlKSkgZGF0ZS5zZXRIb3VycygwLDAsMCwwKTtcbiAgICB9LFxuXG4gICAgY29tcGFyZURhdGVzID0gZnVuY3Rpb24oYSxiKVxuICAgIHtcbiAgICAgICAgLy8gd2VhayBkYXRlIGNvbXBhcmlzb24gKHVzZSBzZXRUb1N0YXJ0T2ZEYXkoZGF0ZSkgdG8gZW5zdXJlIGNvcnJlY3QgcmVzdWx0KVxuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpO1xuICAgIH0sXG5cbiAgICBleHRlbmQgPSBmdW5jdGlvbih0bywgZnJvbSwgb3ZlcndyaXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3AsIGhhc1Byb3A7XG4gICAgICAgIGZvciAocHJvcCBpbiBmcm9tKSB7XG4gICAgICAgICAgICBoYXNQcm9wID0gdG9bcHJvcF0gIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChoYXNQcm9wICYmIHR5cGVvZiBmcm9tW3Byb3BdID09PSAnb2JqZWN0JyAmJiBmcm9tW3Byb3BdICE9PSBudWxsICYmIGZyb21bcHJvcF0ubm9kZU5hbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUoZnJvbVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9bcHJvcF0gPSBuZXcgRGF0ZShmcm9tW3Byb3BdLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNBcnJheShmcm9tW3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IGZyb21bcHJvcF0uc2xpY2UoMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IGV4dGVuZCh7fSwgZnJvbVtwcm9wXSwgb3ZlcndyaXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG92ZXJ3cml0ZSB8fCAhaGFzUHJvcCkge1xuICAgICAgICAgICAgICAgIHRvW3Byb3BdID0gZnJvbVtwcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG87XG4gICAgfSxcblxuICAgIGZpcmVFdmVudCA9IGZ1bmN0aW9uKGVsLCBldmVudE5hbWUsIGRhdGEpXG4gICAge1xuICAgICAgICB2YXIgZXY7XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgICAgICBldiA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7XG4gICAgICAgICAgICBldi5pbml0RXZlbnQoZXZlbnROYW1lLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgICAgICBldiA9IGV4dGVuZChldiwgZGF0YSk7XG4gICAgICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2KTtcbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCkge1xuICAgICAgICAgICAgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICAgICAgZXYgPSBleHRlbmQoZXYsIGRhdGEpO1xuICAgICAgICAgICAgZWwuZmlyZUV2ZW50KCdvbicgKyBldmVudE5hbWUsIGV2KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGp1c3RDYWxlbmRhciA9IGZ1bmN0aW9uKGNhbGVuZGFyKSB7XG4gICAgICAgIGlmIChjYWxlbmRhci5tb250aCA8IDApIHtcbiAgICAgICAgICAgIGNhbGVuZGFyLnllYXIgLT0gTWF0aC5jZWlsKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKS8xMik7XG4gICAgICAgICAgICBjYWxlbmRhci5tb250aCArPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FsZW5kYXIubW9udGggPiAxMSkge1xuICAgICAgICAgICAgY2FsZW5kYXIueWVhciArPSBNYXRoLmZsb29yKE1hdGguYWJzKGNhbGVuZGFyLm1vbnRoKS8xMik7XG4gICAgICAgICAgICBjYWxlbmRhci5tb250aCAtPSAxMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsZW5kYXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRlZmF1bHRzIGFuZCBsb2NhbGlzYXRpb25cbiAgICAgKi9cbiAgICBkZWZhdWx0cyA9IHtcblxuICAgICAgICAvLyBiaW5kIHRoZSBwaWNrZXIgdG8gYSBmb3JtIGZpZWxkXG4gICAgICAgIGZpZWxkOiBudWxsLFxuXG4gICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgc2hvdy9oaWRlIHRoZSBwaWNrZXIgb24gYGZpZWxkYCBmb2N1cyAoZGVmYXVsdCBgdHJ1ZWAgaWYgYGZpZWxkYCBpcyBzZXQpXG4gICAgICAgIGJvdW5kOiB1bmRlZmluZWQsXG5cbiAgICAgICAgLy8gcG9zaXRpb24gb2YgdGhlIGRhdGVwaWNrZXIsIHJlbGF0aXZlIHRvIHRoZSBmaWVsZCAoZGVmYXVsdCB0byBib3R0b20gJiBsZWZ0KVxuICAgICAgICAvLyAoJ2JvdHRvbScgJiAnbGVmdCcga2V5d29yZHMgYXJlIG5vdCB1c2VkLCAndG9wJyAmICdyaWdodCcgYXJlIG1vZGlmaWVyIG9uIHRoZSBib3R0b20vbGVmdCBwb3NpdGlvbilcbiAgICAgICAgcG9zaXRpb246ICdib3R0b20gbGVmdCcsXG5cbiAgICAgICAgLy8gYXV0b21hdGljYWxseSBmaXQgaW4gdGhlIHZpZXdwb3J0IGV2ZW4gaWYgaXQgbWVhbnMgcmVwb3NpdGlvbmluZyBmcm9tIHRoZSBwb3NpdGlvbiBvcHRpb25cbiAgICAgICAgcmVwb3NpdGlvbjogdHJ1ZSxcblxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBvdXRwdXQgZm9ybWF0IGZvciBgLnRvU3RyaW5nKClgIGFuZCBgZmllbGRgIHZhbHVlXG4gICAgICAgIGZvcm1hdDogJ1lZWVktTU0tREQnLFxuXG4gICAgICAgIC8vIHRoZSB0b1N0cmluZyBmdW5jdGlvbiB3aGljaCBnZXRzIHBhc3NlZCBhIGN1cnJlbnQgZGF0ZSBvYmplY3QgYW5kIGZvcm1hdFxuICAgICAgICAvLyBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICAgICAgICB0b1N0cmluZzogbnVsbCxcblxuICAgICAgICAvLyB1c2VkIHRvIGNyZWF0ZSBkYXRlIG9iamVjdCBmcm9tIGN1cnJlbnQgaW5wdXQgc3RyaW5nXG4gICAgICAgIHBhcnNlOiBudWxsLFxuXG4gICAgICAgIC8vIHRoZSBpbml0aWFsIGRhdGUgdG8gdmlldyB3aGVuIGZpcnN0IG9wZW5lZFxuICAgICAgICBkZWZhdWx0RGF0ZTogbnVsbCxcblxuICAgICAgICAvLyBtYWtlIHRoZSBgZGVmYXVsdERhdGVgIHRoZSBpbml0aWFsIHNlbGVjdGVkIHZhbHVlXG4gICAgICAgIHNldERlZmF1bHREYXRlOiBmYWxzZSxcblxuICAgICAgICAvLyBmaXJzdCBkYXkgb2Ygd2VlayAoMDogU3VuZGF5LCAxOiBNb25kYXkgZXRjKVxuICAgICAgICBmaXJzdERheTogMCxcblxuICAgICAgICAvLyB0aGUgZGVmYXVsdCBmbGFnIGZvciBtb21lbnQncyBzdHJpY3QgZGF0ZSBwYXJzaW5nXG4gICAgICAgIGZvcm1hdFN0cmljdDogZmFsc2UsXG5cbiAgICAgICAgLy8gdGhlIG1pbmltdW0vZWFybGllc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICBtaW5EYXRlOiBudWxsLFxuICAgICAgICAvLyB0aGUgbWF4aW11bS9sYXRlc3QgZGF0ZSB0aGF0IGNhbiBiZSBzZWxlY3RlZFxuICAgICAgICBtYXhEYXRlOiBudWxsLFxuXG4gICAgICAgIC8vIG51bWJlciBvZiB5ZWFycyBlaXRoZXIgc2lkZSwgb3IgYXJyYXkgb2YgdXBwZXIvbG93ZXIgcmFuZ2VcbiAgICAgICAgeWVhclJhbmdlOiAxMCxcblxuICAgICAgICAvLyBzaG93IHdlZWsgbnVtYmVycyBhdCBoZWFkIG9mIHJvd1xuICAgICAgICBzaG93V2Vla051bWJlcjogZmFsc2UsXG5cbiAgICAgICAgLy8gV2VlayBwaWNrZXIgbW9kZVxuICAgICAgICBwaWNrV2hvbGVXZWVrOiBmYWxzZSxcblxuICAgICAgICAvLyB1c2VkIGludGVybmFsbHkgKGRvbid0IGNvbmZpZyBvdXRzaWRlKVxuICAgICAgICBtaW5ZZWFyOiAwLFxuICAgICAgICBtYXhZZWFyOiA5OTk5LFxuICAgICAgICBtaW5Nb250aDogdW5kZWZpbmVkLFxuICAgICAgICBtYXhNb250aDogdW5kZWZpbmVkLFxuXG4gICAgICAgIHN0YXJ0UmFuZ2U6IG51bGwsXG4gICAgICAgIGVuZFJhbmdlOiBudWxsLFxuXG4gICAgICAgIGlzUlRMOiBmYWxzZSxcblxuICAgICAgICAvLyBBZGRpdGlvbmFsIHRleHQgdG8gYXBwZW5kIHRvIHRoZSB5ZWFyIGluIHRoZSBjYWxlbmRhciB0aXRsZVxuICAgICAgICB5ZWFyU3VmZml4OiAnJyxcblxuICAgICAgICAvLyBSZW5kZXIgdGhlIG1vbnRoIGFmdGVyIHllYXIgaW4gdGhlIGNhbGVuZGFyIHRpdGxlXG4gICAgICAgIHNob3dNb250aEFmdGVyWWVhcjogZmFsc2UsXG5cbiAgICAgICAgLy8gUmVuZGVyIGRheXMgb2YgdGhlIGNhbGVuZGFyIGdyaWQgdGhhdCBmYWxsIGluIHRoZSBuZXh0IG9yIHByZXZpb3VzIG1vbnRoXG4gICAgICAgIHNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IGZhbHNlLFxuXG4gICAgICAgIC8vIEFsbG93cyB1c2VyIHRvIHNlbGVjdCBkYXlzIHRoYXQgZmFsbCBpbiB0aGUgbmV4dCBvciBwcmV2aW91cyBtb250aFxuICAgICAgICBlbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHM6IGZhbHNlLFxuXG4gICAgICAgIC8vIGhvdyBtYW55IG1vbnRocyBhcmUgdmlzaWJsZVxuICAgICAgICBudW1iZXJPZk1vbnRoczogMSxcblxuICAgICAgICAvLyB3aGVuIG51bWJlck9mTW9udGhzIGlzIHVzZWQsIHRoaXMgd2lsbCBoZWxwIHlvdSB0byBjaG9vc2Ugd2hlcmUgdGhlIG1haW4gY2FsZW5kYXIgd2lsbCBiZSAoZGVmYXVsdCBgbGVmdGAsIGNhbiBiZSBzZXQgdG8gYHJpZ2h0YClcbiAgICAgICAgLy8gb25seSB1c2VkIGZvciB0aGUgZmlyc3QgZGlzcGxheSBvciB3aGVuIGEgc2VsZWN0ZWQgZGF0ZSBpcyBub3QgdmlzaWJsZVxuICAgICAgICBtYWluQ2FsZW5kYXI6ICdsZWZ0JyxcblxuICAgICAgICAvLyBTcGVjaWZ5IGEgRE9NIGVsZW1lbnQgdG8gcmVuZGVyIHRoZSBjYWxlbmRhciBpblxuICAgICAgICBjb250YWluZXI6IHVuZGVmaW5lZCxcblxuICAgICAgICAvLyBCbHVyIGZpZWxkIHdoZW4gZGF0ZSBpcyBzZWxlY3RlZFxuICAgICAgICBibHVyRmllbGRPblNlbGVjdCA6IHRydWUsXG5cbiAgICAgICAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgICAgICAgaTE4bjoge1xuICAgICAgICAgICAgcHJldmlvdXNNb250aCA6ICdQcmV2aW91cyBNb250aCcsXG4gICAgICAgICAgICBuZXh0TW9udGggICAgIDogJ05leHQgTW9udGgnLFxuICAgICAgICAgICAgbW9udGhzICAgICAgICA6IFsnSmFudWFyeScsJ0ZlYnJ1YXJ5JywnTWFyY2gnLCdBcHJpbCcsJ01heScsJ0p1bmUnLCdKdWx5JywnQXVndXN0JywnU2VwdGVtYmVyJywnT2N0b2JlcicsJ05vdmVtYmVyJywnRGVjZW1iZXInXSxcbiAgICAgICAgICAgIHdlZWtkYXlzICAgICAgOiBbJ1N1bmRheScsJ01vbmRheScsJ1R1ZXNkYXknLCdXZWRuZXNkYXknLCdUaHVyc2RheScsJ0ZyaWRheScsJ1NhdHVyZGF5J10sXG4gICAgICAgICAgICB3ZWVrZGF5c1Nob3J0IDogWydTdW4nLCdNb24nLCdUdWUnLCdXZWQnLCdUaHUnLCdGcmknLCdTYXQnXVxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIFRoZW1lIENsYXNzbmFtZVxuICAgICAgICB0aGVtZTogbnVsbCxcblxuICAgICAgICAvLyBldmVudHMgYXJyYXlcbiAgICAgICAgZXZlbnRzOiBbXSxcblxuICAgICAgICAvLyBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICBvblNlbGVjdDogbnVsbCxcbiAgICAgICAgb25PcGVuOiBudWxsLFxuICAgICAgICBvbkNsb3NlOiBudWxsLFxuICAgICAgICBvbkRyYXc6IG51bGwsXG5cbiAgICAgICAgLy8gRW5hYmxlIGtleWJvYXJkIGlucHV0XG4gICAgICAgIGtleWJvYXJkSW5wdXQ6IHRydWVcbiAgICB9LFxuXG5cbiAgICAvKipcbiAgICAgKiB0ZW1wbGF0aW5nIGZ1bmN0aW9ucyB0byBhYnN0cmFjdCBIVE1MIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIHJlbmRlckRheU5hbWUgPSBmdW5jdGlvbihvcHRzLCBkYXksIGFiYnIpXG4gICAge1xuICAgICAgICBkYXkgKz0gb3B0cy5maXJzdERheTtcbiAgICAgICAgd2hpbGUgKGRheSA+PSA3KSB7XG4gICAgICAgICAgICBkYXkgLT0gNztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWJiciA/IG9wdHMuaTE4bi53ZWVrZGF5c1Nob3J0W2RheV0gOiBvcHRzLmkxOG4ud2Vla2RheXNbZGF5XTtcbiAgICB9LFxuXG4gICAgcmVuZGVyRGF5ID0gZnVuY3Rpb24ob3B0cylcbiAgICB7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcbiAgICAgICAgdmFyIGFyaWFTZWxlY3RlZCA9ICdmYWxzZSc7XG4gICAgICAgIGlmIChvcHRzLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnNob3dEYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaCgnaXMtb3V0c2lkZS1jdXJyZW50LW1vbnRoJyk7XG5cbiAgICAgICAgICAgICAgICBpZighb3B0cy5lbmFibGVTZWxlY3Rpb25EYXlzSW5OZXh0QW5kUHJldmlvdXNNb250aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goJ2lzLXNlbGVjdGlvbi1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJzx0ZCBjbGFzcz1cImlzLWVtcHR5XCI+PC90ZD4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy1kaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzVG9kYXkpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy10b2RheScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgYXJpYVNlbGVjdGVkID0gJ3RydWUnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmhhc0V2ZW50KSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaGFzLWV2ZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMuaXNJblJhbmdlKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtaW5yYW5nZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLmlzU3RhcnRSYW5nZSkge1xuICAgICAgICAgICAgYXJyLnB1c2goJ2lzLXN0YXJ0cmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5pc0VuZFJhbmdlKSB7XG4gICAgICAgICAgICBhcnIucHVzaCgnaXMtZW5kcmFuZ2UnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJzx0ZCBkYXRhLWRheT1cIicgKyBvcHRzLmRheSArICdcIiBjbGFzcz1cIicgKyBhcnIuam9pbignICcpICsgJ1wiIGFyaWEtc2VsZWN0ZWQ9XCInICsgYXJpYVNlbGVjdGVkICsgJ1wiPicgK1xuICAgICAgICAgICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInBpa2EtYnV0dG9uIHBpa2EtZGF5XCIgdHlwZT1cImJ1dHRvblwiICcgK1xuICAgICAgICAgICAgICAgICAgICAnZGF0YS1waWthLXllYXI9XCInICsgb3B0cy55ZWFyICsgJ1wiIGRhdGEtcGlrYS1tb250aD1cIicgKyBvcHRzLm1vbnRoICsgJ1wiIGRhdGEtcGlrYS1kYXk9XCInICsgb3B0cy5kYXkgKyAnXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmRheSArXG4gICAgICAgICAgICAgICAgICc8L2J1dHRvbj4nICtcbiAgICAgICAgICAgICAgICc8L3RkPic7XG4gICAgfSxcblxuICAgIHJlbmRlcldlZWsgPSBmdW5jdGlvbiAoZCwgbSwgeSkge1xuICAgICAgICAvLyBMaWZ0ZWQgZnJvbSBodHRwOi8vamF2YXNjcmlwdC5hYm91dC5jb20vbGlicmFyeS9ibHdlZWt5ZWFyLmh0bSwgbGlnaHRseSBtb2RpZmllZC5cbiAgICAgICAgdmFyIG9uZWphbiA9IG5ldyBEYXRlKHksIDAsIDEpLFxuICAgICAgICAgICAgd2Vla051bSA9IE1hdGguY2VpbCgoKChuZXcgRGF0ZSh5LCBtLCBkKSAtIG9uZWphbikgLyA4NjQwMDAwMCkgKyBvbmVqYW4uZ2V0RGF5KCkrMSkvNyk7XG4gICAgICAgIHJldHVybiAnPHRkIGNsYXNzPVwicGlrYS13ZWVrXCI+JyArIHdlZWtOdW0gKyAnPC90ZD4nO1xuICAgIH0sXG5cbiAgICByZW5kZXJSb3cgPSBmdW5jdGlvbihkYXlzLCBpc1JUTCwgcGlja1dob2xlV2VlaywgaXNSb3dTZWxlY3RlZClcbiAgICB7XG4gICAgICAgIHJldHVybiAnPHRyIGNsYXNzPVwicGlrYS1yb3cnICsgKHBpY2tXaG9sZVdlZWsgPyAnIHBpY2std2hvbGUtd2VlaycgOiAnJykgKyAoaXNSb3dTZWxlY3RlZCA/ICcgaXMtc2VsZWN0ZWQnIDogJycpICsgJ1wiPicgKyAoaXNSVEwgPyBkYXlzLnJldmVyc2UoKSA6IGRheXMpLmpvaW4oJycpICsgJzwvdHI+JztcbiAgICB9LFxuXG4gICAgcmVuZGVyQm9keSA9IGZ1bmN0aW9uKHJvd3MpXG4gICAge1xuICAgICAgICByZXR1cm4gJzx0Ym9keT4nICsgcm93cy5qb2luKCcnKSArICc8L3Rib2R5Pic7XG4gICAgfSxcblxuICAgIHJlbmRlckhlYWQgPSBmdW5jdGlvbihvcHRzKVxuICAgIHtcbiAgICAgICAgdmFyIGksIGFyciA9IFtdO1xuICAgICAgICBpZiAob3B0cy5zaG93V2Vla051bWJlcikge1xuICAgICAgICAgICAgYXJyLnB1c2goJzx0aD48L3RoPicpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCc8dGggc2NvcGU9XCJjb2xcIj48YWJiciB0aXRsZT1cIicgKyByZW5kZXJEYXlOYW1lKG9wdHMsIGkpICsgJ1wiPicgKyByZW5kZXJEYXlOYW1lKG9wdHMsIGksIHRydWUpICsgJzwvYWJicj48L3RoPicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnPHRoZWFkPjx0cj4nICsgKG9wdHMuaXNSVEwgPyBhcnIucmV2ZXJzZSgpIDogYXJyKS5qb2luKCcnKSArICc8L3RyPjwvdGhlYWQ+JztcbiAgICB9LFxuXG4gICAgcmVuZGVyVGl0bGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgYywgeWVhciwgbW9udGgsIHJlZlllYXIsIHJhbmRJZClcbiAgICB7XG4gICAgICAgIHZhciBpLCBqLCBhcnIsXG4gICAgICAgICAgICBvcHRzID0gaW5zdGFuY2UuX28sXG4gICAgICAgICAgICBpc01pblllYXIgPSB5ZWFyID09PSBvcHRzLm1pblllYXIsXG4gICAgICAgICAgICBpc01heFllYXIgPSB5ZWFyID09PSBvcHRzLm1heFllYXIsXG4gICAgICAgICAgICBodG1sID0gJzxkaXYgaWQ9XCInICsgcmFuZElkICsgJ1wiIGNsYXNzPVwicGlrYS10aXRsZVwiIHJvbGU9XCJoZWFkaW5nXCIgYXJpYS1saXZlPVwiYXNzZXJ0aXZlXCI+JyxcbiAgICAgICAgICAgIG1vbnRoSHRtbCxcbiAgICAgICAgICAgIHllYXJIdG1sLFxuICAgICAgICAgICAgcHJldiA9IHRydWUsXG4gICAgICAgICAgICBuZXh0ID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKGFyciA9IFtdLCBpID0gMDsgaSA8IDEyOyBpKyspIHtcbiAgICAgICAgICAgIGFyci5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArICh5ZWFyID09PSByZWZZZWFyID8gaSAtIGMgOiAxMiArIGkgLSBjKSArICdcIicgK1xuICAgICAgICAgICAgICAgIChpID09PSBtb250aCA/ICcgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiJzogJycpICtcbiAgICAgICAgICAgICAgICAoKGlzTWluWWVhciAmJiBpIDwgb3B0cy5taW5Nb250aCkgfHwgKGlzTWF4WWVhciAmJiBpID4gb3B0cy5tYXhNb250aCkgPyAnZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnKSArICc+JyArXG4gICAgICAgICAgICAgICAgb3B0cy5pMThuLm1vbnRoc1tpXSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1vbnRoSHRtbCA9ICc8ZGl2IGNsYXNzPVwicGlrYS1sYWJlbFwiPicgKyBvcHRzLmkxOG4ubW9udGhzW21vbnRoXSArICc8c2VsZWN0IGNsYXNzPVwicGlrYS1zZWxlY3QgcGlrYS1zZWxlY3QtbW9udGhcIiB0YWJpbmRleD1cIi0xXCI+JyArIGFyci5qb2luKCcnKSArICc8L3NlbGVjdD48L2Rpdj4nO1xuXG4gICAgICAgIGlmIChpc0FycmF5KG9wdHMueWVhclJhbmdlKSkge1xuICAgICAgICAgICAgaSA9IG9wdHMueWVhclJhbmdlWzBdO1xuICAgICAgICAgICAgaiA9IG9wdHMueWVhclJhbmdlWzFdICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGkgPSB5ZWFyIC0gb3B0cy55ZWFyUmFuZ2U7XG4gICAgICAgICAgICBqID0gMSArIHllYXIgKyBvcHRzLnllYXJSYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoYXJyID0gW107IGkgPCBqICYmIGkgPD0gb3B0cy5tYXhZZWFyOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IG9wdHMubWluWWVhcikge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKCc8b3B0aW9uIHZhbHVlPVwiJyArIGkgKyAnXCInICsgKGkgPT09IHllYXIgPyAnIHNlbGVjdGVkPVwic2VsZWN0ZWRcIic6ICcnKSArICc+JyArIChpKSArICc8L29wdGlvbj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5ZWFySHRtbCA9ICc8ZGl2IGNsYXNzPVwicGlrYS1sYWJlbFwiPicgKyB5ZWFyICsgb3B0cy55ZWFyU3VmZml4ICsgJzxzZWxlY3QgY2xhc3M9XCJwaWthLXNlbGVjdCBwaWthLXNlbGVjdC15ZWFyXCIgdGFiaW5kZXg9XCItMVwiPicgKyBhcnIuam9pbignJykgKyAnPC9zZWxlY3Q+PC9kaXY+JztcblxuICAgICAgICBpZiAob3B0cy5zaG93TW9udGhBZnRlclllYXIpIHtcbiAgICAgICAgICAgIGh0bWwgKz0geWVhckh0bWwgKyBtb250aEh0bWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBodG1sICs9IG1vbnRoSHRtbCArIHllYXJIdG1sO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzTWluWWVhciAmJiAobW9udGggPT09IDAgfHwgb3B0cy5taW5Nb250aCA+PSBtb250aCkpIHtcbiAgICAgICAgICAgIHByZXYgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc01heFllYXIgJiYgKG1vbnRoID09PSAxMSB8fCBvcHRzLm1heE1vbnRoIDw9IG1vbnRoKSkge1xuICAgICAgICAgICAgbmV4dCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPT09IDApIHtcbiAgICAgICAgICAgIGh0bWwgKz0gJzxidXR0b24gY2xhc3M9XCJwaWthLXByZXYnICsgKHByZXYgPyAnJyA6ICcgaXMtZGlzYWJsZWQnKSArICdcIiB0eXBlPVwiYnV0dG9uXCI+JyArIG9wdHMuaTE4bi5wcmV2aW91c01vbnRoICsgJzwvYnV0dG9uPic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGMgPT09IChpbnN0YW5jZS5fby5udW1iZXJPZk1vbnRocyAtIDEpICkge1xuICAgICAgICAgICAgaHRtbCArPSAnPGJ1dHRvbiBjbGFzcz1cInBpa2EtbmV4dCcgKyAobmV4dCA/ICcnIDogJyBpcy1kaXNhYmxlZCcpICsgJ1wiIHR5cGU9XCJidXR0b25cIj4nICsgb3B0cy5pMThuLm5leHRNb250aCArICc8L2J1dHRvbj4nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgfSxcblxuICAgIHJlbmRlclRhYmxlID0gZnVuY3Rpb24ob3B0cywgZGF0YSwgcmFuZElkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICc8dGFibGUgY2VsbHBhZGRpbmc9XCIwXCIgY2VsbHNwYWNpbmc9XCIwXCIgY2xhc3M9XCJwaWthLXRhYmxlXCIgcm9sZT1cImdyaWRcIiBhcmlhLWxhYmVsbGVkYnk9XCInICsgcmFuZElkICsgJ1wiPicgKyByZW5kZXJIZWFkKG9wdHMpICsgcmVuZGVyQm9keShkYXRhKSArICc8L3RhYmxlPic7XG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogUGlrYWRheSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIFBpa2FkYXkgPSBmdW5jdGlvbihvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgb3B0cyA9IHNlbGYuY29uZmlnKG9wdGlvbnMpO1xuXG4gICAgICAgIHNlbGYuX29uTW91c2VEb3duID0gZnVuY3Rpb24oZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFzZWxmLl92KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudDtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhhc0NsYXNzKHRhcmdldCwgJ2lzLWRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3ModGFyZ2V0LCAncGlrYS1idXR0b24nKSAmJiAhaGFzQ2xhc3ModGFyZ2V0LCAnaXMtZW1wdHknKSAmJiAhaGFzQ2xhc3ModGFyZ2V0LnBhcmVudE5vZGUsICdpcy1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShuZXcgRGF0ZSh0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBpa2EteWVhcicpLCB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBpa2EtbW9udGgnKSwgdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1waWthLWRheScpKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG8oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuYmx1ckZpZWxkT25TZWxlY3QgJiYgb3B0cy5maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2EtcHJldicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucHJldk1vbnRoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2EtbmV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYubmV4dE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdCcpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyB0b3VjaCBldmVudCBwcmV2ZW50IG1vdXNlIGV2ZW50cyBlbXVsYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9jID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbkNoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNDbGFzcyh0YXJnZXQsICdwaWthLXNlbGVjdC1tb250aCcpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5nb3RvTW9udGgodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2Etc2VsZWN0LXllYXInKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZ290b1llYXIodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbktleUNoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgaWYgKHNlbGYuaXNWaXNpYmxlKCkpIHtcblxuICAgICAgICAgICAgICAgIHN3aXRjaChlLmtleUNvZGUpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZGp1c3REYXRlKCdzdWJ0cmFjdCcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFkanVzdERhdGUoJ3N1YnRyYWN0JywgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0RGF0ZSgnYWRkJywgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWRqdXN0RGF0ZSgnYWRkJywgNyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25JbnB1dENoYW5nZSA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRlO1xuXG4gICAgICAgICAgICBpZiAoZS5maXJlZEJ5ID09PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMucGFyc2UpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gb3B0cy5wYXJzZShvcHRzLmZpZWxkLnZhbHVlLCBvcHRzLmZvcm1hdCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc01vbWVudCkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBtb21lbnQob3B0cy5maWVsZC52YWx1ZSwgb3B0cy5mb3JtYXQsIG9wdHMuZm9ybWF0U3RyaWN0KTtcbiAgICAgICAgICAgICAgICBkYXRlID0gKGRhdGUgJiYgZGF0ZS5pc1ZhbGlkKCkpID8gZGF0ZS50b0RhdGUoKSA6IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZShvcHRzLmZpZWxkLnZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2VsZi5fdikge1xuICAgICAgICAgICAgICAgIHNlbGYuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYuX29uSW5wdXRGb2N1cyA9IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgc2VsZi5zaG93KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25JbnB1dENsaWNrID0gZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWxmLnNob3coKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLl9vbklucHV0Qmx1ciA9IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSUUgYWxsb3dzIHBpa2EgZGl2IHRvIGdhaW4gZm9jdXM7IGNhdGNoIGJsdXIgdGhlIGlucHV0IGZpZWxkXG4gICAgICAgICAgICB2YXIgcEVsID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ2xhc3MocEVsLCAncGlrYS1zaW5nbGUnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKChwRWwgPSBwRWwucGFyZW50Tm9kZSkpO1xuXG4gICAgICAgICAgICBpZiAoIXNlbGYuX2MpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9iID0gc3RvKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWxmLl9jID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5fb25DbGljayA9IGZ1bmN0aW9uKGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgcEVsID0gdGFyZ2V0O1xuICAgICAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWhhc0V2ZW50TGlzdGVuZXJzICYmIGhhc0NsYXNzKHRhcmdldCwgJ3Bpa2Etc2VsZWN0JykpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5vbmNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCdvbmNoYW5nZScsICdyZXR1cm47Jyk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50KHRhcmdldCwgJ2NoYW5nZScsIHNlbGYuX29uQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0NsYXNzKHBFbCwgJ3Bpa2Etc2luZ2xlJykgfHwgcEVsID09PSBvcHRzLnRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICgocEVsID0gcEVsLnBhcmVudE5vZGUpKTtcbiAgICAgICAgICAgIGlmIChzZWxmLl92ICYmIHRhcmdldCAhPT0gb3B0cy50cmlnZ2VyICYmIHBFbCAhPT0gb3B0cy50cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZWxmLmVsLmNsYXNzTmFtZSA9ICdwaWthLXNpbmdsZScgKyAob3B0cy5pc1JUTCA/ICcgaXMtcnRsJyA6ICcnKSArIChvcHRzLnRoZW1lID8gJyAnICsgb3B0cy50aGVtZSA6ICcnKTtcblxuICAgICAgICBhZGRFdmVudChzZWxmLmVsLCAnbW91c2Vkb3duJywgc2VsZi5fb25Nb3VzZURvd24sIHRydWUpO1xuICAgICAgICBhZGRFdmVudChzZWxmLmVsLCAndG91Y2hlbmQnLCBzZWxmLl9vbk1vdXNlRG93biwgdHJ1ZSk7XG4gICAgICAgIGFkZEV2ZW50KHNlbGYuZWwsICdjaGFuZ2UnLCBzZWxmLl9vbkNoYW5nZSk7XG5cbiAgICAgICAgaWYgKG9wdHMua2V5Ym9hcmRJbnB1dCkge1xuICAgICAgICAgICAgYWRkRXZlbnQoZG9jdW1lbnQsICdrZXlkb3duJywgc2VsZi5fb25LZXlDaGFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIG9wdHMuY29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGYuZWwpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRzLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzZWxmLmVsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0cy5maWVsZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzZWxmLmVsLCBvcHRzLmZpZWxkLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZEV2ZW50KG9wdHMuZmllbGQsICdjaGFuZ2UnLCBzZWxmLl9vbklucHV0Q2hhbmdlKTtcblxuICAgICAgICAgICAgaWYgKCFvcHRzLmRlZmF1bHREYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc01vbWVudCAmJiBvcHRzLmZpZWxkLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMuZGVmYXVsdERhdGUgPSBtb21lbnQob3B0cy5maWVsZC52YWx1ZSwgb3B0cy5mb3JtYXQpLnRvRGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMuZGVmYXVsdERhdGUgPSBuZXcgRGF0ZShEYXRlLnBhcnNlKG9wdHMuZmllbGQudmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0cy5zZXREZWZhdWx0RGF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmRGF0ZSA9IG9wdHMuZGVmYXVsdERhdGU7XG5cbiAgICAgICAgaWYgKGlzRGF0ZShkZWZEYXRlKSkge1xuICAgICAgICAgICAgaWYgKG9wdHMuc2V0RGVmYXVsdERhdGUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNldERhdGUoZGVmRGF0ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuZ290b0RhdGUoZGVmRGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxmLmdvdG9EYXRlKG5ldyBEYXRlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdHMuYm91bmQpIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgc2VsZi5lbC5jbGFzc05hbWUgKz0gJyBpcy1ib3VuZCc7XG4gICAgICAgICAgICBhZGRFdmVudChvcHRzLnRyaWdnZXIsICdjbGljaycsIHNlbGYuX29uSW5wdXRDbGljayk7XG4gICAgICAgICAgICBhZGRFdmVudChvcHRzLnRyaWdnZXIsICdmb2N1cycsIHNlbGYuX29uSW5wdXRGb2N1cyk7XG4gICAgICAgICAgICBhZGRFdmVudChvcHRzLnRyaWdnZXIsICdibHVyJywgc2VsZi5fb25JbnB1dEJsdXIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgKiBwdWJsaWMgUGlrYWRheSBBUElcbiAgICAgKi9cbiAgICBQaWthZGF5LnByb3RvdHlwZSA9IHtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjb25maWd1cmUgZnVuY3Rpb25hbGl0eVxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBmdW5jdGlvbihvcHRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX28pIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vID0gZXh0ZW5kKHt9LCBkZWZhdWx0cywgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvcHRzID0gZXh0ZW5kKHRoaXMuX28sIG9wdGlvbnMsIHRydWUpO1xuXG4gICAgICAgICAgICBvcHRzLmlzUlRMID0gISFvcHRzLmlzUlRMO1xuXG4gICAgICAgICAgICBvcHRzLmZpZWxkID0gKG9wdHMuZmllbGQgJiYgb3B0cy5maWVsZC5ub2RlTmFtZSkgPyBvcHRzLmZpZWxkIDogbnVsbDtcblxuICAgICAgICAgICAgb3B0cy50aGVtZSA9ICh0eXBlb2Ygb3B0cy50aGVtZSkgPT09ICdzdHJpbmcnICYmIG9wdHMudGhlbWUgPyBvcHRzLnRoZW1lIDogbnVsbDtcblxuICAgICAgICAgICAgb3B0cy5ib3VuZCA9ICEhKG9wdHMuYm91bmQgIT09IHVuZGVmaW5lZCA/IG9wdHMuZmllbGQgJiYgb3B0cy5ib3VuZCA6IG9wdHMuZmllbGQpO1xuXG4gICAgICAgICAgICBvcHRzLnRyaWdnZXIgPSAob3B0cy50cmlnZ2VyICYmIG9wdHMudHJpZ2dlci5ub2RlTmFtZSkgPyBvcHRzLnRyaWdnZXIgOiBvcHRzLmZpZWxkO1xuXG4gICAgICAgICAgICBvcHRzLmRpc2FibGVXZWVrZW5kcyA9ICEhb3B0cy5kaXNhYmxlV2Vla2VuZHM7XG5cbiAgICAgICAgICAgIG9wdHMuZGlzYWJsZURheUZuID0gKHR5cGVvZiBvcHRzLmRpc2FibGVEYXlGbikgPT09ICdmdW5jdGlvbicgPyBvcHRzLmRpc2FibGVEYXlGbiA6IG51bGw7XG5cbiAgICAgICAgICAgIHZhciBub20gPSBwYXJzZUludChvcHRzLm51bWJlck9mTW9udGhzLCAxMCkgfHwgMTtcbiAgICAgICAgICAgIG9wdHMubnVtYmVyT2ZNb250aHMgPSBub20gPiA0ID8gNCA6IG5vbTtcblxuICAgICAgICAgICAgaWYgKCFpc0RhdGUob3B0cy5taW5EYXRlKSkge1xuICAgICAgICAgICAgICAgIG9wdHMubWluRGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0RhdGUob3B0cy5tYXhEYXRlKSkge1xuICAgICAgICAgICAgICAgIG9wdHMubWF4RGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChvcHRzLm1pbkRhdGUgJiYgb3B0cy5tYXhEYXRlKSAmJiBvcHRzLm1heERhdGUgPCBvcHRzLm1pbkRhdGUpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm1heERhdGUgPSBvcHRzLm1pbkRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLm1pbkRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1pbkRhdGUob3B0cy5taW5EYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLm1heERhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1heERhdGUob3B0cy5tYXhEYXRlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzQXJyYXkob3B0cy55ZWFyUmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZhbGxiYWNrID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gMTA7XG4gICAgICAgICAgICAgICAgb3B0cy55ZWFyUmFuZ2VbMF0gPSBwYXJzZUludChvcHRzLnllYXJSYW5nZVswXSwgMTApIHx8IGZhbGxiYWNrO1xuICAgICAgICAgICAgICAgIG9wdHMueWVhclJhbmdlWzFdID0gcGFyc2VJbnQob3B0cy55ZWFyUmFuZ2VbMV0sIDEwKSB8fCBmYWxsYmFjaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0cy55ZWFyUmFuZ2UgPSBNYXRoLmFicyhwYXJzZUludChvcHRzLnllYXJSYW5nZSwgMTApKSB8fCBkZWZhdWx0cy55ZWFyUmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHMueWVhclJhbmdlID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wdHMueWVhclJhbmdlID0gMTAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9wdHM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybiBhIGZvcm1hdHRlZCBzdHJpbmcgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uICh1c2luZyBNb21lbnQuanMgaWYgYXZhaWxhYmxlKVxuICAgICAgICAgKi9cbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uKGZvcm1hdClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8IHRoaXMuX28uZm9ybWF0O1xuICAgICAgICAgICAgaWYgKCFpc0RhdGUodGhpcy5fZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fby50b1N0cmluZykge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fby50b1N0cmluZyh0aGlzLl9kLCBmb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc01vbWVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gbW9tZW50KHRoaXMuX2QpLmZvcm1hdChmb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2QudG9EYXRlU3RyaW5nKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybiBhIE1vbWVudC5qcyBvYmplY3Qgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIChpZiBhdmFpbGFibGUpXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNb21lbnQ6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGhhc01vbWVudCA/IG1vbWVudCh0aGlzLl9kKSA6IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB0aGUgY3VycmVudCBzZWxlY3Rpb24gZnJvbSBhIE1vbWVudC5qcyBvYmplY3QgKGlmIGF2YWlsYWJsZSlcbiAgICAgICAgICovXG4gICAgICAgIHNldE1vbWVudDogZnVuY3Rpb24oZGF0ZSwgcHJldmVudE9uU2VsZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaGFzTW9tZW50ICYmIG1vbWVudC5pc01vbWVudChkYXRlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0ZShkYXRlLnRvRGF0ZSgpLCBwcmV2ZW50T25TZWxlY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm4gYSBEYXRlIG9iamVjdCBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGdldERhdGU6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGlzRGF0ZSh0aGlzLl9kKSA/IG5ldyBEYXRlKHRoaXMuX2QuZ2V0VGltZSgpKSA6IG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNldCB0aGUgY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHNldERhdGU6IGZ1bmN0aW9uKGRhdGUsIHByZXZlbnRPblNlbGVjdClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFkYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fby5maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLmZpZWxkLnZhbHVlID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZpcmVFdmVudCh0aGlzLl9vLmZpZWxkLCAnY2hhbmdlJywgeyBmaXJlZEJ5OiB0aGlzIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5wYXJzZShkYXRlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzRGF0ZShkYXRlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG1pbiA9IHRoaXMuX28ubWluRGF0ZSxcbiAgICAgICAgICAgICAgICBtYXggPSB0aGlzLl9vLm1heERhdGU7XG5cbiAgICAgICAgICAgIGlmIChpc0RhdGUobWluKSAmJiBkYXRlIDwgbWluKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IG1pbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKG1heCkgJiYgZGF0ZSA+IG1heCkge1xuICAgICAgICAgICAgICAgIGRhdGUgPSBtYXg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XG4gICAgICAgICAgICBzZXRUb1N0YXJ0T2ZEYXkodGhpcy5fZCk7XG4gICAgICAgICAgICB0aGlzLmdvdG9EYXRlKHRoaXMuX2QpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fby5maWVsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX28uZmllbGQudmFsdWUgPSB0aGlzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KHRoaXMuX28uZmllbGQsICdjaGFuZ2UnLCB7IGZpcmVkQnk6IHRoaXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXByZXZlbnRPblNlbGVjdCAmJiB0eXBlb2YgdGhpcy5fby5vblNlbGVjdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX28ub25TZWxlY3QuY2FsbCh0aGlzLCB0aGlzLmdldERhdGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGNoYW5nZSB2aWV3IHRvIGEgc3BlY2lmaWMgZGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgZ290b0RhdGU6IGZ1bmN0aW9uKGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBuZXdDYWxlbmRhciA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICghaXNEYXRlKGRhdGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxlbmRhcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RWaXNpYmxlRGF0ZSA9IG5ldyBEYXRlKHRoaXMuY2FsZW5kYXJzWzBdLnllYXIsIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFZpc2libGVEYXRlID0gbmV3IERhdGUodGhpcy5jYWxlbmRhcnNbdGhpcy5jYWxlbmRhcnMubGVuZ3RoLTFdLnllYXIsIHRoaXMuY2FsZW5kYXJzW3RoaXMuY2FsZW5kYXJzLmxlbmd0aC0xXS5tb250aCwgMSksXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVEYXRlID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBlbmQgb2YgdGhlIG1vbnRoXG4gICAgICAgICAgICAgICAgbGFzdFZpc2libGVEYXRlLnNldE1vbnRoKGxhc3RWaXNpYmxlRGF0ZS5nZXRNb250aCgpKzEpO1xuICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlRGF0ZS5zZXREYXRlKGxhc3RWaXNpYmxlRGF0ZS5nZXREYXRlKCktMSk7XG4gICAgICAgICAgICAgICAgbmV3Q2FsZW5kYXIgPSAodmlzaWJsZURhdGUgPCBmaXJzdFZpc2libGVEYXRlLmdldFRpbWUoKSB8fCBsYXN0VmlzaWJsZURhdGUuZ2V0VGltZSgpIDwgdmlzaWJsZURhdGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmV3Q2FsZW5kYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFycyA9IFt7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoOiBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgIHllYXI6IGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vLm1haW5DYWxlbmRhciA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCArPSAxIC0gdGhpcy5fby5udW1iZXJPZk1vbnRocztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRqdXN0RGF0ZTogZnVuY3Rpb24oc2lnbiwgZGF5cykge1xuXG4gICAgICAgICAgICB2YXIgZGF5ID0gdGhpcy5nZXREYXRlKCkgfHwgbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlID0gcGFyc2VJbnQoZGF5cykqMjQqNjAqNjAqMTAwMDtcblxuICAgICAgICAgICAgdmFyIG5ld0RheTtcblxuICAgICAgICAgICAgaWYgKHNpZ24gPT09ICdhZGQnKSB7XG4gICAgICAgICAgICAgICAgbmV3RGF5ID0gbmV3IERhdGUoZGF5LnZhbHVlT2YoKSArIGRpZmZlcmVuY2UpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzaWduID09PSAnc3VidHJhY3QnKSB7XG4gICAgICAgICAgICAgICAgbmV3RGF5ID0gbmV3IERhdGUoZGF5LnZhbHVlT2YoKSAtIGRpZmZlcmVuY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldERhdGUobmV3RGF5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBhZGp1c3RDYWxlbmRhcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0gPSBhZGp1c3RDYWxlbmRhcih0aGlzLmNhbGVuZGFyc1swXSk7XG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8IHRoaXMuX28ubnVtYmVyT2ZNb250aHM7IGMrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzW2NdID0gYWRqdXN0Q2FsZW5kYXIoe1xuICAgICAgICAgICAgICAgICAgICBtb250aDogdGhpcy5jYWxlbmRhcnNbMF0ubW9udGggKyBjLFxuICAgICAgICAgICAgICAgICAgICB5ZWFyOiB0aGlzLmNhbGVuZGFyc1swXS55ZWFyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnb3RvVG9kYXk6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nb3RvRGF0ZShuZXcgRGF0ZSgpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hhbmdlIHZpZXcgdG8gYSBzcGVjaWZpYyBtb250aCAoemVyby1pbmRleCwgZS5nLiAwOiBKYW51YXJ5KVxuICAgICAgICAgKi9cbiAgICAgICAgZ290b01vbnRoOiBmdW5jdGlvbihtb250aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFpc05hTihtb250aCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGVuZGFyc1swXS5tb250aCA9IHBhcnNlSW50KG1vbnRoLCAxMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RDYWxlbmRhcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBuZXh0TW9udGg6IGZ1bmN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ubW9udGgrKztcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0Q2FsZW5kYXJzKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJldk1vbnRoOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXJzWzBdLm1vbnRoLS07XG4gICAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2UgdmlldyB0byBhIHNwZWNpZmljIGZ1bGwgeWVhciAoZS5nLiBcIjIwMTJcIilcbiAgICAgICAgICovXG4gICAgICAgIGdvdG9ZZWFyOiBmdW5jdGlvbih5ZWFyKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWlzTmFOKHllYXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhcnNbMF0ueWVhciA9IHBhcnNlSW50KHllYXIsIDEwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkanVzdENhbGVuZGFycygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2UgdGhlIG1pbkRhdGVcbiAgICAgICAgICovXG4gICAgICAgIHNldE1pbkRhdGU6IGZ1bmN0aW9uKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZih2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICBzZXRUb1N0YXJ0T2ZEYXkodmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluRGF0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluWWVhciAgPSB2YWx1ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluTW9udGggPSB2YWx1ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1pbkRhdGUgPSBkZWZhdWx0cy5taW5EYXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluWWVhciAgPSBkZWZhdWx0cy5taW5ZZWFyO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWluTW9udGggPSBkZWZhdWx0cy5taW5Nb250aDtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLnN0YXJ0UmFuZ2UgPSBkZWZhdWx0cy5zdGFydFJhbmdlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogY2hhbmdlIHRoZSBtYXhEYXRlXG4gICAgICAgICAqL1xuICAgICAgICBzZXRNYXhEYXRlOiBmdW5jdGlvbih2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgc2V0VG9TdGFydE9mRGF5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heERhdGUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heFllYXIgPSB2YWx1ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4TW9udGggPSB2YWx1ZS5nZXRNb250aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vLm1heERhdGUgPSBkZWZhdWx0cy5tYXhEYXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX28ubWF4WWVhciA9IGRlZmF1bHRzLm1heFllYXI7XG4gICAgICAgICAgICAgICAgdGhpcy5fby5tYXhNb250aCA9IGRlZmF1bHRzLm1heE1vbnRoO1xuICAgICAgICAgICAgICAgIHRoaXMuX28uZW5kUmFuZ2UgPSBkZWZhdWx0cy5lbmRSYW5nZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0U3RhcnRSYW5nZTogZnVuY3Rpb24odmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX28uc3RhcnRSYW5nZSA9IHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEVuZFJhbmdlOiBmdW5jdGlvbih2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fby5lbmRSYW5nZSA9IHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZWZyZXNoIHRoZSBIVE1MXG4gICAgICAgICAqL1xuICAgICAgICBkcmF3OiBmdW5jdGlvbihmb3JjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl92ICYmICFmb3JjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvcHRzID0gdGhpcy5fbyxcbiAgICAgICAgICAgICAgICBtaW5ZZWFyID0gb3B0cy5taW5ZZWFyLFxuICAgICAgICAgICAgICAgIG1heFllYXIgPSBvcHRzLm1heFllYXIsXG4gICAgICAgICAgICAgICAgbWluTW9udGggPSBvcHRzLm1pbk1vbnRoLFxuICAgICAgICAgICAgICAgIG1heE1vbnRoID0gb3B0cy5tYXhNb250aCxcbiAgICAgICAgICAgICAgICBodG1sID0gJycsXG4gICAgICAgICAgICAgICAgcmFuZElkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5feSA8PSBtaW5ZZWFyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IG1pblllYXI7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihtaW5Nb250aCkgJiYgdGhpcy5fbSA8IG1pbk1vbnRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX20gPSBtaW5Nb250aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5feSA+PSBtYXhZZWFyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5feSA9IG1heFllYXI7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihtYXhNb250aCkgJiYgdGhpcy5fbSA+IG1heE1vbnRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX20gPSBtYXhNb250aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJhbmRJZCA9ICdwaWthLXRpdGxlLScgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9bXmEtel0rL2csICcnKS5zdWJzdHIoMCwgMik7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgb3B0cy5udW1iZXJPZk1vbnRoczsgYysrKSB7XG4gICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInBpa2EtbGVuZGFyXCI+JyArIHJlbmRlclRpdGxlKHRoaXMsIGMsIHRoaXMuY2FsZW5kYXJzW2NdLnllYXIsIHRoaXMuY2FsZW5kYXJzW2NdLm1vbnRoLCB0aGlzLmNhbGVuZGFyc1swXS55ZWFyLCByYW5kSWQpICsgdGhpcy5yZW5kZXIodGhpcy5jYWxlbmRhcnNbY10ueWVhciwgdGhpcy5jYWxlbmRhcnNbY10ubW9udGgsIHJhbmRJZCkgKyAnPC9kaXY+JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgICAgICAgICBpZiAob3B0cy5ib3VuZCkge1xuICAgICAgICAgICAgICAgIGlmKG9wdHMuZmllbGQudHlwZSAhPT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy50cmlnZ2VyLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vLm9uRHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX28ub25EcmF3KHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0cy5ib3VuZCkge1xuICAgICAgICAgICAgICAgIC8vIGxldCB0aGUgc2NyZWVuIHJlYWRlciB1c2VyIGtub3cgdG8gdXNlIGFycm93IGtleXNcbiAgICAgICAgICAgICAgICBvcHRzLmZpZWxkLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdVc2UgdGhlIGFycm93IGtleXMgdG8gcGljayBhIGRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBhZGp1c3RQb3NpdGlvbjogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZmllbGQsIHBFbCwgd2lkdGgsIGhlaWdodCwgdmlld3BvcnRXaWR0aCwgdmlld3BvcnRIZWlnaHQsIHNjcm9sbFRvcCwgbGVmdCwgdG9wLCBjbGllbnRSZWN0O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fby5jb250YWluZXIpIHJldHVybjtcblxuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG5cbiAgICAgICAgICAgIGZpZWxkID0gdGhpcy5fby50cmlnZ2VyO1xuICAgICAgICAgICAgcEVsID0gZmllbGQ7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuZWwub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLmVsLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIHZpZXdwb3J0V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICB2aWV3cG9ydEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgc2Nyb2xsVG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmllbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50UmVjdCA9IGZpZWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGxlZnQgPSBjbGllbnRSZWN0LmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQ7XG4gICAgICAgICAgICAgICAgdG9wID0gY2xpZW50UmVjdC5ib3R0b20gKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxlZnQgPSBwRWwub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgICAgICB0b3AgID0gcEVsLm9mZnNldFRvcCArIHBFbC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgd2hpbGUoKHBFbCA9IHBFbC5vZmZzZXRQYXJlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgKz0gcEVsLm9mZnNldExlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHRvcCAgKz0gcEVsLm9mZnNldFRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGRlZmF1bHQgcG9zaXRpb24gaXMgYm90dG9tICYgbGVmdFxuICAgICAgICAgICAgaWYgKCh0aGlzLl9vLnJlcG9zaXRpb24gJiYgbGVmdCArIHdpZHRoID4gdmlld3BvcnRXaWR0aCkgfHxcbiAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX28ucG9zaXRpb24uaW5kZXhPZigncmlnaHQnKSA+IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIGxlZnQgLSB3aWR0aCArIGZpZWxkLm9mZnNldFdpZHRoID4gMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGxlZnQgPSBsZWZ0IC0gd2lkdGggKyBmaWVsZC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGhpcy5fby5yZXBvc2l0aW9uICYmIHRvcCArIGhlaWdodCA+IHZpZXdwb3J0SGVpZ2h0ICsgc2Nyb2xsVG9wKSB8fFxuICAgICAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fby5wb3NpdGlvbi5pbmRleE9mKCd0b3AnKSA+IC0xICYmXG4gICAgICAgICAgICAgICAgICAgIHRvcCAtIGhlaWdodCAtIGZpZWxkLm9mZnNldEhlaWdodCA+IDBcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0b3AgPSB0b3AgLSBoZWlnaHQgLSBmaWVsZC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW5kZXIgSFRNTCBmb3IgYSBwYXJ0aWN1bGFyIG1vbnRoXG4gICAgICAgICAqL1xuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHllYXIsIG1vbnRoLCByYW5kSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBvcHRzICAgPSB0aGlzLl9vLFxuICAgICAgICAgICAgICAgIG5vdyAgICA9IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgZGF5cyAgID0gZ2V0RGF5c0luTW9udGgoeWVhciwgbW9udGgpLFxuICAgICAgICAgICAgICAgIGJlZm9yZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXREYXkoKSxcbiAgICAgICAgICAgICAgICBkYXRhICAgPSBbXSxcbiAgICAgICAgICAgICAgICByb3cgICAgPSBbXTtcbiAgICAgICAgICAgIHNldFRvU3RhcnRPZkRheShub3cpO1xuICAgICAgICAgICAgaWYgKG9wdHMuZmlyc3REYXkgPiAwKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlIC09IG9wdHMuZmlyc3REYXk7XG4gICAgICAgICAgICAgICAgaWYgKGJlZm9yZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYmVmb3JlICs9IDc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZXZpb3VzTW9udGggPSBtb250aCA9PT0gMCA/IDExIDogbW9udGggLSAxLFxuICAgICAgICAgICAgICAgIG5leHRNb250aCA9IG1vbnRoID09PSAxMSA/IDAgOiBtb250aCArIDEsXG4gICAgICAgICAgICAgICAgeWVhck9mUHJldmlvdXNNb250aCA9IG1vbnRoID09PSAwID8geWVhciAtIDEgOiB5ZWFyLFxuICAgICAgICAgICAgICAgIHllYXJPZk5leHRNb250aCA9IG1vbnRoID09PSAxMSA/IHllYXIgKyAxIDogeWVhcixcbiAgICAgICAgICAgICAgICBkYXlzSW5QcmV2aW91c01vbnRoID0gZ2V0RGF5c0luTW9udGgoeWVhck9mUHJldmlvdXNNb250aCwgcHJldmlvdXNNb250aCk7XG4gICAgICAgICAgICB2YXIgY2VsbHMgPSBkYXlzICsgYmVmb3JlLFxuICAgICAgICAgICAgICAgIGFmdGVyID0gY2VsbHM7XG4gICAgICAgICAgICB3aGlsZShhZnRlciA+IDcpIHtcbiAgICAgICAgICAgICAgICBhZnRlciAtPSA3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2VsbHMgKz0gNyAtIGFmdGVyO1xuICAgICAgICAgICAgdmFyIGlzV2Vla1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgciA9IDA7IGkgPCBjZWxsczsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBkYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMSArIChpIC0gYmVmb3JlKSksXG4gICAgICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQgPSBpc0RhdGUodGhpcy5fZCkgPyBjb21wYXJlRGF0ZXMoZGF5LCB0aGlzLl9kKSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpc1RvZGF5ID0gY29tcGFyZURhdGVzKGRheSwgbm93KSxcbiAgICAgICAgICAgICAgICAgICAgaGFzRXZlbnQgPSBvcHRzLmV2ZW50cy5pbmRleE9mKGRheS50b0RhdGVTdHJpbmcoKSkgIT09IC0xID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpc0VtcHR5ID0gaSA8IGJlZm9yZSB8fCBpID49IChkYXlzICsgYmVmb3JlKSxcbiAgICAgICAgICAgICAgICAgICAgZGF5TnVtYmVyID0gMSArIChpIC0gYmVmb3JlKSxcbiAgICAgICAgICAgICAgICAgICAgbW9udGhOdW1iZXIgPSBtb250aCxcbiAgICAgICAgICAgICAgICAgICAgeWVhck51bWJlciA9IHllYXIsXG4gICAgICAgICAgICAgICAgICAgIGlzU3RhcnRSYW5nZSA9IG9wdHMuc3RhcnRSYW5nZSAmJiBjb21wYXJlRGF0ZXMob3B0cy5zdGFydFJhbmdlLCBkYXkpLFxuICAgICAgICAgICAgICAgICAgICBpc0VuZFJhbmdlID0gb3B0cy5lbmRSYW5nZSAmJiBjb21wYXJlRGF0ZXMob3B0cy5lbmRSYW5nZSwgZGF5KSxcbiAgICAgICAgICAgICAgICAgICAgaXNJblJhbmdlID0gb3B0cy5zdGFydFJhbmdlICYmIG9wdHMuZW5kUmFuZ2UgJiYgb3B0cy5zdGFydFJhbmdlIDwgZGF5ICYmIGRheSA8IG9wdHMuZW5kUmFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIGlzRGlzYWJsZWQgPSAob3B0cy5taW5EYXRlICYmIGRheSA8IG9wdHMubWluRGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcHRzLm1heERhdGUgJiYgZGF5ID4gb3B0cy5tYXhEYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wdHMuZGlzYWJsZVdlZWtlbmRzICYmIGlzV2Vla2VuZChkYXkpKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wdHMuZGlzYWJsZURheUZuICYmIG9wdHMuZGlzYWJsZURheUZuKGRheSkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBiZWZvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheU51bWJlciA9IGRheXNJblByZXZpb3VzTW9udGggKyBkYXlOdW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aE51bWJlciA9IHByZXZpb3VzTW9udGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyTnVtYmVyID0geWVhck9mUHJldmlvdXNNb250aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheU51bWJlciA9IGRheU51bWJlciAtIGRheXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aE51bWJlciA9IG5leHRNb250aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXJOdW1iZXIgPSB5ZWFyT2ZOZXh0TW9udGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZGF5Q29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5OiBkYXlOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aDogbW9udGhOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiB5ZWFyTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXZlbnQ6IGhhc0V2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogaXNTZWxlY3RlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVG9kYXk6IGlzVG9kYXksXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbXB0eTogaXNFbXB0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RhcnRSYW5nZTogaXNTdGFydFJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNFbmRSYW5nZTogaXNFbmRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5SYW5nZTogaXNJblJhbmdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0RheXNJbk5leHRBbmRQcmV2aW91c01vbnRoczogb3B0cy5zaG93RGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlU2VsZWN0aW9uRGF5c0luTmV4dEFuZFByZXZpb3VzTW9udGhzOiBvcHRzLmVuYWJsZVNlbGVjdGlvbkRheXNJbk5leHRBbmRQcmV2aW91c01vbnRoc1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMucGlja1dob2xlV2VlayAmJiBpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzV2Vla1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByb3cucHVzaChyZW5kZXJEYXkoZGF5Q29uZmlnKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoKytyID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLnNob3dXZWVrTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cudW5zaGlmdChyZW5kZXJXZWVrKGkgLSBiZWZvcmUsIG1vbnRoLCB5ZWFyKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKHJlbmRlclJvdyhyb3csIG9wdHMuaXNSVEwsIG9wdHMucGlja1dob2xlV2VlaywgaXNXZWVrU2VsZWN0ZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgcm93ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpc1dlZWtTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJUYWJsZShvcHRzLCBkYXRhLCByYW5kSWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGlzVmlzaWJsZTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdjtcbiAgICAgICAgfSxcblxuICAgICAgICBzaG93OiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3YgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHRoaXMuZWwsICdpcy1oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fby5ib3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRFdmVudChkb2N1bWVudCwgJ2NsaWNrJywgdGhpcy5fb25DbGljayk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0UG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vLm9uT3BlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLm9uT3Blbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlOiBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB2ID0gdGhpcy5fdjtcbiAgICAgICAgICAgIGlmICh2ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vLmJvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KGRvY3VtZW50LCAnY2xpY2snLCB0aGlzLl9vbkNsaWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZS5wb3NpdGlvbiA9ICdzdGF0aWMnOyAvLyByZXNldFxuICAgICAgICAgICAgICAgIHRoaXMuZWwuc3R5bGUubGVmdCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsLnN0eWxlLnRvcCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyh0aGlzLmVsLCAnaXMtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHRoaXMuX28ub25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vLm9uQ2xvc2UuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdBTUUgT1ZFUlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgb3B0cyA9IHRoaXMuX287XG5cbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgcmVtb3ZlRXZlbnQodGhpcy5lbCwgJ21vdXNlZG93bicsIHRoaXMuX29uTW91c2VEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuZWwsICd0b3VjaGVuZCcsIHRoaXMuX29uTW91c2VEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoaXMuZWwsICdjaGFuZ2UnLCB0aGlzLl9vbkNoYW5nZSk7XG4gICAgICAgICAgICBpZiAob3B0cy5rZXlib2FyZElucHV0KSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQoZG9jdW1lbnQsICdrZXlkb3duJywgdGhpcy5fb25LZXlDaGFuZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMuZmllbGQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFdmVudChvcHRzLmZpZWxkLCAnY2hhbmdlJywgdGhpcy5fb25JbnB1dENoYW5nZSk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuYm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQob3B0cy50cmlnZ2VyLCAnY2xpY2snLCB0aGlzLl9vbklucHV0Q2xpY2spO1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVFdmVudChvcHRzLnRyaWdnZXIsICdmb2N1cycsIHRoaXMuX29uSW5wdXRGb2N1cyk7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KG9wdHMudHJpZ2dlciwgJ2JsdXInLCB0aGlzLl9vbklucHV0Qmx1cik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZWwucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHJldHVybiBQaWthZGF5O1xufSkpO1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG52YXIgRVMgPSByZXF1aXJlKCdlcy1hYnN0cmFjdC9lczUnKTtcbnZhciByZXBsYWNlID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZSk7XG5cbnZhciBsZWZ0V2hpdGVzcGFjZSA9IC9eW1xceDA5XFx4MEFcXHgwQlxceDBDXFx4MERcXHgyMFxceEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRl0rLztcbnZhciByaWdodFdoaXRlc3BhY2UgPSAvW1xceDA5XFx4MEFcXHgwQlxceDBDXFx4MERcXHgyMFxceEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRl0rJC87XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdHJpbSgpIHtcblx0dmFyIFMgPSBFUy5Ub1N0cmluZyhFUy5DaGVja09iamVjdENvZXJjaWJsZSh0aGlzKSk7XG5cdHJldHVybiByZXBsYWNlKHJlcGxhY2UoUywgbGVmdFdoaXRlc3BhY2UsICcnKSwgcmlnaHRXaGl0ZXNwYWNlLCAnJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBkZWZpbmUgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgc2hpbSA9IHJlcXVpcmUoJy4vc2hpbScpO1xuXG52YXIgYm91bmRUcmltID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIGdldFBvbHlmaWxsKCkpO1xuXG5kZWZpbmUoYm91bmRUcmltLCB7XG5cdGdldFBvbHlmaWxsOiBnZXRQb2x5ZmlsbCxcblx0aW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uLFxuXHRzaGltOiBzaGltXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBib3VuZFRyaW07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcblxudmFyIHplcm9XaWR0aFNwYWNlID0gJ1xcdTIwMGInO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFBvbHlmaWxsKCkge1xuXHRpZiAoU3RyaW5nLnByb3RvdHlwZS50cmltICYmIHplcm9XaWR0aFNwYWNlLnRyaW0oKSA9PT0gemVyb1dpZHRoU3BhY2UpIHtcblx0XHRyZXR1cm4gU3RyaW5nLnByb3RvdHlwZS50cmltO1xuXHR9XG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZpbmUgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpO1xudmFyIGdldFBvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNoaW1TdHJpbmdUcmltKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHRkZWZpbmUoU3RyaW5nLnByb3RvdHlwZSwgeyB0cmltOiBwb2x5ZmlsbCB9LCB7IHRyaW06IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFN0cmluZy5wcm90b3R5cGUudHJpbSAhPT0gcG9seWZpbGw7IH0gfSk7XG5cdHJldHVybiBwb2x5ZmlsbDtcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE0LTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbFxuICogcGF0aHMuIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGVcbiAqIHNhbWUgbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICovXG5cbnZhciB3YXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICtcbiAgICAgICAgJ21lc3NhZ2UgYXJndW1lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChmb3JtYXQubGVuZ3RoIDwgMTAgfHwgKC9eW3NcXFddKiQvKS50ZXN0KGZvcm1hdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSB3YXJuaW5nIGZvcm1hdCBzaG91bGQgYmUgYWJsZSB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzICcgK1xuICAgICAgICAnd2FybmluZy4gUGxlYXNlLCB1c2UgYSBtb3JlIGRlc2NyaXB0aXZlIGZvcm1hdCB0aGFuOiAnICsgZm9ybWF0XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICAgICAgfSk7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgIH0gY2F0Y2goeCkge31cbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZztcbiJdfQ==
